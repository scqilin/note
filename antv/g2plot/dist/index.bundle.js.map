{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/node_modules/tslib/tslib.es6.js","webpack:///./node_modules/@antv/g2plot/esm/utils/flow.js","webpack:///./node_modules/@antv/g2plot/esm/utils/pick.js","webpack:///./node_modules/@antv/g2plot/esm/utils/template.js","webpack:///./node_modules/@antv/g2plot/esm/utils/invariant.js","webpack:///./node_modules/@antv/g2plot/esm/utils/dom.js","webpack:///./node_modules/@antv/g2plot/esm/utils/geometry.js","webpack:///./node_modules/@antv/g2plot/esm/utils/label.js","webpack:///./node_modules/@antv/g2plot/esm/utils/tooltip.js","webpack:///./node_modules/@antv/g2plot/esm/adaptor/common.js","webpack:///./node_modules/@antv/g2plot/esm/core/plot.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-svg/esm/constant.js","webpack:///./node_modules/@antv/g2plot/esm/adaptor/geometries/base.js","webpack:///./node_modules/@antv/g2plot/esm/adaptor/geometries/area.js","webpack:///./node_modules/@antv/g2plot/esm/adaptor/geometries/line.js","webpack:///./node_modules/@antv/g2plot/esm/adaptor/geometries/point.js","webpack:///./node_modules/@antv/g2plot/esm/adaptor/geometries/interval.js","webpack:///./node_modules/@antv/g2plot/esm/adaptor/geometries/polygon.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/esm/util/util.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/constant.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/engine/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/util/dom.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/base.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/dependents.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/util/scale.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/util/axis.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/facet/facet.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/facet/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/base.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/callback.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/register.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/util/graphics.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/util/helper.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/util/coordinate.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/util/path.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/util/bbox.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/util.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/context.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/interaction.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/grammar-interaction.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/util/theme.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/theme/style-sheet/light.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/theme/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/util/tooltip.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/util/padding.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/chart/controller/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/chart/controller/coordinate.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/chart/event.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/chart/layout/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/chart/util/scale-pool.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/chart/layout/padding-cal.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/chart/layout/auto.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/chart/view.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/chart/chart.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/chart/controller/base.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/animate/animation/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/animate/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/element/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/label/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/base.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/util/is-model-change.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/util/parse-fields.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/base.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/util/group-data.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/util/transform.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/label/util/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/component/labels.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/label/base.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/core.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/theme/style-sheet/dark.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/util/get-path-points.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/util/get-style.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/util/split-points.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/line/util.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/line/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/path.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/area/util.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/area/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/area.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/edge/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/edge.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/heatmap.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/interval/util.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/interval/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/util/shape-size.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/interval.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/line.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/util/marker.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/point/util.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/point/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/point.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/polygon/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/polygon.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/schema.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/schema/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/edge/util.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/area/line.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/area/smooth.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/area/smooth-line.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/edge/arc.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/edge/smooth.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/edge/vhv.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/interval/funnel.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/interval/hollow-rect.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/interval/line.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/interval/pyramid.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/interval/tick.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/line/step.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/schema/box.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/schema/candle.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/polygon/square.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/point/hollow.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/point/image.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/shape/point/solid.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/label/interval.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/label/polar.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/label/pie/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/label/layout/pie/util.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/label/layout/overlap.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/util/collision-detect.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/label/layout/interval/adjust-position.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/label/layout/point/adjust-position.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/animate/animation/util.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/animate/animation/sector-path-update.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/animate/animation/zoom.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/util/facet.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/facet/circle.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/facet/list.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/facet/matrix.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/facet/mirror.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/facet/rect.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/facet/tree.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/util/stat.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/util/annotation.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/chart/controller/annotation.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/util/grid.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/chart/controller/axis.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/util/direction.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/util/attr.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/util/legend.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/chart/controller/legend.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/chart/controller/slider.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/chart/controller/tooltip.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/chart/controller/scrollbar.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/active-region.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/component/tooltip/geometry.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/component/tooltip/sibling.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/component/tooltip/ellipsis-text.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/element/state-base.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/element/state.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/element/active.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/element/link-by-color.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/element/range-state.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/element/range-active.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/element/single-state.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/element/single-active.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/element/highlight-util.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/element/highlight.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/element/highlight-by-color.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/element/highlight-by-x.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/element/range-highlight.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/element/single-highlight.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/element/range-selected.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/element/selected.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/element/single-selected.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/component/list-state.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/component/list-active.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/component/list-highlight.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/component/list-highlight-util.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/component/list-selected.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/component/list-unchecked.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/mask/base.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/mask/circle.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/mask/rect.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/mask/dim-rect.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/mask/path.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/mask/smooth-path.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/cursor.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/data/filter.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/data/range-filter.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/data/sibling-filter.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/element/filter.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/element/sibling-filter.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/view/button.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/view/drag.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/view/move.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/view/scale-transform.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/view/scale-translate.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/interaction/action/view/scale-zoom.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/label/layout/pie/distribute.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/label/layout/hide-overlap.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/label/layout/limit-in-shape.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/label/layout/limit-in-canvas.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/label/layout/pie/outer.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/label/layout/adjust-color.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/util/color.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/geometry/label/layout/pie/spider.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/animate/animation/fade.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/animate/animation/grow-in.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/animate/animation/scale-in.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/animate/animation/wave-in.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/animate/animation/position-update.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/esm/animate/animation/path-in.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/esm/util/util.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-svg/esm/util/dom.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/esm/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/esm/util/arc-params.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/esm/util/draw.js","webpack:///./node_modules/@antv/g2plot/esm/utils/view.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/esm/util/arrow.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/util/matrix.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/util/util.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/abstract/component.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/abstract/group-component.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/util/event.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/util/text.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/util/label.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/util/graphic.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/util/theme.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/annotation/line.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/annotation/text.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/annotation/arc.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/annotation/region.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/annotation/image.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/annotation/data-marker.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/annotation/data-region.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/annotation/region-filter.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/annotation/shape.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/abstract/html-component.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/annotation/html.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/util/state.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/axis/base.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/axis/overlap/auto-ellipsis.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/axis/overlap/auto-hide.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/axis/overlap/auto-rotate.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/axis/line.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/crosshair/html-theme.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/axis/circle.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/crosshair/base.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/crosshair/line.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/crosshair/circle.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/crosshair/css-const.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/crosshair/html.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/grid/base.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/grid/circle.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/tooltip/html-theme.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/grid/line.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/legend/base.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/legend/category.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/legend/continuous.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/tooltip/css-const.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/tooltip/html.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/util/align.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/trend/constant.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/trend/path.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/trend/trend.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/slider/constant.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/slider/handler.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/slider/slider.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/esm/scrollbar/scrollbar.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-svg/esm/util/svg.js","webpack:///./node_modules/@antv/g2plot/esm/constant.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/esm/util/matrix.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/esm/util/path.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/esm/shape/base.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/esm/shape/circle.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/esm/shape/ellipse.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/esm/shape/image.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/esm/util/in-stroke/line.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/esm/shape/line.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/esm/shape/marker.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/esm/util/in-path/point-in-path.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/esm/util/in-path/polygon.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/esm/util/in-stroke/arc.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/esm/util/path.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/esm/shape/path.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/esm/util/in-stroke/polyline.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/esm/shape/polygon.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/esm/shape/polyline.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/esm/shape/rect.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/esm/util/in-stroke/rect-radius.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/esm/util/in-stroke/rect.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/esm/shape/text.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-svg/esm/util/draw.js","webpack:///./node_modules/@antv/g2plot/esm/plots/line/adaptor.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/lib/tooltip/css-const.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/esm/group.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-svg/esm/group.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-svg/esm/shape/base.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-svg/esm/shape/circle.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-svg/esm/shape/dom.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-svg/esm/shape/ellipse.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-svg/esm/shape/image.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-svg/esm/shape/line.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-svg/esm/shape/marker/symbols.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-svg/esm/shape/marker/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-svg/esm/shape/path.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-svg/esm/shape/polygon.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-svg/esm/shape/polyline.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-svg/esm/shape/rect.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-svg/esm/util/format.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-svg/esm/shape/text.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/lib/interaction/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/tiny-line/constants.js","webpack:///./node_modules/@antv/g2plot/esm/utils/g-util.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/lib/types.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/lib/interfaces.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/esm/event/graph-event.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/esm/abstract/base.js","webpack:///./node_modules/@antv/g2plot/esm/types/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/esm/abstract/container.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/esm/abstract/element.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/esm/util/parse.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/lib/bbox/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/lib/util/text.js","webpack:///./node_modules/@antv/g2plot/esm/plots/progress/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/progress/constant.js","webpack:///./node_modules/@antv/g2plot/esm/utils/transform/percent.js","webpack:///./node_modules/@antv/g2plot/esm/plots/column/adaptor.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/lib/bbox/util.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/lib/constant.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/lib/dependents.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/lib/event/graph-event.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/lib/util/util.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/lib/util/offscreen.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/lib/interaction/action/util.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/lib/util/tooltip.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/lib/util/matrix.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/esm/abstract/group.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/esm/abstract/shape.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/esm/types.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/esm/interfaces.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-svg/esm/types.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-svg/esm/interfaces.js","webpack:///./node_modules/size-sensor/lib/debounce.js","webpack:///./node_modules/size-sensor/lib/constant.js","webpack:///./node_modules/@antv/g2plot/esm/types/tuple.js","webpack:///./node_modules/@antv/g2plot/esm/plots/column/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/lib/interaction/action/register.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/lib/interaction/action/base.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/lib/util/coordinate.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/lib/util/graphics.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/lib/util/bbox.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/lib/interaction/interaction.js","webpack:///./node_modules/@antv/g2plot/esm/plots/progress/index.js","webpack:///./node_modules/@antv/g2plot/esm/plugin/index.js","webpack:///./node_modules/d3-hierarchy/src/treemap/round.js","webpack:///./node_modules/d3-hierarchy/src/treemap/dice.js","webpack:///./node_modules/d3-hierarchy/src/partition.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/count.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/index.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/each.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/find.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/sum.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/sort.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/path.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/ancestors.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/descendants.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/leaves.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/links.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/iterator.js","webpack:///./node_modules/@antv/g2plot/esm/plots/sunburst/hierarchy/util.js","webpack:///./node_modules/@antv/g2plot/esm/plots/sunburst/hierarchy/partition.js","webpack:///./node_modules/d3-hierarchy/src/treemap/slice.js","webpack:///./node_modules/d3-hierarchy/src/treemap/squarify.js","webpack:///./node_modules/d3-hierarchy/src/accessors.js","webpack:///./node_modules/d3-hierarchy/src/constant.js","webpack:///./node_modules/d3-hierarchy/src/treemap/index.js","webpack:///./node_modules/d3-hierarchy/src/cluster.js","webpack:///./node_modules/d3-hierarchy/src/pack/enclose.js","webpack:///./node_modules/d3-hierarchy/src/array.js","webpack:///./node_modules/d3-hierarchy/src/pack/siblings.js","webpack:///./node_modules/d3-hierarchy/src/pack/index.js","webpack:///./node_modules/d3-hierarchy/src/stratify.js","webpack:///./node_modules/d3-hierarchy/src/tree.js","webpack:///./node_modules/d3-hierarchy/src/treemap/binary.js","webpack:///./node_modules/d3-hierarchy/src/treemap/sliceDice.js","webpack:///./node_modules/d3-hierarchy/src/treemap/resquarify.js","webpack:///./node_modules/@antv/g2plot/esm/plots/sunburst/hierarchy/treemap.js","webpack:///./node_modules/@antv/g2plot/esm/plots/sunburst/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/sunburst/utils.js","webpack:///./node_modules/@antv/g2plot/esm/plots/sunburst/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/pie/utils.js","webpack:///./node_modules/@antv/g2plot/esm/plots/pie/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/pie/interactions/pie-legend-action.js","webpack:///./node_modules/@antv/g2plot/esm/plots/pie/interactions/pie-statistic-action.js","webpack:///./node_modules/@antv/g2plot/esm/plots/pie/interactions/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/pie/label/inner-label.js","webpack:///./node_modules/@antv/g2plot/esm/plots/pie/label/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/pie/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/dual-axes/types.js","webpack:///./node_modules/@antv/g2plot/esm/plots/dual-axes/util/option.js","webpack:///./node_modules/@antv/g2plot/esm/plots/dual-axes/util/legend.js","webpack:///./node_modules/@antv/g2plot/esm/plots/dual-axes/util/geometry.js","webpack:///./node_modules/@antv/g2plot/esm/plots/dual-axes/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/dual-axes/constant.js","webpack:///./node_modules/@antv/g2plot/esm/plots/dual-axes/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/funnel/geometries/util.js","webpack:///./node_modules/@antv/g2plot/esm/plots/funnel/geometries/basic.js","webpack:///./node_modules/@antv/g2plot/esm/plots/funnel/constant.js","webpack:///./node_modules/@antv/g2plot/esm/plots/funnel/geometries/compare.js","webpack:///./node_modules/@antv/g2plot/esm/plots/funnel/geometries/dynamic-height.js","webpack:///./node_modules/@antv/g2plot/esm/plots/funnel/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/funnel/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-svg/esm/defs/gradient.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-svg/esm/defs/shadow.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-svg/esm/defs/arrow.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-svg/esm/defs/clip.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-svg/esm/defs/pattern.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-svg/esm/defs/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-svg/esm/canvas.js","webpack:///./node_modules/@antv/g2plot/esm/utils/transform/word-cloud.js","webpack:///./node_modules/@antv/g2plot/esm/plots/word-cloud/utils.js","webpack:///./node_modules/@antv/g2plot/esm/plots/word-cloud/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/word-cloud/shapes/word-cloud.js","webpack:///./node_modules/@antv/g2plot/esm/plots/word-cloud/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/heatmap/types.js","webpack:///./node_modules/@antv/g2plot/esm/plots/heatmap/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/heatmap/shapes/circle.js","webpack:///./node_modules/@antv/g2plot/esm/plots/heatmap/shapes/square.js","webpack:///./node_modules/@antv/g2plot/esm/plots/heatmap/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/gauge/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/gauge/constant.js","webpack:///./node_modules/@antv/g2plot/esm/plots/gauge/utils.js","webpack:///./node_modules/@antv/g2plot/esm/plots/gauge/shapes/gauge.js","webpack:///./node_modules/@antv/g2plot/esm/plots/gauge/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/waterfall/constants.js","webpack:///./node_modules/@antv/g2plot/esm/plots/waterfall/utils.js","webpack:///./node_modules/@antv/g2plot/esm/plots/waterfall/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/waterfall/shape.js","webpack:///./node_modules/@antv/g2plot/esm/plots/waterfall/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/scatter/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/scatter/util.js","webpack:///./node_modules/@antv/g2plot/esm/plots/scatter/interaction/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/scatter/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/radar/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/radar/interaction/radar-tooltip-action.js","webpack:///./node_modules/@antv/g2plot/esm/plots/radar/interaction/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/radar/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/esm/animate/timeline.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/esm/util/color.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/esm/event/event-contoller.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/esm/abstract/canvas.js","webpack:///./node_modules/@antv/g2plot/esm/plots/line/interactions/marker-active.js","webpack:///./node_modules/@antv/g2plot/esm/plots/line/interactions/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/line/index.js","webpack:///./node_modules/@antv/g2plot/esm/utils/transform/histogram.js","webpack:///./node_modules/@antv/g2plot/esm/plots/histogram/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/histogram/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/box/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/box/constant.js","webpack:///./node_modules/@antv/g2plot/esm/plots/box/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/stock/constant.js","webpack:///./node_modules/@antv/g2plot/esm/plots/stock/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/stock/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/liquid/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/liquid/shapes/liquid.js","webpack:///./node_modules/@antv/g2plot/esm/plots/liquid/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/bullet/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/bullet/utils.js","webpack:///./node_modules/@antv/g2plot/esm/plots/bullet/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/area/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/area/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/bar/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/bar/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/rose/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/rose/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/tiny-line/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/tiny-line/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/tiny-column/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/tiny-column/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/tiny-area/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/tiny-area/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/ring-progress/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/ring-progress/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/esm/util/hit.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/esm/canvas.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/component/lib/util/event.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/esm/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-svg/esm/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/lib/util/arc-params.js","webpack:///./node_modules/size-sensor/lib/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/lib/chart/controller/tooltip.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/lib/util/legend.js","webpack:///./src/index.ts","webpack:///./node_modules/@antv/g2plot/esm/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/lib/bbox/register.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/lib/bbox/rect.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/lib/bbox/circle.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/lib/bbox/polyline.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/lib/bbox/polygon.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/lib/bbox/text.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/lib/bbox/path.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/lib/bbox/line.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-base/lib/bbox/ellipse.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g-canvas/lib/util/util.js","webpack:///./node_modules/size-sensor/lib/sensorPool.js","webpack:///./node_modules/size-sensor/lib/id.js","webpack:///./node_modules/size-sensor/lib/sensors/index.js","webpack:///./node_modules/size-sensor/lib/sensors/object.js","webpack:///./node_modules/size-sensor/lib/sensors/resizeObserver.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/lib/interaction/grammar-interaction.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/lib/interaction/action/callback.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/lib/interaction/context.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/lib/geometry/shape/util/path.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/lib/util/helper.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/lib/interaction/action/index.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/lib/util/scale.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/lib/chart/controller/base.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/lib/chart/event.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/lib/util/attr.js","webpack:///./node_modules/@antv/g2plot/node_modules/@antv/g2/lib/util/marker.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","2","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","extendStatics","b","setPrototypeOf","__proto__","Array","__extends","__","this","constructor","__assign","assign","arguments","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","target","desc","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","step","next","rejected","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","iterator","v","op","TypeError","pop","__createBinding","k","k2","undefined","__exportStar","__values","__read","ar","error","__spread","concat","__spreadArrays","il","a","jl","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__setModuleDefault","__importStar","mod","__importDefault","default","__classPrivateFieldGet","receiver","privateMap","has","__classPrivateFieldSet","set","flow","flows","_i","param","reduce","pick","obj","keys","forEach","template","source","replace","RegExp","LEVEL","BRAND","getMessage","format","args","argIndex","log","level","condition","console","getContainerSize","ele","width","height","style","getComputedStyle","clientWidth","parseInt","paddingLeft","paddingRight","clientHeight","paddingTop","paddingBottom","findGeometry","chart","type","geometries","find","getAllElements","geometry","elements","transformLabel","labelOptions","formatter","content","transformTooltip","tooltipOptions","isPercent","customContent","tooltip","items","params","container","document","createElement","className","title","listItem","item","_a","mappingData","color","toFixed","formatterItem","innerHTML","getTooltipTemplate","legend","options","colorField","seriesField","interaction","interactions","enable","removeInteraction","cfg","animation","animate","theme","state","slider","option","scrollbar","scale","axes","meta","scales","axis","field","annotation","annotationOptions","annotationController","getController","annotations","annotationOption","Plot","_super","_this","getElementById","getDefaultOptions","createG2","bindEvents","padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","autoFit","getChartSize","localRefresh","chartSize","on","emit","shared","showMarkers","offset","xAxis","nice","autoRotate","autoHide","yAxis","render","clear","views","execAdaptor","bindSizeSensor","update","setState","status","getData","getStates","stateObjects","element","states","changeData","changeSize","destroy","unbindSizeSensor","off","adaptor","getSchemaAdaptor","triggerResize","forceFit","unbind","SHAPE_TO_TAGS","rect","circle","line","path","marker","text","polyline","polygon","image","ellipse","dom","SVG_ATTR_MAP","opacity","fillStyle","fill","fillOpacity","strokeStyle","strokeOpacity","stroke","x","rx","ry","x1","x2","y1","y2","lineCap","lineJoin","lineWidth","lineDash","lineDashOffset","miterLimit","font","fontSize","fontStyle","fontVariant","fontWeight","fontFamily","startArrow","endArrow","class","id","preserveAspectRatio","getMappingField","xField","yField","shapeField","sizeField","styleField","rawFields","fields","idx","unshift","filter","getMappingFunction","mappingFields","func","mapping","shape","size","position","join","ext","area","smooth","stepType","connectNulls","point","interval","isGroup","isStack","marginRatio","widthRatio","adjust","columnWidthRatio","otherAdaptor","getPixelRatio","devicePixelRatio","distance","dx","dy","Math","sqrt","inBox","minX","minY","intersectRect","box1","box2","maxX","maxY","mergeRegion","region1","region2","min","max","isSamePoint","point1","point2","LAYER","DIRECTION","COMPONENT_TYPE","VIEW_LIFE_CIRCLE","GEOMETRY_LIFE_CIRCLE","PLOT_EVENTS","ELEMENT_STATE","GROUP_Z_INDEX","GROUP_ATTRS","ENGINES","getEngine","G","Error","registerEngine","engine","isNumber","isNaN","w","h","getElementSize","Base","destroyed","visible","show","changeVisible","hide","LineAxis","Line","CircleAxis","Circle","LineGrid","CircleGrid","CategoryLegend","Category","ContinuousLegend","Continuous","HtmlTooltip","Html","dateRegex","createScaleByField","scaleDef","validData","toString","values","test","getDefaultType","getName","alias","getAxisRegion","coordinate","direction","region","start","end","isRect","TOP","RIGHT","BOTTOM","LEFT","getLineAxisRelativeRegion","isPolar","isTransposed","getCircleAxisRelativeRegion","convert","isVertical","getAxisFactorByRegion","center","getAxisThemeCfg","getCircleAxisCenterRadius","circleCenter","isReflectY","startVector","normalVector","startAngle","angle","endAngle","radius","pow","getAxisOption","getAxisDirection","axisOption","def","getAxisTitleText","Facet","view","facets","getDefaultCfg","init","createContainer","generateFacets","renderViews","clearFacetViews","remove","facetToView","facet","createView","beforeEachView","eachView","afterEachView","getLayer","FORE","addGroup","createFacetViews","map","removeView","getFieldValues","rst","cache","getRegion","rows","cols","xIndex","yIndex","xRatio","yRatio","showTitle","getDefaultTitleCfg","getTheme","processAxis","getOptions","coordinateOption","getXYFields","xOption","yOption","getXAxisOption","getYAxisOption","getFacetDataFilter","conditions","datum","Facets","getFacet","registerFacet","ctor","Action","context","addAction","applyCfg","removeAction","CallbackAction","execute","callback","ActionCache","getActionClass","actionName","actionOption","registerAction","ActionClass","createCallbackAction","action","polarToCartesian","centerX","centerY","angleInRadian","cos","sin","getSectorPath","startAngleInRadian","endAngleInRadian","innerRadius","innerStart","innerEnd","PI","middlePoint","innerMiddlePoint","circlePathCommands","arcSweep","sectorPathCommands","getArcPath","getAngle","shapeModel","box","points","getPointsBox","coordStartAngle","diffAngle","getReplaceAttrs","sourceShape","targetShape","originAttrs","attr","newAttrs","isBetween","omit","uniq","sourceArray","targetArray","sourceArray_1","getXDimensionLength","getRadius","getDistanceToCenter","getCenter","isPointInCoordinate","invertPoint","invert","getAngleByPoint","atan2","getCoordinateClipCfg","margin","endState","getWidth","getHeight","startAngle_1","endAngle_1","center_1","radius_1","startState","ratio","diff","attrs","_convertArr","arr","coord","tmp","len","catmullRom2bezier","crp","z","constraint","isLoop","pointList","cp1","cp2","controlPointList","prevPoint","nextPoint","cps","hasConstraint","Infinity","sub","d0","d1","sum","v1","v2","cp0","add","smoothBezier","getLinePath","isInCircle","length_1","_points2path","getSplinePath","constaint","first","prePoint","splinePath","convertPolarPath","pre","cur","transposed","subPath","index","toLowerCase","curPoint","xDim","angleRange","abs","flag","convertPoint","middleConvertPoint","_convertPolarPath","_filterFullCirleLine","BBox","fromRange","fromObject","bbox","configurable","isEqual","contains","child","clone","subBBox","merge","cut","TOP_LEFT","TOP_RIGHT","RIGHT_TOP","RIGHT_BOTTOM","BOTTOM_LEFT","BOTTOM_RIGHT","LEFT_TOP","LEFT_BOTTOM","shrink","gap","top","right","bottom","left","expand","exceed","collide","isPointIn","getMaskBBox","tolerance","maskBBox","event","getCanvasBBox","getCurrentElement","getDelegationObject","delegateObject","isElementChange","gEvent","fromShape","toShape","isList","component","isSlider","isMask","getMaskedElements","maskPath","maskShape","getMaskPath","getElements","pathToPoints","el","shapePoints","shapeBBox","getIntersectElements","getSiblingMaskElements","sibling","getSiblingPoint","geom","subView","getElementsByState","stateName","getElementsBy","hasState","getElementValue","record","getModel","seg","getComponents","co","p1","p2","isInBox","getSilbings","parent","siblings","normalPoint","getCoordinate","point2Normalize","isInRecords","records","xFiled","isIn","getScaleByField","Context","actions","cacheMap","getAction","getCurrentPoint","HTMLElement","getCanvas","getPointByClient","clientX","clientY","getCurrentShape","isInPlot","isPointInPlot","isInShape","isInComponent","components","getBBox","Interaction","initEvents","clearEvents","parseAction","actionStr","split","createAction","methodName","executeAction","actionObject","STEP_NAMES","GrammarInteraction","steps","callbackCaches","emitCaches","initContext","stepArr","stepName","getActionCallback","bindEvent","trigger","offEvent","subSteps","actionArr","isAllowStep","currentStepName","isAllowExecute","getKey","once","isEnable","enterStep","afterExecute","actionCallback","debounce","wait","immediate","throttle","leading","trailing","eventName","nameArr","addEventListener","removeEventListener","Interactions","getInteraction","registerInteraction","createThemeByStylesheet","styleSheet","shapeStyles","pointFillColor","pointSize","pointBorderColor","pointBorder","pointFillOpacity","active","pointActiveBorderColor","pointActiveBorder","selected","pointSelectedBorderColor","pointSelectedBorder","inactive","pointInactiveFillOpacity","pointInactiveBorderOpacity","hollowPoint","hollowPointFillColor","hollowPointBorder","hollowPointBorderColor","hollowPointBorderOpacity","hollowPointSize","hollowPointActiveBorderColor","hollowPointActiveBorderOpacity","hollowPointSelectedBorder","hollowPointSelectedBorderColor","hollowPointSelectedBorderOpacity","hollowPointInactiveBorderOpacity","areaFillColor","areaFillOpacity","areaActiveFillOpacity","areaSelectedFillOpacity","areaInactiveFillOpacity","hollowArea","hollowAreaBorderColor","hollowAreaBorder","hollowAreaBorderOpacity","hollowAreaActiveBorder","hollowAreaSelectedBorder","hollowAreaInactiveBorderOpacity","intervalFillColor","intervalFillOpacity","intervalActiveBorderColor","intervalActiveBorder","intervalSelectedBorderColor","intervalSelectedBorder","intervalInactiveFillOpacity","intervalInactiveBorderOpacity","hollowInterval","hollowIntervalFillColor","hollowIntervalBorderColor","hollowIntervalBorder","hollowIntervalBorderOpacity","hollowIntervalActiveBorderColor","hollowIntervalActiveBorder","hollowIntervalActiveBorderOpacity","hollowIntervalSelectedBorderColor","hollowIntervalSelectedBorder","hollowIntervalSelectedBorderOpacity","hollowIntervalInactiveBorderColor","hollowIntervalInactiveBorder","hollowIntervalInactiveBorderOpacity","lineBorderColor","lineBorder","lineBorderOpacity","lineAppendWidth","lineActiveBorder","lineSelectedBorder","lineInactiveBorderOpacity","axisStyles","spacing","axisTitleSpacing","axisTitleTextFillColor","axisTitleTextFontSize","lineHeight","axisTitleTextLineHeight","textBaseline","autoEllipsis","axisLabelOffset","axisLabelFillColor","axisLabelFontSize","axisLabelLineHeight","axisLineBorder","axisLineBorderColor","tickLine","axisTickLineBorder","axisTickLineBorderColor","alignTick","axisTickLineLength","subTickLine","axisGridStyles","axisGridBorderColor","axisGridBorder","axisGridLineDash","legendStyles","symbol","legendMarkerSpacing","legendCircleMarkerSize","legendMarkerColor","itemName","legendItemNameFillColor","legendItemNameFontSize","legendItemNameLineHeight","legendItemNameFontWeight","textAlign","flipPage","maxItemWidth","itemSpacing","legendItemSpacing","itemMarginBottom","legendItemMarginBottom","legendPadding","background","backgroundColor","defaultColor","brandColor","maxColumnWidth","minColumnWidth","roseWidthRatio","multiplePieWidthRatio","colors10","paletteQualitative10","colors20","paletteQualitative20","shapes","sizes","middleAngle","matrix","transform","tick","funnel","pyramid","dot","dash","hv","vh","hvh","vhv","square","bowtie","diamond","hexagon","triangle","cross","plus","hyphen","schema","candle","edge","arc","common","grid","verticalLimitLength","layout","continuous","track","rail","sliderRailHeight","defaultLength","sliderRailWidth","sliderRailFillColor","sliderRailBorderColor","sliderRailBorder","align","sliderLabelTextFillColor","sliderLabelTextFontSize","sliderLabelTextLineHeight","handler","sliderHandlerWidth","sliderHandlerFillColor","sliderHandlerBorderColor","slidable","showContent","follow","showCrosshairs","enterable","shadowBlur","shadowOffsetX","shadowOffSetY","shadowColor","crosshairs","tooltipCrosshairsBorderColor","tooltipCrosshairsBorder","textBackground","domStyles","visibility","zIndex","transition","tooltipContainerFillColor","tooltipContainerFillOpacity","boxShadow","tooltipContainerShadow","borderRadius","tooltipContainerBorderRadius","tooltipTextFillColor","tooltipTextFontSize","tooltipTextLineHeight","marginBottom","marginTop","listStyleType","marginLeft","marginRight","display","float","annotationArcBorderColor","annotationArcBorder","annotationLineBorderColor","annotationLineDash","annotationLineBorder","annotationTextFillColor","annotationTextBorderColor","annotationTextBorder","annotationTextFontSize","annotationRegionBorder","annotationRegionBorderColor","annotationRegionFillColor","annotationRegionFillOpacity","dataMarker","annotationDataMarkerLineLength","autoAdjust","dataRegion","labels","labelFillColor","labelFontSize","labelBorderColor","labelBorder","fillColorDark","labelFillColorDark","fillColorLight","labelFillColorLight","innerLabels","innerLabelFillColor","innerLabelFontSize","innerLabelBorderColor","innerLabelBorder","pieLabels","labelHeight","labelLine","labelLineBorder","BLACK_COLORS","WHITE_COLORS","QUALITATIVE_10","Themes","paletteSemanticRed","paletteSemanticGreen","paletteSemanticYellow","axisLineDash","axisTitleTextFontWeight","axisSubTickLineBorderColor","axisSubTickLineLength","axisSubTickLineBorder","axisLabelFontWeight","legendTitleTextFillColor","legendTitleTextFontSize","legendTitleTextLineHeight","legendTitleTextFontWeight","legendMarkerSize","legendSquareMarkerSize","legendLineMarkerSize","sliderLabelTextFontWeight","sliderHandlerHeight","sliderHandlerBorder","annotationTextLineHeight","annotationTextFontWeight","tooltipCrosshairsLineDash","tooltipTextFontWeight","labelLineHeight","labelFontWeight","innerLabelLineHeight","innerLabelFontWeight","labelLineBorderColor","pointBorderOpacity","hollowPointActiveBorder","areaActiveFillColor","areaSelectedFillColor","hollowAreaActiveBorderColor","hollowAreaSelectedBorderColor","intervalActiveBorderOpacity","intervalSelectedBorderOpacity","registerTheme","snapEqual","value1","translate","value2","filterYValue","yScale","getYScale","yValue","originData","getXDistance","isCategory","scaleValues","numericValue","getTooltipValueScale","attributes_1","attributes","attribute","getAttributesForLegend","tmpScale","getScale","isLinear","xScale","getXScale","findDataByPoint","geometryType","range","last","xValue","rangeMax","rangeMin","getXValueByPoint","firstXValue","firstYValue","lastXValue","isYArray","firstIdx","lastIdx","middleIdx","floor","getTooltipItems","tooltipTitle","titleField","getAttribute","getFields","getText","getTooltipTitle","tooltipOption","addItem","itemValue","callbackParams","itemCfg","fields_1","valueScale","eachValue","getTooltipValue","nameScale","groupScales","getGroupScales","getTooltipName","parsePadding","paddingArray","LOAD_COMPONENT_CONTROLLERS","registerComponentController","plugin","CoordinateController","wrapperOption","hasAction","isTheta","props","C","transpose","execActions","resetMatrix","rotate","reflect","dim","sx","sy","getOption","includeActions","includes","Event","fromData","originalEvent","defaultLayout","controller","ScalePool","Map","syncScales","createScale","finalScaleDef","cacheScaleMeta","getScaleMeta","cacheScale","cacheScaleDef","sync","scaleKeys","syncKey","Number","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","isContinuous","change","sm","newScale","syncScale","getSyncKey","removeFromSyncScales","scaleMeta","deleteScale","delete","PaddingCal","inc","getPadding","calculatePadding","isAutoPadding","viewBBox","paddingCal","axisComponents","paddingComponents","otherComponents","AXIS","LEGEND","SLIDER","SCROLLBAR","GRID","TOOLTIP","bboxObject","getLayoutBBox","componentPadding","componentBBox","View","controllers","limitInPlot","usedControllers","scalePool","layoutFunc","isPreMouseInPlot","isDataChanged","isCoordinateChanged","createdScaleKeys","onCanvasEvent","evt","createViewEvent","doPlotEvent","onDelegateEvents","canvas","backgroundGroup","middleGroup","foregroundGroup","_b","themeObject","setLayout","calculateViewBBox","initComponentController","initOptions","isUpdate","BEFORE_RENDER","paint","AFTER_RENDER","BEFORE_CLEAR","filteredData","coordinateInstance","getRootView","AFTER_CLEAR","BEFORE_DESTROY","draw","warn","filters","legendOption","scaleOption","guide","coordinateCfg","coordinateController","facetInstance","Ctor","updateOptions","coordinateBBox","opt","existInteraction","interaciton","createInteraction","BEFORE_CHANGE_DATA","AFTER_CHANGE_DATA","sharedOptions","legends","removedView","getYScales","tmpMap","getScalesByDim","dimType","defaultKey","getScaleKey","layer","BG","MID","getLegendAttributes","getGroupAttributes","getXY","xScales","yScales","showTooltip","hideTooltip","lockTooltip","unlockTooltip","isTooltipLocked","getSnapRecords","dataArray","sort","dataLen","snapRecords","filterData","every","filterFieldData","adjustCoordinate","curStart","curEnd","bl","tr","renderDataRecursive","BEFORE_PAINT","renderPaddingRecursive","renderLayoutRecursive","renderBackgroundStyleShape","renderPaintRecursive","AFTER_PAINT","backgroundStyleRectShape","addShape","capture","toBack","initComponents","autoPadding","syncPadding_1","doLayout","setClip","paintGeometries","renderComponents","currentScaleDef","mergedScaleDef","doFilterData","createCoordinate","initGeometries","renderFacet","controllerName","currentInPlot","TYPE","MOUSE_LEAVE","LEAVE","MOUSE_ENTER","ENTER","createOrUpdateScales","scaleDefs","getGeometryScales","adjustScales","getScaleFields","groupedFields","getGroupedFields","getGroupFields","adjustCategoryScaleRange","xyScales","scaleOptions","isIdentity","count","isFullCircle","doAnimation","canvasRegion","_c","_d","_e","events","geometryOption","createGeometry","interactionOption","viewOption","annotationComponent","eventCallback","rest","geometry_1","registerGeometry","labelsContainer","Chart","_f","defaultInteractions","wrapperElement","appendChild","Canvas","onResize","updateCanvasStyle","bindAutoFit","initDefaultInteractions","BEFORE_CHANGE_SIZE","AFTER_CHANGE_SIZE","unbindAutoFit","parentNode","removeChild","verticalAlign","Controller","includeOption","ANIMATIONS_MAP","getAnimation","registerAnimation","DEFAULT_ANIMATE_CFG","appear","duration","easing","enter","leave","GEOMETRY_ANIMATE_CFG","delay","GEOMETRY_GROUP_APPEAR_ANIMATION","getDefaultAnimateCfg","elementName","animateType","animateCfg","doAnimate","parsedAnimateCfg","parseAnimateConfig","animateFunction","toAttrs","Element","shapeFactory","offscreenGroup","model","shapeType","getShapeType","drawShape","setShapeInfo","getOffscreenGroup","newShape","origin","syncShapeStyle","getAnimateCfg","labelShape","statesStyle","stateStatus","toFront","offscreenShape","eventObject","clearStates","labelBBox","getStatesStyle","stateOption","defaultShapeType","stateTheme","getStateStyle","shapeKey","stateCfg","shapeStyle","cfg_1","AFTER_DRAW_ANIMATE","name_1","BEFORE_DRAW_ANIMATE","GroupCtor","getGroupBase","clip","newClip","children","newChildren","name_2","stopAnimate","GEOMETRY_LABELS_MAP","GEOMETRY_LABELS_LAYOUT_MAP","getGeometryLabel","registerGeometryLabel","getGeometryLabelLayout","registerGeometryLabelLayout","layoutFn","ShapeFactoryBase","getShapePoints","shapePoint","getShape","getPoints","getDefaultPoints","getDefaultStyle","geometryTheme","getMarker","markerCfg","markerStyle","ShapeBase","parsePath","parsedPath","convertNormalPath","parsePoint","parsePoints","ShapeFactoryMap","registerShapeFactory","factoryName","geomObj","registerShape","factory","shapeObj","getShapeFactory","isModelChange","currentModel","preModel","parseFields","Geometry","elementsMap","animateOption","attributeOption","lastElementsMap","generatePoints","beforeMappingData","adjusts","idFields","hasSorted","sortable","userTheme","positionCfg","createAttrOption","adjustCfg","adjustOption","styleFunc","styleOption","secondParam","thirdParam","labelOption","customInfo","customOption","setCfg","initAttributes","processData","adjustScale","lastAttributeOption","defaultSize","beforeMapping","mappingArray","eachGroup","createElements","canDoGroupAnimation","yMinPoint","getYMinValue","minYPoint","defaultCfg","doGroupAppearAnimate","renderLabels","deletedElement","geometryLabel","getDefaultValue","attrName","getAttributeValues","length_2","getAdjust","adjustType","getShapeMarker","shapeName","getElementId","elementId","xVal","yVal","length_3","dodgeAdjust","dodgeBy","attributeType","eachOpt","length_4","groupFields","length_5","attributeName","getShapes","xScale_1","xField_1","obj1","obj2","updateStackRange","createShapePointsCfg","normalizeValues","y0","mappingDatum","shapeCfg","getDrawCfg","defaultStyle","getStyleCfg","nextPoints","subIndex","length_6","currentShapeCfg","preShapeCfg","getLabelType","coordinateType","labelType","attrCfg","_loop_1","attrType","AttributeCtor","state_1","categoryScales","groupedArray","groupData","beforeAdjust","subData","subLen","categoryScales_1","adjustData","adjustNames","dodgeRatio","reverseOrder","adjustInstance","process","appendConditions","groups","array","values_1","mergeArray","tmpMin","tmpMax","length_7","currentData","generateShapePoints","nextData","shapeAttr","newRecord","_origin","names","val","mappingRecord","rstX","rstY","xLen","yLen","labelsMap","labelsRenderer","shapesMap","labelId","filterLabelsById","labelChildren","getChildren","getMatrix","setMatrix","rotateRadian","getRotateMatrix","findLabelTextShape","getlLabelBackgroundInfo","labelGroup","labelItem","boxPadding","rotation","Labels","lastShapesMap","createOffscreenGroup","items_1","renderLabel","renderLabelLine","renderLabelBackground","adjustLabel","data_1","origin_1","coordinate_1","currentShape","currentAnimateCfg_1","updateAnimateCfg_1","currentChildren_1","currentChild","deleteShape","shapeAppendCfg","isShape","layouts","labelShapes_1","geometryShapes_1","labelItems","labelLineCfg","labelContentShape","backgroundShape","setZIndex","labelShapes","findAll","offsetX","offsetY","GeometryLabel","getLabelItems","mapppingArray","labelCfgs","getLabelCfgs","labelCfg","labelContent","total","getLabelPoint","getLabelAlign","getLabelsRenderer","getGeometryShapes","getDefaultLabelCfg","getThemedLabelCfg","defaultLabelCfg","setLabelPosition","labelPointCfg","getDefaultOffset","vector","getOffsetVector","getLabelOffset","factor","offsetPoint","getDimValue","centroid","xs","ys","former","current","getPolygonCentroid","getLabelId","labelScales","callbackCfg","originText","getLabelText","originValues","labelTexts","subVal","applyMatrix","VERSION","antvDark","legendSpacing","isValueEmpty","isYNil","getPathPoints","showSinglePoint","filtered","getStyle","isStroke","isFill","sizeName","splitPoints","eachY","LineSymbols","getLineMarker","getSinglePath","getPath","topPoints","bottomPoints","topPath","bottomPath","getRangePath","shapeAttrs","eachLinePoints","getShapeAttrs","Path","getShapeInfo","getPointsAndData","registeredShape","topLinePoints_1","bottomLinePoints_1","reverse","pointsData","parsedPoints","pathPoints","eachPoints","getConstraint","pointInfo","yItem","Area","startOnZero","Edge","Heatmap","paletteCache","prepareRange","prepareSize","blur","prepareGreyScaleBlurredCircle","drawWithRange","clearShadowCanvasCtx","row","getDefaultSize","grayScaleBlurredCanvas","getGrayScaleBlurredCanvas","r2","ctx","getContext","clearRect","shadowOffsetY","beginPath","closePath","valueField","getShadowCanvasCtx","alpha","drawGrayScaleBlurredCircle","colored","getImageData","colorize","putImageData","imageShape","getImageShape","ticks","shadowCanvas","globalAlpha","drawImage","img","colorAttr","pixels","palette","rgb2arr","gradient","getRectPoints","isPyramid","yMin","yMax","xMin","xMax","getRectPath","isClosed","firstPoint","getFunnelPath","isInPolar","xValues","sourceArr","findMinDistance","normalizedSize","wr","mergeData","getDodgeCount","xDimensionLength","normalizedMaxColumnWidth","normalizedMinColumnWidth","Interval","sizeAttr","MarkerSymbols","diffX","diffY","SHAPES","drawPoints","pointPosition","group","points_1","Point","subX","subY","Polygon","temp","xOffset","yOffset","Schema","getCPath","from","to","getQPath","getArcShapePath","arc1","arc2","getArcShapeWeightPath","c1","c2","getSmoothPath","getVHVPath","getTickPoints","getInterpolateShapeAttrs","interpolatePoints","interpolatePoint","nextX","nextY","middleX","middleY","interpolateCallback","getInterpolatePoints","getInterpolatePath","parseValue","min1","max1","median","getBoxPoints","pointsArray","halfSize","getCandleYValues","sorted","targetLength","padValue","padEnd","sourceLength","getCandlePoints","yValues","getRectAttrs","IntervalLabel","getLabelValueDir","dir","point0","p0","nextP0","nextP1","HALF_PI","PolarLabel","percent","labelEmit","arcPoint","isToMiddle","getMiddlePoint","getArcPoint","getPointAngle","isLabelEmit","labelPositionCfg","getCirclePoint","getLabelRotate","labelAngle","asin","PieLabel","isLabelLimit","startPoint","endPoint","plotRange","invisible","overlapping","startY","endY","totalHeight","MIN_VALUE","boxes","targets","pos","previousBox","posInCompositeBox","Greedy","bitmap","xGap","yGap","hasGap","round","fillGap","adjustLabelPosition","getAxes","rotateAtPoint","deg","getProjection","scalars","isProjectionOverlap","projection1","projection2","isIntersect","isIntersectRect","rect1Points","rect2Points","shouldInShape","textShape","textBBox","shouldInShapeSingle","hasSome","dones","compare","some","checkShapeOverlap","leftText","rightText","doScaleAnimate","endMatrix","direct","scaledMatrix","applyToMatrix","transformShape","arcPath","getArcStartPoint","getArcInfo","arcPaths","command","firstArcPathCommand","lastArcPathCommand","firstIndex","lastIndex","firstStartPoint","lastStartPoint","firstStartAngle","firstEndAngle","lastStartAngle","lastEndAngle","doShapeZoom","getFactTitleConfig","getAnglePoint","renderTitle","avgAngle","facetR","middle","facetData","columnValue","columnField","columnIndex","columnValuesLength","rowValue","rowField","rowIndex","rowValuesLength","config","List","colValues","getPageCount","getRowCol","col","pageSize","Matrix","columnTitle","rowTitle","facetIndex","Mirror","columnValues","rowValues","Rect","Tree","afterChartRender","drawLines","rootFacet","getRows","getChildFacets","setRegion","forceColIndex","xWidth","yWidth","leafs","isLeaf","levelFacets_1","getFacetsByLevel","originColIndex","getRegionIndex","addFacetLines","subFacet","subRegion","middle1","middle2","drawLine","getMedian","getNormalizedValue","scaled","num","ANNOTATIONS_AFTER_RENDER","Annotation","foregroundContainer","backgroundContainer","onAfterRender","updated","updateOrCreate","getCacheKey","syncCache","updateCache","doWhat","createAnnotation","getAnnotationTheme","getAnnotationCfg","isTop","NONE","ANNOTATION","extra","regionFilter","html","parsePosition","xPos","yPos","parsePercentPosition","getRegionPoints","startIndex","viewData","startXValue","endXValue","xPercent","parseFloat","yPercent","topLeft","getCoordinateBBox","sp","ep","src","textContent","_g","lineLength","_h","apply_1","shapes_1","addShapes_1","elem","_j","render_1","restOptions","_k","html_1","getComponentContainer","newCache","getGridThemeCfg","getLineGridItems","getTicks","tickValue","preTick","currentTick","currentIndex","currentValue","middleValue","getCircleGridItems","preValue","showGrid","axisTheme","userGrid","themeGrid","OMIT_CFG","AXIS_DEFAULT_ANIMATE_CFG","Axis","gridContainer","axisContainer","updatedCache","updateXAxes","updateYAxes","xAxisOption","axisId","getId","gridId","getLineAxisCfg","createLineAxis","getLineGridCfg","createLineGrid","RADIUS","getCircleAxisCfg","createCircleAxis","getCircleGridCfg","CIRCLE","createCircleGrid","yAxisOption","titleText","axisThemeCfg","optionWithTitle","verticalFactor","isAxisVertical","canvasWidth","canvasHeight","gridThemeCfg","gridCfg","verticalScale","directionToPosition","parentBBox","tl","br","getMappingValue","restArgs","setMarkerSymbol","getLegendLayout","startsWith","getLegendOption","getDirection","Legend","layoutBBox","maxSize","getCategoryLegendSizeCfg","maxWidth","maxHeight","setLocation","existCo","getComponentById","customCfg","getCategoryCfg","createCustomLegend","loopLegends","getContinuousCfg","createFieldLegend","getGeometries","doEach","looped","createContinuousLegend","createCategoryLegend","containMin","containMax","attrValue","scaleValue","attrLegendCfg","colors","mergeLegendCfg","custom","themeMarker","userMarker","customItems","getCustomLegendItems","field_1","colorAttr_1","shapeAttr_1","defaultColor_1","isInPolar_1","unchecked","getLegendItems","baseCfg","categoryCfg","reversed","vw","Slider","onChangeFn","resetMeasure","onValueChange","changeViewData","getSliderCfg","updateSlider","createSlider","measureSlider","setTimeout","getMinMaxText","minText","maxText","trendCfg","getThemeOptions","ticks_1","groupedData","dataSize","xTickCount","minIndex","maxIndex","Tooltip","isLocked","isVisible","getTitle","dataPoint","getTooltipCfg","lastItems","lastTitle","tooltipMarkersGroup","renderTooltip","renderTooltipMarkers","isCrosshairsFollowCursor","renderCrosshairs","xCrosshair","yCrosshair","setCapture","guideGroup","tooltipCrosshairsGroup","findItemsFromView","itemArr_1","snapItem","items_2","aItem","yDistance","uniqItems","subItem","isCursorEntered","getContainer","getBoundingClientRect","processOption","processCustomContent","currentCustomContent","getTooltipMarkersGroup","items_3","crosshairsType","renderXCrosshairs","renderYCrosshairs","tooltipCfg","getViewWithGeometry","getTooltipCrosshairsGroup","getCrosshairsText","textCfg","firstItem","getGuideGroup","getTooltipItemsByHitShape","getTooltipItemsByFindData","dataArray_1","geometries_1","tooltipItems","childView","Scrollbar","getValidScrollbarCfg","originalAnimate","getScrollRange","trackLen","thumbLen","updateScrollbar","createScrollbar","measureScrollbar","getScrollbarComponentCfg","isHorizontal","thumbOffset","cnt","xScaleCfg","yScalesCfg","getStep","getCnt","startIdx","endIdx","realConfig","categorySize","ActiveRegion","ev","xValue_1","elements_1","firstBBox_1","lastBBox_1","groupBBox_1","appendRatio","firstElement","lastElement","innterRadius","regionPath","TooltipAction","timeStamp","lastTimeStamp","Date","preLoc","location","curLoc","SiblingTooltip","siblingPoint","EllipsisText","tipContent","tooltipStyles","StateBase","setElementState","setStateEnable","clearViewState","getItem","ElementState","ignoreListItemStates","isItemIgnore","list","setStateByComponent","setElementsStateByItem","setStateByElement","isMathItem","event_1","toggle","reset","ElementActive","LinkByColor","getColorScale","getLinkPath","nextElement","nextBBox","addLinkShape","linkByElement","getElementsByField","group_1","linkGroup","count_1","nextEl","removeLink","link","unlink","ElementRangeState","isStarted","effectSiblings","effectByRecord","setSiblingsState","allElements","setSiblingsStateByRecord","setElementsState","effectElements","ElementRangeActive","ElementSingleState","ElementSingleActive","clearHighlight","setHighlightBy","INACTIVE","ACTIVE","ElementHighlight","setElementHighlight","activeElements","allCancel_1","highlight","HighlightColor","highlightElements","HighlightX","ElementRangeHighlight","ElementSingleHighlight","ElementRangeSelected","ElementMultipleSelected","ElementSingleSelected","ListState","ignoreItemStates","getTriggerListInfo","info","getAllowComponents","allowSetStateByElement","clearAllComponentsState","clearItemsState","componentNames","allowSetStateByItem","ignoreStates","setItemsState","setItemState","getItems","triggerInfo","ListActive","ListHighlight","activeItems","getItemsByState","ListSelected","ListUnchecked","MaskBase","starting","moving","preMovePoint","emitEvent","createMask","maskAttrs","getMaskAttrs","draggable","updateMask","moveStart","move","currentPoint","moveEnd","resize","CircleMask","RectMask","clampPoint","DimRect","inPlot","normalStart","normalEnd","PathMask","addPoint","SmoothPathMask","getSpline","CursorAction","setCursor","cursor","pointer","crosshair","help","eResize","wResize","nResize","sResize","neResize","nwResize","seResize","swResize","nsResize","ewResize","DataFilter","filterView","unCheckedItems","scale_1","names_1","getValue","min_1","max_1","getFilter","minValue","maxValue","arr_1","RangeFilter","dims","hasDim","normalCurrent","reRender","SiblingFilter","ElementFilter","maskElements_1","byRecord","filterByRecord","filterByBBox","maskElements","ButtonAction","buttonGroup","buttonCfg","textStyle","activeStyle","getButtonCfg","drawButton","buttonShape","resetPosition","Drag","dragStart","drag","Move","isMoving","startMatrix","ScaleTranslate","cfgFields","cacheScaleDefs","resetDim","startCache","noramlCurrent","translateDim","translateLinear","zoomRatio","zoomIn","zoom","zoomDim","zoomOut","dRatio","zoomLinear","toMin","toMax","isPointInView","isWheelDown","preventDefault","deltaY","greedy","canFill","totalHeight_1","lineHeight_1","plotRange_1","halves_1","half","maxLabelsCountForOneSide","isRight","rPow2","dyPow2","antiCollision","innerPoint","itemX","itemY","maxTimes","dxdy","maxDelta","nt","times","accessedCache","spiralFill","label1","label2","regionMinX","regionMinY","regionMaxX","regionMaxY","finalX","finalY","labels_1","labelOffset","separateLabels","totalR","labelsContainerRange","getChildByIndex","dxPow2","dx_offset","smoothConnector","atan","sweepFlag","breakPoint","breakPoint3","xSign","slope1","slope2","E","drawLabelline","toRGB","isContrastColorWhite","moveInShape","groupedLabels","sortedCollections","sortedLabels","sortLabels","downFail","inRight","inflectionPoint","totalOffset","seperateLabels","halfHeight","originalPos","clipShape","pathCommands","curStartAngle","curEndAngle","preStartAngle","preEndAngle","diffStartAngle","diffEndAngle","onFrameStartAngle","onFrameEndAngle","getTotalLength","showEnable","processing","rollback","Util","removeFromArray","isBrowser","isParent","isCanvas","getParent","isAllowCapture","createSVGElement","createElementNS","createDom","sortDom","sorter","childList","fragment","createDocumentFragment","moveTo","targetIndex","childNodes","node","nodeType","nodeName","insertBefore","targetNext","version","vMag","vRatio","u","vAngle","acos","getArcParams","xRotation","arcFlag","xp","yp","lambda","cxp","cyp","cx","cy","theta","dTheta","SHAPE_ATTRS_MAP","applyAttrsToContext","setLineDash","parse","drawChildren","skipDraw","checkRefresh","refreshElements","parent_1","refresh","setChildrenRefresh","checkChildrenRefresh","hasChanged","checkElementRefresh","clearChanged","cacheCanvasBBox","isInView","drawPath","arcParamsCache","startMovePoint","tangent","getStartTangent","getEndTangent","lineTo","quadraticCurveTo","bezierCurveTo","arcParams","scaleX","scaleY","refreshElement","changeType","_cacheCanvasBBox","getMergedRegion","minXArr","minYArr","maxXArr","maxYArr","cacheBox","validCache","validBBox","getRefreshRegion","mergeView","viewRegion","findViewById","_addDefaultArrow","isStart","rad","arrowShape","isArrowShape","_addCustomizedArrow","arrowAttrs","arrowFill","arrowStroke","arrowLineWidth","restAttrs","getShortenOffset","addStartArrow","addEndArrow","identityMatrix","getMatrixByAngle","getMatrixByTranslate","currentMatrix","multiplyVec2","out","transformMat3","applyRotate","applyTranslate","translateMatrix","formatPadding","clearDom","regionToBBox","createBBox","getValueByPercent","getBBoxWithClip","getClip","clipBBox","minX_1","maxX_1","minY_1","maxY_1","leftTop","leftBottom","rightTop","rightBottom","boxMinX","boxMaxX","boxMinY","boxMaxY","toPx","number","getTextPoint","offsetPercent","LOCATION_FIELD_MAP","none","Component","initCfg","locationType","updateAutoRender","newCfg","updateInner","afterUpdate","getLocationType","getOffset","setOffset","getLocation","COPY_PROPERTIES","COPY_PROPERTIES_EXCLUDES","GroupComponent","isRegister","isUpdating","isInit","clearOffScreenCache","getChildComponentById","getElementByLocalId","localId","getElementsByName","offScreenRender","offScreenGroup","updateElements","deleteElements","applyOffset","initEvent","removeEvent","getInnerLayoutBBox","getTotalMatrix","topRight","bottomLeft","bottomRight","applyMatrix2BBox","initGroup","delegateEmit","propagationPath","emitDelegation","propagationDelegate","createOffScreenGroup","getDelegateObject","moveElementTo","isComponent","renderInner","appendDelegateObject","registerElement","addComponent","restCfg","inst","unregisterElement","addAnimation","elmentName","newElement","originOpacity","removeAnimation","originElement","updateAnimation","newGroup","originGroup","preElement","childComponent","origChildComponent","replaceAttrs","newClipShape","clipCfg","updateClip","registerNewGroup","clearUpdateStatus","parentObject","deleteArray","callbackAnimCfg","removeElement","charAtLength","str","charCodeAt","getMaxLabelWidth","ellipsisLabel","limitLength","labelLength","getLabelLength","codeLength","strLen","ellipsised","reseveLength","newText","startStr","endStr","endIndex","startCodeLen","hasAdd","endCodeLen","ellipsisString","renderTag","tagCfg","maxLength","ellipsisPosition","tagGroup","backgroundStyle","textColor","activeTextColor","uncheckedColor","lineColor","regionColor","verticalAxisRotate","horizontalAxisRotate","LineAnnotation","renderLine","TextAnnotation","resetLocation","textGroup","ArcAnnotation","renderArc","largeFlag","RegionAnnotation","renderRegion","ImageAnnotation","renderImage","getImageAttrs","DataMarkerAnnotation","renderText","renderPoint","textAttrs","isVertival","findById","lineShape","overflow","lineDisplay","pointStyle","lineStyle","DataRegionAnnotation","regionStyle","pointsToBBox","RegionFilterAnnotation","shapeIdx","adjustShapeAttrs","ShapeAnnotation","HtmlComponent","containerTpl","containerClassName","pointerEvents","removeDom","initContainer","initDom","resetStyles","applyStyles","initCapture","initVisible","defaultStyles","applyChildrenStyles","cName","match","containerCss","styles","getElementsByClassName","applyStyle","cssName","HtmlAnnotation","alignX","alignY","domWidth","domHeight","stateStyles","styleName","AxisBase","overlapOrder","tickStates","displayWithLabel","labelStyle","tickLineStyle","drawTicks","drawTitle","setItems","updateItem","clearItems","itemGroup","updateTickStates","getItemStates","getSidePoint","getSideVector","getTextAnchor","getTextBaseline","base","processOverlap","getTickLineItems","tickLineItems","tickLineLength","tickSegment","getTickPoint","tickId","getSubTickLineItems","subTickLineItems","subCount","tickLineCount","getTickLineAttrs","tickItem","tickItems","defaultTickLineStyle","drawTick","tickLineGroup","drawTickLines","tickCfg","subTickLineItems_1","processTicks","drawLabels","applyTickStates","getLabelAttrs","defaultLabelStyle","afterProcessTicks_1","newStyle","getTitleAttrs","titleCfg","titleHeight","titlePoint","getAxisVector","angleTo","labelStateStyle","tickLineId","tickLineShape","tickLineStateStyle","tickLineCfg","ellipseLabels","getDefault","ellipsisTail","ellipsisHead","ellipsisMiddle","isRotate","rotated","preBox","curBox","overlap","reserveOne","labelsGroup","hasHide","curBBox","equidistance","reserveFirst","reserveLast","reserveBoth","preLabel","firstBBox","second","ceil","labelRotate","isOverlap","setLabelsAngle","fixedAngle","unfixedAngle","regionX","regionY","axisVector","normal","normalize","verticalVector","titleSpacing","autoProcessOverlap","hasAdjusted","util","verticalFactor_1","newAlign","large","sweep","vecLen","CrosshairBase","renderBackground","textPoint","getRotateAngle","textId","LineCrosshair","tangentAngle","CONTAINER_CLASS","HtmlCrosshair","crosshairTpl","textTpl","resetText","initCrossHair","crosshairEl","textEl","alignText","GridBase","alternateColor","closed","getLineType","drawGrid","getAlternatePath","prePoints","getGridPath","reversePoints","nextPath","getPathStyle","preItem","lineId","gridPath","regionId","isEven","drawAlternateRegion","lineType","sweepFlag_1","LegendBase","getDrawPoint","setDrawPoint","resetDraw","drawLegendContent","drawBackground","currentPageIndex","totalPagesCnt","pageWidth","pageHeight","startX","onNavigationBack","updateNavigation","getCurrentNavigationMatrix","onNavigationAfter","itemWidth","itemHeight","itemStates","itemBackground","alignRight","nameStyle","itemElement","offsetGroup","drawItem","getItemHeight","processItems","drawItems","itemContainerGroup","wrapped","subGroup","adjustNavigation","nameCfg","drawMarker","markerAttrs","drawItemText","textName","xPosition","groupId","subContainer","getLimitItemWidth","curX","nameShape","valueShape","applyItemStates","subGroups","navigation","drawNavigation","navigationBBox","pages","widthLimit","itemMarginBottom_1","cntPerPage_1","leftArrow","drawArrow","leftArrowBBox","rightArrow","origBBox","newBBox","rotateMap","up","down","itemStates_1","elName","ContinueLegend","tip","getCurrentValue","getRange","setRange","setValue","originValue","resetTrackClip","resetHandlers","bindSliderEvent","bindRailEvent","bindTrackEvent","drawRail","fixedElements","resetTrack","bindHandlersEvent","getValueByCanvasPoint","curValue","curDiff","dValue","drawLabel","labelAlign","alignAttrs","getLabelAlignAttrs","getRailPath","railCfg","getTrackColor","getTrackPath","getRailShape","getClipTrackAttrs","railBBox","getRailBBox","getPointByValue","getTrackAttrs","trackCfg","trackId","trackShape","trackAttrs","getRailCanvasBBox","isVertcal","resetHandler","getHandlerPath","handlerCfg","halfWidth","oneSixthWidth","triangleX","triangleY","handlerShape","railShape","minLabel","maxLabel","fixedVertail","fixedHorizontal","fitRailLength","minLabelBBox","maxLabelBBox","lengthField","changeRailLength","changeRailPosition","railHeight","maxLabelWidth","TITLE_CLASS","LIST_CLASS","LIST_ITEM_CLASS","MARKER_CLASS","VALUE_CLASS","NAME_CLASS","CROSSHAIR_X","CROSSHAIR_Y","itemTpl","xCrosshairTpl","yCrosshairTpl","crosshairsRegion","renderCustomContent","resetTitle","renderItems","clearCrosshairs","setTitle","clearItemDoms","setCrossHairsVisible","xCrosshairDom","yCrosshairDom","getHtmlContentNode","cacheDoms","limitBox","px","py","getPointByPosition","outSides","getOutSides","getAlignPoint","resetCrosshairs","curContainer","replaceChild","titleDom","listDom","innerText","crosshairBox","resetCrosshair","croshairDom","checkCrosshair","domName","tplName","constName","toUpperCase","toCSSGradient","substituteObj","domStr","itemDom","BACKGROUND_STYLE","LINE_STYLE","AREA_STYLE","pointsToPath","dataToPath","getSmoothLinePath","linePathToAreaPath","areaPath","lineYPx","lineY","getAreaLineY","Trend","isArea","areaStyle","FOREGROUND_STYLE","HANDLER_STYLE","TEXT_STYLE","DEFAULT_STYLE","highLightFill","Handler","onMouseDown","currentTarget","stopPropagation","prevX","pageX","prevY","pageY","containerDOM","getContainerDOM","onMouseMove","onMouseUp","offsetXRange","adjustOffsetRange","updateStartEnd","updateUI","oldStart","oldEnd","newStart","newEnd","foregroundStyle","handlerStyle","validCfg","minHandler","maxHandler","trend","silent","handlerHeight","foregroundShape","minTextShape","maxTextShape","handlerWidth","_dodgeText","minAttrs","maxAttrs","foreground","offsetRange","minBBox","maxBBox","DEFAULT_THEME","trackColor","thumbColor","hover","onStartEvent","isMobile","startPos","bindLaterEvent","endPos","updateThumbOffset","onTrackClick","newOffset","validateRange","onThumbMouseOver","onThumbMouseOut","newValue","originalValue","minThumbLen","renderTrackShape","renderThumbShape","thumbShape","emitOffsetChange","setShadow","addShadow","setAttribute","removeAttribute","setTransform","hasAttribute","createPath","addClip","AXIS_META_CONFIG_KEYS","DEFAULT_COLORS","GRADIENT","CONTINUOUS","multiplyMatrix","a00","a01","a02","a10","a11","a12","a20","a21","a22","b00","b01","b02","b10","b11","b12","b20","b21","b22","det","SPACES","PATH_COMMAND","PATH_VALUES","parsePathString","pathString","paramCounts","String","catmullRomToBezier","iLen","ellipsePath","res","pathToAbsolute","pathArray","pa0","dots","mx","my","crz","pa","ii","jj","kk","l2c","q2c","ax","ay","a2c","large_arc_flag","sweep_flag","recursive","xy","f1","f2","_120","rx2","ry2","df","f2old","x2old","y2old","s1","s2","tan","hx","hy","m1","m2","m3","m4","newres","pathToCurve","path2","bx","by","X","Y","qx","qy","attrs2","pcoms1","pcoms2","pfirst","pcom","processPath","nx","ny","T","Q","fixArc","pp","pi","fixM","path1","a1","a2","seg2","seglen","seg2len","p2s","parsePathArray","base3","p3","p4","bezlen","x3","y3","x4","y4","z2","Tvalues","Cvalues","ct","xbase","ybase","comb","curveDim","x0","tvalues","bounds","b2ac","sqrtb2ac","t1","t2","mt","jlen","intersect","denominator","px2","py2","isPointInsideBBox","rectPath","r1","r0","vb","bezierBBox","p1x","p1y","c1x","c1y","c2x","c2y","p2x","p2y","findDotsAtSegment","t13","t12","t3","interHelper","bez1","bez2","justCount","bbox1","bbox2","isBBoxIntersect","n1","n2","dots1","dots2","di","di1","dj","dj1","ci","cj","is","intersection","x1m","y1m","x2m","y2m","pj","intr","segment1","segment2","interPathHelper","decasteljau","recurse","middlePoints","splitSegment","segments","leftSegments","segment","cmd","splitCurve","fillPath","sourceLen","targetLen","segmentsToFill","filled","getMinDiff","del","modify","fillPathByDiff","diffMatrix","sourceSegment","targetSegment","dist","levenshteinDistance","changes","minPos","_splitPoints","formerEnd","_getSegmentPoints","formatPath","fromPath","toPath","getDefaultAttrs","getShapeBase","onCanvasChange","calculateBBox","getHitLineWidth","bboxMethod","halfLineWidth","isClipShape","_applyClip","save","restore","_afterDraw","getCanvasViewBox","getViewRange","canvasBBox","strokeAndFill","afterDrawPath","refX","refY","isInStrokeOrPath","absDistance","ellipseDistance","squareX","squareY","Ellipse","halfLineWith","ImageShape","initAttrs","_setImage","isOnlyHitBox","_afterLoading","image_1","Image","onload","crossOrigin","onAttrChange","swidth","sheight","inLine","pointToLine","setArrow","startArrowDistance","endArrowDistance","startArrowShape","endArrowShape","getPoint","pointAt","Symbols","Marker","_resetParamsCache","_getR","_getPath","method","paramsCache","isPointInPath","dcmp","onSegment","isInPolygon","isHit","hasArc","extractPolygons","polygons","polylines","isPointInStroke","pointDistance","vec3","isInPolygons","_setPathArr","getSegments","extractResutl","totalLength","_calculateCurve","_setTcache","subt","tCache","curve","nextSeg","segmentT","segmentL","segmentN","tempLength","startTangent","endTangent","inPolyline","isClose","PolyLine","_resetCache","inRect","r3","r4","Text","_assembleFont","_setText","textArr","_getSpaceingY","_drawTextArr","spaceingY","subText","fillText","strokeText","_drawText","parentChildren","clipPathEl","defsEl","children_1","pointMapping","lineGeometry","Group","xArr","yArr","viewRange","allowDraw","isEntityGroup","afterAttrsChange","targetAttrs","canStroke","shadow","_setColor","trim","addGradient","addPattern","elementFromPoint","isEqualNode","Dom","HTMLDocument","setAttr","toDataURL","ImageData","addArrow","getDefaultArrow","triangleDown","register","getAll","_assembleMarker","symbols","symbolsFactory","_formatPath","getPointAtLength","Polyline","completed","pathRelatedAttrs","_assembleRect","parseRadius","BASELINE_MAP","alphabetic","hanging","BASELINE_MAP_FOR_FIREFOX","ANCHOR_MAP","_setFont","browser","baseline","textLen_1","tslib_1","util_1","grammar_interaction_1","lowerCase","isPlainObject","mix","interaction_1","action_1","DEFAULT_TOOLTIP_OPTIONS","ORIGIN_MATRIX","groupTransform","ulMatrix","GraphEvent","bubbles","delegateTarget","defaultPrevented","propagationStopped","SHAPE_MAP","Container","totalMatrix","_applyChildrenMarix","preTotalMatrix","groupClass","tmpCfg","TmpGroupClass","_findShape","invertFromMatrix","isClipped","timeline","preParent","setCanvas","setTimeline","_applyElementMatrix","getFirst","getLast","getCount","contain","fn","findByClassName","findAllByName","CLONE_CFGS","RESERVED_PORPS","getFormatFromAttrs","fromAttrs","getFormatToAttrs","checkExistedAttrs","animations","onFrame","startTime","initAnimate","getDefaultMatrix","applyTo","parentMatrix","invertMatrix","Cons","_cloneArrayAttr","cons","cfgName","isAnimatePaused","isPaused","timer","initTimer","repeat","pauseCallback","resumeCallback","formatToAttrs","getTime","pathFormatted","addAnimator","toEnd","pauseAnimate","pauseTime","_paused","_pauseTime","resumeAnimate","eventObj","relativeShape","paths","getEvents","subName","emitDelegateEvent","this_1","translateX","translateY","newMatrix","targetX","targetY","ratioX","ratioY","radian","rotateAtStart","regexLG","regexRG","regexPR","regexColorStop","addStop","itemArr","addColorStop","parseStyle","gradientStr","exec","tanTheta","tanTheta2","createLinearGradient","parseLineGradient","fx","fy","fr","createRadialGradient","parseRadialGradient","patternStr","pattern","createPattern","complete","parsePattern","getBBoxMethod","register_1","getMethod","rect_1","circle_1","polyline_1","polygon_1","text_1","path_1","line_1","ellipse_1","assembleFont","getTextWidth","getLineSpaceing","getTextHeight","offscreen_1","lineCount","isString","getOffScreenContext","isNil","each","measureWidth","measureText","progressStyle","barWidthRatio","clampPercent","DEFAULT_COLOR","measure","groupField","as","sumBy","percentage","columnStyle","chartData","mergeBBox","mergeArrowBBox","COMPONENT_MAX_VIEW_PERCENTAGE","MIN_CHART_HEIGHT","MIN_CHART_WIDTH","FIELD_ORIGIN","Crosshair","g_base_1","AbstractGroup","AbstractShape","factory_1","registerAdjust","Adjust","factory_2","Attribute","attr_1","Color","coord_1","registerCoordinate","Coordinate","registerScale","Scale","component_1","Grid","is_nil_1","is_function_1","is_string_1","is_object_1","is_array_1","mix_1","each_1","upper_first_1","offScreenCtx","getElementsByPath","bbox_1","is_polygons_intersect_1","isArray","toPoints","constant_1","isNumberEqual","memoize","hasKey","isObject","_isInBBox","clearCacheBBox","calculateCanvasBBox","shadowLeft","shadowRight","shadowTop","shadowBottom","vec","inBBox","_len","_key","clearTimeout","SensorTabIndex","SensorClassName","SizeSensorId","tuple","tupleNum","Column","isRange","unregisterAction","callback_1","graphics_1","helper_1","isEmpty","getRegionBBox","Progress","defaultOptions","nodes","partition","root","eachBefore","depth","positionNode","hierarchy","mapChildren","objectChildren","childs","Node","computeHeight","copyData","eachAfter","that","ancestor","aNodes","ancestors","bNodes","leastCommonAncestor","descendants","leaves","links","copy","getField","defaultField","INVALID_FIELD_ERR_MSG","getAllNodes","eachNode","DEFAULT_OPTIONS","prop","phi","squarifyRatio","nodeValue","sumValue","newRatio","minRatio","beta","i0","i1","dice","squarify","optional","required","constantZero","tile","paddingStack","paddingInner","treemap","paddingOuter","constant","defaultSeparation","meanXReduce","maxYReduce","separation","nodeSize","cluster","previousNode","meanX","leafLeft","leafRight","circles","random","shuffle","B","enclosesWeak","encloseBasis","extendBasis","enclosesWeakAll","enclosesNot","encloseBasis2","encloseBasis3","dr","x21","y21","r21","a3","b2","b3","c3","d2","d3","ab","xa","xb","ya","yb","A","place","intersects","score","previous","packEnclose","aa","ca","sj","sk","pack","enclose","defaultRadius","radiusLeaf","packChildren","translateChild","preroot","ambiguous","defaultId","defaultParentId","parentId","stratify","nodeId","nodeKey","nodeByKey","nextLeft","nextRight","moveSubtree","wm","wp","nextAncestor","vim","TreeNode","tree","treeRoot","firstWalk","secondWalk","sizeNode","tx","kx","ky","executeShifts","midpoint","vip","vop","vom","sip","sop","sim","som","apportion","sums","valueOffset","valueTarget","hi","mid","valueLeft","valueRight","xk","yk","resquarify","_squarify","sunburstStyle","hierarchyConfig","nodeInfo","brand","transformData","Sunburst","parsePercentageToNumber","WARN","endsWith","angleField","pieStyle","content_1","dataum","angleScale","inner","outer","spider","labelLayoutType","statistic","title_1","content_2","getDefaultContent","getTotalValue","PieLegendAction","getActiveElements","item_1","getActiveElementLabels","transfrom","elementLabels","StatisticAction","getAnnotations","getInitialAnnotation","initialAnnotation","annotationController_1","angleField_1","colorField_1","angleScale_1","colorScale_1","annotationOptions_1","statisticOptions","initialStatistic","PieInnerLabel","actualOffset","Pie","AxisType","DualAxesGeometry","isLine","isColumn","getGeometryOption","Left","getViewLegendItems","isGeometry","viewId","attrItems","drawSingleGeometry","FIELD_KEY","mainGeometry","transformOptions","geometryOptions","DEFAULT_YAXIS_CONFIG","Right","SORT_MAP","column","leftView","rightView","leftItems","rightItems","yF","groupScale","DualAxes","hasColumn","allLine","formatData","compareField","firstRecord_1","funnelGeometry","preItemX","_x","preItemY","_y","dynamicHeight","compareFunnel","dynamicHeightFunnel","basicFunnel","Funnel","stops","Gradient","self","ATTR_MAP","shadowOpacity","SHADOW_DIMENSION","Shadow","_parseShadow","Arrow","_setDefaultPath","_setMarker","Clip","shapeEl","Pattern","Defs","defaultArrow","arrow","autoDraw","srcElement","tagName","spiral","timeInterval","wordCloud","cloudFont","cloudFontSize","cloudFontNormal","cloudRotate","cloudPadding","archimedeanSpiral","words","cloudText","cloudCanvas","cloud","board","tag","dt","cloudCollide","sprite","sw","lx","msx","contextAndRatio","zeroArray","tags","weight","now","cloudSprite","hasText","hasImage","cloudBounds","_tags","_bounds","can","w32","cxt","imageData","functor","spirals","tagCloud","imageMask","cloudRadians","maxh","sr","cr","wcr","wsr","hcr","hsr","cw","xoff","yoff","seen","seenRow","b0","b1","archimedean","rectangular","sign","getSize","containerSize","normalPadding","resolvePadding","getFontSize","wordStyle","fMin_1","fMax_1","getRotate","rotationSteps","rotateRatio","resolveRotate","perSize","numbers","wordField","weightField","getTextAttrs","WordCloud","rej","HTMLImageElement","onerror","ERROR","catch","SHAPE_TYPES","sizeRatio","checkedShapeType","checkedSizeRatio","heatmapStyle","maxRadius","maxSideLength","sideLength","indicator","indicatorData","PERCENT","rangeData","processRangeData","rangeColor","maxLimit","minLimit","other","pin","Gauge","Y_FIELD","newYField","newData","dIdx","leaderLine","waterfallStyle","risingFill","fallingFill","colorMapping","Y_FIELD_META","labelMode","fillAttrs","getFillAttrs","leaderLineCfg","linkPath","Waterfall","scatterGeometry","scatterAnnotation","quadrant","xBaseline","yBaseline","regionStyle_1","defaultConfig_1","getQuadrantDefaultConfig","Scatter","pointOptions","areaOptions","RadarTooltipController","cfgTitle","hintItems","result_1","displayTitle","RadarTooltipAction","getTooltipController","Radar","IDENTITY_MATRIX","elapsed","cProps","interf","toPathPoint","fromPathPoint","cPathPoint","matrixFn","_update","Timeline","animators","removeAnimator","isAnimating","stop","stopAllAnimations","animator","EVENTS","emitTargetEvent","bubbleEvent","isOverEvent","EventController","draggingShape","dragging","mousedownShape","mousedownPoint","_eventCallback","_triggerEvent","_onDocumentMove","_getPointInfo","_emitEvent","_onDocumentMouseUp","_afterDrag","_bindEvents","_clearEvents","_getEventObj","_getShape","clientPoint","getClientByEvent","getPointByEvent","leaveCanvas","preShape","_onmousedown","button","mousedownTimeStamp","_emitMouseoverEvents","_emitDragoverEvents","isCanvasEmit","_onmouseup","_ondragover","_onmousemove","timeWindow","isFirefox","initTimeline","setDOMSize","eventController","getRenderer","getCursor","layerX","layerY","clientInfo","touches","changedTouches","getClientByPoint","MarkerActiveAction","getView","getBinKey","binWidth","binHistogram","binField","binNumber","stackField","originData_copy","rangeWidth","_binWidth","_defaultBinNumber","LN2","sturges","bins","bin","binKey","groupKey","groupKeyBinKey","plotData","Histogram","yFieldName","low_1","q1_1","median_1","q3_1","high_1","outliersPoint","outliersField","outliersStyle","outliersView","_outliers","baseMeta","boxStyle","Box","TREND_COLOR","open_1","close_1","high","low","tickCount","open","close","openAlias","closeAlias","highAlias","lowAlias","baseGeomTooltipOptions","xFieldVal","openVal","closeVal","highVal","lowVal","Stock","liquidStyle","lerp","addFillAttrs","getLineAttrs","addStrokeAttrs","getWaterWavePositions","stage","waveLength","amplitude","getWaterWavePath","waterLevel","phase","curves","_phase","waveRight","radio","minXPoint","waves","clipCircle","waveCount","wave","addWaterWave","Liquid","targetField","rangeField","measureField","ds","rKey","mKey","tKey","flat","rangeGeometry","measureGeometry","targetGeometry","Bullet","lineOptions","areaGeometry","barStyle","Bar","sectorStyle","Rose","seriesData","TinyLine","TinyColumn","TinyArea","RingProgress","getRefXY","preTest","_clearFrame","curShape","_getRefreshRegion","drawFrame","_startDraw","_drawAll","_drawRegion","graph_event_1","toRadian","ver","_sensorPool","cb","sensor","getSensor","removeSensor","dependents_1","tooltip_1","base_1","flatten","deepMix","isBoolean","isFunction","marker_1","G2Plot","year","dom2","datar","util_2","getBBoxByArray","quadratic_1","cubic_1","arc_1","path_2_segments_1","is_number_equal_1","getExtraFromSegmentWithAngle","currentAndPre","currentAndNext","preAndNext","currentAngle","xExtra","yExtra","xAngle","yAngle","segmentsWithAngle","getPathBox","to_radian_1","mod_1","request_animation_frame_1","clear_animation_frame_1","_id","_sensors","_constant","Sensors","sensorId","newId","createSensor","_object","_resizeObserver","ResizeObserver","_debounce","listeners","resizeListener","listener","contentDocument","defaultView","newSensor","disconnect","observe","context_1","matrix_util_1","vec2","firstValue","valuesOfKey"],"mappings":"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","file":"index.bundle.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t2: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([220,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/**\n * 类似 lodash.flow 的方法\n * @param flows\n */\nexport function flow() {\n    var flows = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        flows[_i] = arguments[_i];\n    }\n    return function (param) {\n        return flows.reduce(function (result, f) {\n            return f(result);\n        }, param);\n    };\n}\n//# sourceMappingURL=flow.js.map","/**\n * 类似 lodash.pick 的方法\n * @param obj\n * @param keys\n */\nexport function pick(obj, keys) {\n    var r = {};\n    if (obj !== null && typeof obj === 'object') {\n        keys.forEach(function (key) {\n            var v = obj[key];\n            if (v !== undefined) {\n                r[key] = v;\n            }\n        });\n    }\n    return r;\n}\n//# sourceMappingURL=pick.js.map","import { reduce } from '@antv/util';\n/**\n * 简单的模板引擎，使用方式如下（空格自动忽略）：\n * template('hello, {name}', { name: 'AntV' }); // hello, AntV\n * @param string\n * @param options\n */\nexport function template(source, data) {\n    return reduce(\n    // @ts-ignore\n    data, function (r, v, k) { return r.replace(new RegExp(\"{\\\\s*\" + k + \"\\\\s*}\", 'g'), v); }, source);\n}\n//# sourceMappingURL=template.js.map","/**\n * Simplified from https://github.com/zertosh/invariant.\n */\nimport { __spreadArrays } from \"tslib\";\nexport var LEVEL;\n(function (LEVEL) {\n    LEVEL[\"ERROR\"] = \"error\";\n    LEVEL[\"WARN\"] = \"warn\";\n    LEVEL[\"INFO\"] = \"log\";\n})(LEVEL || (LEVEL = {}));\nvar BRAND = 'AntV/G2Plot';\n/**\n * 获取错误消息\n * @param format\n * @param args\n */\nfunction getMessage(format) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    var argIndex = 0;\n    return BRAND + \": \" + format.replace(/%s/g, function () { return \"\" + args[argIndex++]; });\n}\n/**\n * invariant error\n * @param condition\n * @param format\n * @param args\n */\nexport function invariant(condition, format) {\n    var args = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        args[_i - 2] = arguments[_i];\n    }\n    if (!condition) {\n        var error = new Error(getMessage.apply(void 0, __spreadArrays([format], args)));\n        error.name = BRAND;\n        // error.framesToPop = 1; // we don't care about invariant's own frame\n        throw error;\n    }\n}\n/**\n * 打印语句\n * @param level\n * @param condition\n * @param format\n * @param args\n */\nexport function log(level, condition, format) {\n    var args = [];\n    for (var _i = 3; _i < arguments.length; _i++) {\n        args[_i - 3] = arguments[_i];\n    }\n    if (!condition) {\n        console[level](getMessage.apply(void 0, __spreadArrays([format], args)));\n    }\n}\n//# sourceMappingURL=invariant.js.map","/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nexport function getContainerSize(ele) {\n    if (!ele) {\n        return { width: 0, height: 0 };\n    }\n    var style = getComputedStyle(ele);\n    return {\n        width: (ele.clientWidth || parseInt(style.width, 10)) -\n            parseInt(style.paddingLeft, 10) -\n            parseInt(style.paddingRight, 10),\n        height: (ele.clientHeight || parseInt(style.height, 10)) -\n            parseInt(style.paddingTop, 10) -\n            parseInt(style.paddingBottom, 10),\n    };\n}\n//# sourceMappingURL=dom.js.map","import { reduce } from '@antv/util';\n/**\n * 在 Chart 中查找第一个指定 type 类型的 geometry\n * @param chart\n * @param type\n */\nexport function findGeometry(chart, type) {\n    return chart.geometries.find(function (g) { return g.type === type; });\n}\n/**\n * 获取 Chart 的 所有 elements\n */\nexport function getAllElements(chart) {\n    return reduce(chart.geometries, function (r, geometry) {\n        return r.concat(geometry.elements);\n    }, []);\n}\n//# sourceMappingURL=geometry.js.map","import { __assign } from \"tslib\";\nimport { isType } from '@antv/util';\n/**\n * 兼容 v1 label formatter\n * @param labelOptions\n */\nexport function transformLabel(labelOptions) {\n    if (!isType(labelOptions, 'Object')) {\n        return labelOptions;\n    }\n    var label = __assign({}, labelOptions);\n    if (label.formatter && !label.content) {\n        label.content = label.formatter;\n    }\n    return label;\n}\n//# sourceMappingURL=label.js.map","import { __assign } from \"tslib\";\nimport { isType } from '@antv/util';\n/**\n * tooltip formatter\n * @param {any} tooltipOptions\n * @param {boolean} isPercent\n */\nexport function transformTooltip(tooltipOptions, isPercent) {\n    // customContent 优先级高于 formatter\n    if (!isType(tooltipOptions, 'Object') || (tooltipOptions === null || tooltipOptions === void 0 ? void 0 : tooltipOptions.customContent)) {\n        return tooltipOptions;\n    }\n    var tooltip = __assign({}, tooltipOptions);\n    if (tooltip.formatter || isPercent) {\n        tooltip.customContent = function (value, items) {\n            return getTooltipTemplate({\n                value: value,\n                items: items,\n                formatter: tooltip.formatter,\n                isPercent: isPercent,\n            });\n        };\n    }\n    return tooltip;\n}\n/**\n * formatter value\n * @param {string} value\n * @param {any[]} items\n * @param {Function} formatter\n * @param {boolean} isPercent\n * @returns HTMLElement\n */\nexport function getTooltipTemplate(params) {\n    var value = params.value, items = params.items, formatter = params.formatter, isPercent = params.isPercent;\n    var container = document.createElement('div');\n    container.className = 'g2-tooltip';\n    var title = \"<h4>\" + value + \"</h4>\";\n    var listItem = '';\n    var formatterItem = function (item) {\n        if (formatter) {\n            return formatter(item);\n        }\n        if (isPercent) {\n            return ((item === null || item === void 0 ? void 0 : item.value) * 100).toFixed(2) + '%';\n        }\n        return item === null || item === void 0 ? void 0 : item.value;\n    };\n    items.forEach(function (item) {\n        var _a;\n        listItem += \"<li class=\\\"g2-tooltip-list-item\\\" data-index={index} style=\\\"margin-bottom:4px;display:flex;\\\">\\n        <span style=\\\"background-color:\" + ((_a = item.mappingData) === null || _a === void 0 ? void 0 : _a.color) + \";\\\" class=\\\"g2-tooltip-marker\\\"></span>\\n        <span style=\\\"display:inline-flex;flex:1;justify-content:space-between\\\">\\n        <span style=\\\"margin-right: 16px;\\\">\" + item.name + \":</span><span>\" + formatterItem(item) + \"</span>\\n        </span>\\n    </li>\";\n    });\n    container.innerHTML = title + listItem;\n    return container;\n}\n//# sourceMappingURL=tooltip.js.map","import { __spreadArrays } from \"tslib\";\nimport { each, deepMix } from '@antv/util';\nimport { AXIS_META_CONFIG_KEYS } from '../constant';\nimport { pick, transformTooltip } from '../utils';\n/**\n * 通用 legend 配置, 适用于带 colorField 或 seriesField 的图表\n * @param params\n */\nexport function legend(params) {\n    var chart = params.chart, options = params.options;\n    var legend = options.legend, colorField = options.colorField, seriesField = options.seriesField;\n    if (legend === false) {\n        chart.legend(false);\n    }\n    else if (colorField || seriesField) {\n        chart.legend(colorField || seriesField, legend);\n    }\n    return params;\n}\n/**\n * 通用 tooltip 配置\n * @param params\n */\nexport function tooltip(params) {\n    var chart = params.chart, options = params.options;\n    var tooltip = options.tooltip, isPercent = options.isPercent;\n    if (tooltip !== undefined) {\n        chart.tooltip(transformTooltip(tooltip, isPercent));\n    }\n    return params;\n}\n/**\n * Interaction 配置\n * @param params\n */\nexport function interaction(params) {\n    var chart = params.chart, options = params.options;\n    var interactions = options.interactions;\n    each(interactions, function (i) {\n        if (i.enable === false) {\n            chart.removeInteraction(i.type);\n        }\n        else {\n            chart.interaction(i.type, i.cfg || {});\n        }\n    });\n    return params;\n}\n/**\n * 动画\n * @param params\n */\nexport function animation(params) {\n    var chart = params.chart, options = params.options;\n    var animation = options.animation;\n    // 所有的 Geometry 都使用同一动画（各个图形如有区别，自行覆盖）\n    each(chart.geometries, function (g) {\n        g.animate(animation);\n    });\n    return params;\n}\n/**\n * 设置全局主题配置\n * @param params\n */\nexport function theme(params) {\n    var chart = params.chart, options = params.options;\n    var theme = options.theme;\n    // 存在主题才设置主题\n    if (theme) {\n        chart.theme(theme);\n    }\n    return params;\n}\n/**\n * 状态 state 配置\n * @param params\n */\nexport function state(params) {\n    var chart = params.chart, options = params.options;\n    var state = options.state;\n    if (state) {\n        each(chart.geometries, function (geometry) {\n            geometry.state(state);\n        });\n    }\n    return params;\n}\n/**\n * 处理缩略轴的 adaptor\n * @param params\n */\nexport function slider(params) {\n    var chart = params.chart, options = params.options;\n    var slider = options.slider;\n    chart.option('slider', slider);\n    return params;\n}\n/**\n * 处理缩略轴的 adaptor\n * @param params\n */\nexport function scrollbar(params) {\n    var chart = params.chart, options = params.options;\n    var scrollbar = options.scrollbar;\n    chart.option('scrollbar', scrollbar);\n    return params;\n}\n/**\n * scale 的 adaptor\n * @param axes\n */\nexport function scale(axes, meta) {\n    return function (params) {\n        var chart = params.chart, options = params.options;\n        // 1. 轴配置中的 scale 信息\n        var scales = {};\n        each(axes, function (axis, field) {\n            scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n        });\n        // 2. meta 直接是 scale 的信息\n        scales = deepMix({}, meta, options.meta, scales);\n        chart.scale(scales);\n        return params;\n    };\n}\n/**\n * annotation 配置\n * @param params\n */\nexport function annotation(annotationOptions) {\n    return function (params) {\n        var chart = params.chart, options = params.options;\n        var annotationController = chart.getController('annotation');\n        /** 自定义 annotation */\n        each(__spreadArrays((options.annotations || []), (annotationOptions || [])), function (annotationOption) {\n            // @ts-ignore\n            annotationController.annotation(annotationOption);\n        });\n        return params;\n    };\n}\n//# sourceMappingURL=common.js.map","import { __assign, __extends } from \"tslib\";\nimport { Chart } from '@antv/g2';\nimport { deepMix, each } from '@antv/util';\nimport EE from '@antv/event-emitter';\nimport { bind } from 'size-sensor';\nimport { getContainerSize, getAllElements } from '../utils';\n/**\n * 所有 plot 的基类\n */\nvar Plot = /** @class */ (function (_super) {\n    __extends(Plot, _super);\n    function Plot(container, options) {\n        var _this = _super.call(this) || this;\n        /** plot 类型名称 */\n        _this.type = 'base';\n        _this.container = typeof container === 'string' ? document.getElementById(container) : container;\n        _this.options = deepMix({}, _this.getDefaultOptions(options), options);\n        _this.createG2();\n        _this.bindEvents();\n        return _this;\n    }\n    /**\n     * 创建 G2 实例\n     */\n    Plot.prototype.createG2 = function () {\n        var _a = this.options, width = _a.width, height = _a.height, padding = _a.padding, appendPadding = _a.appendPadding, renderer = _a.renderer, pixelRatio = _a.pixelRatio, syncViewPadding = _a.syncViewPadding, supportCSSTransform = _a.supportCSSTransform;\n        this.chart = new Chart(__assign(__assign({ container: this.container, autoFit: false }, this.getChartSize(width, height)), { padding: padding,\n            appendPadding: appendPadding,\n            renderer: renderer,\n            pixelRatio: pixelRatio, localRefresh: false, // 默认关闭，目前 G 还有一些位置问题，难以排查！\n            syncViewPadding: syncViewPadding,\n            supportCSSTransform: supportCSSTransform }));\n    };\n    /**\n     * 计算默认的 chart 大小。逻辑简化：如果存在 width 或 height，则直接使用，否则使用容器大小\n     * @param width\n     * @param height\n     */\n    Plot.prototype.getChartSize = function (width, height) {\n        var chartSize = getContainerSize(this.container);\n        return { width: width || chartSize.width, height: height || chartSize.height };\n    };\n    /**\n     * 绑定代理所有 G2 的事件\n     */\n    Plot.prototype.bindEvents = function () {\n        var _this = this;\n        if (this.chart) {\n            this.chart.on('*', function (e) {\n                if (e === null || e === void 0 ? void 0 : e.type) {\n                    _this.emit(e.type, e);\n                }\n            });\n        }\n    };\n    /**\n     * 获取默认的 options 配置项\n     * 每个组件都可以复写\n     */\n    Plot.prototype.getDefaultOptions = function (options) {\n        return {\n            renderer: 'canvas',\n            tooltip: {\n                shared: true,\n                showMarkers: false,\n                offset: 20,\n            },\n            xAxis: {\n                nice: true,\n                label: {\n                    autoRotate: true,\n                    autoHide: true,\n                },\n            },\n            yAxis: {\n                nice: true,\n                label: {\n                    autoHide: true,\n                    autoRotate: false,\n                },\n            },\n            animation: true,\n        };\n    };\n    /**\n     * 绘制\n     */\n    Plot.prototype.render = function () {\n        // 暴力处理，先清空再渲染，需要 G2 层自行做好更新渲染\n        this.chart.clear();\n        // 因为子 view 会继承父 view 的 options 配置（包括 legend，所以会导致 legend 重复创建）\n        // 所以这里给 chart 实例的 options 配置清空\n        // 最好的解法是在 G2 view.clear 方法的时候，重置 options 配置。或者提供方法去 resetOptions\n        // #1684 理论上在多 view 图形上，只要存在 custom legend，都存在类似问题（子弹图、双轴图）\n        // @ts-ignore\n        this.chart.options = {\n            data: [],\n            animate: true,\n        };\n        this.chart.views = []; // 删除已有的 views\n        // 执行 adaptor\n        this.execAdaptor();\n        // 渲染\n        this.chart.render();\n        // 绑定\n        this.bindSizeSensor();\n    };\n    /**\n     * 更新配置\n     * @param options\n     */\n    Plot.prototype.update = function (options) {\n        this.options = options;\n        this.render();\n    };\n    /**\n     * 设置状态\n     * @param type 状态类型，支持 'active' | 'inactive' | 'selected' 三种\n     * @param conditions 条件，支持数组\n     * @param status 是否激活，默认 true\n     */\n    Plot.prototype.setState = function (type, condition, status) {\n        if (status === void 0) { status = true; }\n        var elements = getAllElements(this.chart);\n        each(elements, function (ele) {\n            if (condition(ele.getData())) {\n                ele.setState(type, status);\n            }\n        });\n    };\n    /**\n     * 获取状态\n     */\n    Plot.prototype.getStates = function () {\n        var elements = getAllElements(this.chart);\n        var stateObjects = [];\n        each(elements, function (element) {\n            var data = element.getData();\n            var states = element.getStates();\n            each(states, function (state) {\n                stateObjects.push({ data: data, state: state, geometry: element.geometry, element: element });\n            });\n        });\n        return stateObjects;\n    };\n    /**\n     * 更新数据\n     * @param options\n     */\n    Plot.prototype.changeData = function (data) {\n        // 临时方案，会在 G2 做处理\n        this.update(__assign(__assign({}, this.options), { data: data }));\n        // this.chart.changeData(data);\n    };\n    /**\n     * 修改画布大小\n     * @param width\n     * @param height\n     */\n    Plot.prototype.changeSize = function (width, height) {\n        this.chart.changeSize(width, height);\n    };\n    /**\n     * 销毁\n     */\n    Plot.prototype.destroy = function () {\n        // 取消 size-sensor 的绑定\n        this.unbindSizeSensor();\n        // G2 的销毁\n        this.chart.destroy();\n        // 清空已经绑定的事件\n        this.off();\n    };\n    /**\n     * 执行 adaptor 操作\n     */\n    Plot.prototype.execAdaptor = function () {\n        var adaptor = this.getSchemaAdaptor();\n        var padding = this.options.padding;\n        // 更新 padding\n        this.chart.padding = padding;\n        // 转化成 G2 API\n        adaptor({\n            chart: this.chart,\n            options: this.options,\n        });\n    };\n    /**\n     * 当图表容器大小变化的时候，执行的函数\n     */\n    Plot.prototype.triggerResize = function () {\n        this.chart.forceFit();\n    };\n    /**\n     * 绑定 dom 容器大小变化的事件\n     */\n    Plot.prototype.bindSizeSensor = function () {\n        var _this = this;\n        if (this.unbind) {\n            return;\n        }\n        var _a = this.options.autoFit, autoFit = _a === void 0 ? true : _a;\n        if (autoFit) {\n            this.unbind = bind(this.container, function () {\n                _this.triggerResize();\n            });\n        }\n    };\n    /**\n     * 取消绑定\n     */\n    Plot.prototype.unbindSizeSensor = function () {\n        if (this.unbind) {\n            this.unbind();\n            this.unbind = undefined;\n        }\n    };\n    return Plot;\n}(EE));\nexport { Plot };\n//# sourceMappingURL=plot.js.map","export var SHAPE_TO_TAGS = {\n    rect: 'path',\n    circle: 'circle',\n    line: 'line',\n    path: 'path',\n    marker: 'path',\n    text: 'text',\n    polyline: 'polyline',\n    polygon: 'polygon',\n    image: 'image',\n    ellipse: 'ellipse',\n    dom: 'foreignObject',\n};\nexport var SVG_ATTR_MAP = {\n    opacity: 'opacity',\n    fillStyle: 'fill',\n    fill: 'fill',\n    fillOpacity: 'fill-opacity',\n    strokeStyle: 'stroke',\n    strokeOpacity: 'stroke-opacity',\n    stroke: 'stroke',\n    x: 'x',\n    y: 'y',\n    r: 'r',\n    rx: 'rx',\n    ry: 'ry',\n    width: 'width',\n    height: 'height',\n    x1: 'x1',\n    x2: 'x2',\n    y1: 'y1',\n    y2: 'y2',\n    lineCap: 'stroke-linecap',\n    lineJoin: 'stroke-linejoin',\n    lineWidth: 'stroke-width',\n    lineDash: 'stroke-dasharray',\n    lineDashOffset: 'stroke-dashoffset',\n    miterLimit: 'stroke-miterlimit',\n    font: 'font',\n    fontSize: 'font-size',\n    fontStyle: 'font-style',\n    fontVariant: 'font-variant',\n    fontWeight: 'font-weight',\n    fontFamily: 'font-family',\n    startArrow: 'marker-start',\n    endArrow: 'marker-end',\n    path: 'd',\n    class: 'class',\n    id: 'id',\n    style: 'style',\n    preserveAspectRatio: 'preserveAspectRatio',\n};\nexport var EVENTS = [\n    'click',\n    'mousedown',\n    'mouseup',\n    'dblclick',\n    'contextmenu',\n    'mouseenter',\n    'mouseleave',\n    'mouseover',\n    'mouseout',\n    'mousemove',\n    'wheel',\n];\n//# sourceMappingURL=constant.js.map","import { __assign, __spreadArrays } from \"tslib\";\nimport { uniq, isFunction, isObject, isString, isNumber } from '@antv/util';\n/**\n * 获得映射的字段列表\n * @param options\n * @param field\n */\nexport function getMappingField(o, field) {\n    var xField = o.xField, yField = o.yField, colorField = o.colorField, shapeField = o.shapeField, sizeField = o.sizeField, styleField = o.styleField, _a = o.rawFields, rawFields = _a === void 0 ? [] : _a;\n    var fields = [];\n    // 因为 color 会影响到数据分组，以及最后的图形映射。所以导致 bar 图中的 widthRatio 设置不生效\n    // 所以对于 color 字段，仅仅保留 colorField 好了！ + rawFields\n    // shape, size 同理\n    if (field === 'color') {\n        fields = __spreadArrays([colorField || xField], rawFields);\n    }\n    else if (field === 'shape') {\n        fields = __spreadArrays([shapeField || xField], rawFields);\n    }\n    else if (field === 'size') {\n        fields = __spreadArrays([sizeField || xField], rawFields);\n    }\n    else {\n        fields = __spreadArrays([xField, yField, colorField, shapeField, sizeField, styleField], rawFields);\n        // 一定能找到的！\n        var idx = ['x', 'y', 'color', 'shape', 'size', 'style'].indexOf(field);\n        var f = fields[idx];\n        // 删除当前字段\n        fields.splice(idx, 1);\n        // 插入到第一个\n        fields.unshift(f);\n    }\n    return uniq(fields.filter(function (f) { return !!f; }));\n}\n/**\n * 获得映射函数\n * @param mappingFields\n * @param func\n */\nexport function getMappingFunction(mappingFields, func) {\n    // 返回函数\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var params = {};\n        mappingFields.forEach(function (f, idx) {\n            params[f] = args[idx];\n        });\n        // 删除 undefined\n        delete params['undefined'];\n        return func(params);\n    };\n}\n/**\n * 通用 geometry 的配置处理的 adaptor\n * @param params\n */\nexport function geometry(params) {\n    var chart = params.chart, options = params.options;\n    var type = options.type, args = options.args, mapping = options.mapping, xField = options.xField, yField = options.yField, colorField = options.colorField, shapeField = options.shapeField, sizeField = options.sizeField, rawFields = options.rawFields;\n    // 如果没有 mapping 信息，那么直接返回\n    if (!mapping) {\n        return params;\n    }\n    var color = mapping.color, shape = mapping.shape, size = mapping.size, style = mapping.style;\n    // 创建 geometry\n    var geometry = chart[type](args).position(xField + \"*\" + yField);\n    /**\n     * color 的几种情况\n     * g.color('red');\n     * g.color('color', ['red', 'blue']);\n     * g.color('x', (x, y) => 'red');\n     * g.color('color', (color, x, y) => 'red');\n     */\n    if (isString(color)) {\n        colorField ? geometry.color(colorField, color) : geometry.color(color);\n    }\n    else if (isFunction(color)) {\n        var mappingFields = getMappingField(options, 'color');\n        geometry.color(mappingFields.join('*'), getMappingFunction(mappingFields, color));\n    }\n    else {\n        colorField && geometry.color(colorField, color);\n    }\n    /**\n     * shape 的几种情况\n     * g.shape('rect');\n     * g.shape('shape', ['rect', 'circle']);\n     * g.shape('x*y', (x, y) => 'rect');\n     * g.shape('shape*x*y', (shape, x, y) => 'rect');\n     */\n    if (isString(shape)) {\n        shapeField ? geometry.shape(shapeField, [shape]) : geometry.shape(shape); // [shape] 需要在 G2 做掉\n    }\n    else if (isFunction(shape)) {\n        var mappingFields = getMappingField(options, 'shape');\n        geometry.shape(mappingFields.join('*'), getMappingFunction(mappingFields, shape));\n    }\n    else {\n        shapeField && geometry.shape(shapeField, shape);\n    }\n    /**\n     * size 的几种情况\n     * g.size(10);\n     * g.size('size', [10, 20]);\n     * g.size('x*y', (x, y) => 10);\n     * g.color('size*x*y', (size, x, y) => 1-);\n     */\n    if (isNumber(size)) {\n        sizeField ? geometry.size(sizeField, size) : geometry.size(size);\n    }\n    else if (isFunction(size)) {\n        var mappingFields = getMappingField(options, 'size');\n        geometry.size(mappingFields.join('*'), getMappingFunction(mappingFields, size));\n    }\n    else {\n        sizeField && geometry.size(sizeField, size);\n    }\n    /**\n     * style 的几种情况\n     * g.style({ fill: 'red' });\n     * g.style('x*y*color', (x, y, color) => ({ fill: 'red' }));\n     */\n    if (isFunction(style)) {\n        var mappingFields = getMappingField(options, 'style');\n        geometry.style(mappingFields.join('*'), getMappingFunction(mappingFields, style));\n    }\n    else if (isObject(style)) {\n        geometry.style(style);\n    }\n    // 防止因为 x y 字段做了通道映射，导致生成图例\n    [xField, yField]\n        .filter(function (f) { return f !== colorField; })\n        .forEach(function (f) {\n        chart.legend(f, false);\n    });\n    return __assign(__assign({}, params), { \n        // geometry adaptor 额外需要做的事情，就是将创建好的 geometry 返回到下一层 adaptor，防止通过 type 查询的时候容易误判\n        ext: { geometry: geometry } });\n}\n//# sourceMappingURL=base.js.map","import { __assign } from \"tslib\";\nimport { deepMix } from '@antv/util';\nimport { geometry } from './base';\n/**\n * area geometry 的配置处理\n * @param params\n */\nexport function area(params) {\n    var options = params.options;\n    var area = options.area, seriesField = options.seriesField, smooth = options.smooth;\n    // 如果存在才处理\n    return area\n        ? geometry(deepMix({}, params, {\n            options: {\n                type: 'area',\n                colorField: seriesField,\n                mapping: __assign({ shape: smooth ? 'smooth' : 'area' }, area),\n            },\n        }))\n        : params;\n}\n//# sourceMappingURL=area.js.map","import { __assign } from \"tslib\";\nimport { deepMix } from '@antv/util';\nimport { geometry } from './base';\n/**\n * line 辅助点的配置处理\n * @param params\n */\nexport function line(params) {\n    var options = params.options;\n    var line = options.line, stepType = options.stepType, seriesField = options.seriesField, smooth = options.smooth, connectNulls = options.connectNulls;\n    // 如果存在才处理\n    return line\n        ? geometry(deepMix({}, params, {\n            options: {\n                type: 'line',\n                colorField: seriesField,\n                mapping: __assign({ shape: stepType || (smooth ? 'smooth' : 'line') }, line),\n                args: { connectNulls: connectNulls },\n            },\n        }))\n        : params;\n}\n//# sourceMappingURL=line.js.map","import { deepMix } from '@antv/util';\nimport { geometry } from './base';\n/**\n * point 辅助点的配置处理\n * @param params\n */\nexport function point(params) {\n    var options = params.options;\n    var point = options.point, seriesField = options.seriesField;\n    return point\n        ? geometry(deepMix({}, params, {\n            options: {\n                colorField: seriesField,\n                shapeField: seriesField,\n                type: 'point',\n                mapping: point,\n            },\n        }))\n        : params;\n}\n//# sourceMappingURL=point.js.map","import { __assign } from \"tslib\";\nimport { deepMix, isNil } from '@antv/util';\nimport { geometry } from './base';\n/**\n * 柱形图其他的 adaptor\n * @param params\n */\nfunction otherAdaptor(params) {\n    var chart = params.chart, options = params.options, ext = params.ext;\n    var seriesField = options.seriesField, isGroup = options.isGroup, isStack = options.isStack, marginRatio = options.marginRatio, widthRatio = options.widthRatio;\n    var g = ext.geometry;\n    /**\n     * adjust\n     */\n    if (seriesField) {\n        // group\n        if (isGroup) {\n            g.adjust({\n                type: 'dodge',\n                marginRatio: marginRatio,\n            });\n        }\n        else if (isStack) {\n            // stack\n            g.adjust({\n                type: 'stack',\n                marginRatio: marginRatio,\n            });\n        }\n    }\n    // widthRatio\n    if (!isNil(widthRatio)) {\n        chart.theme({\n            columnWidthRatio: widthRatio,\n        });\n    }\n    return params;\n}\nexport function interval(params) {\n    var options = params.options;\n    var interval = options.interval, seriesField = options.seriesField;\n    // 保障一定要存在 interval 映射\n    var ext = (interval\n        ? geometry(deepMix({}, params, {\n            options: {\n                type: 'interval',\n                colorField: seriesField,\n                mapping: interval,\n            },\n        }))\n        : params).ext;\n    return otherAdaptor(__assign(__assign({}, params), { ext: ext }));\n}\n//# sourceMappingURL=interval.js.map","import { deepMix } from '@antv/util';\nimport { geometry } from './base';\n/**\n * polygon 的配置处理\n * @param params\n */\nexport function polygon(params) {\n    var options = params.options;\n    var polygon = options.polygon, seriesField = options.seriesField;\n    return polygon\n        ? geometry(deepMix({}, params, {\n            options: {\n                colorField: seriesField,\n                type: 'polygon',\n                mapping: polygon,\n            },\n        }))\n        : params;\n}\n//# sourceMappingURL=polygon.js.map","export function getPixelRatio() {\n    return window ? window.devicePixelRatio : 1;\n}\n/**\n * 两点之间的距离\n * @param {number} x1 起始点 x\n * @param {number} y1 起始点 y\n * @param {number} x2 结束点 x\n * @param {number} y2 结束点 y\n */\nexport function distance(x1, y1, x2, y2) {\n    var dx = x1 - x2;\n    var dy = y1 - y2;\n    return Math.sqrt(dx * dx + dy * dy);\n}\n/**\n * 是否在包围盒内\n * @param {number} minX   包围盒开始的点 x\n * @param {number} minY   包围盒开始的点 y\n * @param {number} width  宽度\n * @param {number} height 高度\n * @param {[type]} x      检测点的 x\n * @param {[type]} y      监测点的 y\n */\nexport function inBox(minX, minY, width, height, x, y) {\n    return x >= minX && x <= minX + width && y >= minY && y <= minY + height;\n}\nexport function intersectRect(box1, box2) {\n    return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n}\n// 合并两个区域\nexport function mergeRegion(region1, region2) {\n    if (!region1 || !region2) {\n        return region1 || region2;\n    }\n    return {\n        minX: Math.min(region1.minX, region2.minX),\n        minY: Math.min(region1.minY, region2.minY),\n        maxX: Math.max(region1.maxX, region2.maxX),\n        maxY: Math.max(region1.maxY, region2.maxY),\n    };\n}\n/**\n * 判断两个点是否重合，点坐标的格式为 [x, y]\n * @param {Array} point1 第一个点\n * @param {Array} point2 第二个点\n */\nexport function isSamePoint(point1, point2) {\n    return point1[0] === point2[0] && point1[1] === point2[1];\n}\nexport { default as isNil } from '@antv/util/lib/is-nil';\nexport { default as isString } from '@antv/util/lib/is-string';\nexport { default as isFunction } from '@antv/util/lib/is-function';\nexport { default as isArray } from '@antv/util/lib/is-array';\nexport { default as each } from '@antv/util/lib/each';\nexport { default as toRadian } from '@antv/util/lib/to-radian';\nexport { default as mod } from '@antv/util/lib/mod';\nexport { default as isNumberEqual } from '@antv/util/lib/is-number-equal';\nexport { default as requestAnimationFrame } from '@antv/util/lib/request-animation-frame';\nexport { default as clearAnimationFrame } from '@antv/util/lib/clear-animation-frame';\n//# sourceMappingURL=util.js.map","/**\n * view 中三层 group 分层 key\n */\nexport var LAYER;\n(function (LAYER) {\n    /** 前景层 */\n    LAYER[\"FORE\"] = \"fore\";\n    /** 中间层 */\n    LAYER[\"MID\"] = \"mid\";\n    /** 背景层 */\n    LAYER[\"BG\"] = \"bg\";\n})(LAYER || (LAYER = {}));\n/**\n * 组件在画布的布局方位 12 方位\n */\nexport var DIRECTION;\n(function (DIRECTION) {\n    DIRECTION[\"TOP\"] = \"top\";\n    DIRECTION[\"TOP_LEFT\"] = \"top-left\";\n    DIRECTION[\"TOP_RIGHT\"] = \"top-right\";\n    DIRECTION[\"RIGHT\"] = \"right\";\n    DIRECTION[\"RIGHT_TOP\"] = \"right-top\";\n    DIRECTION[\"RIGHT_BOTTOM\"] = \"right-bottom\";\n    DIRECTION[\"LEFT\"] = \"left\";\n    DIRECTION[\"LEFT_TOP\"] = \"left-top\";\n    DIRECTION[\"LEFT_BOTTOM\"] = \"left-bottom\";\n    DIRECTION[\"BOTTOM\"] = \"bottom\";\n    DIRECTION[\"BOTTOM_LEFT\"] = \"bottom-left\";\n    DIRECTION[\"BOTTOM_RIGHT\"] = \"bottom-right\";\n    DIRECTION[\"RADIUS\"] = \"radius\";\n    DIRECTION[\"CIRCLE\"] = \"circle\";\n    // no direction information\n    DIRECTION[\"NONE\"] = \"none\";\n})(DIRECTION || (DIRECTION = {}));\n/**\n * 组件的类型，可能会影响到布局算法\n */\nexport var COMPONENT_TYPE;\n(function (COMPONENT_TYPE) {\n    /** axis 组件 */\n    COMPONENT_TYPE[\"AXIS\"] = \"axis\";\n    /** grid 组件 */\n    COMPONENT_TYPE[\"GRID\"] = \"grid\";\n    /** legend 组件 */\n    COMPONENT_TYPE[\"LEGEND\"] = \"legend\";\n    /** tooltip 组件 */\n    COMPONENT_TYPE[\"TOOLTIP\"] = \"tooltip\";\n    /** annotation 组件 */\n    COMPONENT_TYPE[\"ANNOTATION\"] = \"annotation\";\n    /** 缩略轴组件 */\n    COMPONENT_TYPE[\"SLIDER\"] = \"slider\";\n    /** 滚动条组件 */\n    COMPONENT_TYPE[\"SCROLLBAR\"] = \"scrollbar\";\n    /** 其他组件，自定义组件 */\n    COMPONENT_TYPE[\"OTHER\"] = \"other\";\n})(COMPONENT_TYPE || (COMPONENT_TYPE = {}));\n/**\n * 三层 group 的 z index\n */\nexport var GROUP_Z_INDEX = {\n    FORE: 3,\n    MID: 2,\n    BG: 1,\n};\n/**\n * View 的生命周期阶段（和 3.x 的生命周期略有不同）\n * 我们需要先确定在那写场景需要用到生命周期，如果只是为了在生命周期插入一下什么组件之类的，那么在现有架构就是不需要的\n */\nexport var VIEW_LIFE_CIRCLE;\n(function (VIEW_LIFE_CIRCLE) {\n    VIEW_LIFE_CIRCLE[\"BEFORE_RENDER\"] = \"beforerender\";\n    VIEW_LIFE_CIRCLE[\"AFTER_RENDER\"] = \"afterrender\";\n    VIEW_LIFE_CIRCLE[\"BEFORE_PAINT\"] = \"beforepaint\";\n    VIEW_LIFE_CIRCLE[\"AFTER_PAINT\"] = \"afterpaint\";\n    VIEW_LIFE_CIRCLE[\"BEFORE_CHANGE_DATA\"] = \"beforechangedata\";\n    VIEW_LIFE_CIRCLE[\"AFTER_CHANGE_DATA\"] = \"afterchangedata\";\n    VIEW_LIFE_CIRCLE[\"BEFORE_CLEAR\"] = \"beforeclear\";\n    VIEW_LIFE_CIRCLE[\"AFTER_CLEAR\"] = \"afterclear\";\n    VIEW_LIFE_CIRCLE[\"BEFORE_DESTROY\"] = \"beforedestroy\";\n    VIEW_LIFE_CIRCLE[\"BEFORE_CHANGE_SIZE\"] = \"beforechangesize\";\n    VIEW_LIFE_CIRCLE[\"AFTER_CHANGE_SIZE\"] = \"afterchangesize\";\n})(VIEW_LIFE_CIRCLE || (VIEW_LIFE_CIRCLE = {}));\n/**\n * geometry 的生命周期\n */\nexport var GEOMETRY_LIFE_CIRCLE;\n(function (GEOMETRY_LIFE_CIRCLE) {\n    GEOMETRY_LIFE_CIRCLE[\"BEFORE_DRAW_ANIMATE\"] = \"beforeanimate\";\n    GEOMETRY_LIFE_CIRCLE[\"AFTER_DRAW_ANIMATE\"] = \"afteranimate\";\n})(GEOMETRY_LIFE_CIRCLE || (GEOMETRY_LIFE_CIRCLE = {}));\n/**\n * 绘图区的事件列表\n */\nexport var PLOT_EVENTS;\n(function (PLOT_EVENTS) {\n    // mouse 事件\n    PLOT_EVENTS[\"MOUSE_ENTER\"] = \"plot:mouseenter\";\n    PLOT_EVENTS[\"MOUSE_DOWN\"] = \"plot:mousedown\";\n    PLOT_EVENTS[\"MOUSE_MOVE\"] = \"plot:mousemove\";\n    PLOT_EVENTS[\"MOUSE_UP\"] = \"plot:mouseup\";\n    PLOT_EVENTS[\"MOUSE_LEAVE\"] = \"plot:mouseleave\";\n    // 移动端事件\n    PLOT_EVENTS[\"TOUCH_START\"] = \"plot:touchstart\";\n    PLOT_EVENTS[\"TOUCH_MOVE\"] = \"plot:touchmove\";\n    PLOT_EVENTS[\"TOUCH_END\"] = \"plot:touchend\";\n    PLOT_EVENTS[\"TOUCH_CANCEL\"] = \"plot:touchcancel\";\n    // click 事件\n    PLOT_EVENTS[\"CLICK\"] = \"plot:click\";\n    PLOT_EVENTS[\"DBLCLICK\"] = \"plot:dblclick\";\n    PLOT_EVENTS[\"CONTEXTMENU\"] = \"plot:contextmenu\";\n    PLOT_EVENTS[\"LEAVE\"] = \"plot:leave\";\n    PLOT_EVENTS[\"ENTER\"] = \"plot:enter\";\n})(PLOT_EVENTS || (PLOT_EVENTS = {}));\n/**\n * Element 图形交互状态\n */\nexport var ELEMENT_STATE;\n(function (ELEMENT_STATE) {\n    ELEMENT_STATE[\"ACTIVE\"] = \"active\";\n    ELEMENT_STATE[\"INACTIVE\"] = \"inactive\";\n    ELEMENT_STATE[\"SELECTED\"] = \"selected\";\n    ELEMENT_STATE[\"DEFAULT\"] = \"default\";\n})(ELEMENT_STATE || (ELEMENT_STATE = {}));\n/** 参与分组的图形属性名 */\nexport var GROUP_ATTRS = ['color', 'shape', 'size'];\n/** 存储原始数据的字段名 */\nexport var FIELD_ORIGIN = '_origin';\n/** 最小的图表宽度 */\nexport var MIN_CHART_WIDTH = 1;\n/** 最小的图表高度 */\nexport var MIN_CHART_HEIGHT = 1;\n/** 辅助组件占图表的尺寸的最大比例：如图表上方的图例最多占图表高度的25% */\nexport var COMPONENT_MAX_VIEW_PERCENTAGE = 0.25;\n//# sourceMappingURL=constant.js.map","var ENGINES = {};\n/**\n * 通过名字获取渲染 engine\n * @param name 渲染引擎名字\n * @returns G engine\n */\nexport function getEngine(name) {\n    var G = ENGINES[name];\n    if (!G) {\n        throw new Error(\"G engine '\" + name + \"' is not exist, please register it at first.\");\n    }\n    return G;\n}\n/**\n * 注册渲染引擎\n * @param name\n * @param engine\n */\nexport function registerEngine(name, engine) {\n    ENGINES[name] = engine;\n}\n//# sourceMappingURL=index.js.map","import { MIN_CHART_HEIGHT, MIN_CHART_WIDTH } from '../constant';\n/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nfunction getElementSize(ele) {\n    var style = getComputedStyle(ele);\n    return {\n        width: (ele.clientWidth || parseInt(style.width, 10)) -\n            parseInt(style.paddingLeft, 10) -\n            parseInt(style.paddingRight, 10),\n        height: (ele.clientHeight || parseInt(style.height, 10)) -\n            parseInt(style.paddingTop, 10) -\n            parseInt(style.paddingBottom, 10),\n    };\n}\n/**\n * is value a valid number\n * @param v the input value\n * @returns whether it is a number\n */\nfunction isNumber(v) {\n    return typeof v === 'number' && !isNaN(v);\n}\n/**\n * @ignore\n * calculate the chart size\n * @param ele DOM element\n * @param autoFit should auto fit\n * @param width chart width which is set by user\n * @param height chart height which is set by user\n * @returns the chart width and height\n */\nexport function getChartSize(ele, autoFit, width, height) {\n    var w = width;\n    var h = height;\n    if (autoFit) {\n        var size = getElementSize(ele);\n        w = size.width ? size.width : w;\n        h = size.height ? size.height : h;\n    }\n    return {\n        width: Math.max(isNumber(w) ? w : MIN_CHART_WIDTH, MIN_CHART_WIDTH),\n        height: Math.max(isNumber(h) ? h : MIN_CHART_HEIGHT, MIN_CHART_HEIGHT),\n    };\n}\n/**\n * @ignore\n * remove html element from its parent\n * @param dom\n */\nexport function removeDom(dom) {\n    var parent = dom.parentNode;\n    if (parent) {\n        parent.removeChild(dom);\n    }\n}\n/** @ignore */\nexport { createDom, modifyCSS } from '@antv/dom-util';\n//# sourceMappingURL=dom.js.map","import { __extends } from \"tslib\";\nimport EE from '@antv/event-emitter';\n/**\n * G2 Chart、View、Geometry 以及 Element 等的基类，提供事件以及一些通用的方法。\n */\nvar Base = /** @class */ (function (_super) {\n    __extends(Base, _super);\n    function Base(cfg) {\n        var _this = _super.call(this) || this;\n        /** 标识对象是否已销毁 */\n        _this.destroyed = false;\n        var _a = cfg.visible, visible = _a === void 0 ? true : _a;\n        _this.visible = visible;\n        return _this;\n    }\n    /**\n     * 显示。\n     */\n    Base.prototype.show = function () {\n        var visible = this.visible;\n        if (!visible) {\n            this.changeVisible(true);\n        }\n    };\n    /**\n     * 隐藏。\n     */\n    Base.prototype.hide = function () {\n        var visible = this.visible;\n        if (visible) {\n            this.changeVisible(false);\n        }\n    };\n    /**\n     * 销毁。\n     */\n    Base.prototype.destroy = function () {\n        this.off();\n        this.destroyed = true;\n    };\n    /**\n     * 显示或者隐藏。\n     * @param visible\n     * @returns\n     */\n    Base.prototype.changeVisible = function (visible) {\n        if (this.visible === visible) {\n            return;\n        }\n        this.visible = visible;\n    };\n    return Base;\n}(EE));\nexport default Base;\n//# sourceMappingURL=base.js.map","/* 依赖的模块，在这里统一引入，方便打包优化 */\nexport { Event, AbstractGroup, AbstractShape } from '@antv/g-base';\n// adjust\nexport { registerAdjust, getAdjust, Adjust } from '@antv/adjust/lib/factory';\n// attr\nexport { getAttribute, Attribute } from '@antv/attr/lib/factory';\nexport { Color } from '@antv/attr';\n// coordinate\nexport { getCoordinate, registerCoordinate, Coordinate } from '@antv/coord';\n// scale\nexport { getScale, registerScale, Scale } from '@antv/scale';\n// component\nimport { Annotation, Axis, Component, Crosshair, Grid, GroupComponent, HtmlComponent, Legend, Slider, Tooltip, Scrollbar, } from '@antv/component';\nexport { HtmlComponent, GroupComponent, Component, Crosshair };\nexport { Annotation };\n// axis\nvar LineAxis = Axis.Line, CircleAxis = Axis.Circle;\nexport { LineAxis, CircleAxis };\n// grid\nvar LineGrid = Grid.Line, CircleGrid = Grid.Circle;\nexport { LineGrid, CircleGrid };\n// legend\nvar CategoryLegend = Legend.Category, ContinuousLegend = Legend.Continuous;\nexport { CategoryLegend, ContinuousLegend };\n// Tooltip\nvar HtmlTooltip = Tooltip.Html;\nexport { HtmlTooltip };\n// Slider\nexport { Slider };\n// Scrollbar\nexport { Scrollbar };\n//# sourceMappingURL=dependents.js.map","import { __assign } from \"tslib\";\nimport { firstValue, get, isEmpty, isNil, isNumber, isString, valuesOfKey } from '@antv/util';\nimport { getScale } from '../dependents';\nvar dateRegex = /^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1(?:29|30)|(?:0?[13578]|1[02])\\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\\2(?:29))(\\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;\n/**\n * 获取字段对应数据的类型\n * @param field 数据字段名\n * @param data 数据源\n * @returns default type 返回对应的数据类型\n */\nfunction getDefaultType(value) {\n    var type = 'linear';\n    if (dateRegex.test(value)) {\n        type = 'time';\n    }\n    else if (isString(value)) {\n        type = 'cat';\n    }\n    return type;\n}\n/**\n * @ignore\n * 为指定的 `field` 字段数据创建 scale\n * @param field 字段名\n * @param [data] 数据集，可为空\n * @param [scaleDef] 列定义，可为空\n * @returns scale 返回创建的 Scale 实例\n */\nexport function createScaleByField(field, data, scaleDef) {\n    var validData = data || [];\n    if (isNumber(field) || (isNil(firstValue(validData, field)) && isEmpty(scaleDef))) {\n        var Identity = getScale('identity');\n        return new Identity({\n            field: field.toString(),\n            values: [field],\n        });\n    }\n    var values = valuesOfKey(validData, field);\n    // 如果已经定义过这个度量\n    var type = get(scaleDef, 'type', getDefaultType(values[0]));\n    var ScaleCtor = getScale(type);\n    return new ScaleCtor(__assign({ field: field,\n        values: values }, scaleDef));\n}\n/**\n * @ignore\n * 同步 scale\n * @todo 是否可以通过 scale.update() 方法进行更新\n * @param scale 需要同步的 scale 实例\n * @param newScale 同步源 Scale\n */\nexport function syncScale(scale, newScale) {\n    if (scale.type !== 'identity' && newScale.type !== 'identity') {\n        var obj = {};\n        for (var k in newScale) {\n            if (Object.prototype.hasOwnProperty.call(newScale, k)) {\n                obj[k] = newScale[k];\n            }\n        }\n        scale.change(obj);\n    }\n}\n/**\n * @ignore\n * get the scale name, if alias exist, return alias, or else field\n * @param scale\n * @returns the name of field\n */\nexport function getName(scale) {\n    return scale.alias || scale.field;\n}\n//# sourceMappingURL=scale.js.map","import { get, isBoolean } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { getName } from './scale';\nimport { vec2 } from '@antv/matrix-util';\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is rect\n * @param direction\n * @returns axis coordinate region\n */\nexport function getLineAxisRelativeRegion(direction) {\n    var start;\n    var end;\n    switch (direction) {\n        case DIRECTION.TOP:\n            start = { x: 0, y: 1 };\n            end = { x: 1, y: 1 };\n            break;\n        case DIRECTION.RIGHT:\n            start = { x: 1, y: 0 };\n            end = { x: 1, y: 1 };\n            break;\n        case DIRECTION.BOTTOM:\n            start = { x: 0, y: 0 };\n            end = { x: 1, y: 0 };\n            break;\n        case DIRECTION.LEFT:\n            start = { x: 0, y: 0 };\n            end = { x: 0, y: 1 };\n            break;\n        default:\n            start = end = { x: 0, y: 0 };\n    }\n    return { start: start, end: end };\n}\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is polar\n * @param coordinate\n * @returns axis coordinate region\n */\nexport function getCircleAxisRelativeRegion(coordinate) {\n    var start;\n    var end;\n    if (coordinate.isTransposed) {\n        start = {\n            x: 0,\n            y: 0,\n        };\n        end = {\n            x: 1,\n            y: 0,\n        };\n    }\n    else {\n        start = {\n            x: 0,\n            y: 0,\n        };\n        end = {\n            x: 0,\n            y: 1,\n        };\n    }\n    return { start: start, end: end };\n}\n/**\n * @ignore\n * get the axis region from coordinate\n * @param coordinate\n * @param direction\n * @returns the axis region (start point, end point)\n */\nexport function getAxisRegion(coordinate, direction) {\n    var region = { start: { x: 0, y: 0 }, end: { x: 0, y: 0 } };\n    if (coordinate.isRect) {\n        region = getLineAxisRelativeRegion(direction);\n    }\n    else if (coordinate.isPolar) {\n        region = getCircleAxisRelativeRegion(coordinate);\n    }\n    var start = region.start, end = region.end;\n    return {\n        start: coordinate.convert(start),\n        end: coordinate.convert(end),\n    };\n}\n/**\n * @ignore\n * get axis factor\n * @param coordinate\n * @param direction\n * @returns factor\n */\nexport function getAxisFactor(coordinate, direction) {\n    // rect coordinate, by direction\n    if (coordinate.isRect) {\n        return coordinate.isTransposed\n            ? [DIRECTION.RIGHT, DIRECTION.BOTTOM].includes(direction)\n                ? 1\n                : -1\n            : [DIRECTION.BOTTOM, DIRECTION.RIGHT].includes(direction)\n                ? -1\n                : 1;\n    }\n    // polar y axis, by angle\n    if (coordinate.isPolar) {\n        var startAngle = coordinate.x.start;\n        return startAngle < 0 ? -1 : 1;\n    }\n    return 1;\n}\n/**\n * @ignore\n * whether the axis isVertical\n * @param region\n * @returns isVertical\n */\nexport function isVertical(region) {\n    var start = region.start, end = region.end;\n    return start.x === end.x;\n}\n/**\n * @ignore\n * get factor by region (real position)\n * @param region\n * @param center\n * @returns factor\n */\nexport function getAxisFactorByRegion(region, center) {\n    var start = region.start, end = region.end;\n    var isAxisVertical = isVertical(region);\n    // 垂直\n    if (isAxisVertical) {\n        // 左方,从下到上、右方,从上到下\n        if ((start.y - end.y) * (center.x - start.x) > 0) {\n            return 1;\n        }\n        else {\n            return -1;\n        }\n    }\n    else {\n        // 下方,从左到右、上方,从右到做\n        if ((end.x - start.x) * (start.y - center.y) > 0) {\n            return -1;\n        }\n        else {\n            return 1;\n        }\n    }\n}\n/**\n * @ignore\n * get the axis cfg from theme\n * @param theme view theme object\n * @param direction axis direction\n * @returns axis theme cfg\n */\nexport function getAxisThemeCfg(theme, direction) {\n    return get(theme, ['components', 'axis', direction], {});\n}\n/**\n * @ignore\n * get circle axis center and radius\n * @param coordinate\n */\nexport function getCircleAxisCenterRadius(coordinate) {\n    // @ts-ignore\n    var x = coordinate.x, y = coordinate.y, center = coordinate.circleCenter;\n    var isReflectY = y.start > y.end;\n    var start = coordinate.isTransposed\n        ? coordinate.convert({\n            x: isReflectY ? 0 : 1,\n            y: 0,\n        })\n        : coordinate.convert({\n            x: 0,\n            y: isReflectY ? 0 : 1,\n        });\n    var startVector = [start.x - center.x, start.y - center.y];\n    var normalVector = [1, 0];\n    var startAngle = start.y > center.y ? vec2.angle(startVector, normalVector) : vec2.angle(startVector, normalVector) * -1;\n    var endAngle = startAngle + (x.end - x.start);\n    var radius = Math.sqrt(Math.pow((start.x - center.x), 2) + Math.pow((start.y - center.y), 2));\n    return {\n        center: center,\n        radius: radius,\n        startAngle: startAngle,\n        endAngle: endAngle,\n    };\n}\n/**\n * @ignore\n * 从配置中获取单个字段的 axis 配置\n * @param axes\n * @param field\n * @returns the axis option of field\n */\nexport function getAxisOption(axes, field) {\n    if (isBoolean(axes)) {\n        return axes === false ? false : {};\n    }\n    return get(axes, [field]);\n}\n/**\n * @ignore\n * 如果配置了 position，则使用配置\n * @param axisOption\n * @param def\n */\nexport function getAxisDirection(axisOption, def) {\n    return get(axisOption, 'position', def);\n}\n/**\n * 获取 axis 的 title 文本\n * @param scale\n * @param axisOption\n */\nexport function getAxisTitleText(scale, axisOption) {\n    return get(axisOption, ['title', 'text'], getName(scale));\n}\n//# sourceMappingURL=axis.js.map","import { deepMix, each, every, get, isNil } from '@antv/util';\nimport { LAYER } from '../constant';\nimport { getAxisOption } from '../util/axis';\n/**\n * facet 基类\n *  - 定义生命周期，方便自定义 facet\n *  - 提供基础的生命流程方法\n *\n * 生命周期：\n *\n * 初始化 init\n * 1. 初始化容器\n * 2. 数据分面，生成分面布局信息\n *\n * 渲染阶段 render\n * 1. view 创建\n * 2. title\n * 3. axis\n *\n * 清除阶段 clear\n * 1. 清除 view\n *\n * 销毁阶段 destroy\n * 1. clear\n * 2. 清除事件\n * 3. 清除 group\n */\nvar Facet = /** @class */ (function () {\n    function Facet(view, cfg) {\n        /** 是否销毁 */\n        this.destroyed = false;\n        /** 分面之后的所有分面数据结构 */\n        this.facets = [];\n        this.view = view;\n        this.cfg = deepMix({}, this.getDefaultCfg(), cfg);\n    }\n    /**\n     * 初始化过程\n     */\n    Facet.prototype.init = function () {\n        // 初始化容器\n        if (!this.container) {\n            this.container = this.createContainer();\n        }\n        // 生成分面布局信息\n        var data = this.view.getData();\n        this.facets = this.generateFacets(data);\n    };\n    /**\n     * 渲染分面，由上层 view 调用。包括：\n     *  - 分面 view\n     *  - 轴\n     *  - title\n     *\n     *  子类可以复写，添加一些其他组件，比如滚动条等\n     */\n    Facet.prototype.render = function () {\n        this.renderViews();\n    };\n    /**\n     * 更新 facet\n     */\n    Facet.prototype.update = function () {\n        // 其实不用做任何事情，因为 facet 最终生成的 View 和 Geometry 都在父 view 的更新中处理了\n    };\n    /**\n     * 清空，clear 之后如果还需要使用，需要重新调用 init 初始化过程\n     * 一般在数据有变更的时候调用，重新进行数据的分面逻辑\n     */\n    Facet.prototype.clear = function () {\n        this.clearFacetViews();\n    };\n    /**\n     * 销毁\n     */\n    Facet.prototype.destroy = function () {\n        this.clear();\n        if (this.container) {\n            this.container.remove(true);\n            this.container = undefined;\n        }\n        this.destroyed = true;\n        this.view = undefined;\n        this.facets = [];\n    };\n    /**\n     * 根据 facet 生成 view，可以给上层自定义使用\n     * @param facet\n     */\n    Facet.prototype.facetToView = function (facet) {\n        var region = facet.region, data = facet.data, _a = facet.padding, padding = _a === void 0 ? this.cfg.padding : _a;\n        var view = this.view.createView({\n            region: region,\n            padding: padding,\n        });\n        // 设置分面的数据\n        view.data(data || []);\n        facet.view = view;\n        // 前置钩子\n        this.beforeEachView(view, facet);\n        var eachView = this.cfg.eachView;\n        if (eachView) {\n            eachView(view, facet);\n        }\n        // 后置钩子\n        this.afterEachView(view, facet);\n        return view;\n    };\n    // 创建容器\n    Facet.prototype.createContainer = function () {\n        var foregroundGroup = this.view.getLayer(LAYER.FORE);\n        return foregroundGroup.addGroup();\n    };\n    /**\n     * 初始化 view\n     */\n    Facet.prototype.renderViews = function () {\n        this.createFacetViews();\n    };\n    /**\n     * 创建 分面 view\n     */\n    Facet.prototype.createFacetViews = function () {\n        var _this = this;\n        // 使用分面数据 创建分面 view\n        return this.facets.map(function (facet) {\n            return _this.facetToView(facet);\n        });\n    };\n    /**\n     * 从 view 中清除 facetView\n     */\n    Facet.prototype.clearFacetViews = function () {\n        var _this = this;\n        // 从 view 中移除分面 view\n        each(this.facets, function (facet) {\n            if (facet.view) {\n                _this.view.removeView(facet.view);\n                facet.view = undefined;\n            }\n        });\n    };\n    // 其他一些提供给子类使用的方法\n    /**\n     * 获取这个字段对应的所有值，数组\n     * @protected\n     * @param data 数据\n     * @param field 字段名\n     * @return 字段对应的值\n     */\n    Facet.prototype.getFieldValues = function (data, field) {\n        var rst = [];\n        var cache = {};\n        // 去重、去除 Nil 值\n        each(data, function (d) {\n            var value = d[field];\n            if (!isNil(value) && !cache[value]) {\n                rst.push(value);\n                cache[value] = true;\n            }\n        });\n        return rst;\n    };\n    /**\n     * 获得每个分面的 region，平分区域\n     * @param rows row 总数\n     * @param cols col 总数\n     * @param xIndex x 方向 index\n     * @param yIndex y 方向 index\n     */\n    Facet.prototype.getRegion = function (rows, cols, xIndex, yIndex) {\n        // x, y 方向均分 100% 宽高\n        var xRatio = 1 / (cols === 0 ? 1 : cols);\n        var yRatio = 1 / (rows === 0 ? 1 : rows);\n        var start = {\n            x: xRatio * xIndex,\n            y: yRatio * yIndex,\n        };\n        var end = {\n            x: xRatio * (xIndex + 1),\n            y: yRatio * (yIndex + 1),\n        };\n        return {\n            start: start,\n            end: end,\n        };\n    };\n    Facet.prototype.getDefaultCfg = function () {\n        return {\n            eachView: undefined,\n            showTitle: true,\n            padding: 10,\n            fields: [],\n        };\n    };\n    /**\n     * 默认的 title 样式，因为有的分面是 title，有的分面配置是 columnTitle、rowTitle\n     */\n    Facet.prototype.getDefaultTitleCfg = function () {\n        // @ts-ignore\n        var fontFamily = this.view.getTheme().fontFamily;\n        return {\n            style: {\n                fontSize: 14,\n                fill: '#666',\n                fontFamily: fontFamily,\n            },\n        };\n    };\n    /**\n     * 处理 axis 的默认配置\n     * @param view\n     * @param facet\n     */\n    Facet.prototype.processAxis = function (view, facet) {\n        var options = view.getOptions();\n        var coordinateOption = options.coordinate;\n        var geometries = view.geometries;\n        var coordinateType = get(coordinateOption, 'type', 'rect');\n        if (coordinateType === 'rect' && geometries.length) {\n            if (isNil(options.axes)) {\n                // @ts-ignore\n                options.axes = {};\n            }\n            var axes = options.axes;\n            var _a = geometries[0].getXYFields(), x = _a[0], y = _a[1];\n            var xOption = getAxisOption(axes, x);\n            var yOption = getAxisOption(axes, y);\n            if (xOption !== false) {\n                options.axes[x] = this.getXAxisOption(x, axes, xOption, facet);\n            }\n            if (yOption !== false) {\n                options.axes[y] = this.getYAxisOption(y, axes, yOption, facet);\n            }\n        }\n    };\n    /**\n     * 获取分面数据\n     * @param conditions\n     */\n    Facet.prototype.getFacetDataFilter = function (conditions) {\n        return function (datum) {\n            // 过滤出全部满足条件的数据\n            return every(conditions, function (condition) {\n                var field = condition.field, value = condition.value;\n                if (!isNil(value) && field) {\n                    return datum[field] === value;\n                }\n                return true;\n            });\n        };\n    };\n    return Facet;\n}());\nexport { Facet };\n//# sourceMappingURL=facet.js.map","import { lowerCase } from '@antv/util';\nexport { Facet } from './facet';\n/**\n * 所有的 Facet 类\n */\nvar Facets = {};\n/**\n * 根据 type 获取 facet 类\n * @param type 分面类型\n */\nexport var getFacet = function (type) {\n    return Facets[lowerCase(type)];\n};\n/**\n * 注册一个 Facet 类\n * @param type 分面类型\n * @param ctor 分面类\n */\nexport var registerFacet = function (type, ctor) {\n    Facets[lowerCase(type)] = ctor;\n};\n//# sourceMappingURL=index.js.map","import { assign } from '@antv/util';\n/**\n * Action 的基类\n */\nvar Action = /** @class */ (function () {\n    function Action(context, cfg) {\n        this.context = context;\n        this.cfg = cfg;\n        context.addAction(this);\n    }\n    /**\n     * 设置配置项传入的值\n     * @param cfg\n     */\n    Action.prototype.applyCfg = function (cfg) {\n        assign(this, cfg);\n    };\n    /**\n     * Inits action，提供给子类用于继承\n     */\n    Action.prototype.init = function () {\n        this.applyCfg(this.cfg);\n    };\n    /**\n     * Destroys action\n     */\n    Action.prototype.destroy = function () {\n        // 移除 action\n        this.context.removeAction(this);\n        // 清空\n        this.context = null;\n    };\n    return Action;\n}());\nexport default Action;\n//# sourceMappingURL=base.js.map","import { __extends } from \"tslib\";\nimport Action from './base';\n/** 回调函数构建的 Action */\nvar CallbackAction = /** @class */ (function (_super) {\n    __extends(CallbackAction, _super);\n    function CallbackAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * 执行\n     */\n    CallbackAction.prototype.execute = function () {\n        if (this.callback) {\n            this.callback(this.context);\n        }\n    };\n    /**\n     * 销毁\n     */\n    CallbackAction.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.callback = null;\n    };\n    return CallbackAction;\n}(Action));\nexport default CallbackAction;\n//# sourceMappingURL=callback.js.map","import CallbackAction from './callback';\nimport { get } from '@antv/util';\n// Action 类的缓存\nvar ActionCache = {};\n/**\n * 根据名称获取 Action 实例\n * @param actionName - action 的名称\n * @param context 上下文\n * @returns Action 实例\n */\nexport function createAction(actionName, context) {\n    var actionOption = ActionCache[actionName];\n    var action = null;\n    if (actionOption) {\n        var ActionClass = actionOption.ActionClass, cfg = actionOption.cfg;\n        action = new ActionClass(context, cfg);\n        action.name = actionName;\n        action.init();\n    }\n    return action;\n}\n/**\n * 根据 action 的 name 获取定义的类\n * @param actionName action 的 name\n */\nexport function getActionClass(actionName) {\n    var actionOption = ActionCache[actionName];\n    return get(actionOption, 'ActionClass');\n}\n/**\n * 注册 Action\n * @param actionName - action 的名称\n * @param ActionClass - 继承自 action 的类\n */\nexport function registerAction(actionName, ActionClass, cfg) {\n    ActionCache[actionName] = {\n        ActionClass: ActionClass,\n        cfg: cfg,\n    };\n}\n/**\n * 取消注册 Action\n * @param actionName action 名称\n */\nexport function unregisterAction(actionName) {\n    delete ActionCache[actionName];\n}\n/**\n * 根据回调函数获取 Action 实例\n * @param callback - action 的回调函数\n * @param context 上下文\n * @returns Action 实例\n */\nexport function createCallbackAction(callback, context) {\n    var action = new CallbackAction(context);\n    action.callback = callback;\n    action.name = 'callback';\n    return action;\n}\n//# sourceMappingURL=register.js.map","import { each, isEmpty, isNumber, isNumberEqual } from '@antv/util';\n// 获取图形的包围盒\nfunction getPointsBox(points) {\n    if (isEmpty(points)) {\n        return null;\n    }\n    var minX = points[0].x;\n    var maxX = points[0].x;\n    var minY = points[0].y;\n    var maxY = points[0].y;\n    each(points, function (point) {\n        minX = minX > point.x ? point.x : minX;\n        maxX = maxX < point.x ? point.x : maxX;\n        minY = minY > point.y ? point.y : minY;\n        maxY = maxY < point.y ? point.y : maxY;\n    });\n    return {\n        minX: minX,\n        maxX: maxX,\n        minY: minY,\n        maxY: maxY,\n        centerX: (minX + maxX) / 2,\n        centerY: (minY + maxY) / 2,\n    };\n}\n/**\n * @ignore\n * 根据弧度计算极坐标系下的坐标点\n * @param centerX\n * @param centerY\n * @param radius\n * @param angleInRadian\n * @returns\n */\nexport function polarToCartesian(centerX, centerY, radius, angleInRadian) {\n    return {\n        x: centerX + radius * Math.cos(angleInRadian),\n        y: centerY + radius * Math.sin(angleInRadian),\n    };\n}\n/**\n * @ignore\n * 根据起始角度计算绘制扇形的 path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getSectorPath(centerX, centerY, radius, startAngleInRadian, endAngleInRadian, innerRadius) {\n    if (innerRadius === void 0) { innerRadius = 0; }\n    var start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n    var end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n    var innerStart = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian);\n    var innerEnd = polarToCartesian(centerX, centerY, innerRadius, endAngleInRadian);\n    if (endAngleInRadian - startAngleInRadian === Math.PI * 2) {\n        // 整个圆是分割成两个圆\n        var middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n        var innerMiddlePoint = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian + Math.PI);\n        var circlePathCommands = [\n            ['M', start.x, start.y],\n            ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n            ['A', radius, radius, 0, 1, 1, end.x, end.y],\n            ['M', innerStart.x, innerStart.y],\n        ];\n        if (innerRadius) {\n            circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerMiddlePoint.x, innerMiddlePoint.y]);\n            circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerEnd.x, innerEnd.y]);\n        }\n        circlePathCommands.push(['M', start.x, start.y]);\n        circlePathCommands.push(['Z']);\n        return circlePathCommands;\n    }\n    var arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n    var sectorPathCommands = [\n        ['M', start.x, start.y],\n        ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n        ['L', innerEnd.x, innerEnd.y],\n    ];\n    if (innerRadius) {\n        sectorPathCommands.push(['A', innerRadius, innerRadius, 0, arcSweep, 0, innerStart.x, innerStart.y]);\n    }\n    sectorPathCommands.push(['L', start.x, start.y]);\n    sectorPathCommands.push(['Z']);\n    return sectorPathCommands;\n}\n/**\n * @ignore\n * Gets arc path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getArcPath(centerX, centerY, radius, startAngleInRadian, endAngleInRadian) {\n    var start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n    var end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n    if (isNumberEqual(endAngleInRadian - startAngleInRadian, Math.PI * 2)) {\n        var middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n        return [\n            ['M', start.x, start.y],\n            ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n            ['A', radius, radius, 0, 1, 1, start.x, start.y],\n            ['A', radius, radius, 0, 1, 0, middlePoint.x, middlePoint.y],\n            ['A', radius, radius, 0, 1, 0, start.x, start.y],\n            ['Z'],\n        ];\n    }\n    var arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n    return [\n        ['M', start.x, start.y],\n        ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n    ];\n}\n/**\n * @ignore\n * 从数据模型中的 points 换算角度\n * @param shapeModel\n * @param coordinate\n * @returns\n */\nexport function getAngle(shapeModel, coordinate) {\n    var points = shapeModel.points;\n    var box = getPointsBox(points);\n    var endAngle;\n    var startAngle;\n    var coordStartAngle = coordinate.startAngle, coordEndAngle = coordinate.endAngle;\n    var diffAngle = coordEndAngle - coordStartAngle;\n    if (coordinate.isTransposed) {\n        endAngle = box.maxY * diffAngle;\n        startAngle = box.minY * diffAngle;\n    }\n    else {\n        endAngle = box.maxX * diffAngle;\n        startAngle = box.minX * diffAngle;\n    }\n    endAngle += coordStartAngle;\n    startAngle += coordStartAngle;\n    return {\n        startAngle: startAngle,\n        endAngle: endAngle,\n    };\n}\n/**\n * @ignore\n * 计算多边形重心: https://en.wikipedia.org/wiki/Centroid#Of_a_polygon\n */\nexport function getPolygonCentroid(xs, ys) {\n    if (isNumber(xs) && isNumber(ys)) {\n        // 普通色块图，xs 和 ys 是数值\n        return [xs, ys];\n    }\n    var i = -1;\n    var x = 0;\n    var y = 0;\n    var former;\n    var current = xs.length - 1;\n    var diff;\n    var k = 0;\n    while (++i < xs.length) {\n        former = current;\n        current = i;\n        k += diff = xs[former] * ys[current] - xs[current] * ys[former];\n        x += (xs[former] + xs[current]) * diff;\n        y += (ys[former] + ys[current]) * diff;\n    }\n    k *= 3;\n    return [x / k, y / k];\n}\n/**\n * @ignore\n * 获取需要替换的属性，如果原先图形元素存在，而新图形不存在，则设置 undefined\n */\nexport function getReplaceAttrs(sourceShape, targetShape) {\n    var originAttrs = sourceShape.attr();\n    var newAttrs = targetShape.attr();\n    each(originAttrs, function (v, k) {\n        if (newAttrs[k] === undefined) {\n            newAttrs[k] = undefined;\n        }\n    });\n    return newAttrs;\n}\n//# sourceMappingURL=graphics.js.map","import { isArray, isString } from '@antv/util';\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value, start, end) {\n    var min = Math.min(start, end);\n    var max = Math.max(start, end);\n    return value >= min && value <= max;\n}\n/**\n * @ignore\n * pads the current string/array with a given value (repeated, if needed) so that the resulting reaches a given length.\n * The padding is applied from the end of the current value.\n *\n * @param source\n * @param targetLength\n * @param padValue\n * @returns\n */\nexport function padEnd(source, targetLength, padValue) {\n    if (isString(source)) {\n        return source.padEnd(targetLength, padValue);\n    }\n    else if (isArray(source)) {\n        var sourceLength = source.length;\n        if (sourceLength < targetLength) {\n            var diff = targetLength - sourceLength;\n            for (var i = 0; i < diff; i++) {\n                source.push(padValue);\n            }\n        }\n    }\n    return source;\n}\n/**\n * @ignore\n * omit keys of an object.\n * @param obj\n * @param keys\n */\nexport function omit(obj, keys) {\n    keys.forEach(function (key) {\n        delete obj[key];\n    });\n    return obj;\n}\n/**\n * @ignore\n * @param sourceArray\n * @param targetArray\n * @param map\n */\nexport function uniq(sourceArray, targetArray, map) {\n    if (targetArray === void 0) { targetArray = []; }\n    if (map === void 0) { map = {}; }\n    for (var _i = 0, sourceArray_1 = sourceArray; _i < sourceArray_1.length; _i++) {\n        var source = sourceArray_1[_i];\n        if (!map[source]) {\n            targetArray.push(source);\n            map[source] = true;\n        }\n    }\n    return targetArray;\n}\n//# sourceMappingURL=helper.js.map","import { getSectorPath } from './graphics';\nimport { isBetween } from './helper';\n/**\n * @ignore\n * Gets x dimension length\n * @param coordinate\n * @returns x dimension length\n */\nexport function getXDimensionLength(coordinate) {\n    if (coordinate.isPolar && !coordinate.isTransposed) {\n        // 极坐标系下 width 为弧长\n        return (coordinate.endAngle - coordinate.startAngle) * coordinate.getRadius();\n    }\n    // 直角坐标系\n    var start = coordinate.convert({ x: 0, y: 0 });\n    var end = coordinate.convert({ x: 1, y: 0 });\n    // 坐标系有可能发生 transpose 等变换，所有通过两点之间的距离进行计算\n    return Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n}\n/**\n * @ignore\n * Determines whether full circle is\n * @param coordinate\n * @returns true if full circle\n */\nexport function isFullCircle(coordinate) {\n    if (coordinate.isPolar) {\n        var startAngle = coordinate.startAngle, endAngle = coordinate.endAngle;\n        return endAngle - startAngle === Math.PI * 2;\n    }\n    return false;\n}\n/**\n * @ignore\n * 获取当前点到坐标系圆心的距离\n * @param coordinate 坐标系\n * @param point 当前点\n * @returns distance to center\n */\nexport function getDistanceToCenter(coordinate, point) {\n    var center = coordinate.getCenter();\n    return Math.sqrt(Math.pow((point.x - center.x), 2) + Math.pow((point.y - center.y), 2));\n}\n/**\n * @ignore\n * 坐标点是否在坐标系中\n * @param coordinate\n * @param point\n */\nexport function isPointInCoordinate(coordinate, point) {\n    var result = false;\n    if (coordinate) {\n        if (coordinate.type === 'theta') {\n            var start = coordinate.start, end = coordinate.end;\n            result = isBetween(point.x, start.x, end.x) && isBetween(point.y, start.y, end.y);\n        }\n        else {\n            var invertPoint = coordinate.invert(point);\n            result = isBetween(invertPoint.x, 0, 1) && isBetween(invertPoint.y, 0, 1);\n        }\n    }\n    return result;\n}\n/**\n * @ignore\n * 获取点到圆心的连线与水平方向的夹角\n */\nexport function getAngleByPoint(coordinate, point) {\n    var center = coordinate.getCenter();\n    return Math.atan2(point.y - center.y, point.x - center.x);\n}\n/**\n * @ignore\n * 获取同坐标系范围相同的剪切区域\n * @param coordinate\n * @returns\n */\nexport function getCoordinateClipCfg(coordinate, margin) {\n    if (margin === void 0) { margin = 0; }\n    var start = coordinate.start, end = coordinate.end;\n    var width = coordinate.getWidth();\n    var height = coordinate.getHeight();\n    if (coordinate.isPolar) {\n        var startAngle_1 = coordinate.startAngle, endAngle_1 = coordinate.endAngle;\n        var center_1 = coordinate.getCenter();\n        var radius_1 = coordinate.getRadius();\n        return {\n            type: 'path',\n            startState: {\n                path: getSectorPath(center_1.x, center_1.y, radius_1 + margin, startAngle_1, startAngle_1),\n            },\n            endState: function (ratio) {\n                var diff = (endAngle_1 - startAngle_1) * ratio + startAngle_1;\n                var path = getSectorPath(center_1.x, center_1.y, radius_1 + margin, startAngle_1, diff);\n                return {\n                    path: path,\n                };\n            },\n            attrs: {\n                path: getSectorPath(center_1.x, center_1.y, radius_1 + margin, startAngle_1, endAngle_1),\n            },\n        };\n    }\n    var endState;\n    if (coordinate.isTransposed) {\n        endState = {\n            height: height + margin * 2,\n        };\n    }\n    else {\n        endState = {\n            width: width + margin * 2,\n        };\n    }\n    return {\n        type: 'rect',\n        startState: {\n            x: start.x - margin,\n            y: end.y - margin,\n            width: coordinate.isTransposed ? width + margin * 2 : 0,\n            height: coordinate.isTransposed ? 0 : height + margin * 2,\n        },\n        endState: endState,\n        attrs: {\n            x: start.x - margin,\n            y: end.y - margin,\n            width: width + margin * 2,\n            height: height + margin * 2,\n        },\n    };\n}\n//# sourceMappingURL=coordinate.js.map","import { vec2 } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { getDistanceToCenter } from '../../../util/coordinate';\nfunction _points2path(points, isInCircle) {\n    var path = [];\n    if (points.length) {\n        path.push(['M', points[0].x, points[0].y]);\n        for (var i = 1, length_1 = points.length; i < length_1; i += 1) {\n            var item = points[i];\n            path.push(['L', item.x, item.y]);\n        }\n        if (isInCircle) {\n            path.push(['Z']);\n        }\n    }\n    return path;\n}\nfunction _convertArr(arr, coord) {\n    var tmp = [arr[0]];\n    for (var i = 1, len = arr.length; i < len; i = i + 2) {\n        var point = coord.convert({\n            x: arr[i],\n            y: arr[i + 1],\n        });\n        tmp.push(point.x, point.y);\n    }\n    return tmp;\n}\nfunction _convertPolarPath(pre, cur, coord) {\n    var isTransposed = coord.isTransposed, startAngle = coord.startAngle, endAngle = coord.endAngle;\n    var prePoint = {\n        x: pre[1],\n        y: pre[2],\n    };\n    var curPoint = {\n        x: cur[1],\n        y: cur[2],\n    };\n    var rst = [];\n    var xDim = isTransposed ? 'y' : 'x';\n    var angleRange = Math.abs(curPoint[xDim] - prePoint[xDim]) * (endAngle - startAngle);\n    var direction = curPoint[xDim] >= prePoint[xDim] ? 1 : 0; // 圆弧的方向\n    var flag = angleRange > Math.PI ? 1 : 0; // 大弧还是小弧标志位\n    var convertPoint = coord.convert(curPoint);\n    var r = getDistanceToCenter(coord, convertPoint);\n    if (r >= 0.5) {\n        // 小于1像素的圆在图像上无法识别\n        if (angleRange === Math.PI * 2) {\n            var middlePoint = {\n                x: (curPoint.x + prePoint.x) / 2,\n                y: (curPoint.y + prePoint.y) / 2,\n            };\n            var middleConvertPoint = coord.convert(middlePoint);\n            rst.push(['A', r, r, 0, flag, direction, middleConvertPoint.x, middleConvertPoint.y]);\n            rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n        }\n        else {\n            rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n        }\n    }\n    return rst;\n}\n// 当存在整体的圆时，去除圆前面和后面的线，防止出现直线穿过整个圆的情形\nfunction _filterFullCirleLine(path) {\n    each(path, function (subPath, index) {\n        var cur = subPath;\n        if (cur[0].toLowerCase() === 'a') {\n            var pre = path[index - 1];\n            var next = path[index + 1];\n            if (next && next[0].toLowerCase() === 'a') {\n                if (pre && pre[0].toLowerCase() === 'l') {\n                    pre[0] = 'M';\n                }\n            }\n            else if (pre && pre[0].toLowerCase() === 'a') {\n                if (next && next[0].toLowerCase() === 'l') {\n                    next[0] = 'M';\n                }\n            }\n        }\n    });\n}\n/**\n * @ignore\n * 计算光滑的贝塞尔曲线\n */\nexport var smoothBezier = function (points, smooth, isLoop, constraint) {\n    var cps = [];\n    var prevPoint;\n    var nextPoint;\n    var hasConstraint = !!constraint;\n    var min;\n    var max;\n    if (hasConstraint) {\n        min = [Infinity, Infinity];\n        max = [-Infinity, -Infinity];\n        for (var i = 0, l = points.length; i < l; i++) {\n            var point = points[i];\n            min = vec2.min([0, 0], min, point);\n            max = vec2.max([0, 0], max, point);\n        }\n        min = vec2.min([0, 0], min, constraint[0]);\n        max = vec2.max([0, 0], max, constraint[1]);\n    }\n    for (var i = 0, len = points.length; i < len; i++) {\n        var point = points[i];\n        if (isLoop) {\n            prevPoint = points[i ? i - 1 : len - 1];\n            nextPoint = points[(i + 1) % len];\n        }\n        else {\n            if (i === 0 || i === len - 1) {\n                cps.push(point);\n                continue;\n            }\n            else {\n                prevPoint = points[i - 1];\n                nextPoint = points[i + 1];\n            }\n        }\n        var v = [0, 0];\n        v = vec2.sub(v, nextPoint, prevPoint);\n        v = vec2.scale(v, v, smooth);\n        var d0 = vec2.distance(point, prevPoint);\n        var d1 = vec2.distance(point, nextPoint);\n        var sum = d0 + d1;\n        if (sum !== 0) {\n            d0 /= sum;\n            d1 /= sum;\n        }\n        var v1 = vec2.scale([0, 0], v, -d0);\n        var v2 = vec2.scale([0, 0], v, d1);\n        var cp0 = vec2.add([0, 0], point, v1);\n        var cp1 = vec2.add([0, 0], point, v2);\n        if (hasConstraint) {\n            cp0 = vec2.max([0, 0], cp0, min);\n            cp0 = vec2.min([0, 0], cp0, max);\n            cp1 = vec2.max([0, 0], cp1, min);\n            cp1 = vec2.min([0, 0], cp1, max);\n        }\n        cps.push(cp0);\n        cps.push(cp1);\n    }\n    if (isLoop) {\n        cps.push(cps.shift());\n    }\n    return cps;\n};\n/**\n * @ignore\n * 贝塞尔曲线\n */\nexport function catmullRom2bezier(crp, z, constraint) {\n    var isLoop = !!z;\n    var pointList = [];\n    for (var i = 0, l = crp.length; i < l; i += 2) {\n        pointList.push([crp[i], crp[i + 1]]);\n    }\n    var controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n    var len = pointList.length;\n    var d1 = [];\n    var cp1;\n    var cp2;\n    var p;\n    for (var i = 0; i < len - 1; i++) {\n        cp1 = controlPointList[i * 2];\n        cp2 = controlPointList[i * 2 + 1];\n        p = pointList[i + 1];\n        d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n    }\n    if (isLoop) {\n        cp1 = controlPointList[len];\n        cp2 = controlPointList[len + 1];\n        p = pointList[0];\n        d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n    }\n    return d1;\n}\n/**\n * @ignore\n * 将点连接成路径 path\n */\nexport function getLinePath(points, isInCircle) {\n    return _points2path(points, isInCircle);\n}\n/**\n * @ignore\n * 根据关键点获取限定了范围的平滑线\n */\nexport function getSplinePath(points, isInCircle, constaint) {\n    var data = [];\n    var first = points[0];\n    var prePoint = null;\n    if (points.length <= 2) {\n        // 两点以内直接绘制成路径\n        return getLinePath(points, isInCircle);\n    }\n    for (var i = 0, len = points.length; i < len; i++) {\n        var point = points[i];\n        if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n            data.push(point.x);\n            data.push(point.y);\n            prePoint = point;\n        }\n    }\n    var constraint = constaint || [\n        // 范围\n        [0, 0],\n        [1, 1],\n    ];\n    var splinePath = catmullRom2bezier(data, isInCircle, constraint);\n    splinePath.unshift(['M', first.x, first.y]);\n    return splinePath;\n}\n/**\n * @ignore\n * 将归一化后的路径数据转换成坐标\n */\nexport function convertNormalPath(coord, path) {\n    var tmp = [];\n    each(path, function (subPath) {\n        var action = subPath[0];\n        switch (action.toLowerCase()) {\n            case 'm':\n            case 'l':\n            case 'c':\n                tmp.push(_convertArr(subPath, coord));\n                break;\n            case 'z':\n            default:\n                tmp.push(subPath);\n                break;\n        }\n    });\n    return tmp;\n}\n/**\n * @ignore\n * 将路径转换为极坐标下的真实路径\n */\nexport function convertPolarPath(coord, path) {\n    var tmp = [];\n    var pre;\n    var cur;\n    var transposed;\n    var equals;\n    each(path, function (subPath, index) {\n        var action = subPath[0];\n        switch (action.toLowerCase()) {\n            case 'm':\n            case 'c':\n            case 'q':\n                tmp.push(_convertArr(subPath, coord));\n                break;\n            case 'l':\n                pre = path[index - 1];\n                cur = subPath;\n                transposed = coord.isTransposed;\n                // 是否半径相同，转换成圆弧\n                equals = transposed ? pre[pre.length - 2] === cur[1] : pre[pre.length - 1] === cur[2];\n                if (equals) {\n                    tmp = tmp.concat(_convertPolarPath(pre, cur, coord));\n                }\n                else {\n                    // y 不相等，所以直接转换\n                    tmp.push(_convertArr(subPath, coord));\n                }\n                break;\n            case 'z':\n            default:\n                tmp.push(subPath);\n                break;\n        }\n    });\n    _filterFullCirleLine(tmp); // 过滤多余的直线\n    return tmp;\n}\n//# sourceMappingURL=path.js.map","import { each } from '@antv/util';\nimport { DIRECTION } from '../constant';\n/**\n * 用于包围盒计算。\n */\nvar BBox = /** @class */ (function () {\n    function BBox(x, y, width, height) {\n        if (x === void 0) { x = 0; }\n        if (y === void 0) { y = 0; }\n        if (width === void 0) { width = 0; }\n        if (height === void 0) { height = 0; }\n        this.x = x;\n        this.y = y;\n        this.height = height;\n        this.width = width;\n    }\n    BBox.fromRange = function (minX, minY, maxX, maxY) {\n        return new BBox(minX, minY, maxX - minX, maxY - minY);\n    };\n    BBox.fromObject = function (bbox) {\n        return new BBox(bbox.minX, bbox.minY, bbox.width, bbox.height);\n    };\n    Object.defineProperty(BBox.prototype, \"minX\", {\n        get: function () {\n            return this.x;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"maxX\", {\n        get: function () {\n            return this.x + this.width;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"minY\", {\n        get: function () {\n            return this.y;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"maxY\", {\n        get: function () {\n            return this.y + this.height;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"tl\", {\n        get: function () {\n            return { x: this.x, y: this.y };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"tr\", {\n        get: function () {\n            return { x: this.maxX, y: this.y };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"bl\", {\n        get: function () {\n            return { x: this.x, y: this.maxY };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"br\", {\n        get: function () {\n            return { x: this.maxX, y: this.maxY };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"top\", {\n        get: function () {\n            return {\n                x: this.x + this.width / 2,\n                y: this.minY,\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"right\", {\n        get: function () {\n            return {\n                x: this.maxX,\n                y: this.y + this.height / 2,\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"bottom\", {\n        get: function () {\n            return {\n                x: this.x + this.width / 2,\n                y: this.maxY,\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"left\", {\n        get: function () {\n            return {\n                x: this.minX,\n                y: this.y + this.height / 2,\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // end 计算属性\n    /**\n     * 包围盒是否相等\n     * @param {BBox} bbox 包围盒\n     * @returns      包围盒是否相等\n     */\n    BBox.prototype.isEqual = function (bbox) {\n        return this.x === bbox.x && this.y === bbox.y && this.width === bbox.width && this.height === bbox.height;\n    };\n    /**\n     * 是否包含了另一个包围盒\n     * @param child\n     */\n    BBox.prototype.contains = function (child) {\n        return child.minX >= this.minX && child.maxX <= this.maxX && child.minY >= this.minY && child.maxY <= this.maxY;\n    };\n    /**\n     * 克隆包围盒\n     * @returns 包围盒\n     */\n    BBox.prototype.clone = function () {\n        return new BBox(this.x, this.y, this.width, this.height);\n    };\n    /**\n     * 取并集\n     * @param subBBox\n     */\n    BBox.prototype.add = function () {\n        var subBBox = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            subBBox[_i] = arguments[_i];\n        }\n        var bbox = this.clone();\n        each(subBBox, function (b) {\n            bbox.x = Math.min(b.x, bbox.x);\n            bbox.y = Math.min(b.y, bbox.y);\n            bbox.width = Math.max(b.maxX, bbox.maxX) - bbox.x;\n            bbox.height = Math.max(b.maxY, bbox.maxY) - bbox.y;\n        });\n        return bbox;\n    };\n    /**\n     * 取交集\n     * @param subBBox\n     */\n    BBox.prototype.merge = function () {\n        var subBBox = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            subBBox[_i] = arguments[_i];\n        }\n        var bbox = this.clone();\n        each(subBBox, function (b) {\n            bbox.x = Math.max(b.x, bbox.x);\n            bbox.y = Math.max(b.y, bbox.y);\n            bbox.width = Math.min(b.maxX, bbox.maxX) - bbox.x;\n            bbox.height = Math.min(b.maxY, bbox.maxY) - bbox.y;\n        });\n        return bbox;\n    };\n    /**\n     * bbox 剪裁\n     * @param subBBox\n     * @param direction\n     */\n    BBox.prototype.cut = function (subBBox, direction) {\n        var width = subBBox.width;\n        var height = subBBox.height;\n        switch (direction) {\n            case DIRECTION.TOP:\n            case DIRECTION.TOP_LEFT:\n            case DIRECTION.TOP_RIGHT:\n                return BBox.fromRange(this.minX, this.minY + height, this.maxX, this.maxY);\n            case DIRECTION.RIGHT:\n            case DIRECTION.RIGHT_TOP:\n            case DIRECTION.RIGHT_BOTTOM:\n                return BBox.fromRange(this.minX, this.minY, this.maxX - width, this.maxY);\n            case DIRECTION.BOTTOM:\n            case DIRECTION.BOTTOM_LEFT:\n            case DIRECTION.BOTTOM_RIGHT:\n                return BBox.fromRange(this.minX, this.minY, this.maxX, this.maxY - height);\n            case DIRECTION.LEFT:\n            case DIRECTION.LEFT_TOP:\n            case DIRECTION.LEFT_BOTTOM:\n                return BBox.fromRange(this.minX + width, this.minY, this.maxX, this.maxY);\n            default:\n                // 其他情况不裁剪，原样返回\n                return this;\n        }\n    };\n    /**\n     * 收缩形成新的\n     * @param gap\n     */\n    BBox.prototype.shrink = function (gap) {\n        var top = gap[0], right = gap[1], bottom = gap[2], left = gap[3];\n        return new BBox(this.x + left, this.y + top, this.width - left - right, this.height - top - bottom);\n    };\n    /**\n     * 扩张形成新的\n     * @param gap\n     */\n    BBox.prototype.expand = function (gap) {\n        var top = gap[0], right = gap[1], bottom = gap[2], left = gap[3];\n        return new BBox(this.x - left, this.y - top, this.width + left + right, this.height + top + bottom);\n    };\n    /**\n     * get the gap of two bbox, if not exceed, then 0\n     * @param bbox\n     * @returns [top, right, bottom, left]\n     */\n    BBox.prototype.exceed = function (bbox) {\n        return [\n            Math.max(-this.minY + bbox.minY, 0),\n            Math.max(this.maxX - bbox.maxX, 0),\n            Math.max(this.maxY - bbox.maxY, 0),\n            Math.max(-this.minX + bbox.minX, 0),\n        ];\n    };\n    /**\n     * 是否碰撞\n     * @param bbox\n     */\n    BBox.prototype.collide = function (bbox) {\n        return this.minX < bbox.maxX && this.maxX > bbox.minX &&\n            this.minY < bbox.maxY && this.maxY > bbox.minY;\n    };\n    /**\n     * 获取包围盒大小\n     * @returns 包围盒大小\n     */\n    BBox.prototype.size = function () {\n        return this.width * this.height;\n    };\n    /**\n     * 点是否在 bbox 中\n     * @param p\n     */\n    BBox.prototype.isPointIn = function (p) {\n        return p.x >= this.minX && p.x <= this.maxX && p.y >= this.minY && p.y <= this.maxY;\n    };\n    return BBox;\n}());\nexport { BBox };\n/**\n * 从一个 bbox 的 region 获取 bbox\n * @param bbox\n * @param region\n */\nexport var getRegionBBox = function (bbox, region) {\n    var start = region.start, end = region.end;\n    return new BBox(bbox.x + bbox.width * start.x, bbox.y + bbox.height * start.y, bbox.width * Math.abs(end.x - start.x), bbox.height * Math.abs(end.y - start.y));\n};\n/**\n * 将 bbox 转换成 points\n * @param bbox\n */\nexport function toPoints(bbox) {\n    return [\n        [bbox.minX, bbox.minY],\n        [bbox.maxX, bbox.minY],\n        [bbox.maxX, bbox.maxY],\n        [bbox.minX, bbox.maxY],\n    ];\n}\n//# sourceMappingURL=bbox.js.map","import { each, isArray } from '@antv/util';\nimport { catmullRom2bezier, getLinePath } from '../../geometry/shape/util/path';\nimport { toPoints } from '../../util/bbox';\nimport isPolygonsIntersect from '@antv/path-util/lib/is-polygons-intersect';\nfunction getMaskBBox(context, tolerance) {\n    var event = context.event;\n    var maskShape = event.target;\n    var maskBBox = maskShape.getCanvasBBox();\n    // 如果 bbox 过小则不返回\n    if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n        return null;\n    }\n    return maskBBox;\n}\nfunction getMaskPath(context, tolerance) {\n    var event = context.event;\n    var maskShape = event.target;\n    var maskBBox = maskShape.getCanvasBBox();\n    // 如果 bbox 过小则不返回\n    if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n        return null;\n    }\n    return maskShape.attr('path');\n}\n/**\n * 获取当前事件相关的图表元素\n * @param context 交互的上下文\n * @ignore\n */\nexport function getCurrentElement(context) {\n    var event = context.event;\n    var element;\n    var target = event.target;\n    if (target) {\n        element = target.get('element');\n    }\n    return element;\n}\n/**\n * 获取委托对象\n * @param context 上下文\n * @ignore\n */\nexport function getDelegationObject(context) {\n    var event = context.event;\n    var target = event.target;\n    var delegateObject;\n    if (target) {\n        delegateObject = target.get('delegateObject');\n    }\n    return delegateObject;\n}\nexport function isElementChange(context) {\n    var event = context.event.gEvent;\n    // 在同一个 element 内部移动，label 和 shape 之间\n    if (event && event.fromShape && event.toShape && event.fromShape.get('element') === event.toShape.get('element')) {\n        return false;\n    }\n    return true;\n}\n/**\n * 是否是列表组件\n * @param delegateObject 委托对象\n * @ignore\n */\nexport function isList(delegateObject) {\n    return delegateObject && delegateObject.component && delegateObject.component.isList();\n}\n/**\n * 是否是滑块组件\n * @param delegateObject 委托对象\n * @ignore\n */\nexport function isSlider(delegateObject) {\n    return delegateObject && delegateObject.component && delegateObject.component.isSlider();\n}\n/**\n * 是否由 mask 触发\n * @param context 上下文\n * @ignore\n */\nexport function isMask(context) {\n    var event = context.event;\n    var target = event.target;\n    return target && target.get('name') === 'mask';\n}\n/**\n * 获取被遮挡的 elements\n * @param context 上下文\n * @ignore\n */\nexport function getMaskedElements(context, tolerance) {\n    var target = context.event.target;\n    if (target.get('type') === 'path') {\n        var maskPath = getMaskPath(context, tolerance);\n        if (!maskPath) {\n            return;\n        }\n        return getElementsByPath(context.view, maskPath);\n    }\n    var maskBBox = getMaskBBox(context, tolerance);\n    // 如果 bbox 过小则不返回\n    if (!maskBBox) {\n        return null;\n    }\n    return getIntersectElements(context.view, maskBBox);\n}\n/**\n * @ignore\n */\nexport function getSiblingMaskElements(context, sibling, tolerance) {\n    var maskBBox = getMaskBBox(context, tolerance);\n    // 如果 bbox 过小则不返回\n    if (!maskBBox) {\n        return null;\n    }\n    var view = context.view;\n    var start = getSiblingPoint(view, sibling, { x: maskBBox.x, y: maskBBox.y });\n    var end = getSiblingPoint(view, sibling, { x: maskBBox.maxX, y: maskBBox.maxY });\n    var box = {\n        minX: start.x,\n        minY: start.y,\n        maxX: end.x,\n        maxY: end.y,\n    };\n    return getIntersectElements(sibling, box);\n}\n/**\n * 获取所有的图表元素\n * @param view View/Chart\n * @ignore\n */\nexport function getElements(view) {\n    var geometries = view.geometries;\n    var rst = [];\n    each(geometries, function (geom) {\n        var elements = geom.elements;\n        rst = rst.concat(elements);\n    });\n    if (view.views && view.views.length) {\n        each(view.views, function (subView) {\n            rst = rst.concat(getElements(subView));\n        });\n    }\n    return rst;\n}\n/**\n * 获取所有的图表元素\n * @param view View/Chart\n * @param field 字段名\n * @param value 字段值\n * @ignore\n */\nexport function getElementsByField(view, field, value) {\n    var elements = getElements(view);\n    return elements.filter(function (el) {\n        return getElementValue(el, field) === value;\n    });\n}\n/**\n * 根据状态名获取图表元素\n * @param view View/Chart\n * @param stateName 状态名\n * @ignore\n */\nexport function getElementsByState(view, stateName) {\n    var geometries = view.geometries;\n    var rst = [];\n    each(geometries, function (geom) {\n        var elements = geom.getElementsBy(function (el) { return el.hasState(stateName); });\n        rst = rst.concat(elements);\n    });\n    return rst;\n}\n/**\n * 获取图表元素对应字段的值\n * @param element 图表元素\n * @param field 字段名\n * @ignore\n */\nexport function getElementValue(element, field) {\n    var model = element.getModel();\n    var record = model.data;\n    var value;\n    if (isArray(record)) {\n        value = record[0][field];\n    }\n    else {\n        value = record[field];\n    }\n    return value;\n}\n/**\n * 两个包围盒是否相交\n * @param box1 包围盒1\n * @param box2 包围盒2\n * @ignore\n */\nexport function intersectRect(box1, box2) {\n    return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n}\n/**\n * 获取包围盒内的图表元素\n * @param view View/Chart\n * @param box 包围盒\n * @ignore\n */\nexport function getIntersectElements(view, box) {\n    var elements = getElements(view);\n    var rst = [];\n    each(elements, function (el) {\n        var shape = el.shape;\n        var shapeBBox = shape.getCanvasBBox();\n        if (intersectRect(box, shapeBBox)) {\n            rst.push(el);\n        }\n    });\n    return rst;\n}\nfunction pathToPoints(path) {\n    var points = [];\n    each(path, function (seg) {\n        var command = seg[0];\n        if (command !== 'A') {\n            for (var i = 1; i < seg.length; i = i + 2) {\n                points.push([seg[i], seg[i + 1]]);\n            }\n        }\n        else {\n            var length_1 = seg.length;\n            points.push([seg[length_1 - 2], seg[length_1 - 1]]);\n        }\n    });\n    return points;\n}\n/**\n * 获取包围盒内的图表元素\n * @param view View/Chart\n * @param path 路径\n * @ignore\n */\nexport function getElementsByPath(view, path) {\n    var elements = getElements(view);\n    var points = pathToPoints(path);\n    var rst = elements.filter(function (el) {\n        var shape = el.shape;\n        var shapePoints;\n        if (shape.get('type') === 'path') {\n            shapePoints = pathToPoints(shape.attr('path'));\n        }\n        else {\n            var shapeBBox = shape.getCanvasBBox();\n            shapePoints = toPoints(shapeBBox);\n        }\n        return isPolygonsIntersect(points, shapePoints);\n    });\n    return rst;\n}\n/**\n * 获取当前 View 的所有组件\n * @param view View/Chart\n * @ignore\n */\nexport function getComponents(view) {\n    return view.getComponents().map(function (co) { return co.component; });\n}\n/** @ignore */\nexport function distance(p1, p2) {\n    var dx = p2.x - p1.x;\n    var dy = p2.y - p1.y;\n    return Math.sqrt(dx * dx + dy * dy);\n}\n/** @ignore */\nexport function getSpline(points, z) {\n    if (points.length <= 2) {\n        return getLinePath(points, false);\n    }\n    var first = points[0];\n    var arr = [];\n    each(points, function (point) {\n        arr.push(point.x);\n        arr.push(point.y);\n    });\n    var path = catmullRom2bezier(arr, z, null);\n    path.unshift(['M', first.x, first.y]);\n    return path;\n}\n/**\n * 检测点是否在包围盒内\n * @param box 包围盒\n * @param point 点\n * @ignore\n */\nexport function isInBox(box, point) {\n    return box.x <= point.x && box.maxX >= point.x && box.y <= point.y && box.maxY > point.y;\n}\n/**\n * 获取同 view 同一级的 views\n * @param view 当前 view\n * @returns 同一级的 views\n * @ignore\n */\nexport function getSilbings(view) {\n    var parent = view.parent;\n    var siblings = null;\n    if (parent) {\n        siblings = parent.views.filter(function (sub) { return sub !== view; });\n    }\n    return siblings;\n}\nfunction point2Normalize(view, point) {\n    var coord = view.getCoordinate();\n    return coord.invert(point);\n}\n/**\n * 将 view 上的一点转换成另一个 view 的点\n * @param view 当前的 view\n * @param sibling 同一层级的 view\n * @param point 指定点\n * @ignore\n */\nexport function getSiblingPoint(view, sibling, point) {\n    var normalPoint = point2Normalize(view, point);\n    return sibling.getCoordinate().convert(normalPoint);\n}\n/**\n * 是否在记录中，临时因为所有的 view 中的数据不是引用，而使用的方法\n * 不同 view 上对数据的引用不相等，导致无法直接用 includes\n * 假设 x, y 值相等时是同一条数据，这个假设不完全正确，而改成 isEqual 则成本太高\n * 后面改成同一个引用时可以修改回来\n * @param records\n * @param record\n * @param xFiled\n * @param yField\n * @returns\n * @ignore\n */\nexport function isInRecords(records, record, xFiled, yField) {\n    var isIn = false;\n    each(records, function (r) {\n        if (r[xFiled] === record[xFiled] && r[yField] === record[yField]) {\n            isIn = true;\n            return false;\n        }\n    });\n    return isIn;\n}\n// 级联获取 field 对应的 scale，如果 view 上没有，遍历子 view\nexport function getScaleByField(view, field) {\n    var scale = view.getScaleByField(field);\n    if (!scale && view.views) {\n        each(view.views, function (subView) {\n            scale = getScaleByField(subView, field);\n            if (scale) {\n                return false; // 终止循环\n            }\n        });\n    }\n    return scale;\n}\n//# sourceMappingURL=util.js.map","import { each, get } from '@antv/util';\nimport { getComponents, isInBox } from './action/util';\n/**\n * 交互的上下文\n */\nvar Context = /** @class */ (function () {\n    function Context(view) {\n        /** 当前所有的 Action */\n        this.actions = [];\n        /** 当前事件对象 */\n        this.event = null;\n        this.cacheMap = {};\n        this.view = view;\n    }\n    /**\n     * 缓存信息\n     * @param params 缓存的字段\n     *  - 如果一个字段则获取缓存\n     *  - 两个字段则设置缓存\n     */\n    Context.prototype.cache = function () {\n        var params = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n        }\n        if (params.length === 1) {\n            return this.cacheMap[params[0]];\n        }\n        else if (params.length === 2) {\n            this.cacheMap[params[0]] = params[1];\n        }\n    };\n    /**\n     * 获取 Action\n     * @param name Action 的名称\n     */\n    Context.prototype.getAction = function (name) {\n        return this.actions.find(function (action) { return action.name === name; });\n    };\n    /**\n     * 获取 Action\n     * @param action Action 对象\n     */\n    Context.prototype.addAction = function (action) {\n        this.actions.push(action);\n    };\n    /**\n     * 移除 Action\n     * @param action Action 对象\n     */\n    Context.prototype.removeAction = function (action) {\n        var actions = this.actions;\n        var index = this.actions.indexOf(action);\n        if (index >= 0) {\n            actions.splice(index, 1);\n        }\n    };\n    /**\n     * 获取当前的点\n     */\n    Context.prototype.getCurrentPoint = function () {\n        var event = this.event;\n        if (event) {\n            if (event.target instanceof HTMLElement) {\n                var canvas = this.view.getCanvas();\n                var point = canvas.getPointByClient(event.clientX, event.clientY);\n                return point;\n            }\n            else {\n                return {\n                    x: event.x,\n                    y: event.y,\n                };\n            }\n        }\n        return null;\n    };\n    /**\n     * 获取当前 shape\n     * @returns current shape\n     */\n    Context.prototype.getCurrentShape = function () {\n        return get(this.event, ['gEvent', 'shape']);\n    };\n    /**\n     * 当前的触发是否在 View 内\n     */\n    Context.prototype.isInPlot = function () {\n        var point = this.getCurrentPoint();\n        if (point) {\n            return this.view.isPointInPlot(point);\n        }\n        return false;\n    };\n    /**\n     * 是否在指定的图形内\n     * @param name shape 的 name\n     */\n    Context.prototype.isInShape = function (name) {\n        var shape = this.getCurrentShape(); // 不再考虑在 shape 的 parent 内的情况\n        if (shape) {\n            return shape.get('name') === name;\n        }\n        return false;\n    };\n    /**\n     * 当前的触发是组件内部\n     * @param name 组件名，可以为空\n     */\n    Context.prototype.isInComponent = function (name) {\n        var components = getComponents(this.view);\n        var point = this.getCurrentPoint();\n        if (point) {\n            return !!components.find(function (component) {\n                var bbox = component.getBBox();\n                if (name) {\n                    return component.get('name') === name && isInBox(bbox, point);\n                }\n                else {\n                    return isInBox(bbox, point);\n                }\n            });\n        }\n        return false;\n    };\n    /**\n     * 销毁\n     */\n    Context.prototype.destroy = function () {\n        this.view = null;\n        this.event = null;\n        // 先销毁 action 再清空，一边遍历，一边删除，所以数组需要更新引用\n        each(this.actions.slice(), function (action) {\n            action.destroy();\n        });\n        this.actions = null;\n        this.cacheMap = null;\n    };\n    return Context;\n}());\nexport default Context;\n//# sourceMappingURL=context.js.map","/**\n * 交互的基类。\n */\nvar Interaction = /** @class */ (function () {\n    function Interaction(view, cfg) {\n        this.view = view;\n        this.cfg = cfg;\n    }\n    /**\n     * 初始化。\n     */\n    Interaction.prototype.init = function () {\n        this.initEvents();\n    };\n    /**\n     * 绑定事件\n     */\n    Interaction.prototype.initEvents = function () { };\n    /**\n     * 销毁事件\n     */\n    Interaction.prototype.clearEvents = function () { };\n    /**\n     * 销毁。\n     */\n    Interaction.prototype.destroy = function () {\n        this.clearEvents();\n    };\n    return Interaction;\n}());\nexport default Interaction;\n//# sourceMappingURL=interaction.js.map","import { __extends } from \"tslib\";\nimport { each, isArray, isFunction, isString, debounce, throttle } from '@antv/util';\nimport { createAction, createCallbackAction } from './action/register';\nimport InteractionContext from './context';\nimport Interaction from './interaction';\n// 将字符串转换成 action\nfunction parseAction(actionStr, context) {\n    var arr = actionStr.split(':');\n    var actionName = arr[0];\n    // 如果已经初始化过 action ，则直接引用之前的 action\n    var action = context.getAction(actionName) || createAction(actionName, context);\n    if (!action) {\n        throw new Error(\"There is no action named \" + actionName);\n    }\n    var methodName = arr[1];\n    return {\n        action: action,\n        methodName: methodName,\n    };\n}\n// 执行 Action\nfunction executeAction(actionObject) {\n    var action = actionObject.action, methodName = actionObject.methodName;\n    if (action[methodName]) {\n        action[methodName]();\n    }\n    else {\n        throw new Error(\"Action(\" + action.name + \") doesn't have a method called \" + methodName);\n    }\n}\nvar STEP_NAMES = {\n    START: 'start',\n    SHOW_ENABLE: 'showEnable',\n    END: 'end',\n    ROLLBACK: 'rollback',\n    PROCESSING: 'processing',\n};\n/**\n * 支持语法的交互类\n */\nvar GrammarInteraction = /** @class */ (function (_super) {\n    __extends(GrammarInteraction, _super);\n    function GrammarInteraction(view, steps) {\n        var _this = _super.call(this, view, steps) || this;\n        _this.callbackCaches = {};\n        // 某个触发和反馈在本环节是否执行或\n        _this.emitCaches = {};\n        _this.steps = steps;\n        return _this;\n    }\n    /**\n     * 初始化\n     */\n    GrammarInteraction.prototype.init = function () {\n        this.initContext();\n        _super.prototype.init.call(this);\n    };\n    /**\n     * 清理资源\n     */\n    GrammarInteraction.prototype.destroy = function () {\n        _super.prototype.destroy.call(this); // 先清理事件\n        this.steps = null;\n        if (this.context) {\n            this.context.destroy();\n            this.context = null;\n        }\n        this.callbackCaches = null;\n        this.view = null;\n    };\n    /**\n     * 绑定事件\n     */\n    GrammarInteraction.prototype.initEvents = function () {\n        var _this = this;\n        each(this.steps, function (stepArr, stepName) {\n            each(stepArr, function (step) {\n                var callback = _this.getActionCallback(stepName, step);\n                if (callback) {\n                    // 如果存在 callback，才绑定，有时候会出现无 callback 的情况\n                    _this.bindEvent(step.trigger, callback);\n                }\n            });\n        });\n    };\n    /**\n     * 清理绑定的事件\n     */\n    GrammarInteraction.prototype.clearEvents = function () {\n        var _this = this;\n        each(this.steps, function (stepArr, stepName) {\n            each(stepArr, function (step) {\n                var callback = _this.getActionCallback(stepName, step);\n                if (callback) {\n                    _this.offEvent(step.trigger, callback);\n                }\n            });\n        });\n    };\n    // 初始化上下文，并初始化 action\n    GrammarInteraction.prototype.initContext = function () {\n        var view = this.view;\n        var context = new InteractionContext(view);\n        this.context = context;\n        var steps = this.steps;\n        // 生成具体的 Action\n        each(steps, function (subSteps) {\n            each(subSteps, function (step) {\n                if (isFunction(step.action)) {\n                    // 如果传入回调函数，则直接生成 CallbackAction\n                    step.actionObject = {\n                        action: createCallbackAction(step.action, context),\n                        methodName: 'execute',\n                    };\n                }\n                else if (isString(step.action)) {\n                    // 如果是字符串\n                    step.actionObject = parseAction(step.action, context);\n                }\n                else if (isArray(step.action)) {\n                    // 如果是数组\n                    var actionArr = step.action;\n                    step.actionObject = [];\n                    each(actionArr, function (actionStr) {\n                        step.actionObject.push(parseAction(actionStr, context));\n                    });\n                }\n                // 如果 action 既不是字符串，也不是函数，则不会生成 actionObject\n            });\n        });\n    };\n    // 是否允许指定阶段名称执行\n    GrammarInteraction.prototype.isAllowStep = function (stepName) {\n        var currentStepName = this.currentStepName;\n        var steps = this.steps;\n        // 相同的阶段允许同时执行\n        if (currentStepName === stepName) {\n            return true;\n        }\n        if (stepName === STEP_NAMES.SHOW_ENABLE) {\n            // 示能在整个过程中都可用\n            return true;\n        }\n        if (stepName === STEP_NAMES.PROCESSING) {\n            // 只有当前是 start 时，才允许 processing\n            return currentStepName === STEP_NAMES.START;\n        }\n        if (stepName === STEP_NAMES.START) {\n            // 如果当前是 processing，则无法 start，必须等待 end 后才能执行\n            return currentStepName !== STEP_NAMES.PROCESSING;\n        }\n        if (stepName === STEP_NAMES.END) {\n            return currentStepName === STEP_NAMES.PROCESSING || currentStepName === STEP_NAMES.START;\n        }\n        if (stepName === STEP_NAMES.ROLLBACK) {\n            if (steps[STEP_NAMES.END]) {\n                // 如果定义了 end, 只有 end 时才允许回滚\n                return currentStepName === STEP_NAMES.END;\n            }\n            else if (currentStepName === STEP_NAMES.START) {\n                // 如果未定义 end, 则判断是否是开始\n                return true;\n            }\n        }\n        return false;\n    };\n    // 具体的指定阶段是否允许执行\n    GrammarInteraction.prototype.isAllowExecute = function (stepName, step) {\n        if (this.isAllowStep(stepName)) {\n            var key = this.getKey(stepName, step);\n            // 如果是在本环节内仅允许触发一次，同时已经触发过，则不允许再触发\n            if (step.once && this.emitCaches[key]) {\n                return false;\n            }\n            // 如果是允许的阶段，则验证 isEnable 方法\n            if (step.isEnable) {\n                return step.isEnable(this.context);\n            }\n            return true; // 如果没有 isEnable 则允许执行\n        }\n        return false;\n    };\n    GrammarInteraction.prototype.enterStep = function (stepName) {\n        this.currentStepName = stepName;\n        this.emitCaches = {}; // 清除所有本环节触发的缓存\n    };\n    // 执行完某个触发和反馈（子环节）\n    GrammarInteraction.prototype.afterExecute = function (stepName, step) {\n        // show enable 不计入正常的流程，其他情况则设置当前的 step\n        if (stepName !== STEP_NAMES.SHOW_ENABLE && this.currentStepName !== stepName) {\n            this.enterStep(stepName);\n        }\n        var key = this.getKey(stepName, step);\n        // 一旦执行，则缓存标记为，一直保持到跳出改环节\n        this.emitCaches[key] = true;\n    };\n    // 获取某个环节的唯一的键值\n    GrammarInteraction.prototype.getKey = function (stepName, step) {\n        return stepName + step.trigger + step.action;\n    };\n    // 获取 step 的回调函数，如果已经生成，则直接返回，如果未生成，则创建\n    GrammarInteraction.prototype.getActionCallback = function (stepName, step) {\n        var _this = this;\n        var context = this.context;\n        var callbackCaches = this.callbackCaches;\n        var actionObject = step.actionObject;\n        if (step.action && actionObject) {\n            var key = this.getKey(stepName, step);\n            if (!callbackCaches[key]) {\n                // 动态生成执行的方法，执行对应 action 的名称\n                var actionCallback = function (event) {\n                    context.event = event; // 保证检测时的 event\n                    if (_this.isAllowExecute(stepName, step)) {\n                        // 如果是数组时，则依次执行\n                        if (isArray(actionObject)) {\n                            each(actionObject, function (obj) {\n                                context.event = event; // 可能触发新的事件，保证执行前的 context.event 是正确的\n                                executeAction(obj);\n                            });\n                        }\n                        else {\n                            context.event = event; // 保证执行前的 context.event 是正确的\n                            executeAction(actionObject);\n                        }\n                        _this.afterExecute(stepName, step);\n                        if (step.callback) {\n                            context.event = event; // 保证执行前的 context.event 是正确的\n                            step.callback(context);\n                        }\n                    }\n                    else {\n                        // 如果未通过验证，则事件不要绑定在上面\n                        context.event = null;\n                    }\n                };\n                // 如果设置了 debounce\n                if (step.debounce) {\n                    callbackCaches[key] = debounce(actionCallback, step.debounce.wait, step.debounce.immediate);\n                }\n                else if (step.throttle) {\n                    // 设置 throttle\n                    callbackCaches[key] = throttle(actionCallback, step.throttle.wait, {\n                        leading: step.throttle.leading,\n                        trailing: step.throttle.trailing,\n                    });\n                }\n                else {\n                    // 直接设置\n                    callbackCaches[key] = actionCallback;\n                }\n            }\n            return callbackCaches[key];\n        }\n        return null;\n    };\n    GrammarInteraction.prototype.bindEvent = function (eventName, callback) {\n        var nameArr = eventName.split(':');\n        if (nameArr[0] === 'window') {\n            window.addEventListener(nameArr[1], callback);\n        }\n        else if (nameArr[0] === 'document') {\n            document.addEventListener(nameArr[1], callback);\n        }\n        else {\n            this.view.on(eventName, callback);\n        }\n    };\n    GrammarInteraction.prototype.offEvent = function (eventName, callback) {\n        var nameArr = eventName.split(':');\n        if (nameArr[0] === 'window') {\n            window.removeEventListener(nameArr[1], callback);\n        }\n        else if (nameArr[0] === 'document') {\n            document.removeEventListener(nameArr[1], callback);\n        }\n        else {\n            this.view.off(eventName, callback);\n        }\n    };\n    return GrammarInteraction;\n}(Interaction));\nexport default GrammarInteraction;\n//# sourceMappingURL=grammar-interaction.js.map","import { clone, isPlainObject, lowerCase, mix } from '@antv/util';\nimport GrammarInteraction from './grammar-interaction';\nvar Interactions = {};\n/**\n * 根据交互行为名字获取对应的交互类\n * @param name 交互名字\n * @returns 交互类\n */\nexport function getInteraction(name) {\n    return Interactions[lowerCase(name)];\n}\n/**\n * 注册交互行为\n * @param name 交互行为名字\n * @param interaction 交互类\n */\nexport function registerInteraction(name, interaction) {\n    Interactions[lowerCase(name)] = interaction;\n}\n/**\n * 创建交互实例\n * @param name 交互名\n * @param view 交互应用的 View 实例\n * @param cfg 交互行为配置\n */\nexport function createInteraction(name, view, cfg) {\n    var interaciton = getInteraction(name);\n    if (!interaciton) {\n        return null;\n    }\n    if (isPlainObject(interaciton)) {\n        // 如果不 clone 则会多个 interaction 实例共享 step 的定义\n        var steps = mix(clone(interaciton), cfg);\n        return new GrammarInteraction(view, steps);\n    }\n    else {\n        var cls = interaciton;\n        return new cls(view, cfg);\n    }\n}\nexport { default as Interaction } from './interaction';\nexport { Action, registerAction, getActionClass } from './action';\n//# sourceMappingURL=index.js.map","import { __assign } from \"tslib\";\nimport * as TOOLTIP_CSS_CONST from '@antv/component/lib/tooltip/css-const';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport { getAngle } from '../util/graphics';\n/**\n * 根据主题样式表生成主题结构\n * @param styleSheet 主题样式表\n */\nexport function createThemeByStylesheet(styleSheet) {\n    var _a;\n    var shapeStyles = {\n        point: {\n            default: {\n                fill: styleSheet.pointFillColor,\n                r: styleSheet.pointSize,\n                stroke: styleSheet.pointBorderColor,\n                lineWidth: styleSheet.pointBorder,\n                fillOpacity: styleSheet.pointFillOpacity,\n            },\n            active: {\n                stroke: styleSheet.pointActiveBorderColor,\n                lineWidth: styleSheet.pointActiveBorder,\n            },\n            selected: {\n                stroke: styleSheet.pointSelectedBorderColor,\n                lineWidth: styleSheet.pointSelectedBorder,\n            },\n            inactive: {\n                fillOpacity: styleSheet.pointInactiveFillOpacity,\n                strokeOpacity: styleSheet.pointInactiveBorderOpacity,\n            },\n        },\n        hollowPoint: {\n            default: {\n                fill: styleSheet.hollowPointFillColor,\n                lineWidth: styleSheet.hollowPointBorder,\n                stroke: styleSheet.hollowPointBorderColor,\n                strokeOpacity: styleSheet.hollowPointBorderOpacity,\n                r: styleSheet.hollowPointSize,\n            },\n            active: {\n                stroke: styleSheet.hollowPointActiveBorderColor,\n                strokeOpacity: styleSheet.hollowPointActiveBorderOpacity,\n            },\n            selected: {\n                lineWidth: styleSheet.hollowPointSelectedBorder,\n                stroke: styleSheet.hollowPointSelectedBorderColor,\n                strokeOpacity: styleSheet.hollowPointSelectedBorderOpacity,\n            },\n            inactive: {\n                strokeOpacity: styleSheet.hollowPointInactiveBorderOpacity,\n            },\n        },\n        area: {\n            default: {\n                fill: styleSheet.areaFillColor,\n                fillOpacity: styleSheet.areaFillOpacity,\n                stroke: null,\n            },\n            active: {\n                fillOpacity: styleSheet.areaActiveFillOpacity,\n            },\n            selected: {\n                fillOpacity: styleSheet.areaSelectedFillOpacity,\n            },\n            inactive: {\n                fillOpacity: styleSheet.areaInactiveFillOpacity,\n            },\n        },\n        hollowArea: {\n            default: {\n                fill: null,\n                stroke: styleSheet.hollowAreaBorderColor,\n                lineWidth: styleSheet.hollowAreaBorder,\n                strokeOpacity: styleSheet.hollowAreaBorderOpacity,\n            },\n            active: {\n                fill: null,\n                lineWidth: styleSheet.hollowAreaActiveBorder,\n            },\n            selected: {\n                fill: null,\n                lineWidth: styleSheet.hollowAreaSelectedBorder,\n            },\n            inactive: {\n                strokeOpacity: styleSheet.hollowAreaInactiveBorderOpacity,\n            },\n        },\n        interval: {\n            default: {\n                fill: styleSheet.intervalFillColor,\n                fillOpacity: styleSheet.intervalFillOpacity,\n            },\n            active: {\n                stroke: styleSheet.intervalActiveBorderColor,\n                lineWidth: styleSheet.intervalActiveBorder,\n            },\n            selected: {\n                stroke: styleSheet.intervalSelectedBorderColor,\n                lineWidth: styleSheet.intervalSelectedBorder,\n            },\n            inactive: {\n                fillOpacity: styleSheet.intervalInactiveFillOpacity,\n                strokeOpacity: styleSheet.intervalInactiveBorderOpacity,\n            },\n        },\n        hollowInterval: {\n            default: {\n                fill: styleSheet.hollowIntervalFillColor,\n                stroke: styleSheet.hollowIntervalBorderColor,\n                lineWidth: styleSheet.hollowIntervalBorder,\n                strokeOpacity: styleSheet.hollowIntervalBorderOpacity,\n            },\n            active: {\n                stroke: styleSheet.hollowIntervalActiveBorderColor,\n                lineWidth: styleSheet.hollowIntervalActiveBorder,\n                strokeOpacity: styleSheet.hollowIntervalActiveBorderOpacity,\n            },\n            selected: {\n                stroke: styleSheet.hollowIntervalSelectedBorderColor,\n                lineWidth: styleSheet.hollowIntervalSelectedBorder,\n                strokeOpacity: styleSheet.hollowIntervalSelectedBorderOpacity,\n            },\n            inactive: {\n                stroke: styleSheet.hollowIntervalInactiveBorderColor,\n                lineWidth: styleSheet.hollowIntervalInactiveBorder,\n                strokeOpacity: styleSheet.hollowIntervalInactiveBorderOpacity,\n            },\n        },\n        line: {\n            default: {\n                stroke: styleSheet.lineBorderColor,\n                lineWidth: styleSheet.lineBorder,\n                strokeOpacity: styleSheet.lineBorderOpacity,\n                fill: null,\n                lineAppendWidth: 10,\n            },\n            active: {\n                lineWidth: styleSheet.lineActiveBorder,\n            },\n            selected: {\n                lineWidth: styleSheet.lineSelectedBorder,\n            },\n            inactive: {\n                strokeOpacity: styleSheet.lineInactiveBorderOpacity,\n            },\n        },\n    };\n    var axisStyles = {\n        title: {\n            autoRotate: true,\n            position: 'center',\n            spacing: styleSheet.axisTitleSpacing,\n            style: {\n                fill: styleSheet.axisTitleTextFillColor,\n                fontSize: styleSheet.axisTitleTextFontSize,\n                lineHeight: styleSheet.axisTitleTextLineHeight,\n                textBaseline: 'middle',\n                fontFamily: styleSheet.fontFamily,\n            },\n        },\n        label: {\n            autoRotate: true,\n            autoEllipsis: true,\n            autoHide: true,\n            offset: styleSheet.axisLabelOffset,\n            style: {\n                fill: styleSheet.axisLabelFillColor,\n                fontSize: styleSheet.axisLabelFontSize,\n                lineHeight: styleSheet.axisLabelLineHeight,\n                fontFamily: styleSheet.fontFamily,\n            },\n        },\n        line: {\n            style: {\n                lineWidth: styleSheet.axisLineBorder,\n                stroke: styleSheet.axisLineBorderColor,\n            },\n        },\n        tickLine: {\n            style: {\n                lineWidth: styleSheet.axisTickLineBorder,\n                stroke: styleSheet.axisTickLineBorderColor,\n            },\n            alignTick: true,\n            length: styleSheet.axisTickLineLength,\n        },\n        subTickLine: null,\n        animate: true,\n    };\n    var axisGridStyles = {\n        line: {\n            type: 'line',\n            style: {\n                stroke: styleSheet.axisGridBorderColor,\n                lineWidth: styleSheet.axisGridBorder,\n                lineDash: styleSheet.axisGridLineDash,\n            },\n        },\n        alignTick: true,\n        animate: true,\n    };\n    var legendStyles = {\n        title: null,\n        marker: {\n            symbol: 'circle',\n            spacing: styleSheet.legendMarkerSpacing,\n            style: {\n                r: styleSheet.legendCircleMarkerSize,\n                fill: styleSheet.legendMarkerColor,\n            },\n        },\n        itemName: {\n            spacing: 5,\n            style: {\n                fill: styleSheet.legendItemNameFillColor,\n                fontFamily: styleSheet.fontFamily,\n                fontSize: styleSheet.legendItemNameFontSize,\n                lineHeight: styleSheet.legendItemNameLineHeight,\n                fontWeight: styleSheet.legendItemNameFontWeight,\n                textAlign: 'start',\n                textBaseline: 'middle',\n            },\n        },\n        flipPage: true,\n        animate: false,\n        maxItemWidth: 200,\n        itemSpacing: styleSheet.legendItemSpacing,\n        itemMarginBottom: styleSheet.legendItemMarginBottom,\n        padding: styleSheet.legendPadding,\n    };\n    return {\n        background: styleSheet.backgroundColor,\n        defaultColor: styleSheet.brandColor,\n        padding: 'auto',\n        fontFamily: styleSheet.fontFamily,\n        /** 一般柱状图宽度占比 */\n        columnWidthRatio: 1 / 2,\n        /** 柱状图最大宽度 */\n        maxColumnWidth: null,\n        /** 柱状图最小宽度 */\n        minColumnWidth: null,\n        /** 玫瑰图占比 */\n        roseWidthRatio: 0.9999999,\n        /** 多层饼图/环图占比 */\n        multiplePieWidthRatio: 1 / 1.3,\n        colors10: styleSheet.paletteQualitative10,\n        colors20: styleSheet.paletteQualitative20,\n        shapes: {\n            point: [\n                'hollow-circle',\n                'hollow-square',\n                'hollow-bowtie',\n                'hollow-diamond',\n                'hollow-hexagon',\n                'hollow-triangle',\n                'hollow-triangle-down',\n                'circle',\n                'square',\n                'bowtie',\n                'diamond',\n                'hexagon',\n                'triangle',\n                'triangle-down',\n                'cross',\n                'tick',\n                'plus',\n                'hyphen',\n                'line',\n            ],\n            line: ['line', 'dash', 'dot', 'smooth'],\n            area: ['area', 'smooth', 'line', 'smooth-line'],\n            interval: ['rect', 'hollow-rect', 'line', 'tick'],\n        },\n        sizes: [1, 10],\n        geometries: {\n            interval: {\n                rect: {\n                    default: {\n                        style: shapeStyles.interval.default,\n                    },\n                    active: {\n                        style: shapeStyles.interval.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.interval.inactive,\n                    },\n                    selected: {\n                        style: function (element) {\n                            var coordinate = element.geometry.coordinate;\n                            if (coordinate.isPolar && coordinate.isTransposed) {\n                                var _a = getAngle(element.getModel(), coordinate), startAngle = _a.startAngle, endAngle = _a.endAngle;\n                                var middleAngle = (startAngle + endAngle) / 2;\n                                var r = 7.5;\n                                var x = r * Math.cos(middleAngle);\n                                var y = r * Math.sin(middleAngle);\n                                return {\n                                    matrix: ext.transform(null, [['t', x, y]]),\n                                };\n                            }\n                            return shapeStyles.interval.selected;\n                        },\n                    },\n                },\n                'hollow-rect': {\n                    default: {\n                        style: shapeStyles.hollowInterval.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowInterval.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowInterval.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowInterval.selected,\n                    },\n                },\n                line: {\n                    default: {\n                        style: shapeStyles.hollowInterval.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowInterval.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowInterval.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowInterval.selected,\n                    },\n                },\n                tick: {\n                    default: {\n                        style: shapeStyles.hollowInterval.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowInterval.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowInterval.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowInterval.selected,\n                    },\n                },\n                funnel: {\n                    default: {\n                        style: shapeStyles.interval.default,\n                    },\n                    active: {\n                        style: shapeStyles.interval.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.interval.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.interval.selected,\n                    },\n                },\n                pyramid: {\n                    default: {\n                        style: shapeStyles.interval.default,\n                    },\n                    active: {\n                        style: shapeStyles.interval.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.interval.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.interval.selected,\n                    },\n                },\n            },\n            line: {\n                line: {\n                    default: {\n                        style: shapeStyles.line.default,\n                    },\n                    active: {\n                        style: shapeStyles.line.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.line.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.line.selected,\n                    },\n                },\n                dot: {\n                    default: {\n                        style: __assign(__assign({}, shapeStyles.line.default), { lineDash: [1, 1] }),\n                    },\n                    active: {\n                        style: __assign(__assign({}, shapeStyles.line.active), { lineDash: [1, 1] }),\n                    },\n                    inactive: {\n                        style: __assign(__assign({}, shapeStyles.line.inactive), { lineDash: [1, 1] }),\n                    },\n                    selected: {\n                        style: __assign(__assign({}, shapeStyles.line.selected), { lineDash: [1, 1] }),\n                    },\n                },\n                dash: {\n                    default: {\n                        style: __assign(__assign({}, shapeStyles.line.default), { lineDash: [5.5, 1] }),\n                    },\n                    active: {\n                        style: __assign(__assign({}, shapeStyles.line.active), { lineDash: [5.5, 1] }),\n                    },\n                    inactive: {\n                        style: __assign(__assign({}, shapeStyles.line.inactive), { lineDash: [5.5, 1] }),\n                    },\n                    selected: {\n                        style: __assign(__assign({}, shapeStyles.line.selected), { lineDash: [5.5, 1] }),\n                    },\n                },\n                smooth: {\n                    default: {\n                        style: shapeStyles.line.default,\n                    },\n                    active: {\n                        style: shapeStyles.line.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.line.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.line.selected,\n                    },\n                },\n                hv: {\n                    default: {\n                        style: shapeStyles.line.default,\n                    },\n                    active: {\n                        style: shapeStyles.line.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.line.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.line.selected,\n                    },\n                },\n                vh: {\n                    default: {\n                        style: shapeStyles.line.default,\n                    },\n                    active: {\n                        style: shapeStyles.line.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.line.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.line.selected,\n                    },\n                },\n                hvh: {\n                    default: {\n                        style: shapeStyles.line.default,\n                    },\n                    active: {\n                        style: shapeStyles.line.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.line.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.line.selected,\n                    },\n                },\n                vhv: {\n                    default: {\n                        style: shapeStyles.line.default,\n                    },\n                    active: {\n                        style: shapeStyles.line.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.line.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.line.selected,\n                    },\n                },\n            },\n            polygon: {\n                polygon: {\n                    default: {\n                        style: shapeStyles.interval.default,\n                    },\n                    active: {\n                        style: shapeStyles.interval.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.interval.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.interval.selected,\n                    },\n                },\n            },\n            point: {\n                circle: {\n                    default: {\n                        style: shapeStyles.point.default,\n                    },\n                    active: {\n                        style: shapeStyles.point.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.point.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.point.selected,\n                    },\n                },\n                square: {\n                    default: {\n                        style: shapeStyles.point.default,\n                    },\n                    active: {\n                        style: shapeStyles.point.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.point.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.point.selected,\n                    },\n                },\n                bowtie: {\n                    default: {\n                        style: shapeStyles.point.default,\n                    },\n                    active: {\n                        style: shapeStyles.point.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.point.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.point.selected,\n                    },\n                },\n                diamond: {\n                    default: {\n                        style: shapeStyles.point.default,\n                    },\n                    active: {\n                        style: shapeStyles.point.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.point.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.point.selected,\n                    },\n                },\n                hexagon: {\n                    default: {\n                        style: shapeStyles.point.default,\n                    },\n                    active: {\n                        style: shapeStyles.point.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.point.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.point.selected,\n                    },\n                },\n                triangle: {\n                    default: {\n                        style: shapeStyles.point.default,\n                    },\n                    active: {\n                        style: shapeStyles.point.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.point.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.point.selected,\n                    },\n                },\n                'triangle-down': {\n                    default: {\n                        style: shapeStyles.point.default,\n                    },\n                    active: {\n                        style: shapeStyles.point.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.point.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.point.selected,\n                    },\n                },\n                'hollow-circle': {\n                    default: {\n                        style: shapeStyles.hollowPoint.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowPoint.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowPoint.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowPoint.selected,\n                    },\n                },\n                'hollow-square': {\n                    default: {\n                        style: shapeStyles.hollowPoint.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowPoint.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowPoint.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowPoint.selected,\n                    },\n                },\n                'hollow-bowtie': {\n                    default: {\n                        style: shapeStyles.hollowPoint.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowPoint.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowPoint.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowPoint.selected,\n                    },\n                },\n                'hollow-diamond': {\n                    default: {\n                        style: shapeStyles.hollowPoint.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowPoint.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowPoint.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowPoint.selected,\n                    },\n                },\n                'hollow-hexagon': {\n                    default: {\n                        style: shapeStyles.hollowPoint.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowPoint.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowPoint.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowPoint.selected,\n                    },\n                },\n                'hollow-triangle': {\n                    default: {\n                        style: shapeStyles.hollowPoint.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowPoint.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowPoint.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowPoint.selected,\n                    },\n                },\n                'hollow-triangle-down': {\n                    default: {\n                        style: shapeStyles.hollowPoint.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowPoint.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowPoint.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowPoint.selected,\n                    },\n                },\n                cross: {\n                    default: {\n                        style: shapeStyles.hollowPoint.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowPoint.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowPoint.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowPoint.selected,\n                    },\n                },\n                tick: {\n                    default: {\n                        style: shapeStyles.hollowPoint.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowPoint.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowPoint.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowPoint.selected,\n                    },\n                },\n                plus: {\n                    default: {\n                        style: shapeStyles.hollowPoint.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowPoint.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowPoint.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowPoint.selected,\n                    },\n                },\n                hyphen: {\n                    default: {\n                        style: shapeStyles.hollowPoint.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowPoint.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowPoint.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowPoint.selected,\n                    },\n                },\n                line: {\n                    default: {\n                        style: shapeStyles.hollowPoint.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowPoint.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowPoint.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowPoint.selected,\n                    },\n                },\n            },\n            area: {\n                area: {\n                    default: {\n                        style: shapeStyles.area.default,\n                    },\n                    active: {\n                        style: shapeStyles.area.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.area.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.area.selected,\n                    },\n                },\n                smooth: {\n                    default: {\n                        style: shapeStyles.area.default,\n                    },\n                    active: {\n                        style: shapeStyles.area.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.area.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.area.selected,\n                    },\n                },\n                line: {\n                    default: {\n                        style: shapeStyles.hollowArea.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowArea.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowArea.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowArea.selected,\n                    },\n                },\n                'smooth-line': {\n                    default: {\n                        style: shapeStyles.hollowArea.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowArea.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowArea.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowArea.selected,\n                    },\n                },\n            },\n            schema: {\n                candle: {\n                    default: {\n                        style: shapeStyles.hollowInterval.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowInterval.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowInterval.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowInterval.selected,\n                    },\n                },\n                box: {\n                    default: {\n                        style: shapeStyles.hollowInterval.default,\n                    },\n                    active: {\n                        style: shapeStyles.hollowInterval.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.hollowInterval.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.hollowInterval.selected,\n                    },\n                },\n            },\n            edge: {\n                line: {\n                    default: {\n                        style: shapeStyles.line.default,\n                    },\n                    active: {\n                        style: shapeStyles.line.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.line.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.line.selected,\n                    },\n                },\n                vhv: {\n                    default: {\n                        style: shapeStyles.line.default,\n                    },\n                    active: {\n                        style: shapeStyles.line.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.line.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.line.selected,\n                    },\n                },\n                smooth: {\n                    default: {\n                        style: shapeStyles.line.default,\n                    },\n                    active: {\n                        style: shapeStyles.line.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.line.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.line.selected,\n                    },\n                },\n                arc: {\n                    default: {\n                        style: shapeStyles.line.default,\n                    },\n                    active: {\n                        style: shapeStyles.line.active,\n                    },\n                    inactive: {\n                        style: shapeStyles.line.inactive,\n                    },\n                    selected: {\n                        style: shapeStyles.line.selected,\n                    },\n                },\n            },\n        },\n        components: {\n            axis: {\n                common: axisStyles,\n                top: deepMix({}, axisStyles, {\n                    position: 'top',\n                    grid: null,\n                    title: null,\n                    verticalLimitLength: 1 / 2,\n                }),\n                bottom: deepMix({}, axisStyles, {\n                    position: 'bottom',\n                    grid: null,\n                    title: null,\n                    verticalLimitLength: 1 / 2,\n                }),\n                left: deepMix({}, axisStyles, {\n                    position: 'left',\n                    title: null,\n                    line: null,\n                    tickLine: null,\n                    grid: axisGridStyles,\n                    verticalLimitLength: 1 / 3,\n                }),\n                right: deepMix({}, axisStyles, {\n                    position: 'right',\n                    title: null,\n                    line: null,\n                    tickLine: null,\n                    grid: axisGridStyles,\n                    verticalLimitLength: 1 / 3,\n                }),\n                circle: deepMix({}, axisStyles, {\n                    title: null,\n                    grid: deepMix({}, axisGridStyles, { line: { type: 'line' } }),\n                }),\n                radius: deepMix({}, axisStyles, {\n                    title: null,\n                    grid: deepMix({}, axisGridStyles, { line: { type: 'circle' } }),\n                }),\n            },\n            legend: {\n                common: legendStyles,\n                right: deepMix({}, legendStyles, {\n                    layout: 'vertical',\n                }),\n                left: deepMix({}, legendStyles, {\n                    layout: 'vertical',\n                }),\n                top: deepMix({}, legendStyles, {\n                    layout: 'horizontal',\n                }),\n                bottom: deepMix({}, legendStyles, {\n                    layout: 'horizontal',\n                }),\n                continuous: {\n                    title: null,\n                    background: null,\n                    track: {},\n                    rail: {\n                        type: 'color',\n                        size: styleSheet.sliderRailHeight,\n                        defaultLength: styleSheet.sliderRailWidth,\n                        style: {\n                            fill: styleSheet.sliderRailFillColor,\n                            stroke: styleSheet.sliderRailBorderColor,\n                            lineWidth: styleSheet.sliderRailBorder,\n                        },\n                    },\n                    label: {\n                        align: 'rail',\n                        spacing: 4,\n                        formatter: null,\n                        style: {\n                            fill: styleSheet.sliderLabelTextFillColor,\n                            fontSize: styleSheet.sliderLabelTextFontSize,\n                            lineHeight: styleSheet.sliderLabelTextLineHeight,\n                            textBaseline: 'middle',\n                            fontFamily: styleSheet.fontFamily,\n                        },\n                    },\n                    handler: {\n                        size: styleSheet.sliderHandlerWidth,\n                        style: {\n                            fill: styleSheet.sliderHandlerFillColor,\n                            stroke: styleSheet.sliderHandlerBorderColor,\n                        },\n                    },\n                    slidable: true,\n                    padding: legendStyles.padding,\n                },\n            },\n            tooltip: {\n                showContent: true,\n                follow: true,\n                showCrosshairs: false,\n                showMarkers: true,\n                shared: false,\n                enterable: false,\n                position: 'auto',\n                marker: {\n                    symbol: 'circle',\n                    stroke: '#fff',\n                    shadowBlur: 10,\n                    shadowOffsetX: 0,\n                    shadowOffSetY: 0,\n                    shadowColor: 'rgba(0,0,0,0.09)',\n                    lineWidth: 2,\n                    r: 4,\n                },\n                crosshairs: {\n                    line: {\n                        style: {\n                            stroke: styleSheet.tooltipCrosshairsBorderColor,\n                            lineWidth: styleSheet.tooltipCrosshairsBorder,\n                        },\n                    },\n                    text: null,\n                    textBackground: {\n                        padding: 2,\n                        style: {\n                            fill: 'rgba(0, 0, 0, 0.25)',\n                            lineWidth: 0,\n                            stroke: null,\n                        },\n                    },\n                    follow: false,\n                },\n                // tooltip dom 样式\n                domStyles: (_a = {},\n                    _a[\"\" + TOOLTIP_CSS_CONST.CONTAINER_CLASS] = {\n                        position: 'absolute',\n                        visibility: 'hidden',\n                        zIndex: 8,\n                        transition: 'left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s',\n                        backgroundColor: styleSheet.tooltipContainerFillColor,\n                        opacity: styleSheet.tooltipContainerFillOpacity,\n                        boxShadow: styleSheet.tooltipContainerShadow,\n                        borderRadius: styleSheet.tooltipContainerBorderRadius + \"px\",\n                        color: styleSheet.tooltipTextFillColor,\n                        fontSize: styleSheet.tooltipTextFontSize + \"px\",\n                        fontFamily: styleSheet.fontFamily,\n                        lineHeight: styleSheet.tooltipTextLineHeight + \"px\",\n                        padding: '0 12px 0 12px',\n                    },\n                    _a[\"\" + TOOLTIP_CSS_CONST.TITLE_CLASS] = {\n                        marginBottom: '12px',\n                        marginTop: '12px',\n                    },\n                    _a[\"\" + TOOLTIP_CSS_CONST.LIST_CLASS] = {\n                        margin: 0,\n                        listStyleType: 'none',\n                        padding: 0,\n                    },\n                    _a[\"\" + TOOLTIP_CSS_CONST.LIST_ITEM_CLASS] = {\n                        listStyleType: 'none',\n                        padding: 0,\n                        marginBottom: '12px',\n                        marginTop: '12px',\n                        marginLeft: 0,\n                        marginRight: 0,\n                    },\n                    _a[\"\" + TOOLTIP_CSS_CONST.MARKER_CLASS] = {\n                        width: '8px',\n                        height: '8px',\n                        borderRadius: '50%',\n                        display: 'inline-block',\n                        marginRight: '8px',\n                    },\n                    _a[\"\" + TOOLTIP_CSS_CONST.VALUE_CLASS] = {\n                        display: 'inline-block',\n                        float: 'right',\n                        marginLeft: '30px',\n                    },\n                    _a),\n            },\n            annotation: {\n                arc: {\n                    style: {\n                        stroke: styleSheet.annotationArcBorderColor,\n                        lineWidth: styleSheet.annotationArcBorder,\n                    },\n                    animate: true,\n                },\n                line: {\n                    style: {\n                        stroke: styleSheet.annotationLineBorderColor,\n                        lineDash: styleSheet.annotationLineDash,\n                        lineWidth: styleSheet.annotationLineBorder,\n                    },\n                    text: {\n                        position: 'start',\n                        autoRotate: true,\n                        style: {\n                            fill: styleSheet.annotationTextFillColor,\n                            stroke: styleSheet.annotationTextBorderColor,\n                            lineWidth: styleSheet.annotationTextBorder,\n                            fontSize: styleSheet.annotationTextFontSize,\n                            textAlign: 'start',\n                            fontFamily: styleSheet.fontFamily,\n                            textBaseline: 'bottom',\n                        },\n                    },\n                    animate: true,\n                },\n                text: {\n                    style: {\n                        fill: styleSheet.annotationTextFillColor,\n                        stroke: styleSheet.annotationTextBorderColor,\n                        lineWidth: styleSheet.annotationTextBorder,\n                        fontSize: styleSheet.annotationTextFontSize,\n                        textBaseline: 'middle',\n                        textAlign: 'start',\n                        fontFamily: styleSheet.fontFamily,\n                    },\n                    animate: true,\n                },\n                region: {\n                    top: false,\n                    style: {\n                        lineWidth: styleSheet.annotationRegionBorder,\n                        stroke: styleSheet.annotationRegionBorderColor,\n                        fill: styleSheet.annotationRegionFillColor,\n                        fillOpacity: styleSheet.annotationRegionFillOpacity,\n                    },\n                    animate: true,\n                },\n                image: {\n                    top: false,\n                    animate: true,\n                },\n                dataMarker: {\n                    top: true,\n                    point: {\n                        style: {\n                            r: 3,\n                            stroke: styleSheet.brandColor,\n                            lineWidth: 2,\n                        },\n                    },\n                    line: {\n                        style: {\n                            stroke: styleSheet.annotationLineBorderColor,\n                            lineWidth: styleSheet.annotationLineBorder,\n                        },\n                        length: styleSheet.annotationDataMarkerLineLength,\n                    },\n                    text: {\n                        style: {\n                            textAlign: 'start',\n                            fill: styleSheet.annotationTextFillColor,\n                            stroke: styleSheet.annotationTextBorderColor,\n                            lineWidth: styleSheet.annotationTextBorder,\n                            fontSize: styleSheet.annotationTextFontSize,\n                            fontFamily: styleSheet.fontFamily,\n                        },\n                    },\n                    direction: 'upward',\n                    autoAdjust: true,\n                    animate: true,\n                },\n                dataRegion: {\n                    style: {\n                        region: {\n                            fill: styleSheet.annotationRegionFillColor,\n                            fillOpacity: styleSheet.annotationRegionFillOpacity,\n                        },\n                        text: {\n                            textAlign: 'center',\n                            textBaseline: 'bottom',\n                            fill: styleSheet.annotationTextFillColor,\n                            stroke: styleSheet.annotationTextBorderColor,\n                            lineWidth: styleSheet.annotationTextBorder,\n                            fontSize: styleSheet.annotationTextFontSize,\n                            fontFamily: styleSheet.fontFamily,\n                        },\n                    },\n                    animate: true,\n                },\n            },\n            slider: {\n                common: {\n                    padding: [8, 8, 8, 8],\n                },\n            },\n            scrollbar: {\n                common: {\n                    padding: [8, 8, 8, 8],\n                },\n            },\n        },\n        labels: {\n            offset: 12,\n            style: {\n                fill: styleSheet.labelFillColor,\n                fontSize: styleSheet.labelFontSize,\n                fontFamily: styleSheet.fontFamily,\n                stroke: styleSheet.labelBorderColor,\n                lineWidth: styleSheet.labelBorder,\n            },\n            fillColorDark: styleSheet.labelFillColorDark,\n            fillColorLight: styleSheet.labelFillColorLight,\n            autoRotate: true,\n        },\n        innerLabels: {\n            style: {\n                fill: styleSheet.innerLabelFillColor,\n                fontSize: styleSheet.innerLabelFontSize,\n                fontFamily: styleSheet.fontFamily,\n                stroke: styleSheet.innerLabelBorderColor,\n                lineWidth: styleSheet.innerLabelBorder,\n            },\n            autoRotate: true,\n        },\n        pieLabels: {\n            labelHeight: 14,\n            offset: 30,\n            labelLine: {\n                style: {\n                    lineWidth: styleSheet.labelLineBorder,\n                },\n            },\n            autoRotate: true,\n        },\n    };\n}\n//# sourceMappingURL=theme.js.map","var BLACK_COLORS = {\n    100: '#000',\n    95: '#0D0D0D',\n    85: '#262626',\n    65: '#595959',\n    45: '#8C8C8C',\n    25: '#BFBFBF',\n    15: '#D9D9D9',\n    6: '#F0F0F0',\n};\nvar WHITE_COLORS = {\n    100: '#FFFFFF',\n    95: '#F2F2F2',\n    85: '#D9D9D9',\n    65: '#A6A6A6',\n    45: '#737373',\n    25: '#404040',\n    15: '#262626',\n    6: '#0F0F0F',\n};\nvar QUALITATIVE_10 = [\n    '#5B8FF9',\n    '#5AD8A6',\n    '#5D7092',\n    '#F6BD16',\n    '#E86452',\n    '#6DC8EC',\n    '#945FB9',\n    '#FF9845',\n    '#1E9493',\n    '#FF99C3',\n];\nvar QUALITATIVE_20 = [\n    '#5B8FF9',\n    '#CDDDFD',\n    '#5AD8A6',\n    '#CDF3E4',\n    '#5D7092',\n    '#CED4DE',\n    '#F6BD16',\n    '#FCEBB9',\n    '#E86452',\n    '#F8D0CB',\n    '#6DC8EC',\n    '#D3EEF9',\n    '#945FB9',\n    '#DECFEA',\n    '#FF9845',\n    '#FFE0C7',\n    '#1E9493',\n    '#BBDEDE',\n    '#FF99C3',\n    '#FFE0ED',\n];\nexport var antvLight = {\n    /** 图表背景色 */\n    backgroundColor: 'transparent',\n    /** 主题色 */\n    brandColor: QUALITATIVE_10[0],\n    /** 分类色板 1，在数据量小于等于 10 时使用 */\n    paletteQualitative10: QUALITATIVE_10,\n    /** 分类色板 2，在数据量大于 10 时使用 */\n    paletteQualitative20: QUALITATIVE_20,\n    /** 语义色 */\n    paletteSemanticRed: '#F4664A',\n    /** 语义色 */\n    paletteSemanticGreen: '#30BF78',\n    /** 语义色 */\n    paletteSemanticYellow: '#FAAD14',\n    /** 字体 */\n    fontFamily: \"\\\"-apple-system\\\", \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial,\\n  \\\"Noto Sans\\\", sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\",\\n  \\\"Noto Color Emoji\\\"\",\n    // -------------------- 坐标轴 --------------------\n    /** 坐标轴线颜色 */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /** 坐标轴线粗细 */\n    axisLineBorder: 1,\n    /** 坐标轴线 lineDash 设置 */\n    axisLineDash: null,\n    /** 坐标轴标题颜色 */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /** 坐标轴标题文本字体大小 */\n    axisTitleTextFontSize: 12,\n    /** 坐标轴标题文本行高 */\n    axisTitleTextLineHeight: 12,\n    /** 坐标轴标题文本字体粗细 */\n    axisTitleTextFontWeight: 'normal',\n    /** 坐标轴标题距离坐标轴文本的间距 */\n    axisTitleSpacing: 12,\n    /** 坐标轴刻度线颜色 */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /** 坐标轴刻度线长度 */\n    axisTickLineLength: 4,\n    /** 坐标轴刻度线粗细 */\n    axisTickLineBorder: 1,\n    /** 坐标轴次刻度线颜色 */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /** 坐标轴次刻度线长度 */\n    axisSubTickLineLength: 2,\n    /** 坐标轴次刻度线粗细 */\n    axisSubTickLineBorder: 1,\n    /** 坐标轴刻度文本颜色 */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /** 坐标轴刻度文本字体大小 */\n    axisLabelFontSize: 12,\n    /** 坐标轴刻度文本行高 */\n    axisLabelLineHeight: 12,\n    /** 坐标轴刻度文本字体粗细 */\n    axisLabelFontWeight: 'normal',\n    /** 坐标轴刻度文本距离坐标轴线的间距 */\n    axisLabelOffset: 8,\n    /** 坐标轴网格线颜色 */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /** 坐标轴网格线粗细 */\n    axisGridBorder: 1,\n    /** 坐标轴网格线虚线设置 */\n    axisGridLineDash: null,\n    // -------------------- 图例 --------------------\n    /** 图例标题颜色 */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /** 图例标题文本字体大小 */\n    legendTitleTextFontSize: 12,\n    /** 图例标题文本行高 */\n    legendTitleTextLineHeight: 21,\n    /** 图例标题文本字体粗细 */\n    legendTitleTextFontWeight: 'normal',\n    /** 图例 marker 颜色 */\n    legendMarkerColor: QUALITATIVE_10[0],\n    /** 图例 marker 距离图例文本的间距 */\n    legendMarkerSpacing: 8,\n    /** 图例 marker 默认半径大小 */\n    legendMarkerSize: 4,\n    /** 图例 'circle' marker 半径 */\n    legendCircleMarkerSize: 4,\n    /** 图例 'square' marker 半径 */\n    legendSquareMarkerSize: 4,\n    /** 图例 'line' marker 半径 */\n    legendLineMarkerSize: 5,\n    /** 图例项文本颜色 */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /** 图例项文本字体大小 */\n    legendItemNameFontSize: 12,\n    /** 图例项文本行高 */\n    legendItemNameLineHeight: 12,\n    /** 图例项粗细 */\n    legendItemNameFontWeight: 'normal',\n    /** 图例项之间的水平间距 */\n    legendItemSpacing: 24,\n    /** 图例项垂直方向的间隔 */\n    legendItemMarginBottom: 12,\n    /** 图例与图表绘图区域的偏移距离  */\n    legendPadding: [8, 8, 8, 8],\n    /** 连续图例滑块填充色 */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /** 连续图例滑块边框粗细 */\n    sliderRailBorder: 0,\n    /** 连续图例滑块边框颜色 */\n    sliderRailBorderColor: null,\n    /** 连续图例滑块宽度 */\n    sliderRailWidth: 100,\n    /** 连续图例滑块高度 */\n    sliderRailHeight: 12,\n    /** 连续图例文本颜色 */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /** 连续图例文本字体大小 */\n    sliderLabelTextFontSize: 12,\n    /** 连续图例文本行高 */\n    sliderLabelTextLineHeight: 12,\n    /** 连续图例文本字体粗细 */\n    sliderLabelTextFontWeight: 'normal',\n    /** 连续图例滑块颜色 */\n    sliderHandlerFillColor: BLACK_COLORS[6],\n    /** 连续图例滑块宽度 */\n    sliderHandlerWidth: 10,\n    /** 连续图例滑块高度 */\n    sliderHandlerHeight: 14,\n    /** 连续图例滑块边框粗细 */\n    sliderHandlerBorder: 1,\n    /** 连续图例滑块边框颜色 */\n    sliderHandlerBorderColor: BLACK_COLORS[25],\n    // -------------------- Annotation，图形标注 --------------------\n    /** arc 图形标注描边颜色 */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc 图形标注粗细 */\n    annotationArcBorder: 1,\n    /** line 图形标注颜色 */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line 图形标注粗细 */\n    annotationLineBorder: 1,\n    /** lube 图形标注的虚线间隔 */\n    annotationLineDash: null,\n    /** text 图形标注文本颜色 */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text 图形标注文本字体大小 */\n    annotationTextFontSize: 12,\n    /** text 图形标注文本行高 */\n    annotationTextLineHeight: 12,\n    /** text 图形标注文本字体粗细 */\n    annotationTextFontWeight: 'normal',\n    /** text 图形标注文本边框颜色 */\n    annotationTextBorderColor: null,\n    /** text 图形标注文本边框粗细 */\n    annotationTextBorder: 0,\n    /** region 图形标注填充颜色 */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region 图形标注填充颜色透明色 */\n    annotationRegionFillOpacity: 0.06,\n    /** region 图形标注描边粗细 */\n    annotationRegionBorder: 0,\n    /** region 图形标注描边颜色 */\n    annotationRegionBorderColor: null,\n    /** dataMarker 图形标注线的长度 */\n    annotationDataMarkerLineLength: 16,\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs 辅助线颜色 */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs 辅助线粗细 */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs 辅助线虚线间隔 */\n    tooltipCrosshairsLineDash: null,\n    /** tooltip 内容框背景色 */\n    tooltipContainerFillColor: 'rgb(255, 255, 255)',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip 内容框阴影 */\n    tooltipContainerShadow: '0px 0px 10px #aeaeae',\n    /** tooltip 内容框圆角 */\n    tooltipContainerBorderRadius: 3,\n    /** tooltip 文本颜色 */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip 文本字体大小 */\n    tooltipTextFontSize: 12,\n    /** tooltip 文本行高 */\n    tooltipTextLineHeight: 12,\n    /** tooltip 文本字体粗细 */\n    tooltipTextFontWeight: 'bold',\n    // -------------------- Geometry labels --------------------\n    /** Geometry label 文本颜色 */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label 文本字体大小 */\n    labelFontSize: 12,\n    /** Geometry label 文本行高 */\n    labelLineHeight: 12,\n    /** Geometry label 文本字体粗细 */\n    labelFontWeight: 'normal',\n    /** Geometry label 文本描边颜色 */\n    labelBorderColor: null,\n    /** Geometry label 文本描边粗细 */\n    labelBorder: 0,\n    /** Geometry innerLabel 文本颜色 */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel 文本字体大小 */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel 文本行高 */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel 文本字体粗细 */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel 文本描边颜色 */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel 文本描边粗细 */\n    innerLabelBorder: 0,\n    /** Geometry label　文本连接线粗细 */\n    labelLineBorder: 1,\n    /** Geometry label 文本连接线颜色 */\n    labelLineBorderColor: BLACK_COLORS[25],\n    // -------------------- Geometry 图形样式--------------------\n    /** 点图填充颜色 */\n    pointFillColor: QUALITATIVE_10[0],\n    /** 点图填充颜色透明度 */\n    pointFillOpacity: 0.95,\n    /** 点图大小 */\n    pointSize: 4,\n    /** 点图描边粗细 */\n    pointBorder: 1,\n    /** 点图描边颜色 */\n    pointBorderColor: WHITE_COLORS[100],\n    /** 点图描边透明度 */\n    pointBorderOpacity: 1,\n    /** 点图 active 状态下描边颜色 */\n    pointActiveBorderColor: BLACK_COLORS[100],\n    /** 点图 selected 状态下描边粗细 */\n    pointSelectedBorder: 2,\n    /** 点图 selected 状态下描边颜色 */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n    /** 点图 inactive 状态下填充颜色透明度 */\n    pointInactiveFillOpacity: 0.3,\n    /** 点图 inactive 状态下描边透明度 */\n    pointInactiveBorderOpacity: 0.3,\n    /** 空心点图大小 */\n    hollowPointSize: 4,\n    /** 空心点图描边粗细 */\n    hollowPointBorder: 1,\n    /** 空心点图描边颜色 */\n    hollowPointBorderColor: QUALITATIVE_10[0],\n    /** 空心点图描边透明度 */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n    /** 空心点图 active 状态下描边粗细 */\n    hollowPointActiveBorder: 1,\n    /** 空心点图 active 状态下描边颜色 */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /** 空心点图 active 状态下描边透明度 */\n    hollowPointActiveBorderOpacity: 1,\n    /** 空心点图 selected 状态下描边粗细 */\n    hollowPointSelectedBorder: 2,\n    /** 空心点图 selected 状态下描边颜色 */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /** 空心点图 selected 状态下描边透明度 */\n    hollowPointSelectedBorderOpacity: 1,\n    /** 空心点图 inactive 状态下描边透明度 */\n    hollowPointInactiveBorderOpacity: 0.3,\n    /** 线图粗细 */\n    lineBorder: 2,\n    /** 线图颜色 */\n    lineBorderColor: QUALITATIVE_10[0],\n    /** 线图透明度 */\n    lineBorderOpacity: 1,\n    /** 线图 Active 状态下粗细 */\n    lineActiveBorder: 3,\n    /** 线图 selected 状态下粗细 */\n    lineSelectedBorder: 3,\n    /** 线图 inactive 状态下透明度 */\n    lineInactiveBorderOpacity: 0.3,\n    /** area 填充颜色 */\n    areaFillColor: QUALITATIVE_10[0],\n    /** area 填充透明度 */\n    areaFillOpacity: 0.25,\n    /** area 在 active 状态下的填充透明度 */\n    areaActiveFillColor: QUALITATIVE_10[0],\n    areaActiveFillOpacity: 0.5,\n    /** area 在 selected 状态下的填充透明度 */\n    areaSelectedFillColor: QUALITATIVE_10[0],\n    areaSelectedFillOpacity: 0.5,\n    /** area inactive 状态下填充透明度 */\n    areaInactiveFillOpacity: 0.3,\n    /** hollowArea 颜色 */\n    hollowAreaBorderColor: QUALITATIVE_10[0],\n    /** hollowArea 边框粗细 */\n    hollowAreaBorder: 2,\n    /** hollowArea 边框透明度 */\n    hollowAreaBorderOpacity: 1,\n    /** hollowArea active 状态下的边框粗细 */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n    /** hollowArea selected 状态下的边框粗细 */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowArea inactive 状态下的边框透明度 */\n    hollowAreaInactiveBorderOpacity: 0.3,\n    /** interval 填充颜色 */\n    intervalFillColor: QUALITATIVE_10[0],\n    /** interval 填充透明度 */\n    intervalFillOpacity: 0.95,\n    /** interval active 状态下边框粗细 */\n    intervalActiveBorder: 1,\n    /** interval active 状态下边框颜色 */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n    /** interval selected 状态下边框粗细 */\n    intervalSelectedBorder: 2,\n    /** interval selected 状态下边框颜色 */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected 状态下边框透明度 */\n    intervalSelectedBorderOpacity: 1,\n    /** interval inactive 状态下边框透明度 */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive 状态下填充透明度 */\n    intervalInactiveFillOpacity: 0.3,\n    /** interval 边框粗细 */\n    hollowIntervalBorder: 2,\n    /** hollowInterval 边框颜色 */\n    hollowIntervalBorderColor: QUALITATIVE_10[0],\n    /** hollowInterval 边框透明度 */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n    /** hollowInterval active 状态下边框粗细 */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active 状态下边框颜色 */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected 状态下边框粗细 */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected 状态下边框颜色 */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected 状态下边框透明度 */\n    hollowIntervalSelectedBorderOpacity: 1,\n    /** hollowInterval inactive 状态下边框透明度 */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n};\n//# sourceMappingURL=light.js.map","import { deepMix, get, lowerCase } from '@antv/util';\nimport { createThemeByStylesheet } from '../util/theme';\nimport { antvLight as DefaultStyleSheet } from './style-sheet/light';\nvar defaultTheme = createThemeByStylesheet(DefaultStyleSheet);\n// 所有已经存在的主题\nvar Themes = {\n    default: defaultTheme,\n};\n/**\n * 获取主题配置信息。\n * @param theme 主题名\n */\nexport function getTheme(theme) {\n    return get(Themes, lowerCase(theme), Themes.default);\n}\n/**\n * 注册新的主题配置信息。\n * @param theme 主题名。\n * @param value 具体的主题配置。\n */\nexport function registerTheme(theme, value) {\n    Themes[lowerCase(theme)] = deepMix({}, Themes.default, value);\n}\n//# sourceMappingURL=index.js.map","import { __assign } from \"tslib\";\nimport { contains, filter, find, hasKey, isArray, isNil, isNumberEqual, isObject, memoize, values } from '@antv/util';\nimport { FIELD_ORIGIN, GROUP_ATTRS } from '../constant';\nimport { getName } from './scale';\nfunction snapEqual(v1, v2, scale) {\n    var value1 = scale.translate(v1);\n    var value2 = scale.translate(v2);\n    return isNumberEqual(value1, value2);\n}\nfunction getXValueByPoint(point, geometry) {\n    var coordinate = geometry.coordinate;\n    var xScale = geometry.getXScale();\n    var range = xScale.range;\n    var rangeMax = range[range.length - 1];\n    var rangeMin = range[0];\n    var invertPoint = coordinate.invert(point);\n    var xValue = invertPoint.x;\n    if (coordinate.isPolar && xValue > (1 + rangeMax) / 2) {\n        xValue = rangeMin; // 极坐标下，scale 的 range 被做过特殊处理\n    }\n    return xScale.translate(xScale.invert(xValue));\n}\nfunction filterYValue(data, point, geometry) {\n    var coordinate = geometry.coordinate;\n    var yScale = geometry.getYScale();\n    var yField = yScale.field;\n    var invertPoint = coordinate.invert(point);\n    var yValue = yScale.invert(invertPoint.y);\n    var result = find(data, function (obj) {\n        var originData = obj[FIELD_ORIGIN];\n        return originData[yField][0] <= yValue && originData[yField][1] >= yValue;\n    });\n    return result || data[data.length - 1];\n}\nvar getXDistance = memoize(function (scale) {\n    if (scale.isCategory) {\n        return 1;\n    }\n    var scaleValues = scale.values; // values 是无序的\n    var length = scaleValues.length;\n    var min = scale.translate(scaleValues[0]);\n    var max = min;\n    for (var index = 0; index < length; index++) {\n        var value = scaleValues[index];\n        // 时间类型需要 translate\n        var numericValue = scale.translate(value);\n        if (numericValue < min) {\n            min = numericValue;\n        }\n        if (numericValue > max) {\n            max = numericValue;\n        }\n    }\n    return (max - min) / (length - 1);\n});\nfunction getTooltipTitle(originData, geometry, title) {\n    var titleField = title;\n    if (!title) {\n        var positionAttr = geometry.getAttribute('position');\n        var fields = positionAttr.getFields();\n        titleField = fields[0];\n    }\n    var scales = geometry.scales;\n    if (scales[titleField]) {\n        // 如果创建了该字段对应的 scale，则通过 scale.getText() 方式取值，因为用户可能对数据进行了格式化\n        return scales[titleField].getText(originData[titleField]);\n    }\n    // 如果没有对应的 scale，则从原始数据中取值，如果原始数据中仍不存在，则直接放回 title 值\n    return hasKey(originData, titleField) ? originData[titleField] : titleField;\n}\nfunction getAttributesForLegend(geometry) {\n    var attributes = values(geometry.attributes);\n    return filter(attributes, function (attribute) { return contains(GROUP_ATTRS, attribute.type); });\n}\nfunction getTooltipValueScale(geometry) {\n    var attributes = getAttributesForLegend(geometry);\n    var scale;\n    for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n        var attribute = attributes_1[_i];\n        var tmpScale = attribute.getScale(attribute.type);\n        if (tmpScale && tmpScale.isLinear) {\n            // 如果指定字段是非 position 的，同时是连续的\n            scale = tmpScale;\n            break;\n        }\n    }\n    var xScale = geometry.getXScale();\n    var yScale = geometry.getYScale();\n    return scale || yScale || xScale;\n}\nfunction getTooltipValue(originData, valueScale) {\n    var field = valueScale.field;\n    var value = originData[field];\n    if (isArray(value)) {\n        var texts = value.map(function (eachValue) {\n            return valueScale.getText(eachValue);\n        });\n        return texts.join('-');\n    }\n    return valueScale.getText(value);\n}\n// 根据原始数据获取 tooltip item 中 name 值\nfunction getTooltipName(originData, geometry) {\n    var nameScale;\n    var groupScales = geometry.getGroupScales();\n    if (groupScales.length) {\n        // 如果存在分组类型，取第一个分组类型\n        nameScale = groupScales[0];\n    }\n    if (nameScale) {\n        var field = nameScale.field;\n        return nameScale.getText(originData[field]);\n    }\n    var valueScale = getTooltipValueScale(geometry);\n    return getName(valueScale);\n}\n/**\n * @ignore\n * Finds data from geometry by point\n * @param point canvas point\n * @param data an item of geometry.dataArray\n * @param geometry\n * @returns\n */\nexport function findDataByPoint(point, data, geometry) {\n    if (data.length === 0) {\n        return null;\n    }\n    var geometryType = geometry.type;\n    var xScale = geometry.getXScale();\n    var yScale = geometry.getYScale();\n    var xField = xScale.field;\n    var yField = yScale.field;\n    var rst = null;\n    // 热力图采用最小逼近策略查找 point 击中的数据\n    if (geometryType === 'heatmap' || geometryType === 'point') {\n        // 将 point 画布坐标转换为原始数据值\n        var coordinate = geometry.coordinate;\n        var invertPoint = coordinate.invert(point); // 转换成归一化的数据\n        var x = xScale.invert(invertPoint.x); // 转换为原始值\n        var y = yScale.invert(invertPoint.y); // 转换为原始值\n        var min = Infinity;\n        for (var index = 0; index < data.length; index++) {\n            var obj = data[index];\n            var originData = obj[FIELD_ORIGIN];\n            var range = Math.pow((originData[xField] - x), 2) + Math.pow((originData[yField] - y), 2);\n            if (range < min) {\n                min = range;\n                rst = obj;\n            }\n        }\n        return rst;\n    }\n    // 其他 Geometry 类型按照 x 字段数据进行查找\n    var first = data[0];\n    var last = data[data.length - 1];\n    var xValue = getXValueByPoint(point, geometry);\n    var firstXValue = first[FIELD_ORIGIN][xField];\n    var firstYValue = first[FIELD_ORIGIN][yField];\n    var lastXValue = last[FIELD_ORIGIN][xField];\n    var isYArray = yScale.isLinear && isArray(firstYValue); // 考虑 x 维度相同，y 是数组区间的情况\n    // 如果 x 的值是数组\n    if (isArray(firstXValue)) {\n        for (var index = 0; index < data.length; index++) {\n            var record = data[index];\n            var originData = record[FIELD_ORIGIN];\n            // xValue 在 originData[xField] 的数值区间内\n            if (xScale.translate(originData[xField][0]) <= xValue && xScale.translate(originData[xField][1]) >= xValue) {\n                if (isYArray) {\n                    // 层叠直方图场景，x 和 y 都是数组区间\n                    if (!isArray(rst)) {\n                        rst = [];\n                    }\n                    rst.push(record);\n                }\n                else {\n                    rst = record;\n                    break;\n                }\n            }\n        }\n        if (isArray(rst)) {\n            rst = filterYValue(rst, point, geometry);\n        }\n    }\n    else {\n        var next = void 0;\n        if (!xScale.isLinear && xScale.type !== 'timeCat') {\n            // x 轴对应的数据为非线性以及非时间类型的数据采用遍历查找\n            for (var index = 0; index < data.length; index++) {\n                var record = data[index];\n                var originData = record[FIELD_ORIGIN];\n                if (snapEqual(originData[xField], xValue, xScale)) {\n                    if (isYArray) {\n                        if (!isArray(rst)) {\n                            rst = [];\n                        }\n                        rst.push(record);\n                    }\n                    else {\n                        rst = record;\n                        break;\n                    }\n                }\n                else if (xScale.translate(originData[xField]) <= xValue) {\n                    last = record;\n                    next = data[index + 1];\n                }\n            }\n            if (isArray(rst)) {\n                rst = filterYValue(rst, point, geometry);\n            }\n        }\n        else {\n            // x 轴对应的数据为线性以及时间类型，进行二分查找，性能更好\n            if ((xValue > xScale.translate(lastXValue) || xValue < xScale.translate(firstXValue)) &&\n                (xValue > xScale.max || xValue < xScale.min)) {\n                // 不在数据范围内\n                return null;\n            }\n            var firstIdx = 0;\n            var lastIdx = data.length - 1;\n            var middleIdx = void 0;\n            while (firstIdx <= lastIdx) {\n                middleIdx = Math.floor((firstIdx + lastIdx) / 2);\n                var item = data[middleIdx][FIELD_ORIGIN][xField];\n                if (snapEqual(item, xValue, xScale)) {\n                    return data[middleIdx];\n                }\n                if (xScale.translate(item) <= xScale.translate(xValue)) {\n                    firstIdx = middleIdx + 1;\n                    last = data[middleIdx];\n                    next = data[middleIdx + 1];\n                }\n                else {\n                    if (lastIdx === 0) {\n                        last = data[0];\n                    }\n                    lastIdx = middleIdx - 1;\n                }\n            }\n        }\n        if (last && next) {\n            // 计算最逼近的\n            if (Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) >\n                Math.abs(xScale.translate(next[FIELD_ORIGIN][xField]) - xValue)) {\n                last = next;\n            }\n        }\n    }\n    var distance = getXDistance(geometry.getXScale()); // 每个分类间的平均间距\n    if (!rst && Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) <= distance / 2) {\n        rst = last;\n    }\n    return rst;\n}\n/**\n * @ignore\n * Gets tooltip items\n * @param data\n * @param geometry\n * @param [title]\n * @returns\n */\nexport function getTooltipItems(data, geometry, title) {\n    if (title === void 0) { title = ''; }\n    var originData = data[FIELD_ORIGIN];\n    var tooltipTitle = getTooltipTitle(originData, geometry, title);\n    var tooltipOption = geometry.tooltipOption;\n    var defaultColor = geometry.theme.defaultColor;\n    var items = [];\n    var name;\n    var value;\n    function addItem(itemName, itemValue) {\n        if (!isNil(itemValue) && itemValue !== '') {\n            // 值为 null的时候，忽视\n            var item = {\n                title: tooltipTitle,\n                data: originData,\n                mappingData: data,\n                name: itemName,\n                value: itemValue,\n                color: data.color || defaultColor,\n                marker: true,\n            };\n            items.push(item);\n        }\n    }\n    if (isObject(tooltipOption)) {\n        var fields = tooltipOption.fields, callback = tooltipOption.callback;\n        if (callback) {\n            // 用户定义了回调函数\n            var callbackParams = fields.map(function (field) {\n                return data[FIELD_ORIGIN][field];\n            });\n            var cfg = callback.apply(void 0, callbackParams);\n            var itemCfg = __assign({ data: data[FIELD_ORIGIN], mappingData: data, title: tooltipTitle, color: data.color || defaultColor, marker: true }, cfg);\n            items.push(itemCfg);\n        }\n        else {\n            var scales = geometry.scales;\n            for (var _i = 0, fields_1 = fields; _i < fields_1.length; _i++) {\n                var field = fields_1[_i];\n                if (!isNil(originData[field])) {\n                    // 字段数据为null, undefined 时不显示\n                    var scale = scales[field];\n                    name = getName(scale);\n                    value = scale.getText(originData[field]);\n                    addItem(name, value);\n                }\n            }\n        }\n    }\n    else {\n        var valueScale = getTooltipValueScale(geometry);\n        if (!isNil(originData[valueScale.field])) {\n            // 字段数据为null ,undefined时不显示\n            value = getTooltipValue(originData, valueScale);\n            name = getTooltipName(originData, geometry);\n            addItem(name, value);\n        }\n    }\n    return items;\n}\n//# sourceMappingURL=tooltip.js.map","import { __spreadArrays } from \"tslib\";\nimport { isArray, isNumber } from '@antv/util';\n/**\n * @ignore\n * 是否是自动 padding\n * @param padding\n */\nexport function isAutoPadding(padding) {\n    return !isNumber(padding) && !isArray(padding);\n}\n/**\n * @ignore\n * padding 的解析逻辑\n * @param padding\n * @return [ top, right, bottom, left ]\n */\nexport function parsePadding(padding) {\n    if (padding === void 0) { padding = 0; }\n    var paddingArray = isArray(padding) ? padding : [padding];\n    switch (paddingArray.length) {\n        case 0:\n            paddingArray = [0, 0, 0, 0];\n            break;\n        case 1:\n            paddingArray = new Array(4).fill(paddingArray[0]);\n            break;\n        case 2:\n            paddingArray = __spreadArrays(paddingArray, paddingArray);\n            break;\n        case 3:\n            paddingArray = __spreadArrays(paddingArray, [paddingArray[1]]);\n            break;\n        default:\n            // 其他情况，只去四个\n            paddingArray = paddingArray.slice(0, 4);\n            break;\n    }\n    return paddingArray;\n}\n//# sourceMappingURL=padding.js.map","var LOAD_COMPONENT_CONTROLLERS = {};\n/**\n * 全局注册组件。\n * @param name 组件名称\n * @param plugin 注册的组件类\n * @returns void\n */\nexport function registerComponentController(name, plugin) {\n    LOAD_COMPONENT_CONTROLLERS[name] = plugin;\n}\n/**\n * 删除全局组件。\n * @param name 组件名\n * @returns void\n */\nexport function unregisterComponentController(name) {\n    delete LOAD_COMPONENT_CONTROLLERS[name];\n}\n/**\n * 获取以注册的组件名。\n * @returns string[] 返回已注册的组件名称\n */\nexport function getComponentControllerNames() {\n    return Object.keys(LOAD_COMPONENT_CONTROLLERS);\n}\n/**\n * 根据组件名获取组件类。\n * @param name 组件名\n * @returns 返回组件类\n */\nexport function getComponentController(name) {\n    return LOAD_COMPONENT_CONTROLLERS[name];\n}\n//# sourceMappingURL=index.js.map","import { __assign } from \"tslib\";\nimport { each, isNil, some } from '@antv/util';\nimport { getCoordinate } from '../../dependents';\n/**\n * coordinate controller，职责：\n * 1. 创建实例\n * 2. 暂存配置\n */\nvar CoordinateController = /** @class */ (function () {\n    function CoordinateController(option) {\n        // 设置默认值，并存储配置\n        this.option = this.wrapperOption(option);\n    }\n    /**\n     * 更新配置\n     * @param option\n     */\n    CoordinateController.prototype.update = function (option) {\n        this.option = this.wrapperOption(option);\n        return this;\n    };\n    /**\n     * 是否存在某一个 action\n     * @param actionName\n     */\n    CoordinateController.prototype.hasAction = function (actionName) {\n        var actions = this.option.actions;\n        return some(actions, function (action) { return action[0] === actionName; });\n    };\n    /**\n     * 创建坐标系对象\n     * @param start 起始位置\n     * @param end   结束位置\n     * @return 坐标系实例\n     */\n    CoordinateController.prototype.create = function (start, end) {\n        var _a = this.option, type = _a.type, cfg = _a.cfg;\n        var isTheta = type === 'theta';\n        // 1. 起始位置\n        var props = __assign({ start: start,\n            end: end }, cfg);\n        // 2. 创建实例\n        var C = getCoordinate(isTheta ? 'polar' : type);\n        this.coordinate = new C(props);\n        // @ts-ignore FIXME coordinate 包问题导致 type 不正确\n        this.coordinate.type = type;\n        // 3. 添加默认 action\n        if (isTheta) {\n            // 不存在 transpose，为其自动设置一个 action\n            if (!this.hasAction('transpose')) {\n                this.transpose();\n            }\n        }\n        // 4. 执行 action\n        this.execActions();\n        return this.coordinate;\n    };\n    /**\n     * 更新坐标系对象\n     * @param start 起始位置\n     * @param end   结束位置\n     * @return 坐标系实例\n     */\n    CoordinateController.prototype.adjust = function (start, end) {\n        this.coordinate.update({\n            start: start,\n            end: end,\n        });\n        // 更新坐标系大小的时候，需要：\n        // 1. 重置 matrix\n        // 2. 重新执行作用于 matrix 的 action\n        this.coordinate.resetMatrix();\n        this.execActions(['scale', 'rotate', 'translate']);\n        return this.coordinate;\n    };\n    /**\n     * 旋转弧度\n     * @param angle\n     */\n    CoordinateController.prototype.rotate = function (angle) {\n        this.option.actions.push(['rotate', angle]);\n        return this;\n    };\n    /**\n     * 镜像\n     * @param dim\n     */\n    CoordinateController.prototype.reflect = function (dim) {\n        this.option.actions.push(['reflect', dim]);\n        return this;\n    };\n    /**\n     * scale\n     * @param sx\n     * @param sy\n     */\n    CoordinateController.prototype.scale = function (sx, sy) {\n        this.option.actions.push(['scale', sx, sy]);\n        return this;\n    };\n    /**\n     * 对角变换\n     */\n    CoordinateController.prototype.transpose = function () {\n        this.option.actions.push(['transpose']);\n        return this;\n    };\n    /**\n     * 获取配置\n     */\n    CoordinateController.prototype.getOption = function () {\n        return this.option;\n    };\n    /**\n     * 获得 coordinate 实例\n     */\n    CoordinateController.prototype.getCoordinate = function () {\n        return this.coordinate;\n    };\n    /**\n     * 包装配置的默认值\n     * @param option\n     */\n    CoordinateController.prototype.wrapperOption = function (option) {\n        return __assign({ type: 'rect', actions: [], cfg: {} }, option);\n    };\n    /**\n     * coordinate 实例执行 actions\n     * @params includeActions 如果没有指定，则执行全部，否则，执行指定的 action\n     */\n    CoordinateController.prototype.execActions = function (includeActions) {\n        var _this = this;\n        var actions = this.option.actions;\n        each(actions, function (action) {\n            var _a;\n            var actionName = action[0], args = action.slice(1);\n            var shouldExec = isNil(includeActions) ? true : includeActions.includes(actionName);\n            if (shouldExec) {\n                (_a = _this.coordinate)[actionName].apply(_a, args);\n            }\n        });\n    };\n    return CoordinateController;\n}());\nexport default CoordinateController;\n//# sourceMappingURL=coordinate.js.map","import { Event as GEvent } from '../dependents';\n/**\n * @todo Whether it can(or necessary to) keep consistent with the structure of G.Event or directly use the structure of G.Event\n * G2 事件的事件包装类，基于 G.Event\n */\nvar Event = /** @class */ (function () {\n    function Event(view, gEvent, data) {\n        this.view = view;\n        this.gEvent = gEvent;\n        this.data = data;\n        this.type = gEvent.type;\n    }\n    /**\n     * 非交互产生的事件\n     * @param view\n     * @param type\n     * @param data\n     */\n    Event.fromData = function (view, type, data) {\n        return new Event(view, new GEvent(type, {}), data);\n    };\n    Object.defineProperty(Event.prototype, \"target\", {\n        // below props are proxy props of G.event convenient\n        /** the real trigger shape of the event */\n        get: function () {\n            // @todo G 中事件定义为 object 不正确，这里先 ignore\n            // @ts-ignore\n            return this.gEvent.target;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"event\", {\n        /** 获取对应的 dom 原生时间 */\n        get: function () {\n            return this.gEvent.originalEvent;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"x\", {\n        /** x 画布坐标 */\n        get: function () {\n            return this.gEvent.x;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"y\", {\n        /** y 画布坐标 */\n        get: function () {\n            return this.gEvent.y;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"clientX\", {\n        /** x 窗口坐标 */\n        get: function () {\n            return this.gEvent.clientX;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"clientY\", {\n        /** y 窗口坐标 */\n        get: function () {\n            return this.gEvent.clientY;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // end for proxy events\n    /**\n     * event string\n     * @returns string\n     */\n    Event.prototype.toString = function () {\n        return \"[Event (type=\" + this.type + \")]\";\n    };\n    /**\n     * clone a new event with same attributes\n     * @returns [[Event]]\n     */\n    Event.prototype.clone = function () {\n        return new Event(this.view, this.gEvent, this.data);\n    };\n    return Event;\n}());\nexport default Event;\n//# sourceMappingURL=event.js.map","/**\n * @ignore\n * G2 默认提供的 layout 函数\n * 内置布局函数处理的逻辑：\n *\n * 1. 如果 padding = 'auto'，那么自动根据组件的 direction 来计算 padding 数组\n * 2. 根据 padding 和 direction 去分配对应方向的 padding 数值\n * 3. 移动组件位置\n *\n * 前面 1，2 步骤在 view 中已经做掉了。对于组件响应式布局，可以尝试使用约束布局的方式去求解位置信息。\n * @param view\n */\nexport default function defaultLayout(view) {\n    var axis = view.getController('axis');\n    var legend = view.getController('legend');\n    var annotation = view.getController('annotation');\n    var slider = view.getController('slider');\n    var scrollbar = view.getController('scrollbar');\n    // 根据最新的 coordinate 重新布局组件\n    [axis, slider, scrollbar, legend, annotation].forEach(function (controller) {\n        if (controller) {\n            controller.layout();\n        }\n    });\n}\n//# sourceMappingURL=index.js.map","/**\n * view 中缓存 scale 的类\n */\nimport { deepMix, each, get, isNumber, last } from '@antv/util';\nimport { createScaleByField, syncScale } from '../../util/scale';\n/** @ignore */\nvar ScalePool = /** @class */ (function () {\n    function ScalePool() {\n        /** 所有的 scales */\n        this.scales = new Map();\n        /** 需要同步的 scale 分组， key: scaleKeyArray */\n        this.syncScales = new Map();\n    }\n    /**\n     * 创建 scale\n     * @param field\n     * @param data\n     * @param scaleDef\n     * @param key\n     */\n    ScalePool.prototype.createScale = function (field, data, scaleDef, key) {\n        var finalScaleDef = scaleDef;\n        var cacheScaleMeta = this.getScaleMeta(key);\n        if (data.length === 0 && cacheScaleMeta) {\n            // 在更新过程中数据变为空，同时 key 对应的 scale 已存在则保持 scale 同类型\n            var cacheScale = cacheScaleMeta.scale;\n            var cacheScaleDef = {\n                type: cacheScale.type,\n            };\n            if (cacheScale.isCategory) {\n                // 如果是分类类型，保持 values\n                cacheScaleDef.values = cacheScale.values;\n            }\n            finalScaleDef = deepMix(cacheScaleDef, cacheScaleMeta.scaleDef, scaleDef);\n        }\n        var scale = createScaleByField(field, data, finalScaleDef);\n        // 缓存起来\n        this.cacheScale(scale, scaleDef, key);\n        return scale;\n    };\n    /**\n     * 同步 scale\n     */\n    ScalePool.prototype.sync = function () {\n        var _this = this;\n        // 对于 syncScales 中每一个 syncKey 下面的 scale 数组进行同步处理\n        this.syncScales.forEach(function (scaleKeys, syncKey) {\n            // min, max, values\n            var min = Number.MAX_SAFE_INTEGER;\n            var max = Number.MIN_SAFE_INTEGER;\n            var values = [];\n            // 1. 遍历求得最大最小值，values 等\n            each(scaleKeys, function (key) {\n                var scale = _this.getScale(key);\n                max = isNumber(scale.max) ? Math.max(max, scale.max) : max;\n                min = isNumber(scale.min) ? Math.min(min, scale.min) : min;\n                // 去重\n                each(scale.values, function (v) {\n                    if (!values.includes(v)) {\n                        values.push(v);\n                    }\n                });\n            });\n            // 2. 同步\n            each(scaleKeys, function (key) {\n                var scale = _this.getScale(key);\n                if (scale.isContinuous) {\n                    scale.change({\n                        min: min,\n                        max: max,\n                        values: values,\n                    });\n                }\n                else if (scale.isCategory) {\n                    scale.change({\n                        values: values,\n                    });\n                }\n            });\n        });\n    };\n    /**\n     * 缓存一个 scale\n     * @param scale\n     * @param scaleDef\n     * @param key\n     */\n    ScalePool.prototype.cacheScale = function (scale, scaleDef, key) {\n        // 1. 缓存到 scales\n        var sm = this.getScaleMeta(key);\n        // 存在则更新，同时检测类型是否一致\n        if (sm && sm.scale.type === scale.type) {\n            syncScale(sm.scale, scale);\n            sm.scaleDef = scaleDef;\n            // 更新 scaleDef\n        }\n        else {\n            sm = {\n                key: key,\n                scale: scale,\n                scaleDef: scaleDef,\n            };\n            this.scales.set(key, sm);\n        }\n        // 2. 缓存到 syncScales，构造 Record<sync, string[]> 数据结构\n        var syncKey = this.getSyncKey(sm);\n        sm.syncKey = syncKey; // 设置 sync 同步的 key\n        // 因为存在更新 scale 机制，所以在缓存之前，先从原 syncScales 中去除 sync 的缓存引用\n        this.removeFromSyncScales(key);\n        // 存在 sync 标记才进行 sync\n        if (syncKey) {\n            // 不存在这个 syncKey，则创建一个空数组\n            var scaleKeys = this.syncScales.get(syncKey);\n            if (!scaleKeys) {\n                scaleKeys = [];\n                this.syncScales.set(syncKey, scaleKeys);\n            }\n            scaleKeys.push(key);\n        }\n    };\n    /**\n     * 通过 key 获取 scale\n     * @param key\n     */\n    ScalePool.prototype.getScale = function (key) {\n        var scaleMeta = this.getScaleMeta(key);\n        if (!scaleMeta) {\n            var field = last(key.split('-'));\n            var scaleKeys = this.syncScales.get(field);\n            if (scaleKeys && scaleKeys.length) {\n                scaleMeta = this.getScaleMeta(scaleKeys[0]);\n            }\n        }\n        return scaleMeta && scaleMeta.scale;\n    };\n    /**\n     * 在 view 销毁的时候，删除 scale 实例，防止内存泄露\n     * @param key\n     */\n    ScalePool.prototype.deleteScale = function (key) {\n        var scaleMeta = this.getScaleMeta(key);\n        if (scaleMeta) {\n            var syncKey = scaleMeta.syncKey;\n            var scaleKeys = this.syncScales.get(syncKey);\n            // 移除同步的关系\n            if (scaleKeys && scaleKeys.length) {\n                var idx = scaleKeys.indexOf(key);\n                if (idx !== -1) {\n                    scaleKeys.splice(idx, 1);\n                }\n            }\n        }\n        // 删除 scale 实例\n        this.scales.delete(key);\n    };\n    /**\n     * 清空\n     */\n    ScalePool.prototype.clear = function () {\n        this.scales.clear();\n        this.syncScales.clear();\n    };\n    /**\n     * 删除 sync scale 引用\n     * @param key\n     */\n    ScalePool.prototype.removeFromSyncScales = function (key) {\n        var _this = this;\n        this.syncScales.forEach(function (scaleKeys, syncKey) {\n            var idx = scaleKeys.indexOf(key);\n            if (idx !== -1) {\n                scaleKeys.splice(idx, 1);\n                // 删除空数组值\n                if (scaleKeys.length === 0) {\n                    _this.syncScales.delete(syncKey);\n                }\n                return false; // 跳出循环\n            }\n        });\n    };\n    /**\n     * get sync key\n     * @param sm\n     */\n    ScalePool.prototype.getSyncKey = function (sm) {\n        var scale = sm.scale, scaleDef = sm.scaleDef;\n        var field = scale.field;\n        var sync = get(scaleDef, ['sync']);\n        // 如果 sync = true，则直接使用字段名作为 syncKey\n        return sync === true ? field : sync === false ? undefined : sync;\n    };\n    /**\n     * 通过 key 获取 scale\n     * @param key\n     */\n    ScalePool.prototype.getScaleMeta = function (key) {\n        return this.scales.get(key);\n    };\n    return ScalePool;\n}());\nexport { ScalePool };\n//# sourceMappingURL=scale-pool.js.map","import { DIRECTION } from '../../constant';\n/** @ignore */\nvar PaddingCal = /** @class */ (function () {\n    /**\n     * 初始的 padding 数据\n     * @param top\n     * @param right\n     * @param bottom\n     * @param left\n     */\n    function PaddingCal(top, right, bottom, left) {\n        if (top === void 0) { top = 0; }\n        if (right === void 0) { right = 0; }\n        if (bottom === void 0) { bottom = 0; }\n        if (left === void 0) { left = 0; }\n        this.top = top;\n        this.right = right;\n        this.bottom = bottom;\n        this.left = left;\n    }\n    /**\n     * 取最大区间\n     * @param padding\n     */\n    PaddingCal.prototype.max = function (padding) {\n        var top = padding[0], right = padding[1], bottom = padding[2], left = padding[3];\n        this.top = Math.max(this.top, top);\n        this.right = Math.max(this.right, right);\n        this.bottom = Math.max(this.bottom, bottom);\n        this.left = Math.max(this.left, left);\n        return this;\n    };\n    /**\n     * 四周增加 padding\n     * @param padding\n     */\n    PaddingCal.prototype.shrink = function (padding) {\n        var top = padding[0], right = padding[1], bottom = padding[2], left = padding[3];\n        this.top += top;\n        this.right += right;\n        this.bottom += bottom;\n        this.left += left;\n        return this;\n    };\n    /**\n     * 在某一个方向增加 padding\n     * @param bbox\n     * @param direction\n     */\n    PaddingCal.prototype.inc = function (bbox, direction) {\n        var width = bbox.width, height = bbox.height;\n        switch (direction) {\n            case DIRECTION.TOP:\n            case DIRECTION.TOP_LEFT:\n            case DIRECTION.TOP_RIGHT:\n                this.top += height;\n                break;\n            case DIRECTION.RIGHT:\n            case DIRECTION.RIGHT_TOP:\n            case DIRECTION.RIGHT_BOTTOM:\n                this.right += width;\n                break;\n            case DIRECTION.BOTTOM:\n            case DIRECTION.BOTTOM_LEFT:\n            case DIRECTION.BOTTOM_RIGHT:\n                this.bottom += height;\n                break;\n            case DIRECTION.LEFT:\n            case DIRECTION.LEFT_TOP:\n            case DIRECTION.LEFT_BOTTOM:\n                this.left += width;\n                break;\n            default:\n                break;\n        }\n        return this;\n    };\n    /**\n     * 获得最终的 padding\n     */\n    PaddingCal.prototype.getPadding = function () {\n        return [this.top, this.right, this.bottom, this.left];\n    };\n    return PaddingCal;\n}());\nexport { PaddingCal };\n//# sourceMappingURL=padding-cal.js.map","import { __spreadArrays } from \"tslib\";\nimport { each } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../constant';\nimport { BBox } from '../../util/bbox';\nimport { isAutoPadding, parsePadding } from '../../util/padding';\nimport { PaddingCal } from './padding-cal';\n/**\n * @ignore\n * 根据 view 中的组件，计算实际的 padding 数值\n * @param view\n */\nexport function calculatePadding(view) {\n    var padding = view.padding;\n    // 如果不是 auto padding，那么直接解析之后返回\n    if (!isAutoPadding(padding)) {\n        return new (PaddingCal.bind.apply(PaddingCal, __spreadArrays([void 0], parsePadding(padding))))();\n    }\n    // 是 auto padding，根据组件的情况，来计算 padding\n    var viewBBox = view.viewBBox;\n    var paddingCal = new PaddingCal();\n    var axisComponents = [];\n    var paddingComponents = [];\n    var otherComponents = [];\n    each(view.getComponents(), function (co) {\n        var type = co.type;\n        if (type === COMPONENT_TYPE.AXIS) {\n            axisComponents.push(co);\n        }\n        else if ([COMPONENT_TYPE.LEGEND, COMPONENT_TYPE.SLIDER, COMPONENT_TYPE.SCROLLBAR].includes(type)) {\n            paddingComponents.push(co);\n        }\n        else if (type !== COMPONENT_TYPE.GRID && type !== COMPONENT_TYPE.TOOLTIP) {\n            otherComponents.push(co);\n        }\n    });\n    // 进行坐标轴布局，应该是取 padding 的并集，而不是进行相加\n    each(axisComponents, function (co) {\n        var component = co.component;\n        var bboxObject = component.getLayoutBBox();\n        var componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n        var exceed = componentBBox.exceed(viewBBox);\n        // 在对组件分组之后，先对 axis 进行处理，然后取最大的超出即可。\n        paddingCal.max(exceed);\n    });\n    // 有 padding 的组件布局\n    each(paddingComponents, function (co) {\n        var component = co.component, direction = co.direction;\n        var bboxObject = component.getLayoutBBox();\n        var componentPadding = component.get('padding');\n        var componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(componentPadding);\n        // 按照方向计算 padding\n        paddingCal.inc(componentBBox, direction);\n    });\n    // 其他组件布局\n    each(otherComponents, function (co) {\n        var component = co.component, direction = co.direction;\n        var bboxObject = component.getLayoutBBox();\n        var componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n        // 按照方向计算 padding\n        paddingCal.inc(componentBBox, direction);\n    });\n    return paddingCal;\n}\n//# sourceMappingURL=auto.js.map","import { __assign, __extends, __rest, __spreadArrays } from \"tslib\";\nimport { clone, deepMix, each, filter, find, flatten, get, isBoolean, isFunction, isNil, isObject, isString, isUndefined, mix, remove, set, size, uniqueId, isEqual, } from '@antv/util';\nimport { GROUP_Z_INDEX, LAYER, PLOT_EVENTS, VIEW_LIFE_CIRCLE } from '../constant';\nimport Base from '../base';\nimport { getFacet } from '../facet';\nimport { createInteraction } from '../interaction';\nimport { getTheme } from '../theme';\nimport { BBox } from '../util/bbox';\nimport { getCoordinateClipCfg, isFullCircle, isPointInCoordinate } from '../util/coordinate';\nimport { uniq } from '../util/helper';\nimport { findDataByPoint } from '../util/tooltip';\nimport { parsePadding } from '../util/padding';\nimport { getComponentController, getComponentControllerNames } from './controller';\nimport CoordinateController from './controller/coordinate';\nimport Event from './event';\nimport defaultLayout from './layout';\nimport { ScalePool } from './util/scale-pool';\nimport { PaddingCal } from './layout/padding-cal';\nimport { calculatePadding } from './layout/auto';\n/**\n * G2 视图 View 类\n */\nvar View = /** @class */ (function (_super) {\n    __extends(View, _super);\n    function View(props) {\n        var _this = _super.call(this, { visible: props.visible }) || this;\n        /** 所有的子 view。 */\n        _this.views = [];\n        /** 所有的 geometry 实例。 */\n        _this.geometries = [];\n        /** 所有的组件 controllers。 */\n        _this.controllers = [];\n        /** 所有的 Interaction 实例。 */\n        _this.interactions = {};\n        /** 是否对超出坐标系范围的 Geometry 进行剪切 */\n        _this.limitInPlot = false;\n        // 配置信息存储\n        _this.options = {\n            data: [],\n            animate: true,\n        }; // 初始化为空\n        /** 配置开启的组件插件，默认为全局配置的组件。 */\n        _this.usedControllers = getComponentControllerNames();\n        /** 所有的 scales */\n        _this.scalePool = new ScalePool();\n        /** 布局函数 */\n        _this.layoutFunc = defaultLayout;\n        /** 当前鼠标是否在 plot 内（CoordinateBBox） */\n        _this.isPreMouseInPlot = false;\n        /** 默认标识位，用于判定数据是否更新 */\n        _this.isDataChanged = false;\n        /** 用于判断坐标系范围是否发生变化的标志位 */\n        _this.isCoordinateChanged = false;\n        /** 从当前这个 view 创建的 scale key */\n        _this.createdScaleKeys = new Map();\n        _this.onCanvasEvent = function (evt) {\n            var name = evt.name;\n            if (!name.includes(':')) {\n                // 非委托事件\n                var e = _this.createViewEvent(evt);\n                // 处理 plot 事件\n                _this.doPlotEvent(e);\n                _this.emit(name, e);\n            }\n        };\n        /**\n         * 触发事件之后\n         * @param evt\n         */\n        _this.onDelegateEvents = function (evt) {\n            // 阻止继续冒泡，防止重复事件触发\n            // evt.preventDefault();\n            var name = evt.name;\n            if (!name.includes(':')) {\n                return;\n            }\n            // 事件在 view 嵌套中冒泡（暂不提供阻止冒泡的机制）\n            var e = _this.createViewEvent(evt);\n            // 包含有基本事件、组合事件\n            _this.emit(name, e);\n            // const currentTarget = evt.currentTarget as IShape;\n            // const inheritNames = currentTarget.get('inheritNames');\n            // if (evt.delegateObject || inheritNames) {\n            //   const events = this.getEvents();\n            //   each(inheritNames, (subName) => {\n            //     const eventName = `${subName}:${type}`;\n            //     if (events[eventName]) {\n            //       this.emit(eventName, e);\n            //     }\n            //   });\n            // }\n        };\n        var _a = props.id, id = _a === void 0 ? uniqueId('view') : _a, parent = props.parent, canvas = props.canvas, backgroundGroup = props.backgroundGroup, middleGroup = props.middleGroup, foregroundGroup = props.foregroundGroup, _b = props.region, region = _b === void 0 ? { start: { x: 0, y: 0 }, end: { x: 1, y: 1 } } : _b, padding = props.padding, appendPadding = props.appendPadding, theme = props.theme, options = props.options, limitInPlot = props.limitInPlot, syncViewPadding = props.syncViewPadding;\n        _this.parent = parent;\n        _this.canvas = canvas;\n        _this.backgroundGroup = backgroundGroup;\n        _this.middleGroup = middleGroup;\n        _this.foregroundGroup = foregroundGroup;\n        _this.region = region;\n        _this.padding = padding;\n        _this.appendPadding = appendPadding;\n        // 接受父 view 传入的参数\n        _this.options = __assign(__assign({}, _this.options), options);\n        _this.limitInPlot = limitInPlot;\n        _this.id = id;\n        _this.syncViewPadding = syncViewPadding;\n        // 初始化 theme\n        _this.themeObject = isObject(theme) ? deepMix({}, getTheme('default'), theme) : getTheme(theme);\n        _this.init();\n        return _this;\n    }\n    /**\n     * 设置 layout 布局函数\n     * @param layout 布局函数\n     * @returns void\n     */\n    View.prototype.setLayout = function (layout) {\n        this.layoutFunc = layout;\n    };\n    /**\n     * 生命周期：初始化\n     * @returns voids\n     */\n    View.prototype.init = function () {\n        // 计算画布的 viewBBox\n        this.calculateViewBBox();\n        // 事件委托机制\n        this.initEvents();\n        // 初始化组件 controller\n        this.initComponentController();\n        this.initOptions();\n    };\n    /**\n     * 生命周期：渲染流程，渲染过程需要处理数据更新的情况。\n     * render 函数仅仅会处理 view 和子 view。\n     * @param isUpdate 是否触发更新流程。\n     */\n    View.prototype.render = function (isUpdate) {\n        if (isUpdate === void 0) { isUpdate = false; }\n        this.emit(VIEW_LIFE_CIRCLE.BEFORE_RENDER);\n        // 递归渲染\n        this.paint(isUpdate);\n        this.emit(VIEW_LIFE_CIRCLE.AFTER_RENDER);\n        if (this.visible === false) {\n            // 用户在初始化的时候声明 visible: false\n            this.changeVisible(false);\n        }\n    };\n    /**\n     * 生命周期：清空图表上所有的绘制内容，但是不销毁图表，chart 仍可使用。\n     * @returns void\n     */\n    View.prototype.clear = function () {\n        var _this = this;\n        this.emit(VIEW_LIFE_CIRCLE.BEFORE_CLEAR);\n        // 1. 清空缓存和计算数据\n        this.filteredData = [];\n        this.coordinateInstance = undefined;\n        this.isDataChanged = false; // 复位\n        this.isCoordinateChanged = false; // 复位\n        // 2. 清空 geometries\n        var geometries = this.geometries;\n        for (var i = 0; i < geometries.length; i++) {\n            geometries[i].clear();\n            // view 中使用 geometry 的时候，还需要清空它的容器，不然下一次 chart.geometry() 的时候，又创建了一个，导致泄露， #2799。\n            geometries[i].container.remove(true);\n        }\n        this.geometries = [];\n        // 3. 清空 controllers\n        var controllers = this.controllers;\n        for (var i = 0; i < controllers.length; i++) {\n            if (controllers[i].name === 'annotation') {\n                // 需要清空配置项\n                controllers[i].clear(true);\n            }\n            else {\n                controllers[i].clear();\n            }\n        }\n        // 4. 删除 scale 缓存\n        this.createdScaleKeys.forEach(function (v, k) {\n            _this.getRootView().scalePool.deleteScale(k);\n        });\n        this.createdScaleKeys.clear();\n        // 递归处理子 view\n        var views = this.views;\n        for (var i = 0; i < views.length; i++) {\n            views[i].clear();\n        }\n        this.emit(VIEW_LIFE_CIRCLE.AFTER_CLEAR);\n    };\n    /**\n     * 生命周期：销毁，完全无法使用。\n     * @returns void\n     */\n    View.prototype.destroy = function () {\n        // 销毁前事件，销毁之后已经没有意义了，所以不抛出事件\n        this.emit(VIEW_LIFE_CIRCLE.BEFORE_DESTROY);\n        var interactions = this.interactions;\n        // 销毁 interactions\n        each(interactions, function (interaction) {\n            if (interaction) {\n                // 有可能已经销毁，设置了 undefined\n                interaction.destroy();\n            }\n        });\n        this.clear();\n        // 销毁 controller 中的组件\n        var controllers = this.controllers;\n        for (var i = 0, len = controllers.length; i < len; i++) {\n            var controller = controllers[i];\n            controller.destroy();\n        }\n        this.backgroundGroup.remove(true);\n        this.middleGroup.remove(true);\n        this.foregroundGroup.remove(true);\n        _super.prototype.destroy.call(this);\n    };\n    /* end 生命周期函数 */\n    /**\n     * 显示或者隐藏整个 view。\n     * @param visible 是否可见\n     * @returns View\n     */\n    View.prototype.changeVisible = function (visible) {\n        _super.prototype.changeVisible.call(this, visible);\n        var geometries = this.geometries;\n        for (var i = 0, len = geometries.length; i < len; i++) {\n            var geometry = geometries[i];\n            geometry.changeVisible(visible);\n        }\n        var controllers = this.controllers;\n        for (var i = 0, len = controllers.length; i < len; i++) {\n            var controller = controllers[i];\n            controller.changeVisible(visible);\n        }\n        this.foregroundGroup.set('visible', visible);\n        this.middleGroup.set('visible', visible);\n        this.backgroundGroup.set('visible', visible);\n        // group.set('visible', visible) 不会触发自动刷新\n        this.getCanvas().draw();\n        return this;\n    };\n    /**\n     * 装载数据源。\n     *\n     * ```ts\n     * view.data([{ city: '杭州', sale: 100 }, { city: '上海', sale: 110 } ]);\n     * ```\n     *\n     * @param data 数据源，json 数组。\n     * @returns View\n     */\n    View.prototype.data = function (data) {\n        set(this.options, 'data', data);\n        this.isDataChanged = true;\n        return this;\n    };\n    /**\n     * @deprecated\n     * This method will be removed at G2 V4.1. Replaced by {@link #data(data)}\n     */\n    View.prototype.source = function (data) {\n        console.warn('This method will be removed at G2 V4.1. Please use chart.data() instead.');\n        return this.data(data);\n    };\n    /**\n     * 设置数据筛选规则。\n     *\n     * ```ts\n     * view.filter('city', (value: any, datum: Datum) => value !== '杭州');\n     *\n     * // 删除 'city' 字段对应的筛选规则。\n     * view.filter('city', null);\n     * ```\n     *\n     * @param field 数据字段\n     * @param condition 筛选规则\n     * @returns View\n     */\n    View.prototype.filter = function (field, condition) {\n        if (isFunction(condition)) {\n            set(this.options, ['filters', field], condition);\n            return this;\n        }\n        // condition 为空，则表示删除过滤条件\n        if (!condition && get(this.options, ['filters', field])) {\n            delete this.options.filters[field];\n        }\n        return this;\n    };\n    View.prototype.axis = function (field, axisOption) {\n        if (isBoolean(field)) {\n            set(this.options, ['axes'], field);\n        }\n        else {\n            set(this.options, ['axes', field], axisOption);\n        }\n        return this;\n    };\n    View.prototype.legend = function (field, legendOption) {\n        if (isBoolean(field)) {\n            set(this.options, ['legends'], field);\n        }\n        else if (isString(field)) {\n            set(this.options, ['legends', field], legendOption);\n        }\n        else {\n            // 设置全局的 legend 配置\n            set(this.options, ['legends'], field);\n        }\n        return this;\n    };\n    View.prototype.scale = function (field, scaleOption) {\n        var _this = this;\n        if (isString(field)) {\n            set(this.options, ['scales', field], scaleOption);\n        }\n        else if (isObject(field)) {\n            each(field, function (v, k) {\n                set(_this.options, ['scales', k], v);\n            });\n        }\n        return this;\n    };\n    /**\n     * tooltip 提示信息配置。\n     *\n     * ```ts\n     * view.tooltip(false); // 关闭 tooltip\n     *\n     * view.tooltip({\n     *   shared: true\n     * });\n     * ```\n     *\n     * @param cfg Tooltip 配置，更详细的配置项参考：https://github.com/antvis/component#tooltip\n     * @returns View\n     */\n    View.prototype.tooltip = function (cfg) {\n        set(this.options, 'tooltip', cfg);\n        return this;\n    };\n    /**\n     * 辅助标记配置。\n     *\n     * ```ts\n     * view.annotation().line({\n     *   start: ['min', 85],\n     *   end: ['max', 85],\n     *   style: {\n     *     stroke: '#595959',\n     *     lineWidth: 1,\n     *     lineDash: [3, 3],\n     *   },\n     * });\n     * ```\n     * 更详细的配置项：https://github.com/antvis/component#annotation\n     * @returns [[Annotation]]\n     */\n    View.prototype.annotation = function () {\n        return this.getController('annotation');\n    };\n    /**\n     * @deprecated\n     * This method will be removed at G2 V4.1. Replaced by {@link #guide()}\n     */\n    View.prototype.guide = function () {\n        console.warn('This method will be removed at G2 V4.1. Please use chart.annotation() instead.');\n        return this.annotation();\n    };\n    View.prototype.coordinate = function (type, coordinateCfg) {\n        // 提供语法糖，使用更简单\n        if (isString(type)) {\n            set(this.options, 'coordinate', { type: type, cfg: coordinateCfg });\n        }\n        else {\n            set(this.options, 'coordinate', type);\n        }\n        // 更新 coordinate 配置\n        this.coordinateController.update(this.options.coordinate);\n        return this.coordinateController;\n    };\n    /**\n     * @deprecated\n     * This method will be removed at G2 V4.1. Replaced by {@link #coordinate()}\n     */\n    View.prototype.coord = function (type, coordinateCfg) {\n        console.warn('This method will be removed at G2 V4.1. Please use chart.coordinate() instead.');\n        // @ts-ignore\n        return this.coordinate(type, coordinateCfg);\n    };\n    /**\n     * view 分面绘制。\n     *\n     * ```ts\n     * view.facet('rect', {\n     *   rowField: 'province',\n     *   columnField: 'category',\n     *   eachView: (innerView: View, facet?: FacetData) => {\n     *     innerView.line().position('city*sale');\n     *   },\n     * });\n     * ```\n     *\n     * @param type 分面类型\n     * @param cfg 分面配置， [[FacetCfgMap]]\n     * @returns View\n     */\n    View.prototype.facet = function (type, cfg) {\n        // 先销毁掉之前的分面\n        if (this.facetInstance) {\n            this.facetInstance.destroy();\n        }\n        // 创建新的分面\n        var Ctor = getFacet(type);\n        if (!Ctor) {\n            throw new Error(\"facet '\" + type + \"' is not exist!\");\n        }\n        this.facetInstance = new Ctor(this, __assign(__assign({}, cfg), { type: type }));\n        return this;\n    };\n    /*\n     * 开启或者关闭动画。\n     *\n     * ```ts\n     * view.animate(false);\n     * ```\n     *\n     * @param status 动画状态，true 表示开始，false 表示关闭\n     * @returns View\n     */\n    View.prototype.animate = function (status) {\n        set(this.options, 'animate', status);\n        return this;\n    };\n    /**\n     * 更新配置项，用于配置项式声明。\n     * @param options 配置项\n     */\n    View.prototype.updateOptions = function (options) {\n        this.clear(); // 清空\n        mix(this.options, options);\n        // 需要把已存在的 view 销毁，否则会重复创建\n        // 目前针对配置项还没有特别好的 view 更新机制，为了不影响主流流程，所以在这里直接销毁\n        this.views.forEach(function (view) { return view.destroy(); });\n        this.views = [];\n        this.initOptions();\n        // 初始化坐标系大小，保证 padding 计算正确\n        this.coordinateBBox = this.viewBBox;\n        return this;\n    };\n    /**\n     * 往 `view.options` 属性中存储配置项。\n     * @param name 属性名称\n     * @param opt 属性值\n     * @returns view\n     */\n    View.prototype.option = function (name, opt) {\n        // 对于内置的 option，避免覆盖。\n        // name 在原型上，说明可能是内置 API，存在 option 被覆盖的风险，不处理\n        if (View.prototype[name]) {\n            throw new Error(\"Can't use built in variable name \\\"\" + name + \"\\\", please change another one.\");\n        }\n        // 存入到 option 中\n        set(this.options, name, opt);\n        return this;\n    };\n    /**\n     * 设置主题。\n     *\n     * ```ts\n     * view.theme('dark'); // 'dark' 需要事先通过 `registerTheme()` 接口注册完成\n     *\n     * view.theme({ defaultColor: 'red' });\n     * ```\n     *\n     * @param theme 主题名或者主题配置\n     * @returns View\n     */\n    View.prototype.theme = function (theme) {\n        this.themeObject = isObject(theme) ? deepMix({}, this.themeObject, theme) : getTheme(theme);\n        return this;\n    };\n    /* end 一系列传入配置的 API */\n    /**\n     * Call the interaction based on the interaction name\n     *\n     * ```ts\n     * view.interaction('my-interaction', { extra: 'hello world' });\n     * ```\n     * 详细文档可以参考：https://g2.antv.vision/zh/docs/manual/tutorial/interaction\n     * @param name interaction name\n     * @param cfg interaction config\n     * @returns\n     */\n    View.prototype.interaction = function (name, cfg) {\n        var existInteraction = this.interactions[name];\n        // 存在则先销毁已有的\n        if (existInteraction) {\n            existInteraction.destroy();\n        }\n        // 新建交互实例\n        var interaction = createInteraction(name, this, cfg);\n        if (interaction) {\n            interaction.init();\n            this.interactions[name] = interaction;\n        }\n        return this;\n    };\n    /**\n     * 移除当前 View 的 interaction\n     * ```ts\n     * view.removeInteraction('my-interaction');\n     * ```\n     * @param name interaction name\n     */\n    View.prototype.removeInteraction = function (name) {\n        var existInteraction = this.interactions[name];\n        // 存在则先销毁已有的\n        if (existInteraction) {\n            existInteraction.destroy();\n            this.interactions[name] = undefined;\n        }\n    };\n    /**\n     * 修改数据，数据更新逻辑，数据更新仅仅影响当前这一层的 view\n     *\n     * ```ts\n     * view.changeData([{ city: '北京', sale: '200' }]);\n     * ```\n     *\n     * @param data\n     * @returns void\n     */\n    View.prototype.changeData = function (data) {\n        this.isDataChanged = true;\n        this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA);\n        // 1. 保存数据\n        this.data(data);\n        // 2. 渲染\n        this.paint(true);\n        // 3. 遍历子 view 进行 change data\n        var views = this.views;\n        for (var i = 0, len = views.length; i < len; i++) {\n            var view = views[i];\n            // FIXME 子 view 有自己的数据的情况，该如何处理？\n            view.changeData(data);\n        }\n        this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA);\n    };\n    /* View 管理相关的 API */\n    /**\n     * 创建子 view\n     *\n     * ```ts\n     * const innerView = view.createView({\n     *   start: { x: 0, y: 0 },\n     *   end: { x: 0.5, y: 0.5 },\n     *   padding: 8,\n     * });\n     * ```\n     *\n     * @param cfg\n     * @returns View\n     */\n    View.prototype.createView = function (cfg) {\n        // 将会在 4.1 版本中移除递归嵌套 view，仅仅只允许 chart - view 两层。\n        // 这个 API 理论上用户量不多，所以暂时不发大版本，所以先暂时打一个 warning。\n        if (this.parent && this.parent.parent) {\n            // 存在 3 层 结构了\n            console.warn('The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.');\n        }\n        // 子 view 共享 options 配置数据\n        var sharedOptions = {\n            data: this.options.data,\n            scales: clone(this.options.scales),\n            axes: clone(this.options.axes),\n            coordinate: clone(this.coordinateController.getOption()),\n            tooltip: clone(this.options.tooltip),\n            legends: clone(this.options.legends),\n            animate: this.options.animate,\n            visible: this.visible,\n        };\n        var v = new View(__assign(__assign({ parent: this, canvas: this.canvas, \n            // 子 view 共用三层 group\n            backgroundGroup: this.backgroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.BG }), middleGroup: this.middleGroup.addGroup({ zIndex: GROUP_Z_INDEX.MID }), foregroundGroup: this.foregroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.FORE }), theme: this.themeObject, padding: this.padding }, cfg), { options: __assign(__assign({}, sharedOptions), get(cfg, 'options', {})) }));\n        this.views.push(v);\n        return v;\n    };\n    /**\n     * @deprecated\n     * This method will be removed at G2 V4.1. Replaced by {@link #createView()}\n     */\n    View.prototype.view = function (cfg) {\n        console.warn('This method will be removed at G2 V4.1. Please use chart.createView() instead.');\n        return this.createView(cfg);\n    };\n    /**\n     * 删除一个子 view\n     * @param view\n     * @return removedView\n     */\n    View.prototype.removeView = function (view) {\n        var removedView = remove(this.views, function (v) { return v === view; })[0];\n        if (removedView) {\n            removedView.destroy();\n        }\n        return removedView;\n    };\n    /* end View 管理相关的 API */\n    // 一些 get 方法\n    /**\n     * 获取当前坐标系实例。\n     * @returns [[Coordinate]]\n     */\n    View.prototype.getCoordinate = function () {\n        return this.coordinateInstance;\n    };\n    /**\n     * 获取当前 view 的主题配置。\n     * @returns themeObject\n     */\n    View.prototype.getTheme = function () {\n        return this.themeObject;\n    };\n    /**\n     * 获得 x 轴字段的 scale 实例。\n     * @returns view 中 Geometry 对于的 x scale\n     */\n    View.prototype.getXScale = function () {\n        // 拿第一个 Geometry 的 X scale\n        // 隐藏逻辑：一个 view 中的 Geometry 必须 x 字段一致\n        var g = this.geometries[0];\n        return g ? g.getXScale() : null;\n    };\n    /**\n     * 获取 y 轴字段的 scales 实例。\n     * @returns view 中 Geometry 对于的 y scale 数组\n     */\n    View.prototype.getYScales = function () {\n        // 拿到所有的 Geometry 的 Y scale，然后去重\n        var tmpMap = {};\n        return this.geometries.map(function (g) {\n            var yScale = g.getYScale();\n            var field = yScale.field;\n            if (!tmpMap[field]) {\n                tmpMap[field] = true;\n                return yScale;\n            }\n        });\n    };\n    /**\n     * 获取 x 轴或者 y 轴对应的所有 scale 实例。\n     * @param dimType x | y\n     * @returns x 轴或者 y 轴对应的所有 scale 实例。\n     */\n    View.prototype.getScalesByDim = function (dimType) {\n        var geometries = this.geometries;\n        var scales = {};\n        for (var i = 0, len = geometries.length; i < len; i++) {\n            var geometry = geometries[i];\n            var scale = dimType === 'x' ? geometry.getXScale() : geometry.getYScale();\n            if (scale && !scales[scale.field]) {\n                scales[scale.field] = scale;\n            }\n        }\n        return scales;\n    };\n    /**\n     * 根据字段名去获取 scale 实例。\n     * @param field 数据字段名称\n     * @param key id\n     */\n    View.prototype.getScaleByField = function (field, key) {\n        var defaultKey = key ? key : this.getScaleKey(field);\n        // 调用根节点 view 的方法获取\n        return this.getRootView().scalePool.getScale(defaultKey);\n    };\n    /**\n     * 返回所有配置信息。\n     * @returns 所有的 view API 配置。\n     */\n    View.prototype.getOptions = function () {\n        return this.options;\n    };\n    /**\n     * 获取 view 的数据（过滤后的数据）。\n     * @returns 处理过滤器之后的数据。\n     */\n    View.prototype.getData = function () {\n        return this.filteredData;\n    };\n    /**\n     * 获得绘制的层级 group。\n     * @param layer 层级名称。\n     * @returns 对应层级的 Group。\n     */\n    View.prototype.getLayer = function (layer) {\n        return layer === LAYER.BG\n            ? this.backgroundGroup\n            : layer === LAYER.MID\n                ? this.middleGroup\n                : layer === LAYER.FORE\n                    ? this.foregroundGroup\n                    : this.foregroundGroup;\n    };\n    /**\n     * 对外暴露方法，判断一个点是否在绘图区域（即坐标系范围）内部。\n     * @param point 坐标点\n     */\n    View.prototype.isPointInPlot = function (point) {\n        return isPointInCoordinate(this.getCoordinate(), point);\n    };\n    /**\n     * 获得所有的 legend 对应的 attribute 实例。\n     * @returns 维度字段的 Attribute 数组\n     */\n    View.prototype.getLegendAttributes = function () {\n        return flatten(this.geometries.map(function (g) { return g.getGroupAttributes(); }));\n    };\n    /**\n     * 获取所有的分组字段的 scale 实例。\n     * @returns 获得分组字段的 scale 实例数组。\n     */\n    View.prototype.getGroupScales = function () {\n        // 拿到所有的 Geometry 的 分组字段 scale，然后打平去重\n        var scales = this.geometries.map(function (g) { return g.getGroupScales(); });\n        return uniq(flatten(scales));\n    };\n    /**\n     * 获取 G.Canvas 实例。\n     * @returns G.Canvas 画布实例。\n     */\n    View.prototype.getCanvas = function () {\n        return this.getRootView().canvas;\n    };\n    /**\n     * 获得根节点 view。\n     */\n    View.prototype.getRootView = function () {\n        var v = this;\n        while (true) {\n            if (v.parent) {\n                v = v.parent;\n                continue;\n            }\n            break;\n        }\n        return v;\n    };\n    /**\n     * 获取该数据在可视化后，对应的画布坐标点。\n     * @param data 原始数据记录\n     * @returns 对应的画布坐标点\n     */\n    View.prototype.getXY = function (data) {\n        var coordinate = this.getCoordinate();\n        var xScales = this.getScalesByDim('x');\n        var yScales = this.getScalesByDim('y');\n        var x;\n        var y;\n        each(data, function (value, key) {\n            if (xScales[key]) {\n                x = xScales[key].scale(value);\n            }\n            if (yScales[key]) {\n                y = yScales[key].scale(value);\n            }\n        });\n        if (!isNil(x) && !isNil(y)) {\n            return coordinate.convert({ x: x, y: y });\n        }\n    };\n    /**\n     * 获取 name 对应的 controller 实例\n     * @param name\n     */\n    View.prototype.getController = function (name) {\n        return find(this.controllers, function (c) { return c.name === name; });\n    };\n    /**\n     * 显示 point 坐标点对应的 tooltip。\n     * @param point 画布坐标点\n     * @returns View\n     */\n    View.prototype.showTooltip = function (point) {\n        var tooltip = this.getController('tooltip');\n        if (tooltip) {\n            tooltip.showTooltip(point);\n        }\n        return this;\n    };\n    /**\n     * 隐藏 tooltip。\n     * @returns View\n     */\n    View.prototype.hideTooltip = function () {\n        var tooltip = this.getController('tooltip');\n        if (tooltip) {\n            tooltip.hideTooltip();\n        }\n        return this;\n    };\n    /**\n     * 将 tooltip 锁定到当前位置不能移动。\n     * @returns View\n     */\n    View.prototype.lockTooltip = function () {\n        var tooltip = this.getController('tooltip');\n        if (tooltip) {\n            tooltip.lockTooltip();\n        }\n        return this;\n    };\n    /**\n     * 将 tooltip 锁定解除。\n     * @returns View\n     */\n    View.prototype.unlockTooltip = function () {\n        var tooltip = this.getController('tooltip');\n        if (tooltip) {\n            tooltip.unlockTooltip();\n        }\n        return this;\n    };\n    /**\n     * 是否锁定 tooltip。\n     * @returns 是否锁定\n     */\n    View.prototype.isTooltipLocked = function () {\n        var tooltip = this.getController('tooltip');\n        return tooltip && tooltip.isTooltipLocked();\n    };\n    /**\n     * 获取当前 point 对应的 tooltip 数据项。\n     * @param point 坐标点\n     * @returns tooltip 数据项\n     */\n    View.prototype.getTooltipItems = function (point) {\n        var tooltip = this.getController('tooltip');\n        return tooltip ? tooltip.getTooltipItems(point) : [];\n    };\n    /**\n     * 获取逼近的点的数据集合\n     * @param point 当前坐标点\n     * @returns  数据\n     */\n    View.prototype.getSnapRecords = function (point) {\n        var geometries = this.geometries;\n        var rst = [];\n        for (var i = 0, len = geometries.length; i < len; i++) {\n            var geom = geometries[i];\n            var dataArray = geom.dataArray;\n            geom.sort(dataArray); // 先进行排序，便于 tooltip 查找\n            var record = void 0;\n            for (var j = 0, dataLen = dataArray.length; j < dataLen; j++) {\n                var data = dataArray[j];\n                record = findDataByPoint(point, data, geom);\n                if (record) {\n                    rst.push(record);\n                }\n            }\n        }\n        // 同样递归处理子 views\n        var views = this.views;\n        for (var i = 0, len = views.length; i < len; i++) {\n            var view = views[i];\n            var snapRecords = view.getSnapRecords(point);\n            rst = rst.concat(snapRecords);\n        }\n        return rst;\n    };\n    /**\n     * 获取所有的 pure component 组件，用于布局。\n     */\n    View.prototype.getComponents = function () {\n        var components = [];\n        var controllers = this.controllers;\n        for (var i = 0, len = controllers.length; i < len; i++) {\n            var controller = controllers[i];\n            components = components.concat(controller.getComponents());\n        }\n        return components;\n    };\n    /**\n     * 将 data 数据进行过滤。\n     * @param data\n     * @returns 过滤之后的数据\n     */\n    View.prototype.filterData = function (data) {\n        var filters = this.options.filters;\n        // 不存在 filters，则不需要进行数据过滤\n        if (size(filters) === 0) {\n            return data;\n        }\n        // 存在过滤器，则逐个执行过滤，过滤器之间是 与 的关系\n        return filter(data, function (datum, idx) {\n            // 所有的 filter 字段\n            var fields = Object.keys(filters);\n            // 所有的条件都通过，才算通过\n            return fields.every(function (field) {\n                var condition = filters[field];\n                // condition 返回 true，则保留\n                return condition(datum[field], datum, idx);\n            });\n        });\n    };\n    /**\n     * 对某一个字段进行过滤\n     * @param field\n     * @param data\n     */\n    View.prototype.filterFieldData = function (field, data) {\n        var filters = this.options.filters;\n        var condition = get(filters, field);\n        if (isUndefined(condition)) {\n            return data;\n        }\n        return data.filter(function (datum, idx) { return condition(datum[field], datum, idx); });\n    };\n    /**\n     * 调整 coordinate 的坐标范围。\n     */\n    View.prototype.adjustCoordinate = function () {\n        var _a = this.getCoordinate(), curStart = _a.start, curEnd = _a.end;\n        var start = this.coordinateBBox.bl;\n        var end = this.coordinateBBox.tr;\n        // 在 defaultLayoutFn 中只会在 coordinateBBox 发生变化的时候会调用 adjustCoordinate()，所以不用担心被置位\n        if (isEqual(curStart, start) && isEqual(curEnd, end)) {\n            this.isCoordinateChanged = false;\n            // 如果大小没有变化则不更新\n            return;\n        }\n        this.isCoordinateChanged = true;\n        this.coordinateInstance = this.coordinateController.adjust(start, end);\n    };\n    View.prototype.paint = function (isUpdate) {\n        this.renderDataRecursive(isUpdate);\n        // 处理 sync scale 的逻辑\n        this.syncScale();\n        this.emit(VIEW_LIFE_CIRCLE.BEFORE_PAINT);\n        // 初始化图形、组件位置，计算 padding\n        this.renderPaddingRecursive(isUpdate);\n        // 布局图形、组件\n        this.renderLayoutRecursive(isUpdate);\n        // 背景色 shape\n        this.renderBackgroundStyleShape();\n        // 最终的绘制 render\n        this.renderPaintRecursive(isUpdate);\n        this.emit(VIEW_LIFE_CIRCLE.AFTER_PAINT);\n        this.isDataChanged = false; // 渲染完毕复位\n    };\n    /**\n     * 渲染背景样式的 shape。\n     * 放到 view 中创建的原因是让使用 view 绘制图形的时候，也能够处理背景色\n     */\n    View.prototype.renderBackgroundStyleShape = function () {\n        // 只有根节点才处理\n        if (this.parent) {\n            return;\n        }\n        var background = get(this.themeObject, 'background');\n        // 配置了背景色\n        if (background) {\n            // 1. 不存在则创建\n            if (!this.backgroundStyleRectShape) {\n                this.backgroundStyleRectShape = this.backgroundGroup.addShape('rect', {\n                    attrs: {},\n                    zIndex: -1,\n                    // 背景色 shape 不设置事件捕获\n                    capture: false,\n                });\n                this.backgroundStyleRectShape.toBack();\n            }\n            // 2. 有了 shape 之后设置背景，位置（更新的时候）\n            var _a = this.viewBBox, x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n            this.backgroundStyleRectShape.attr({\n                fill: background,\n                x: x,\n                y: y,\n                width: width,\n                height: height,\n            });\n        }\n        else {\n            // 没有配置背景色\n            if (this.backgroundStyleRectShape) {\n                this.backgroundStyleRectShape.remove(true);\n                this.backgroundStyleRectShape = undefined;\n            }\n        }\n    };\n    /**\n     * 递归计算每个 view 的 padding 值，coordinateBBox 和 coordinateInstance\n     * @param isUpdate\n     */\n    View.prototype.renderPaddingRecursive = function (isUpdate) {\n        // 1. 子 view 大小相对 coordinateBBox，changeSize 的时候需要重新计算\n        this.calculateViewBBox();\n        // 2. 更新 coordinate\n        this.adjustCoordinate();\n        // 3. 初始化组件 component\n        this.initComponents(isUpdate);\n        // 4. 布局计算每隔 view 的 padding 值\n        // 4.1. 自动加 auto padding -> absolute padding，并且增加 appendPadding\n        this.autoPadding = calculatePadding(this).shrink(parsePadding(this.appendPadding));\n        // 4.2. 计算出新的 coordinateBBox，更新 Coordinate\n        // 这里必须保留，原因是后面子 view 的 viewBBox 或根据 parent 的 coordinateBBox\n        this.coordinateBBox = this.viewBBox.shrink(this.autoPadding.getPadding());\n        this.adjustCoordinate();\n        // 同样递归处理子 views\n        var views = this.views;\n        for (var i = 0, len = views.length; i < len; i++) {\n            var view = views[i];\n            view.renderPaddingRecursive(isUpdate);\n        }\n    };\n    /**\n     * 递归处理 view 的布局，最终是计算各个 view 的 coordinateBBox 和 coordinateInstance\n     * @param isUpdate\n     */\n    View.prototype.renderLayoutRecursive = function (isUpdate) {\n        // 1. 同步子 view padding\n        if (this.syncViewPadding) {\n            var syncPadding_1 = new PaddingCal();\n            // 所有的 view 的 autoPadding 指向同一个引用\n            this.views.forEach(function (v) {\n                v.autoPadding = syncPadding_1.max(v.autoPadding.getPadding());\n            });\n            // 更新 coordinate\n            this.views.forEach(function (v) {\n                v.coordinateBBox = v.viewBBox.shrink(v.autoPadding.getPadding());\n                v.adjustCoordinate();\n            });\n        }\n        // 3. 将 view 中的组件按照 view padding 移动到对应的位置\n        this.doLayout();\n        // 同样递归处理子 views\n        var views = this.views;\n        for (var i = 0, len = views.length; i < len; i++) {\n            var view = views[i];\n            view.renderLayoutRecursive(isUpdate);\n        }\n    };\n    /**\n     * 最终递归绘制组件和图形\n     * @param isUpdate\n     */\n    View.prototype.renderPaintRecursive = function (isUpdate) {\n        if (this.limitInPlot) {\n            var middleGroup = this.middleGroup;\n            var _a = getCoordinateClipCfg(this.coordinateInstance), type = _a.type, attrs = _a.attrs;\n            middleGroup.setClip({\n                type: type,\n                attrs: attrs,\n            });\n        }\n        // 1. 渲染几何标记\n        this.paintGeometries(isUpdate);\n        // 2. 绘制组件\n        this.renderComponents(isUpdate);\n        // 同样递归处理子 views\n        var views = this.views;\n        for (var i = 0, len = views.length; i < len; i++) {\n            var view = views[i];\n            view.renderPaintRecursive(isUpdate);\n        }\n    };\n    // end Get 方法\n    /**\n     * 创建 scale，递归到顶层 view 去创建和缓存 scale\n     * @param field\n     * @param data\n     * @param scaleDef\n     * @param key\n     */\n    View.prototype.createScale = function (field, data, scaleDef, key) {\n        // 1. 合并 field 对应的 scaleDef，合并原则是底层覆盖顶层（就近原则）\n        var currentScaleDef = get(this.options.scales, [field]);\n        var mergedScaleDef = __assign(__assign({}, currentScaleDef), scaleDef);\n        // 2. 是否存在父 view，在则递归，否则创建\n        if (this.parent) {\n            return this.parent.createScale(field, data, mergedScaleDef, key);\n        }\n        // 3. 在根节点 view 通过 scalePool 创建\n        return this.scalePool.createScale(field, data, mergedScaleDef, key);\n    };\n    /**\n     * 递归渲染中的数据处理\n     * @param isUpdate\n     */\n    View.prototype.renderDataRecursive = function (isUpdate) {\n        // 1. 处理数据\n        this.doFilterData();\n        // 2. 创建实例\n        this.createCoordinate();\n        // 3. 初始化 Geometry\n        this.initGeometries(isUpdate);\n        // 4. 处理分面逻辑，最终都是生成子 view 和 geometry\n        this.renderFacet(isUpdate);\n        // 同样递归处理子 views\n        var views = this.views;\n        for (var i = 0, len = views.length; i < len; i++) {\n            var view = views[i];\n            view.renderDataRecursive(isUpdate);\n        }\n    };\n    /**\n     * 计算 region，计算实际的像素范围坐标\n     * @private\n     */\n    View.prototype.calculateViewBBox = function () {\n        var x;\n        var y;\n        var width;\n        var height;\n        if (this.parent) {\n            var bbox = this.parent.coordinateBBox;\n            // 存在 parent， 那么就是通过父容器大小计算\n            x = bbox.x;\n            y = bbox.y;\n            width = bbox.width;\n            height = bbox.height;\n        }\n        else {\n            // 顶层容器，从 canvas 中取值 宽高\n            x = 0;\n            y = 0;\n            width = this.canvas.get('width');\n            height = this.canvas.get('height');\n        }\n        var _a = this.region, start = _a.start, end = _a.end;\n        // 根据 region 计算当前 view 的 bbox 大小。\n        var viewBBox = new BBox(x + width * start.x, y + height * start.y, width * (end.x - start.x), height * (end.y - start.y));\n        if (!this.viewBBox || !this.viewBBox.isEqual(viewBBox)) {\n            // viewBBox 发生变化的时候进行更新\n            this.viewBBox = new BBox(x + width * start.x, y + height * start.y, width * (end.x - start.x), height * (end.y - start.y));\n        }\n        // 初始的 coordinate bbox 大小\n        this.coordinateBBox = this.viewBBox;\n    };\n    /**\n     * 初始化事件机制：G 4.0 底层内置支持 name:event 的机制，那么只要所有组件都有自己的 name 即可。\n     *\n     * G2 的事件只是获取事件委托，然后在 view 嵌套结构中，形成事件冒泡机制。\n     * 当前 view 只委托自己 view 中的 Component 和 Geometry 事件，并向上冒泡\n     * @private\n     */\n    View.prototype.initEvents = function () {\n        // 三层 group 中的 shape 事件都会通过 G 冒泡上来的\n        this.foregroundGroup.on('*', this.onDelegateEvents);\n        this.middleGroup.on('*', this.onDelegateEvents);\n        this.backgroundGroup.on('*', this.onDelegateEvents);\n        this.canvas.on('*', this.onCanvasEvent);\n    };\n    /**\n     * 初始化插件\n     */\n    View.prototype.initComponentController = function () {\n        var usedControllers = this.usedControllers;\n        for (var i = 0, len = usedControllers.length; i < len; i++) {\n            var controllerName = usedControllers[i];\n            var Ctor = getComponentController(controllerName);\n            if (Ctor) {\n                this.controllers.push(new Ctor(this));\n            }\n        }\n    };\n    View.prototype.createViewEvent = function (evt) {\n        var shape = evt.shape, name = evt.name;\n        var data = shape ? shape.get('origin') : null;\n        // 事件在 view 嵌套中冒泡（暂不提供阻止冒泡的机制）\n        var e = new Event(this, evt, data);\n        e.type = name;\n        return e;\n    };\n    /**\n     * 处理 PLOT_EVENTS\n     * plot event 需要处理所有的基础事件，并判断是否在画布中，然后再决定是否要 emit。\n     * 对于 mouseenter、mouseleave 比较特殊，需要做一下数学比较。\n     * @param e\n     */\n    View.prototype.doPlotEvent = function (e) {\n        var type = e.type, x = e.x, y = e.y;\n        var point = { x: x, y: y };\n        var ALL_EVENTS = [\n            'mousedown',\n            'mouseup',\n            'mousemove',\n            'mouseleave',\n            'mousewheel',\n            'touchstart',\n            'touchmove',\n            'touchend',\n            'touchcancel',\n            'click',\n            'dblclick',\n            'contextmenu',\n        ];\n        if (ALL_EVENTS.includes(type)) {\n            var currentInPlot = this.isPointInPlot(point);\n            if (currentInPlot) {\n                var TYPE = \"plot:\" + type; // 组合 plot 事件\n                e.type = TYPE;\n                this.emit(TYPE, e);\n                if (type === 'mouseleave' || type === 'touchend') {\n                    // 在plot 内部却离开画布\n                    this.isPreMouseInPlot = false;\n                }\n            }\n            // 对于 mouseenter, mouseleave 的计算处理\n            if (type === 'mousemove' || type === 'touchmove') {\n                if (this.isPreMouseInPlot && !currentInPlot) {\n                    if (type === 'mousemove') {\n                        e.type = PLOT_EVENTS.MOUSE_LEAVE;\n                        this.emit(PLOT_EVENTS.MOUSE_LEAVE, e);\n                    }\n                    e.type = PLOT_EVENTS.LEAVE;\n                    this.emit(PLOT_EVENTS.LEAVE, e);\n                }\n                else if (!this.isPreMouseInPlot && currentInPlot) {\n                    if (type === 'mousemove') {\n                        e.type = PLOT_EVENTS.MOUSE_ENTER;\n                        this.emit(PLOT_EVENTS.MOUSE_ENTER, e);\n                    }\n                    e.type = PLOT_EVENTS.ENTER;\n                    this.emit(PLOT_EVENTS.ENTER, e);\n                }\n                // 赋新的状态值\n                this.isPreMouseInPlot = currentInPlot;\n            }\n            else if (type === 'mouseleave' || type === 'touchend') {\n                // 可能不在 currentInPlot 中\n                if (this.isPreMouseInPlot) {\n                    if (type === 'mouseleave') {\n                        e.type = PLOT_EVENTS.MOUSE_LEAVE;\n                        this.emit(PLOT_EVENTS.MOUSE_LEAVE, e);\n                    }\n                    e.type = PLOT_EVENTS.LEAVE;\n                    this.emit(PLOT_EVENTS.LEAVE, e);\n                    this.isPreMouseInPlot = false;\n                }\n            }\n        }\n    };\n    // view 生命周期 —— 渲染流程\n    /**\n     * 处理筛选器，筛选数据\n     * @private\n     */\n    View.prototype.doFilterData = function () {\n        var data = this.options.data;\n        this.filteredData = this.filterData(data);\n    };\n    /**\n     * 初始化 Geometries\n     * @private\n     */\n    View.prototype.initGeometries = function (isUpdate) {\n        // 初始化图形的之前，先创建 / 更新 scales\n        this.createOrUpdateScales();\n        // 实例化 Geometry，然后 view 将所有的 scale 管理起来\n        var coordinate = this.getCoordinate();\n        var scaleDefs = get(this.options, 'scales', {});\n        var geometries = this.geometries;\n        for (var i = 0, len = geometries.length; i < len; i++) {\n            var geometry = geometries[i];\n            // 保持 scales 引用不要变化\n            geometry.scales = this.getGeometryScales();\n            var cfg = {\n                coordinate: coordinate,\n                scaleDefs: scaleDefs,\n                data: this.filteredData,\n                theme: this.themeObject,\n                isDataChanged: this.isDataChanged,\n                isCoordinateChanged: this.isCoordinateChanged,\n            };\n            if (isUpdate) {\n                // 数据发生更新\n                geometry.update(cfg);\n            }\n            else {\n                geometry.init(cfg);\n            }\n        }\n        // Geometry 初始化之后，生成了 scale，然后进行调整 scale 配置\n        this.adjustScales();\n    };\n    /**\n     * 根据 Geometry 的所有字段创建 scales\n     * 如果存在，则更新，不存在则创建\n     */\n    View.prototype.createOrUpdateScales = function () {\n        var fields = this.getScaleFields();\n        var groupedFields = this.getGroupedFields();\n        var _a = this.getOptions(), data = _a.data, _b = _a.scales, scales = _b === void 0 ? {} : _b;\n        var filteredData = this.filteredData;\n        for (var i = 0, len = fields.length; i < len; i++) {\n            var field = fields[i];\n            var scaleDef = scales[field];\n            // 调用方法，递归去创建\n            var key = this.getScaleKey(field);\n            this.createScale(field, \n            // 分组字段的 scale 使用未过滤的数据创建\n            groupedFields.includes(field) ? data : filteredData, scaleDef, key);\n            // 缓存从当前 view 创建的 scale key\n            this.createdScaleKeys.set(key, true);\n        }\n    };\n    /**\n     * 处理 scale 同步逻辑\n     */\n    View.prototype.syncScale = function () {\n        // 最终调用 root view 的\n        this.getRootView().scalePool.sync();\n    };\n    /**\n     * 获得 Geometry 中的 scale 对象\n     */\n    View.prototype.getGeometryScales = function () {\n        var fields = this.getScaleFields();\n        var scales = {};\n        for (var i = 0; i < fields.length; i++) {\n            var field = fields[i];\n            scales[field] = this.getScaleByField(field);\n        }\n        return scales;\n    };\n    View.prototype.getScaleFields = function () {\n        var fields = [];\n        var tmpMap = {};\n        var geometries = this.geometries;\n        for (var i = 0; i < geometries.length; i++) {\n            var geometry = geometries[i];\n            var geometryScales = geometry.getScaleFields();\n            uniq(geometryScales, fields, tmpMap);\n        }\n        return fields;\n    };\n    View.prototype.getGroupedFields = function () {\n        var fields = [];\n        var tmpMap = {};\n        var geometries = this.geometries;\n        for (var i = 0; i < geometries.length; i++) {\n            var geometry = geometries[i];\n            var groupFields = geometry.getGroupFields();\n            uniq(groupFields, fields, tmpMap);\n        }\n        return fields;\n    };\n    /**\n     * 调整 scale 配置\n     * @private\n     */\n    View.prototype.adjustScales = function () {\n        // 调整目前包括：\n        // 分类 scale，调整 range 范围\n        this.adjustCategoryScaleRange();\n    };\n    /**\n     * 调整分类 scale 的 range，防止超出坐标系外面\n     * @private\n     */\n    View.prototype.adjustCategoryScaleRange = function () {\n        var _this = this;\n        var xyScales = __spreadArrays([this.getXScale()], this.getYScales()).filter(function (e) { return !!e; });\n        var coordinate = this.getCoordinate();\n        var scaleOptions = this.options.scales;\n        each(xyScales, function (scale) {\n            var field = scale.field, values = scale.values, isCategory = scale.isCategory, isIdentity = scale.isIdentity;\n            // 分类或者 identity 的 scale 才进行处理\n            if (isCategory || isIdentity) {\n                // 存在 value 值，且用户没有配置 range 配置\n                if (values && !get(scaleOptions, [field, 'range'])) {\n                    var count = values.length;\n                    var range = void 0;\n                    if (count === 1) {\n                        range = [0.5, 1]; // 只有一个分类时,防止计算出现 [0.5,0.5] 的状态\n                    }\n                    else {\n                        var widthRatio = 1;\n                        var offset = 0;\n                        if (isFullCircle(coordinate)) {\n                            if (!coordinate.isTransposed) {\n                                range = [0, 1 - 1 / count];\n                            }\n                            else {\n                                widthRatio = get(_this.theme, 'widthRatio.multiplePie', 1 / 1.3);\n                                offset = (1 / count) * widthRatio;\n                                range = [offset / 2, 1 - offset / 2];\n                            }\n                        }\n                        else {\n                            offset = 1 / count / 2; // 两边留下分类空间的一半\n                            range = [offset, 1 - offset]; // 坐标轴最前面和最后面留下空白防止绘制柱状图时\n                        }\n                    }\n                    // 更新 range\n                    scale.range = range;\n                }\n            }\n        });\n    };\n    /**\n     * 根据 options 配置、Geometry 字段配置，自动生成 components\n     * @param isUpdate 是否是更新\n     * @private\n     */\n    View.prototype.initComponents = function (isUpdate) {\n        // 先全部清空，然后 render\n        var controllers = this.controllers;\n        for (var i = 0; i < controllers.length; i++) {\n            var controller = controllers[i];\n            // 更新则走更新逻辑；否则清空载重绘\n            if (isUpdate) {\n                controller.update();\n            }\n            else {\n                controller.clear();\n                controller.render();\n            }\n        }\n    };\n    View.prototype.doLayout = function () {\n        this.layoutFunc(this);\n    };\n    /**\n     * 创建坐标系\n     * @private\n     */\n    View.prototype.createCoordinate = function () {\n        var start = this.coordinateBBox.bl;\n        var end = this.coordinateBBox.tr;\n        this.coordinateInstance = this.coordinateController.create(start, end);\n    };\n    /**\n     * 根据 options 配置自动渲染 geometry\n     * @private\n     */\n    View.prototype.paintGeometries = function (isUpdate) {\n        var doAnimation = this.options.animate;\n        // geometry 的 paint 阶段\n        var coordinate = this.getCoordinate();\n        var canvasRegion = {\n            x: this.viewBBox.x,\n            y: this.viewBBox.y,\n            minX: this.viewBBox.minX,\n            minY: this.viewBBox.minY,\n            maxX: this.viewBBox.maxX,\n            maxY: this.viewBBox.maxY,\n            width: this.viewBBox.width,\n            height: this.viewBBox.height,\n        };\n        var geometries = this.geometries;\n        for (var i = 0; i < geometries.length; i++) {\n            var geometry = geometries[i];\n            geometry.coordinate = coordinate;\n            geometry.canvasRegion = canvasRegion;\n            if (!doAnimation) {\n                // 如果 view 不执行动画，那么 view 下所有的 geometry 都不执行动画\n                geometry.animate(false);\n            }\n            geometry.paint(isUpdate);\n        }\n    };\n    /**\n     * 最后的绘制组件\n     * @param isUpdate\n     */\n    View.prototype.renderComponents = function (isUpdate) {\n        // 先全部清空，然后 render\n        for (var i = 0; i < this.getComponents().length; i++) {\n            var co = this.getComponents()[i];\n            co.component.render();\n        }\n    };\n    /**\n     * 渲染分面，会在其中进行数据分面，然后进行子 view 创建\n     * @param isUpdate\n     */\n    View.prototype.renderFacet = function (isUpdate) {\n        if (this.facetInstance) {\n            if (isUpdate) {\n                this.facetInstance.update();\n            }\n            else {\n                this.facetInstance.clear();\n                // 计算分面数据\n                this.facetInstance.init();\n                // 渲染组件和 views\n                this.facetInstance.render();\n            }\n        }\n    };\n    View.prototype.initOptions = function () {\n        var _this = this;\n        var _a = this.options, _b = _a.geometries, geometries = _b === void 0 ? [] : _b, _c = _a.interactions, interactions = _c === void 0 ? [] : _c, _d = _a.views, views = _d === void 0 ? [] : _d, _e = _a.annotations, annotations = _e === void 0 ? [] : _e, coordinate = _a.coordinate, events = _a.events, facets = _a.facets;\n        // 设置坐标系\n        if (this.coordinateController) {\n            // 更新 coordinate controller\n            coordinate && this.coordinateController.update(coordinate);\n        }\n        else {\n            // 创建 coordinate controller\n            this.coordinateController = new CoordinateController(coordinate);\n        }\n        // 创建 geometry 实例\n        for (var i = 0; i < geometries.length; i++) {\n            var geometryOption = geometries[i];\n            this.createGeometry(geometryOption);\n        }\n        // 创建 interactions 实例\n        for (var j = 0; j < interactions.length; j++) {\n            var interactionOption = interactions[j];\n            var type = interactionOption.type, cfg = interactionOption.cfg;\n            this.interaction(type, cfg);\n        }\n        // 创建 view 实例\n        for (var k = 0; k < views.length; k++) {\n            var viewOption = views[k];\n            this.createView(viewOption);\n        }\n        // 设置 annotation\n        var annotationComponent = this.getController('annotation');\n        for (var l = 0; l < annotations.length; l++) {\n            var annotationOption = annotations[l];\n            annotationComponent.annotation(annotationOption);\n        }\n        // 设置 events\n        if (events) {\n            each(events, function (eventCallback, eventName) {\n                _this.on(eventName, eventCallback);\n            });\n        }\n        if (facets) {\n            each(facets, function (facet) {\n                var type = facet.type, rest = __rest(facet, [\"type\"]);\n                _this.facet(type, rest);\n            });\n        }\n    };\n    View.prototype.createGeometry = function (geometryOption) {\n        var type = geometryOption.type, _a = geometryOption.cfg, cfg = _a === void 0 ? {} : _a;\n        if (this[type]) {\n            var geometry_1 = this[type](cfg);\n            each(geometryOption, function (v, k) {\n                if (isFunction(geometry_1[k])) {\n                    geometry_1[k](v);\n                }\n            });\n        }\n    };\n    /**\n     * scale key 的创建方式\n     * @param field\n     */\n    View.prototype.getScaleKey = function (field) {\n        return this.id + \"-\" + field;\n    };\n    return View;\n}(Base));\nexport { View };\n/**\n * 注册 geometry 组件\n * @param name\n * @param Ctor\n * @returns Geometry\n */\nexport function registerGeometry(name, Ctor) {\n    // 语法糖，在 view API 上增加原型方法\n    View.prototype[name.toLowerCase()] = function (cfg) {\n        if (cfg === void 0) { cfg = {}; }\n        var props = __assign({ \n            /** 图形容器 */\n            container: this.middleGroup.addGroup(), labelsContainer: this.foregroundGroup.addGroup() }, cfg);\n        var geometry = new Ctor(props);\n        this.geometries.push(geometry);\n        return geometry;\n    };\n}\nexport default View;\n//# sourceMappingURL=view.js.map","import { __assign, __extends } from \"tslib\";\nimport { debounce, each, isString } from '@antv/util';\nimport { GROUP_Z_INDEX, VIEW_LIFE_CIRCLE } from '../constant';\nimport { getEngine } from '../engine';\nimport { createDom, getChartSize, removeDom, modifyCSS } from '../util/dom';\nimport View from './view';\n/**\n * Chart 类，是使用 G2 进行绘图的入口。\n */\nvar Chart = /** @class */ (function (_super) {\n    __extends(Chart, _super);\n    // @ts-ignore\n    function Chart(props) {\n        var _this = this;\n        var container = props.container, width = props.width, height = props.height, _a = props.autoFit, autoFit = _a === void 0 ? false : _a, padding = props.padding, appendPadding = props.appendPadding, _b = props.renderer, renderer = _b === void 0 ? 'canvas' : _b, pixelRatio = props.pixelRatio, _c = props.localRefresh, localRefresh = _c === void 0 ? true : _c, _d = props.visible, visible = _d === void 0 ? true : _d, _e = props.supportCSSTransform, supportCSSTransform = _e === void 0 ? false : _e, _f = props.defaultInteractions, defaultInteractions = _f === void 0 ? ['tooltip', 'legend-filter', 'legend-active', 'continuous-filter', 'ellipsis-text'] : _f, options = props.options, limitInPlot = props.limitInPlot, theme = props.theme, syncViewPadding = props.syncViewPadding;\n        var ele = isString(container) ? document.getElementById(container) : container;\n        // 生成内部正式绘制的 div 元素\n        var wrapperElement = createDom('<div style=\"position:relative;\"></div>');\n        ele.appendChild(wrapperElement);\n        // if autoFit, use the container size, to avoid the graph render twice.\n        var size = getChartSize(ele, autoFit, width, height);\n        var G = getEngine(renderer);\n        var canvas = new G.Canvas(__assign({ container: wrapperElement, pixelRatio: pixelRatio,\n            localRefresh: localRefresh,\n            supportCSSTransform: supportCSSTransform }, size));\n        // 调用 view 的创建\n        _this = _super.call(this, {\n            parent: null,\n            canvas: canvas,\n            // create 3 group layers for views.\n            backgroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n            middleGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n            foregroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n            padding: padding,\n            appendPadding: appendPadding,\n            visible: visible,\n            options: options,\n            limitInPlot: limitInPlot,\n            theme: theme,\n            syncViewPadding: syncViewPadding,\n        }) || this;\n        /**\n         * when container size changed, change chart size props, and re-render.\n         */\n        _this.onResize = debounce(function () {\n            _this.forceFit();\n        }, 300);\n        _this.ele = ele;\n        _this.canvas = canvas;\n        _this.width = size.width;\n        _this.height = size.height;\n        _this.autoFit = autoFit;\n        _this.localRefresh = localRefresh;\n        _this.renderer = renderer;\n        _this.wrapperElement = wrapperElement;\n        // 自适应大小\n        _this.updateCanvasStyle();\n        _this.bindAutoFit();\n        _this.initDefaultInteractions(defaultInteractions);\n        return _this;\n    }\n    Chart.prototype.initDefaultInteractions = function (interactions) {\n        var _this = this;\n        each(interactions, function (interaction) {\n            _this.interaction(interaction);\n        });\n    };\n    /**\n     * 改变图表大小，同时重新渲染。\n     * @param width 图表宽度\n     * @param height 图表高度\n     * @returns\n     */\n    Chart.prototype.changeSize = function (width, height) {\n        // 如果宽高一致，那么 changeSize 不执行任何操作\n        if (this.width === width && this.height === height) {\n            return this;\n        }\n        this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE);\n        this.width = width;\n        this.height = height;\n        this.canvas.changeSize(width, height);\n        // 重新渲染\n        this.render(true);\n        this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_SIZE);\n        return this;\n    };\n    /**\n     * 销毁图表，同时解绑事件，销毁创建的 G.Canvas 实例。\n     * @returns void\n     */\n    Chart.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.unbindAutoFit();\n        this.canvas.destroy();\n        removeDom(this.wrapperElement);\n        this.wrapperElement = null;\n    };\n    /**\n     * 显示或隐藏图表\n     * @param visible 是否可见，true 表示显示，false 表示隐藏\n     * @returns\n     */\n    Chart.prototype.changeVisible = function (visible) {\n        _super.prototype.changeVisible.call(this, visible); // 需要更新 visible 变量\n        this.wrapperElement.style.display = visible ? '' : 'none';\n        return this;\n    };\n    /**\n     * 自动根据容器大小 resize 画布\n     */\n    Chart.prototype.forceFit = function () {\n        // skip if already destroyed\n        if (!this.destroyed) {\n            // 注意第二参数用 true，意思是即时 autoFit = false，forceFit() 调用之后一样是适配容器\n            var _a = getChartSize(this.ele, true, this.width, this.height), width = _a.width, height = _a.height;\n            this.changeSize(width, height);\n        }\n    };\n    Chart.prototype.updateCanvasStyle = function () {\n        modifyCSS(this.canvas.get('el'), {\n            display: 'inline-block',\n            verticalAlign: 'middle',\n        });\n    };\n    Chart.prototype.bindAutoFit = function () {\n        if (this.autoFit) {\n            window.addEventListener('resize', this.onResize);\n        }\n    };\n    Chart.prototype.unbindAutoFit = function () {\n        if (this.autoFit) {\n            window.removeEventListener('resize', this.onResize);\n        }\n    };\n    return Chart;\n}(View));\nexport default Chart;\n//# sourceMappingURL=chart.js.map","import { each } from '@antv/util';\n/**\n * Component Controller 规范需要定义的基类\n * 1. 规范的 option 输入\n * 2. 统一的信息获取 API\n * 3. 明确定义的组件事件（名称、数据）\n */\nvar Controller = /** @class */ (function () {\n    function Controller(view) {\n        /** 是否可见 */\n        this.visible = true;\n        /** 所有的 component */\n        this.components = [];\n        this.view = view;\n    }\n    /**\n     * clear\n     * @param includeOption 是否清空 option 配置项（used in annotation）\n     */\n    Controller.prototype.clear = function (includeOption) {\n        // destroy all components\n        each(this.components, function (co) {\n            co.component.destroy();\n        });\n        // clear all component instance\n        this.components = [];\n    };\n    /**\n     * destroy the component\n     */\n    Controller.prototype.destroy = function () {\n        this.clear();\n    };\n    /**\n     * get all components\n     * @returns components array\n     */\n    Controller.prototype.getComponents = function () {\n        return this.components;\n    };\n    /**\n     * change visibility of component\n     * @param visible\n     */\n    Controller.prototype.changeVisible = function (visible) {\n        if (this.visible === visible) {\n            return;\n        }\n        this.components.forEach(function (co) {\n            if (visible) {\n                co.component.show();\n            }\n            else {\n                co.component.hide();\n            }\n        });\n        this.visible = visible;\n    };\n    return Controller;\n}());\nexport { Controller };\n//# sourceMappingURL=base.js.map","var ANIMATIONS_MAP = {};\n/**\n * 根据名称获取对应的动画执行函数\n * @param type 动画函数名称\n */\nexport function getAnimation(type) {\n    return ANIMATIONS_MAP[type.toLowerCase()];\n}\n/**\n * 注册动画执行函数\n * @param type 动画执行函数名称\n * @param animation 动画执行函数\n */\nexport function registerAnimation(type, animation) {\n    ANIMATIONS_MAP[type.toLowerCase()] = animation;\n}\n//# sourceMappingURL=index.js.map","import { __assign } from \"tslib\";\nimport { deepMix, get, isFunction } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { getAnimation } from './animation';\n// 默认的动画参数配置\nexport var DEFAULT_ANIMATE_CFG = {\n    appear: {\n        duration: 450,\n        easing: 'easeQuadOut',\n    },\n    update: {\n        duration: 400,\n        easing: 'easeQuadInOut',\n    },\n    enter: {\n        duration: 400,\n        easing: 'easeQuadInOut',\n    },\n    leave: {\n        duration: 350,\n        easing: 'easeQuadIn',\n    },\n};\n// 各个 Geometry 默认的动画执行函数\nvar GEOMETRY_ANIMATE_CFG = {\n    interval: function (coordinate) {\n        return {\n            enter: {\n                animation: coordinate.isRect ? (coordinate.isTransposed ? 'scale-in-x' : 'scale-in-y') : 'fade-in',\n            },\n            update: {\n                animation: coordinate.isPolar && coordinate.isTransposed ? 'sector-path-update' : null,\n            },\n            leave: {\n                animation: 'fade-out',\n            },\n        };\n    },\n    line: {\n        enter: {\n            animation: 'fade-in',\n        },\n        leave: {\n            animation: 'fade-out',\n        },\n    },\n    path: {\n        enter: {\n            animation: 'fade-in',\n        },\n        leave: {\n            animation: 'fade-out',\n        },\n    },\n    point: {\n        appear: {\n            animation: 'zoom-in',\n        },\n        enter: {\n            animation: 'zoom-in',\n        },\n        leave: {\n            animation: 'zoom-out',\n        },\n    },\n    area: {\n        enter: {\n            animation: 'fade-in',\n        },\n        leave: {\n            animation: 'fade-out',\n        },\n    },\n    polygon: {\n        enter: {\n            animation: 'fade-in',\n        },\n        leave: {\n            animation: 'fade-out',\n        },\n    },\n    schema: {\n        enter: {\n            animation: 'fade-in',\n        },\n        leave: {\n            animation: 'fade-out',\n        },\n    },\n    edge: {\n        enter: {\n            animation: 'fade-in',\n        },\n        leave: {\n            animation: 'fade-out',\n        },\n    },\n    label: {\n        appear: {\n            animation: 'fade-in',\n            delay: 450,\n        },\n        enter: {\n            animation: 'fade-in',\n        },\n        update: {\n            animation: 'position-update',\n        },\n        leave: {\n            animation: 'fade-out',\n        },\n    },\n};\n// 各个 Geometry 默认的群组出场动画\nvar GEOMETRY_GROUP_APPEAR_ANIMATION = {\n    line: function () {\n        return {\n            animation: 'wave-in',\n        };\n    },\n    area: function () {\n        return {\n            animation: 'wave-in',\n        };\n    },\n    path: function () {\n        return {\n            animation: 'fade-in',\n        };\n    },\n    interval: function (coordinate) {\n        var animation;\n        if (coordinate.isRect) {\n            animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n        }\n        else {\n            animation = 'grow-in-xy';\n            if (coordinate.isPolar && coordinate.isTransposed) {\n                // pie chart\n                animation = 'wave-in';\n            }\n        }\n        return {\n            animation: animation,\n        };\n    },\n    schema: function (coordinate) {\n        var animation;\n        if (coordinate.isRect) {\n            animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n        }\n        else {\n            animation = 'grow-in-xy';\n        }\n        return {\n            animation: animation,\n        };\n    },\n    polygon: function () {\n        return {\n            animation: 'fade-in',\n            duration: 500,\n        };\n    },\n    edge: function () {\n        return {\n            animation: 'fade-in',\n        };\n    },\n};\n// 解析用户的动画配置\nfunction parseAnimateConfig(animateCfg, data) {\n    return {\n        delay: isFunction(animateCfg.delay) ? animateCfg.delay(data) : animateCfg.delay,\n        easing: isFunction(animateCfg.easing) ? animateCfg.easing(data) : animateCfg.easing,\n        duration: isFunction(animateCfg.duration) ? animateCfg.duration(data) : animateCfg.duration,\n        callback: animateCfg.callback,\n    };\n}\n/**\n * @ignore\n * 获取 elementName 对应的动画配置，当声明了 `animateType`，则返回 `animateType` 对应的动画配置\n * @param elementName 元素名称\n * @param coordinate 做表弟类型\n * @param animateType 可选，动画类型\n */\nexport function getDefaultAnimateCfg(elementName, coordinate, animateType) {\n    var animateCfg = GEOMETRY_ANIMATE_CFG[elementName];\n    if (animateCfg) {\n        if (isFunction(animateCfg)) {\n            animateCfg = animateCfg(coordinate);\n        }\n        animateCfg = deepMix({}, DEFAULT_ANIMATE_CFG, animateCfg);\n        if (animateType) {\n            return animateCfg[animateType];\n        }\n    }\n    return animateCfg;\n}\n/**\n * @ignore\n * 工具函数\n * 根据用户传入的配置为 shape 执行动画\n * @param shape 执行动画的图形元素\n * @param animateCfg 动画配置\n * @param cfg 额外的信息\n */\nexport function doAnimate(shape, animateCfg, cfg) {\n    var data = get(shape.get('origin'), 'data', FIELD_ORIGIN);\n    var animation = animateCfg.animation; // 获取动画执行函数\n    var parsedAnimateCfg = parseAnimateConfig(animateCfg, data);\n    if (animation) {\n        // 用户声明了动画执行函数\n        var animateFunction = getAnimation(animation);\n        if (animateFunction) {\n            animateFunction(shape, parsedAnimateCfg, cfg);\n        }\n    }\n    else {\n        // 没有声明，则根据 toAttrs 做差值动画\n        shape.animate(cfg.toAttrs, parsedAnimateCfg);\n    }\n}\n/**\n * @ignore\n * 执行 Geometry 群组入场动画\n * @param container 执行群组动画的图形元素\n * @param animateCfg 动画配置\n * @param geometryType geometry 类型\n * @param coordinate 坐标系对象\n * @param minYPoint y 轴最小值对应的画布坐标点\n */\nexport function doGroupAppearAnimate(container, animateCfg, geometryType, coordinate, minYPoint) {\n    if (GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType]) {\n        var defaultCfg = GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType](coordinate);\n        var animation = getAnimation(get(defaultCfg, 'animation', ''));\n        if (animation) {\n            var cfg = __assign(__assign(__assign({}, DEFAULT_ANIMATE_CFG.appear), defaultCfg), animateCfg);\n            container.stopAnimate(); // 先结束当前 container 动画\n            animation(container, cfg, {\n                coordinate: coordinate,\n                minYPoint: minYPoint,\n                toAttrs: null,\n            });\n        }\n    }\n}\n//# sourceMappingURL=index.js.map","import { __assign, __extends } from \"tslib\";\nimport { deepMix, each, get, isArray, isEmpty, isEqual, isFunction, isString } from '@antv/util';\nimport { propagationDelegate } from '@antv/component/lib/util/event';\nimport { doAnimate } from '../../animate';\nimport Base from '../../base';\nimport { getReplaceAttrs } from '../../util/graphics';\nimport { GEOMETRY_LIFE_CIRCLE } from '../../constant';\n/**\n * Element 图形元素。\n * 定义：在 G2 中，我们会将数据通过图形语法映射成不同的图形，比如点图，数据集中的每条数据会对应一个点，柱状图每条数据对应一个柱子，线图则是一组数据对应一条折线，Element 即一条/一组数据对应的图形元素，它代表一条数据或者一个数据集，在图形层面，它可以是单个 Shape 也可以是多个 Shape，我们称之为图形元素。\n */\nvar Element = /** @class */ (function (_super) {\n    __extends(Element, _super);\n    function Element(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        // 存储当前开启的状态\n        _this.states = [];\n        var shapeFactory = cfg.shapeFactory, container = cfg.container, offscreenGroup = cfg.offscreenGroup, _a = cfg.visible, visible = _a === void 0 ? true : _a;\n        _this.shapeFactory = shapeFactory;\n        _this.container = container;\n        _this.offscreenGroup = offscreenGroup;\n        _this.visible = visible;\n        return _this;\n    }\n    /**\n     * 绘制图形。\n     * @param model 绘制数据。\n     * @param isUpdate 可选，是否是更新发生后的绘制。\n     */\n    Element.prototype.draw = function (model, isUpdate) {\n        if (isUpdate === void 0) { isUpdate = false; }\n        this.model = model;\n        this.data = model.data; // 存储原始数据\n        this.shapeType = this.getShapeType(model);\n        // 绘制图形\n        this.drawShape(model, isUpdate);\n        if (this.visible === false) {\n            // 用户在初始化的时候声明 visible: false\n            this.changeVisible(false);\n        }\n    };\n    /**\n     * 更新图形。\n     * @param model 更新的绘制数据。\n     */\n    Element.prototype.update = function (model) {\n        var _a = this, shapeFactory = _a.shapeFactory, shape = _a.shape;\n        if (!shape) {\n            return;\n        }\n        // 更新数据\n        this.model = model;\n        this.data = model.data;\n        this.shapeType = this.getShapeType(model);\n        // step 1: 更新 shape 携带的信息\n        this.setShapeInfo(shape, model);\n        // step 2: 使用虚拟 Group 重新绘制 shape，然后更新当前 shape\n        var offscreenGroup = this.getOffscreenGroup();\n        var newShape = shapeFactory.drawShape(this.shapeType, model, offscreenGroup);\n        // @ts-ignore\n        newShape.cfg.data = this.data;\n        // @ts-ignore\n        newShape.cfg.origin = model;\n        // label 需要使用\n        newShape.cfg.element = this;\n        // step 3: 同步 shape 样式\n        this.syncShapeStyle(shape, newShape, this.getStates(), this.getAnimateCfg('update'));\n    };\n    /**\n     * 销毁 element 实例。\n     */\n    Element.prototype.destroy = function () {\n        var _a = this, shapeFactory = _a.shapeFactory, shape = _a.shape;\n        if (shape) {\n            var animateCfg = this.getAnimateCfg('leave');\n            if (animateCfg) {\n                // 指定了动画配置则执行销毁动画\n                doAnimate(shape, animateCfg, {\n                    coordinate: shapeFactory.coordinate,\n                    toAttrs: __assign({}, shape.attr()),\n                });\n            }\n            else {\n                // 否则直接销毁\n                shape.remove(true);\n            }\n        }\n        // reset\n        this.states = [];\n        this.shapeFactory = undefined;\n        this.container = undefined;\n        this.shape = undefined;\n        this.animate = undefined;\n        this.geometry = undefined;\n        this.labelShape = undefined;\n        this.model = undefined;\n        this.data = undefined;\n        this.offscreenGroup = undefined;\n        this.statesStyle = undefined;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * 显示或者隐藏 element。\n     * @param visible 是否可见。\n     */\n    Element.prototype.changeVisible = function (visible) {\n        _super.prototype.changeVisible.call(this, visible);\n        if (visible) {\n            if (this.shape) {\n                this.shape.show();\n            }\n            if (this.labelShape) {\n                this.labelShape.forEach(function (label) {\n                    label.show();\n                });\n            }\n        }\n        else {\n            if (this.shape) {\n                this.shape.hide();\n            }\n            if (this.labelShape) {\n                this.labelShape.forEach(function (label) {\n                    label.hide();\n                });\n            }\n        }\n    };\n    /**\n     * 设置 Element 的状态。\n     *\n     * 目前 Element 开放三种状态：\n     * 1. active\n     * 2. selected\n     * 3. inactive\n     *\n     * 这三种状态相互独立，可以进行叠加。\n     *\n     * 这三种状态的样式可在 [[Theme]] 主题中或者通过 `geometry.state()` 接口进行配置。\n     *\n     * ```ts\n     * // 激活 active 状态\n     * setState('active', true);\n     * ```\n     *\n     * @param stateName 状态名\n     * @param stateStatus 是否开启状态\n     */\n    Element.prototype.setState = function (stateName, stateStatus) {\n        var _a = this, states = _a.states, shapeFactory = _a.shapeFactory, model = _a.model, shape = _a.shape, shapeType = _a.shapeType;\n        var index = states.indexOf(stateName);\n        if (stateStatus) {\n            // 开启状态\n            if (index > -1) {\n                // 该状态已经开启，则返回\n                return;\n            }\n            states.push(stateName);\n            if (stateName === 'active' || stateName === 'selected') {\n                shape.toFront();\n            }\n        }\n        else {\n            if (index === -1) {\n                // 关闭状态，但是状态未设置过\n                return;\n            }\n            states.splice(index, 1);\n            if (stateName === 'active' || stateName === 'selected') {\n                shape.toBack();\n            }\n        }\n        // 使用虚拟 group 重新绘制 shape，然后对这个 shape 应用状态样式后，更新当前 shape。\n        var offscreenShape = shapeFactory.drawShape(shapeType, model, this.getOffscreenGroup());\n        if (states.length) {\n            // 应用当前状态\n            this.syncShapeStyle(shape, offscreenShape, states, null);\n        }\n        else {\n            // 如果没有状态，则需要恢复至原始状态\n            this.syncShapeStyle(shape, offscreenShape, ['reset'], null);\n        }\n        offscreenShape.remove(true); // 销毁，减少内存占用\n        var eventObject = {\n            state: stateName,\n            stateStatus: stateStatus,\n            element: this,\n            target: this.container,\n        };\n        this.container.emit('statechange', eventObject);\n        // @ts-ignore\n        propagationDelegate(this.shape, 'statechange', eventObject);\n    };\n    /**\n     * 清空状量态，恢复至初始状态。\n     */\n    Element.prototype.clearStates = function () {\n        var _this = this;\n        var states = this.states;\n        each(states, function (state) {\n            _this.setState(state, false);\n        });\n        this.states = [];\n    };\n    /**\n     * 查询当前 Element 上是否已设置 `stateName` 对应的状态。\n     * @param stateName 状态名称。\n     * @returns true 表示存在，false 表示不存在。\n     */\n    Element.prototype.hasState = function (stateName) {\n        return this.states.includes(stateName);\n    };\n    /**\n     * 获取当前 Element 上所有的状态。\n     * @returns 当前 Element 上所有的状态数组。\n     */\n    Element.prototype.getStates = function () {\n        return this.states;\n    };\n    /**\n     * 获取 Element 对应的原始数据。\n     * @returns 原始数据。\n     */\n    Element.prototype.getData = function () {\n        return this.data;\n    };\n    /**\n     * 获取 Element 对应的图形绘制数据。\n     * @returns 图形绘制数据。\n     */\n    Element.prototype.getModel = function () {\n        return this.model;\n    };\n    /**\n     * 返回 Element 元素整体的 bbox，包含文本及文本连线（有的话）。\n     * @returns 整体包围盒。\n     */\n    Element.prototype.getBBox = function () {\n        var _a = this, shape = _a.shape, labelShape = _a.labelShape;\n        var bbox = {\n            x: 0,\n            y: 0,\n            minX: 0,\n            minY: 0,\n            maxX: 0,\n            maxY: 0,\n            width: 0,\n            height: 0,\n        };\n        if (shape) {\n            bbox = shape.getCanvasBBox();\n        }\n        if (labelShape) {\n            labelShape.forEach(function (label) {\n                var labelBBox = label.getCanvasBBox();\n                bbox.x = Math.min(labelBBox.x, bbox.x);\n                bbox.y = Math.min(labelBBox.y, bbox.y);\n                bbox.minX = Math.min(labelBBox.minX, bbox.minX);\n                bbox.minY = Math.min(labelBBox.minY, bbox.minY);\n                bbox.maxX = Math.max(labelBBox.maxX, bbox.maxX);\n                bbox.maxY = Math.max(labelBBox.maxY, bbox.maxY);\n            });\n        }\n        bbox.width = bbox.maxX - bbox.minX;\n        bbox.height = bbox.maxY - bbox.minY;\n        return bbox;\n    };\n    Element.prototype.getStatesStyle = function () {\n        if (!this.statesStyle) {\n            var _a = this, shapeType = _a.shapeType, geometry = _a.geometry, shapeFactory = _a.shapeFactory;\n            var stateOption = geometry.stateOption;\n            var defaultShapeType = shapeFactory.defaultShapeType;\n            var stateTheme = shapeFactory.theme[shapeType] || shapeFactory.theme[defaultShapeType];\n            this.statesStyle = deepMix({}, stateTheme, stateOption);\n        }\n        return this.statesStyle;\n    };\n    // 从主题中获取对应状态量的样式\n    Element.prototype.getStateStyle = function (stateName, shapeKey) {\n        var statesStyle = this.getStatesStyle();\n        var stateCfg = get(statesStyle, [stateName, 'style'], {});\n        var shapeStyle = stateCfg[shapeKey] || stateCfg;\n        if (isFunction(shapeStyle)) {\n            return shapeStyle(this);\n        }\n        return shapeStyle;\n    };\n    // 获取动画配置\n    Element.prototype.getAnimateCfg = function (animateType) {\n        var _this = this;\n        var animate = this.animate;\n        if (animate) {\n            var cfg_1 = animate[animateType];\n            if (cfg_1) {\n                // 增加动画的回调函数，如果外部传入了，则先执行外部，然后发射 geometry 的 animate 事件\n                return __assign(__assign({}, cfg_1), { callback: function () {\n                        var _a;\n                        isFunction(cfg_1.callback) && cfg_1.callback();\n                        (_a = _this.geometry) === null || _a === void 0 ? void 0 : _a.emit(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE);\n                    } });\n            }\n            return cfg_1;\n        }\n        return null;\n    };\n    // 绘制图形\n    Element.prototype.drawShape = function (model, isUpdate) {\n        var _a;\n        if (isUpdate === void 0) { isUpdate = false; }\n        var _b = this, shapeFactory = _b.shapeFactory, container = _b.container, shapeType = _b.shapeType;\n        // 自定义 shape 有可能返回空 shape\n        this.shape = shapeFactory.drawShape(shapeType, model, container);\n        if (this.shape) {\n            this.setShapeInfo(this.shape, model); // 存储绘图数据\n            // @ts-ignore\n            var name_1 = this.shape.cfg.name;\n            // 附加 element 的 name, name 现在支持数组了，很好用了\n            if (!name_1) {\n                // 这个地方如果用户添加了 name, 则附加 name ，否则就添加自己的 name\n                // @ts-ignore\n                this.shape.cfg.name = ['element', this.shapeFactory.geometryType];\n            }\n            else if (isString(name_1)) {\n                // @ts-ignore\n                this.shape.cfg.name = ['element', name_1];\n            }\n            // 执行入场动画\n            var animateType = isUpdate ? 'enter' : 'appear';\n            var animateCfg = this.getAnimateCfg(animateType);\n            if (animateCfg) {\n                // 开始执行动画的生命周期\n                (_a = this.geometry) === null || _a === void 0 ? void 0 : _a.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n                doAnimate(this.shape, animateCfg, {\n                    coordinate: shapeFactory.coordinate,\n                    toAttrs: __assign({}, this.shape.attr()),\n                });\n            }\n        }\n    };\n    // 获取虚拟 Group\n    Element.prototype.getOffscreenGroup = function () {\n        if (!this.offscreenGroup) {\n            var GroupCtor = this.container.getGroupBase(); // 获取分组的构造函数\n            this.offscreenGroup = new GroupCtor({});\n        }\n        return this.offscreenGroup;\n    };\n    // 设置 shape 上需要携带的信息\n    Element.prototype.setShapeInfo = function (shape, data) {\n        var _this = this;\n        // @ts-ignore\n        shape.cfg.origin = data;\n        // @ts-ignore\n        shape.cfg.element = this;\n        if (shape.isGroup()) {\n            var children = shape.get('children');\n            children.forEach(function (child) {\n                _this.setShapeInfo(child, data);\n            });\n        }\n    };\n    // 更新当前 shape 的样式\n    Element.prototype.syncShapeStyle = function (sourceShape, targetShape, states, animateCfg, index) {\n        var _this = this;\n        var _a;\n        if (states === void 0) { states = []; }\n        if (index === void 0) { index = 0; }\n        // 所有的 shape 都需要同步 clip\n        var clip = sourceShape.get('clipShape');\n        var newClip = targetShape.get('clipShape');\n        if (clip && newClip) {\n            this.syncShapeStyle(clip, newClip, states, animateCfg);\n        }\n        if (sourceShape.isGroup()) {\n            var children = sourceShape.get('children');\n            var newChildren = targetShape.get('children');\n            for (var i = 0; i < children.length; i++) {\n                this.syncShapeStyle(children[i], newChildren[i], states, animateCfg, index + i);\n            }\n        }\n        else {\n            if (!isEmpty(states) && !isEqual(states, ['reset'])) {\n                var name_2 = sourceShape.get('name');\n                if (isArray(name_2)) {\n                    // 会附加 element 的 name\n                    name_2 = name_2[1];\n                }\n                each(states, function (state) {\n                    var style = _this.getStateStyle(state, name_2 || index); // 如果用户没有设置 name，则默认根据索引值\n                    targetShape.attr(style);\n                });\n            }\n            var newAttrs = getReplaceAttrs(sourceShape, targetShape);\n            if (this.animate) {\n                if (animateCfg) {\n                    (_a = this.geometry) === null || _a === void 0 ? void 0 : _a.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n                    // 需要进行动画\n                    doAnimate(sourceShape, animateCfg, {\n                        coordinate: this.shapeFactory.coordinate,\n                        toAttrs: newAttrs,\n                        shapeModel: this.model,\n                    });\n                }\n                else if (isEmpty(states)) {\n                    sourceShape.stopAnimate();\n                    sourceShape.animate(newAttrs, {\n                        duration: 300,\n                    });\n                }\n                else {\n                    sourceShape.attr(newAttrs);\n                }\n            }\n            else {\n                sourceShape.attr(newAttrs);\n            }\n        }\n    };\n    Element.prototype.getShapeType = function (model) {\n        var shape = get(model, 'shape');\n        return isArray(shape) ? shape[0] : shape;\n    };\n    return Element;\n}(Base));\nexport default Element;\n//# sourceMappingURL=index.js.map","var GEOMETRY_LABELS_MAP = {};\nvar GEOMETRY_LABELS_LAYOUT_MAP = {};\n/**\n * 获取 `type` 对应的 [[GeometryLabel]] 类\n * @param type\n * @returns\n */\nexport function getGeometryLabel(type) {\n    return GEOMETRY_LABELS_MAP[type.toLowerCase()];\n}\n/**\n * 注册定义的 GeometryLabel 类\n * @param type GeometryLabel 类型名称\n * @param ctor GeometryLabel 类\n */\nexport function registerGeometryLabel(type, ctor) {\n    GEOMETRY_LABELS_MAP[type.toLowerCase()] = ctor;\n}\n/**\n * 获取 `type` 对应的 [[GeometryLabelsLayoutFn]] label 布局函数\n * @param type 布局函数名称\n * @returns\n */\nexport function getGeometryLabelLayout(type) {\n    return GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()];\n}\n/**\n * 注册定义的 label 布局函数\n * @param type label 布局函数名称\n * @param layoutFn label 布局函数\n */\nexport function registerGeometryLabelLayout(type, layoutFn) {\n    GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()] = layoutFn;\n}\n//# sourceMappingURL=index.js.map","import { __assign } from \"tslib\";\nimport { parsePathString } from '@antv/path-util';\nimport { deepMix, get, upperFirst } from '@antv/util';\nimport { convertNormalPath, convertPolarPath } from './util/path';\n/** ShapeFactory 基类 */\nvar ShapeFactoryBase = {\n    /** 坐标系对象 */\n    coordinate: null,\n    /** 默认绘制的 Shape 类型 */\n    defaultShapeType: null,\n    /** 主题样式 */\n    theme: null,\n    /**\n     * 获取 shape 绘制需要的关键点\n     * @param shapeType shape 类型\n     * @param shapePoint 每条数据映射后的坐标点以及 size 数值\n     * @returns 图形关键点信息\n     */\n    getShapePoints: function (shapeType, shapePoint) {\n        var shape = this.getShape(shapeType);\n        if (shape.getPoints) {\n            return shape.getPoints(shapePoint);\n        }\n        return this.getDefaultPoints(shapePoint);\n    },\n    /**\n     * 根据 shape 类型获取具体的 shape 实例\n     * @param shapeType string shape 的类型\n     * @returns\n     */\n    getShape: function (shapeType) {\n        var shape = this[shapeType] || this[this.defaultShapeType];\n        shape.coordinate = this.coordinate;\n        return shape;\n    },\n    /**\n     * 获取 shape 的默认关键点\n     * @override\n     */\n    getDefaultPoints: function () {\n        return [];\n    },\n    /**\n     * 获取 shape 的默认绘制样式 (内置的 shapeFactory 均有注册默认样式)\n     */\n    getDefaultStyle: function (geometryTheme) {\n        return get(geometryTheme, [this.defaultShapeType, 'default', 'style'], {});\n    },\n    /**\n     * 获取 shape 对应的缩略图配置信息。\n     * @param shapeType shape 类型\n     * @param color 颜色\n     * @param isInPolar 是否在极坐标系下\n     * @returns 返回缩略图 marker 配置。\n     */\n    getMarker: function (shapeType, markerCfg) {\n        var shape = this.getShape(shapeType);\n        if (!shape.getMarker) {\n            var defaultShapeType = this.defaultShapeType;\n            shape = this.getShape(defaultShapeType);\n        }\n        var theme = this.theme;\n        var shapeStyle = get(theme, [shapeType, 'default'], {});\n        var markerStyle = shape.getMarker(markerCfg);\n        return deepMix({}, shapeStyle, markerStyle);\n    },\n    /**\n     * 绘制 shape\n     * @override\n     * @param shapeType 绘制的 shape 类型\n     * @param cfg 绘制 shape 需要的信息\n     * @param element Element 实例\n     * @returns\n     */\n    drawShape: function (shapeType, cfg, container) {\n        var shape = this.getShape(shapeType);\n        return shape.draw(cfg, container);\n    },\n};\n/** Shape 基类 */\nvar ShapeBase = {\n    /** 坐标系对象 */\n    coordinate: null,\n    /**\n     * 将归一化的 path 转换成坐标系下的 path\n     * @param path 归一化的路径\n     * @returns\n     */\n    parsePath: function (path) {\n        var coordinate = this.coordinate;\n        var parsedPath = parsePathString(path);\n        if (coordinate.isPolar) {\n            parsedPath = convertPolarPath(coordinate, parsedPath);\n        }\n        else {\n            parsedPath = convertNormalPath(coordinate, parsedPath);\n        }\n        return parsedPath;\n    },\n    /**\n     * 将归一化的坐标转换成画布坐标\n     * @param point 归一化的坐标点数据\n     * @returns\n     */\n    parsePoint: function (point) {\n        var coordinate = this.coordinate;\n        return coordinate.convert(point);\n    },\n    /**\n     * 0～1 points 转 画布 points\n     * @param points 节点集合\n     * @returns\n     */\n    parsePoints: function (points) {\n        var coordinate = this.coordinate;\n        return points.map(function (point) {\n            return coordinate.convert(point);\n        });\n    },\n    /**\n     * 绘制 shape\n     * @override\n     */\n    draw: function (cfg, container) { },\n};\nvar ShapeFactoryMap = {};\n/**\n * 注册 ShapeFactory。\n * @param factoryName  ShapeFactory 名称，对应 Geometry 几何标记名称。\n * @param cfg 注册 ShapeFactory 需要覆写定义的属性。\n * @returns 返回 ShapeFactory 对象。\n */\nexport function registerShapeFactory(factoryName, cfg) {\n    var className = upperFirst(factoryName);\n    var geomObj = __assign(__assign(__assign({}, ShapeFactoryBase), cfg), { geometryType: factoryName });\n    ShapeFactoryMap[className] = geomObj;\n    return geomObj;\n}\n/**\n * 注册 Shape。\n * @param factoryName 对应的 ShapeFactory 名称。\n * @param shapeType 注册的 shape 名称。\n * @param cfg 注册 Shape 需要覆写定义的属性。\n * @returns shape 返回注册的 shape 对象。\n */\nexport function registerShape(factoryName, shapeType, cfg) {\n    var className = upperFirst(factoryName);\n    var factory = ShapeFactoryMap[className];\n    var shapeObj = __assign(__assign({}, ShapeBase), cfg);\n    factory[shapeType] = shapeObj;\n    return shapeObj;\n}\n/**\n * 获取 factoryName 对应的 shapeFactory\n * @param factoryName\n * @returns shape factory\n */\nexport function getShapeFactory(factoryName) {\n    var className = upperFirst(factoryName);\n    return ShapeFactoryMap[className];\n}\n//# sourceMappingURL=base.js.map","import { isEqual, some } from '@antv/util';\n/**\n * @ignore\n * Determines whether model is change\n * @param currentModel\n * @param preModel\n * @returns\n */\nexport function isModelChange(currentModel, preModel) {\n    return some(['color', 'shape', 'size', 'x', 'y', 'isInCircle', 'data', 'style', 'defaultStyle', 'points', 'mappingData'], function (key) {\n        return !isEqual(currentModel[key], preModel[key]);\n    });\n}\n//# sourceMappingURL=is-model-change.js.map","import { isArray } from '@antv/util';\n/** @ignore */\nexport function parseFields(field) {\n    if (isArray(field)) {\n        return field;\n    }\n    return field.split('*');\n}\n//# sourceMappingURL=parse-fields.js.map","import { __assign, __extends } from \"tslib\";\nimport { getAdjust as getAdjustClass } from '@antv/adjust';\nimport { getAttribute as getAttributeClass } from '@antv/attr';\nimport { clone, deepMix, each, flatten, get, isArray, isEmpty, isEqual, isFunction, isNil, isNumber, isObject, isPlainObject, isString, set, } from '@antv/util';\nimport { doGroupAppearAnimate, getDefaultAnimateCfg } from '../animate';\nimport Base from '../base';\nimport { FIELD_ORIGIN, GROUP_ATTRS } from '../constant';\nimport { uniq } from '../util/helper';\nimport Element from './element';\nimport { getGeometryLabel } from './label';\nimport { getShapeFactory } from './shape/base';\nimport { group } from './util/group-data';\nimport { isModelChange } from './util/is-model-change';\nimport { parseFields } from './util/parse-fields';\n// 根据 elementId 查找对应的 label，因为有可能一个 element 对应多个 labels，所以在给 labels 打标识时做了处理\n// 打标规则详见 ./label/base.ts#L263\nfunction filterLabelsById(id, labelsMap) {\n    var labels = [];\n    each(labelsMap, function (label, labelId) {\n        var elementId = labelId.split(' ')[0];\n        if (elementId === id) {\n            labels.push(label);\n        }\n    });\n    return labels;\n}\n/**\n * Geometry 几何标记基类，主要负责数据到图形属性的映射以及绘制逻辑。\n */\nvar Geometry = /** @class */ (function (_super) {\n    __extends(Geometry, _super);\n    /**\n     * 创建 Geometry 实例。\n     * @param cfg\n     */\n    function Geometry(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        /** Geometry 几何标记类型。 */\n        _this.type = 'base';\n        // 内部产生的属性\n        /** Attribute map  */\n        _this.attributes = {};\n        /** Element map */\n        _this.elements = [];\n        /** 使用 key-value 结构存储 Element，key 为每个 Element 实例对应的唯一 ID */\n        _this.elementsMap = {};\n        /** animate 配置项 */\n        _this.animateOption = true;\n        /** 图形属性映射配置 */\n        _this.attributeOption = {};\n        /** 存储上一次渲染时的 element 映射表，用于更新逻辑 */\n        _this.lastElementsMap = {};\n        /** 是否生成多个点来绘制图形。 */\n        _this.generatePoints = false;\n        /** 存储发生图形属性映射前的数据 */\n        _this.beforeMappingData = null;\n        _this.adjusts = {};\n        _this.idFields = [];\n        _this.hasSorted = false;\n        _this.isCoordinateChanged = false;\n        var container = cfg.container, labelsContainer = cfg.labelsContainer, coordinate = cfg.coordinate, data = cfg.data, _a = cfg.sortable, sortable = _a === void 0 ? false : _a, _b = cfg.visible, visible = _b === void 0 ? true : _b, theme = cfg.theme, _c = cfg.scales, scales = _c === void 0 ? {} : _c, _d = cfg.scaleDefs, scaleDefs = _d === void 0 ? {} : _d;\n        _this.container = container;\n        _this.labelsContainer = labelsContainer;\n        _this.coordinate = coordinate;\n        _this.data = data;\n        _this.sortable = sortable;\n        _this.visible = visible;\n        _this.userTheme = theme;\n        _this.scales = scales;\n        _this.scaleDefs = scaleDefs;\n        return _this;\n    }\n    /**\n     * 配置 position 通道映射规则。\n     *\n     * @example\n     * ```typescript\n     * // 数据结构: [{ x: 'A', y: 10, color: 'red' }]\n     * geometry.position('x*y');\n     * geometry.position([ 'x', 'y' ]);\n     * geometry.position({\n     *   fields: [ 'x', 'y' ],\n     * });\n     * ```\n     *\n     * @param cfg 映射规则\n     * @returns\n     */\n    Geometry.prototype.position = function (cfg) {\n        var positionCfg = cfg;\n        if (!isPlainObject(cfg)) {\n            // 字符串字段或者数组字段\n            positionCfg = {\n                fields: parseFields(cfg),\n            };\n        }\n        var fields = get(positionCfg, 'fields');\n        if (fields.length === 1) {\n            // 默认填充一维 1*xx\n            fields.unshift('1');\n            set(positionCfg, 'fields', fields);\n        }\n        set(this.attributeOption, 'position', positionCfg);\n        return this;\n    };\n    Geometry.prototype.color = function (field, cfg) {\n        this.createAttrOption('color', field, cfg);\n        return this;\n    };\n    Geometry.prototype.shape = function (field, cfg) {\n        this.createAttrOption('shape', field, cfg);\n        return this;\n    };\n    Geometry.prototype.size = function (field, cfg) {\n        this.createAttrOption('size', field, cfg);\n        return this;\n    };\n    /**\n     * 设置数据调整方式。G2 目前内置了四种类型：\n     * 1. dodge\n     * 2. stack\n     * 3. symmetric\n     * 4. jitter\n     *\n     *\n     * **Tip**\n     * + 对于 'dodge' 类型，可以额外进行如下属性的配置:\n     * ```typescript\n     * geometry.adjust('dodge', {\n     *   marginRatio: 0, // 取 0 到 1 范围的值（相对于每个柱子宽度），用于控制一个分组中柱子之间的间距\n     *   dodgeBy: 'x', // 该属性只对 'dodge' 类型生效，声明以哪个数据字段为分组依据\n     * });\n     * ```\n     *\n     * + 对于 'stack' 类型，可以额外进行如下属性的配置:\n     * ```typescript\n     * geometry.adjust('stack', {\n     *   reverseOrder: false, // 用于控制是否对数据进行反序操作\n     * });\n     * ```\n     *\n     * @example\n     * ```typescript\n     * geometry.adjust('stack');\n     *\n     * geometry.adjust({\n     *   type: 'stack',\n     *   reverseOrder: false,\n     * });\n     *\n     * // 组合使用 adjust\n     * geometry.adjust([ 'stack', 'dodge' ]);\n     *\n     * geometry.adjust([\n     *   { type: 'stack' },\n     *   { type: 'dodge', dodgeBy: 'x' },\n     * ]);\n     * ```\n     *\n     * @param adjustCfg 数据调整配置\n     * @returns\n     */\n    Geometry.prototype.adjust = function (adjustCfg) {\n        var adjusts = adjustCfg;\n        if (isString(adjustCfg) || isPlainObject(adjustCfg)) {\n            adjusts = [adjustCfg];\n        }\n        each(adjusts, function (adjust, index) {\n            if (!isObject(adjust)) {\n                adjusts[index] = { type: adjust };\n            }\n        });\n        this.adjustOption = adjusts;\n        return this;\n    };\n    Geometry.prototype.style = function (field, styleFunc) {\n        if (isString(field)) {\n            var fields = parseFields(field);\n            this.styleOption = {\n                fields: fields,\n                callback: styleFunc,\n            };\n        }\n        else {\n            var _a = field, fields = _a.fields, callback = _a.callback, cfg = _a.cfg;\n            if (fields || callback || cfg) {\n                this.styleOption = field;\n            }\n            else {\n                this.styleOption = {\n                    cfg: field,\n                };\n            }\n        }\n        return this;\n    };\n    Geometry.prototype.tooltip = function (field, cfg) {\n        if (isString(field)) {\n            var fields = parseFields(field);\n            this.tooltipOption = {\n                fields: fields,\n                callback: cfg,\n            };\n        }\n        else {\n            this.tooltipOption = field;\n        }\n        return this;\n    };\n    /**\n     * Geometry 动画配置。\n     *\n     * + `animate(false)` 关闭动画\n     * + `animate(true)` 开启动画，默认开启。\n     *\n     * 我们将动画分为四个场景：\n     * 1. appear: 图表第一次加载时的入场动画；\n     * 2. enter: 图表绘制完成，发生更新后，产生的新图形的进场动画；\n     * 3. update: 图表绘制完成，数据发生变更后，有状态变更的图形的更新动画；\n     * 4. leave: 图表绘制完成，数据发生变更后，被销毁图形的销毁动画。\n     *\n     * @example\n     * ```typescript\n     * animate({\n     *   enter: {\n     *     duration: 1000, // enter 动画执行时间\n     *   },\n     *   leave: false, // 关闭 leave 销毁动画\n     * });\n     * ```\n     *\n     * @param cfg 动画配置\n     * @returns\n     */\n    Geometry.prototype.animate = function (cfg) {\n        this.animateOption = cfg;\n        return this;\n    };\n    Geometry.prototype.label = function (field, secondParam, thirdParam) {\n        if (isString(field)) {\n            var labelOption = {};\n            var fields = parseFields(field);\n            labelOption.fields = fields;\n            if (isFunction(secondParam)) {\n                labelOption.callback = secondParam;\n            }\n            else if (isPlainObject(secondParam)) {\n                labelOption.cfg = secondParam;\n            }\n            if (thirdParam) {\n                labelOption.cfg = thirdParam;\n            }\n            this.labelOption = labelOption;\n        }\n        else {\n            this.labelOption = field;\n        }\n        return this;\n    };\n    /**\n     * 设置状态对应的样式。\n     *\n     * @example\n     * ```ts\n     * chart.interval().state({\n     *   selected: {\n     *     animate: { duration: 100, easing: 'easeLinear' },\n     *     style: {\n     *       lineWidth: 2,\n     *       stroke: '#000',\n     *     },\n     *   },\n     * });\n     * ```\n     *\n     * 如果图形 shape 是由多个 shape 组成，即为一个 G.Group 对象，那么针对 group 中的每个 shape，我们需要使用下列方式进行状态样式设置：\n     * 如果我们为 group 中的每个 shape 设置了 'name' 属性(shape.set('name', 'xx'))，则以 'name' 作为 key，否则默认以索引值（即 shape 的 添加顺序）为 key。\n     *\n     * ```ts\n     * chart.interval().shape('groupShape').state({\n     *   selected: {\n     *     style: {\n     *       0: { lineWidth: 2 },\n     *       1: { fillOpacity: 1 },\n     *     }\n     *   }\n     * });\n     * ```\n     *\n     * @param cfg 状态样式\n     */\n    Geometry.prototype.state = function (cfg) {\n        this.stateOption = cfg;\n        return this;\n    };\n    /**\n     * 用于向 shape 中传入自定义的数据。目前可能仅仅可能用于在自定义 shape 的时候，像自定义 shape 中传入自定义的数据，方便实现自定义 shape 的配置能力。\n     *\n     * @example\n     * ```ts\n     * chart.interval().customInfo({ yourData: 'hello, g2!' });\n     * ```\n     *\n     * 然后在自定义 shape 的时候，可以拿到这个信息。\n     *\n     * ```ts\n     * registerShape('interval', 'your-shape', {\n     *   draw(shapeInfo, container) {\n     *     const { customInfo } = shapeInfo;\n     *     console.log(customInfo); // will log { yourData: 'hello, g2!' }.\n     *   }\n     * });\n     * ```\n     *\n     * @param cfg\n     */\n    Geometry.prototype.customInfo = function (cfg) {\n        this.customOption = cfg;\n        return this;\n    };\n    /**\n     * 初始化 Geomtry 实例：\n     * 创建 [[Attribute]] and [[Scale]] 实例，进行数据处理，包括分组、数值化以及数据调整。\n     */\n    Geometry.prototype.init = function (cfg) {\n        if (cfg === void 0) { cfg = {}; }\n        this.setCfg(cfg);\n        this.initAttributes(); // 创建图形属性\n        // 数据加工：分组 -> 数字化 -> adjust\n        this.processData(this.data);\n        // 调整 scale\n        this.adjustScale();\n    };\n    /**\n     * Geometry 更新。\n     * @param [cfg] 更新的配置\n     */\n    Geometry.prototype.update = function (cfg) {\n        if (cfg === void 0) { cfg = {}; }\n        var data = cfg.data, isDataChanged = cfg.isDataChanged, isCoordinateChanged = cfg.isCoordinateChanged;\n        var _a = this, attributeOption = _a.attributeOption, lastAttributeOption = _a.lastAttributeOption;\n        if (!isEqual(attributeOption, lastAttributeOption)) {\n            // 映射发生改变，则重新创建图形属性\n            this.init(cfg);\n        }\n        else if (data && (isDataChanged || !isEqual(data, this.data))) {\n            // 数据发生变化\n            this.setCfg(cfg);\n            this.processData(data); // 数据加工：分组 -> 数字化 -> adjust\n        }\n        else {\n            // 有可能 coordinate 变化\n            this.setCfg(cfg);\n        }\n        // 调整 scale\n        this.adjustScale();\n        this.isCoordinateChanged = isCoordinateChanged;\n    };\n    /**\n     * 将原始数据映射至图形空间，同时创建图形对象。\n     */\n    Geometry.prototype.paint = function (isUpdate) {\n        var _this = this;\n        if (isUpdate === void 0) { isUpdate = false; }\n        if (this.animateOption) {\n            this.animateOption = deepMix({}, getDefaultAnimateCfg(this.type, this.coordinate), this.animateOption);\n        }\n        this.defaultSize = undefined;\n        this.elements = [];\n        this.elementsMap = {};\n        var offscreenGroup = this.getOffscreenGroup();\n        offscreenGroup.clear();\n        var beforeMappingData = this.beforeMappingData;\n        var dataArray = this.beforeMapping(beforeMappingData);\n        var mappingArray = [];\n        for (var index = 0, length_1 = dataArray.length; index < length_1; index++) {\n            var eachGroup = dataArray[index];\n            var mappingData = this.mapping(eachGroup);\n            mappingArray.push(mappingData);\n            this.createElements(mappingData, index, isUpdate);\n        }\n        if (this.canDoGroupAnimation(isUpdate)) {\n            // 如果用户没有配置 appear.animation，就默认走整体动画\n            var container = this.container;\n            var type = this.type;\n            var coordinate = this.coordinate;\n            var animateCfg = get(this.animateOption, 'appear');\n            var yScale = this.getYScale();\n            var yMinPoint = coordinate.convert({\n                x: 0,\n                y: yScale.scale(this.getYMinValue()),\n            });\n            doGroupAppearAnimate(container, animateCfg, type, coordinate, yMinPoint);\n        }\n        // 添加 label\n        if (this.labelOption) {\n            this.renderLabels(flatten(mappingArray), isUpdate);\n        }\n        this.dataArray = mappingArray;\n        // 销毁被删除的 elements\n        each(this.lastElementsMap, function (deletedElement) {\n            // 更新动画配置，用户有可能在更新之前有对动画进行配置操作\n            deletedElement.animate = _this.animateOption;\n            deletedElement.destroy();\n        });\n        this.lastElementsMap = this.elementsMap;\n        // 缓存，用于更新\n        this.lastAttributeOption = __assign({}, this.attributeOption);\n        if (this.visible === false) {\n            // 用户在初始化的时候声明 visible: false\n            this.changeVisible(false);\n        }\n    };\n    /**\n     * 清空当前 Geometry，配置项仍保留，但是内部创建的对象全部清空。\n     * @override\n     */\n    Geometry.prototype.clear = function () {\n        var _a = this, container = _a.container, geometryLabel = _a.geometryLabel, offscreenGroup = _a.offscreenGroup;\n        if (container) {\n            container.clear();\n        }\n        if (geometryLabel) {\n            geometryLabel.clear();\n        }\n        if (offscreenGroup) {\n            offscreenGroup.clear();\n        }\n        // 属性恢复至出厂状态\n        this.scaleDefs = undefined;\n        this.attributes = {};\n        this.scales = {};\n        this.elementsMap = {};\n        this.lastElementsMap = {};\n        this.elements = [];\n        this.adjusts = {};\n        this.dataArray = null;\n        this.beforeMappingData = null;\n        this.lastAttributeOption = undefined;\n        this.defaultSize = undefined;\n        this.idFields = [];\n        this.groupScales = undefined;\n        this.hasSorted = false;\n        this.isCoordinateChanged = false;\n    };\n    /**\n     * 销毁 Geometry 实例。\n     */\n    Geometry.prototype.destroy = function () {\n        this.clear();\n        var container = this.container;\n        container.remove(true);\n        if (this.offscreenGroup) {\n            this.offscreenGroup.remove(true);\n            this.offscreenGroup = null;\n        }\n        if (this.geometryLabel) {\n            this.geometryLabel.destroy();\n            this.geometryLabel = null;\n        }\n        this.theme = undefined;\n        this.shapeFactory = undefined;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * 获取决定分组的图形属性对应的 scale 实例。\n     * @returns\n     */\n    Geometry.prototype.getGroupScales = function () {\n        return this.groupScales;\n    };\n    /**\n     * 根据名字获取图形属性实例。\n     */\n    Geometry.prototype.getAttribute = function (name) {\n        return this.attributes[name];\n    };\n    /** 获取 x 轴对应的 scale 实例。 */\n    Geometry.prototype.getXScale = function () {\n        return this.getAttribute('position').scales[0];\n    };\n    /** 获取 y 轴对应的 scale 实例。 */\n    Geometry.prototype.getYScale = function () {\n        return this.getAttribute('position').scales[1];\n    };\n    /**\n     * 获取决定分组的图形属性实例。\n     */\n    Geometry.prototype.getGroupAttributes = function () {\n        var rst = [];\n        each(this.attributes, function (attr) {\n            if (GROUP_ATTRS.includes(attr.type)) {\n                rst.push(attr);\n            }\n        });\n        return rst;\n    };\n    /** 获取图形属性默认的映射值。 */\n    Geometry.prototype.getDefaultValue = function (attrName) {\n        var value;\n        var attr = this.getAttribute(attrName);\n        if (attr && isEmpty(attr.scales)) {\n            // 获取映射至常量的值\n            value = attr.values[0];\n        }\n        return value;\n    };\n    /**\n     * 获取该数据发生图形映射后对应的 Attribute 图形空间数据。\n     * @param attr Attribute 图形属性实例。\n     * @param obj 需要进行映射的原始数据。\n     * @returns\n     */\n    Geometry.prototype.getAttributeValues = function (attr, obj) {\n        var params = [];\n        var scales = attr.scales;\n        for (var index = 0, length_2 = scales.length; index < length_2; index++) {\n            var scale = scales[index];\n            var field = scale.field;\n            if (scale.isIdentity) {\n                params.push(scale.values);\n            }\n            else {\n                params.push(obj[field]);\n            }\n        }\n        return attr.mapping.apply(attr, params);\n    };\n    Geometry.prototype.getAdjust = function (adjustType) {\n        return this.adjusts[adjustType];\n    };\n    /**\n     * 获取 shape 对应的 marker 样式。\n     * @param shapeName shape 具体名字\n     * @param cfg marker 信息\n     * @returns\n     */\n    Geometry.prototype.getShapeMarker = function (shapeName, cfg) {\n        var shapeFactory = this.getShapeFactory();\n        return shapeFactory.getMarker(shapeName, cfg);\n    };\n    /**\n     * 根据一定的规则查找 Geometry 的 Elements。\n     *\n     * ```typescript\n     * getElementsBy((element) => {\n     *   const data = element.getData();\n     *\n     *   return data.a === 'a';\n     * });\n     * ```\n     *\n     * @param condition 定义查找规则的回调函数。\n     * @returns\n     */\n    Geometry.prototype.getElementsBy = function (condition) {\n        return this.elements.filter(function (element) {\n            return condition(element);\n        });\n    };\n    /**\n     * 获取数据对应的唯一 id。\n     * @param data Element 对应的绘制数据\n     * @returns\n     */\n    Geometry.prototype.getElementId = function (data) {\n        data = isArray(data) ? data[0] : data;\n        var originData = data[FIELD_ORIGIN];\n        // 如果用户声明了使用哪些字段作为 id 值\n        if (this.idFields.length) {\n            var elementId = originData[this.idFields[0]];\n            for (var index = 1; index < this.idFields.length; index++) {\n                elementId += '-' + originData[this.idFields[index]];\n            }\n            return elementId;\n        }\n        var type = this.type;\n        var xScale = this.getXScale();\n        var yScale = this.getYScale();\n        var xField = xScale.field || 'x';\n        var yField = yScale.field || 'y';\n        var yVal = originData[yField];\n        var xVal;\n        if (xScale.type === 'identity') {\n            xVal = xScale.values[0];\n        }\n        else {\n            xVal = originData[xField];\n        }\n        var id;\n        if (type === 'interval' || type === 'schema') {\n            id = xVal;\n        }\n        else if (type === 'line' || type === 'area' || type === 'path') {\n            id = type;\n        }\n        else {\n            id = xVal + \"-\" + yVal;\n        }\n        var groupScales = this.groupScales;\n        for (var index = 0, length_3 = groupScales.length; index < length_3; index++) {\n            var groupScale = groupScales[index];\n            var field = groupScale.field;\n            id = id + \"-\" + originData[field];\n        }\n        // 用户在进行 dodge 类型的 adjust 调整的时候设置了 dodgeBy 属性\n        var dodgeAdjust = this.getAdjust('dodge');\n        if (dodgeAdjust) {\n            var dodgeBy = dodgeAdjust.dodgeBy;\n            if (dodgeBy) {\n                id = id + \"-\" + originData[dodgeBy];\n            }\n        }\n        if (this.getAdjust('jitter')) {\n            id = id + \"-\" + data.x + \"-\" + data.y;\n        }\n        return id;\n    };\n    /**\n     * 获取所有需要创建 scale 的字段名称。\n     */\n    Geometry.prototype.getScaleFields = function () {\n        var fields = [];\n        var tmpMap = {};\n        var _a = this, attributeOption = _a.attributeOption, labelOption = _a.labelOption, tooltipOption = _a.tooltipOption;\n        // 获取图形属性上的 fields\n        for (var attributeType in attributeOption) {\n            if (attributeOption.hasOwnProperty(attributeType)) {\n                var eachOpt = attributeOption[attributeType];\n                if (eachOpt.fields) {\n                    uniq(eachOpt.fields, fields, tmpMap);\n                }\n                else if (eachOpt.values) {\n                    // 考虑 size(10), shape('circle') 等场景\n                    uniq(eachOpt.values, fields, tmpMap);\n                }\n            }\n        }\n        // 获取 label 上的字段\n        if (labelOption && labelOption.fields) {\n            uniq(labelOption.fields, fields, tmpMap);\n        }\n        // 获取 tooltip 上的字段\n        if (isObject(tooltipOption) && tooltipOption.fields) {\n            uniq(tooltipOption.fields, fields, tmpMap);\n        }\n        return fields;\n    };\n    /**\n     * 显示或者隐藏 geometry。\n     * @param visible\n     */\n    Geometry.prototype.changeVisible = function (visible) {\n        _super.prototype.changeVisible.call(this, visible);\n        var elements = this.elements;\n        for (var index = 0, length_4 = elements.length; index < length_4; index++) {\n            var element = elements[index];\n            element.changeVisible(visible);\n        }\n        if (visible) {\n            if (this.container) {\n                this.container.show();\n            }\n            if (this.labelsContainer) {\n                this.labelsContainer.show();\n            }\n        }\n        else {\n            if (this.container) {\n                this.container.hide();\n            }\n            if (this.labelsContainer) {\n                this.labelsContainer.hide();\n            }\n        }\n    };\n    /**\n     * 获取当前配置中的所有分组 & 分类的字段。\n     * @return fields string[]\n     */\n    Geometry.prototype.getGroupFields = function () {\n        var groupFields = [];\n        var tmpMap = {}; // 用于去重过滤\n        for (var index = 0, length_5 = GROUP_ATTRS.length; index < length_5; index++) {\n            var attributeName = GROUP_ATTRS[index];\n            var cfg = this.attributeOption[attributeName];\n            if (cfg && cfg.fields) {\n                uniq(cfg.fields, groupFields, tmpMap);\n            }\n        }\n        return groupFields;\n    };\n    /**\n     * 获得图形的 x y 字段。\n     */\n    Geometry.prototype.getXYFields = function () {\n        var _a = this.attributeOption.position.fields, x = _a[0], y = _a[1];\n        return [x, y];\n    };\n    /**\n     * 获取该 Geometry 下所有生成的 shapes。\n     * @returns shapes\n     */\n    Geometry.prototype.getShapes = function () {\n        return this.elements.map(function (element) { return element.shape; });\n    };\n    /**\n     * 获取虚拟 Group。\n     * @returns\n     */\n    Geometry.prototype.getOffscreenGroup = function () {\n        if (!this.offscreenGroup) {\n            var GroupCtor = this.container.getGroupBase(); // 获取分组的构造函数\n            this.offscreenGroup = new GroupCtor({});\n        }\n        return this.offscreenGroup;\n    };\n    // 对数据进行排序\n    Geometry.prototype.sort = function (mappingArray) {\n        if (!this.hasSorted) {\n            // 未发生过排序\n            var xScale_1 = this.getXScale();\n            var xField_1 = xScale_1.field;\n            for (var index = 0; index < mappingArray.length; index++) {\n                var itemArr = mappingArray[index];\n                itemArr.sort(function (obj1, obj2) {\n                    return xScale_1.translate(obj1[FIELD_ORIGIN][xField_1]) - xScale_1.translate(obj2[FIELD_ORIGIN][xField_1]);\n                });\n            }\n        }\n        this.hasSorted = true;\n    };\n    /**\n     * 调整度量范围。主要针对发生层叠以及一些特殊需求的 Geometry，比如 Interval 下的柱状图 Y 轴默认从 0 开始。\n     */\n    Geometry.prototype.adjustScale = function () {\n        var yScale = this.getYScale();\n        // 如果数据发生过 stack adjust，需要调整下 yScale 的数据范围\n        if (yScale && this.getAdjust('stack')) {\n            this.updateStackRange(yScale, this.beforeMappingData);\n        }\n    };\n    /**\n     * 获取当前 Geometry 对应的 Shape 工厂实例。\n     */\n    Geometry.prototype.getShapeFactory = function () {\n        var shapeType = this.shapeType;\n        if (!getShapeFactory(shapeType)) {\n            return;\n        }\n        if (!this.shapeFactory) {\n            this.shapeFactory = clone(getShapeFactory(shapeType)); // 防止多个 view 共享一个 shapeFactory 实例，导致 coordinate 被篡改\n        }\n        // 因为这里缓存了 shapeFactory，但是外部可能会变更 coordinate，导致无法重新设置到 shapeFactory 中\n        this.shapeFactory.coordinate = this.coordinate;\n        // theme 原因同上\n        this.shapeFactory.theme = this.theme.geometries[shapeType] || {};\n        return this.shapeFactory;\n    };\n    /**\n     * 获取每个 Shape 对应的关键点数据。\n     * @param obj 经过分组 -> 数字化 -> adjust 调整后的数据记录\n     * @returns\n     */\n    Geometry.prototype.createShapePointsCfg = function (obj) {\n        var xScale = this.getXScale();\n        var yScale = this.getYScale();\n        var x = this.normalizeValues(obj[xScale.field], xScale);\n        var y; // 存在没有 y 的情况\n        if (yScale) {\n            y = this.normalizeValues(obj[yScale.field], yScale);\n        }\n        else {\n            y = obj.y ? obj.y : 0.1;\n        }\n        return {\n            x: x,\n            y: y,\n            y0: yScale ? yScale.scale(this.getYMinValue()) : undefined,\n        };\n    };\n    /**\n     * 创建 Element 实例。\n     * @param mappingDatum Element 对应的绘制数据\n     * @param [isUpdate] 是否处于更新阶段\n     * @returns element 返回创建的 Element 实例\n     */\n    Geometry.prototype.createElement = function (mappingDatum, isUpdate) {\n        if (isUpdate === void 0) { isUpdate = false; }\n        var container = this.container;\n        var shapeCfg = this.getDrawCfg(mappingDatum); // 获取绘制图形的配置信息\n        var shapeFactory = this.getShapeFactory();\n        var element = new Element({\n            shapeFactory: shapeFactory,\n            container: container,\n            offscreenGroup: this.getOffscreenGroup(),\n        });\n        element.animate = this.animateOption;\n        element.geometry = this;\n        element.draw(shapeCfg, isUpdate); // 绘制\n        return element;\n    };\n    /**\n     * 获取每条数据对应的图形绘制数据。\n     * @param mappingDatum 映射后的数据\n     * @returns draw cfg\n     */\n    Geometry.prototype.getDrawCfg = function (mappingDatum) {\n        var originData = mappingDatum[FIELD_ORIGIN]; // 原始数据\n        var cfg = {\n            mappingData: mappingDatum,\n            data: originData,\n            x: mappingDatum.x,\n            y: mappingDatum.y,\n            color: mappingDatum.color,\n            size: mappingDatum.size,\n            isInCircle: this.coordinate.isPolar,\n            customInfo: this.customOption,\n        };\n        var shapeName = mappingDatum.shape;\n        if (!shapeName && this.getShapeFactory()) {\n            shapeName = this.getShapeFactory().defaultShapeType;\n        }\n        cfg.shape = shapeName;\n        // 获取默认样式\n        var theme = this.theme.geometries[this.shapeType];\n        cfg.defaultStyle = get(theme, [shapeName, 'default'], {}).style;\n        if (!cfg.defaultStyle && this.getShapeFactory()) {\n            cfg.defaultStyle = this.getShapeFactory().getDefaultStyle(theme);\n        }\n        var styleOption = this.styleOption;\n        if (styleOption) {\n            cfg.style = this.getStyleCfg(styleOption, originData);\n        }\n        if (this.generatePoints) {\n            cfg.points = mappingDatum.points;\n            cfg.nextPoints = mappingDatum.nextPoints;\n        }\n        return cfg;\n    };\n    /**\n     * 创建所有的 Elements。\n     * @param mappingData\n     * @param [isUpdate]\n     * @returns elements\n     */\n    Geometry.prototype.createElements = function (mappingData, index, isUpdate) {\n        if (isUpdate === void 0) { isUpdate = false; }\n        var _a = this, lastElementsMap = _a.lastElementsMap, elementsMap = _a.elementsMap, elements = _a.elements;\n        for (var subIndex = 0, length_6 = mappingData.length; subIndex < length_6; subIndex++) {\n            var mappingDatum = mappingData[subIndex];\n            var id = this.getElementId(mappingDatum);\n            if (elementsMap[id]) {\n                // 存在重复数据，则根据再根据 index 进行区分\n                id = id + \"-\" + index + \"-\" + subIndex;\n            }\n            var result = lastElementsMap[id];\n            if (!result) {\n                // 创建新的 element\n                result = this.createElement(mappingDatum, isUpdate);\n            }\n            else {\n                // element 已经创建\n                var currentShapeCfg = this.getDrawCfg(mappingDatum);\n                var preShapeCfg = result.getModel();\n                if (this.isCoordinateChanged || isModelChange(currentShapeCfg, preShapeCfg)) {\n                    result.animate = this.animateOption;\n                    // 通过绘制数据的变更来判断是否需要更新，因为用户有可能会修改图形属性映射\n                    result.update(currentShapeCfg); // 更新对应的 element\n                }\n                delete lastElementsMap[id];\n            }\n            elements.push(result);\n            elementsMap[id] = result;\n        }\n        return elements;\n    };\n    /**\n     * 获取渲染的 label 类型。\n     */\n    Geometry.prototype.getLabelType = function () {\n        var _a = this, labelOption = _a.labelOption, coordinate = _a.coordinate, type = _a.type;\n        var coordinateType = coordinate.type, isTransposed = coordinate.isTransposed;\n        var labelType = get(labelOption, ['cfg', 'type']);\n        if (!labelType) {\n            // 用户未定义，则进行默认的逻辑\n            if (coordinateType === 'polar') {\n                // 极坐标下使用通用的极坐标文本，转置则使用饼图\n                labelType = isTransposed ? 'pie' : 'polar';\n            }\n            else if (coordinateType === 'theta') {\n                // theta 坐标系下使用饼图文本\n                labelType = 'pie';\n            }\n            else if (type === 'interval' || type === 'polygon') {\n                labelType = 'interval';\n            }\n            else {\n                labelType = 'base';\n            }\n        }\n        return labelType;\n    };\n    /**\n     * 获取 Y 轴上的最小值。\n     */\n    Geometry.prototype.getYMinValue = function () {\n        var yScale = this.getYScale();\n        var min = yScale.min, max = yScale.max;\n        var value;\n        if (min >= 0) {\n            value = min;\n        }\n        else if (max <= 0) {\n            // 当值全位于负区间时，需要保证 ymin 在区域内，不可为 0\n            value = max;\n        }\n        else {\n            value = 0;\n        }\n        return value;\n    };\n    // 创建图形属性相关的配置项\n    Geometry.prototype.createAttrOption = function (attrName, field, cfg) {\n        if (isNil(field) || isObject(field)) {\n            if (isObject(field) && isEqual(Object.keys(field), ['values'])) {\n                // shape({ values: [ 'funnel' ] })\n                set(this.attributeOption, attrName, {\n                    fields: field.values,\n                });\n            }\n            else {\n                set(this.attributeOption, attrName, field);\n            }\n        }\n        else {\n            var attrCfg = {};\n            if (isNumber(field)) {\n                // size(3)\n                attrCfg.values = [field];\n            }\n            else {\n                attrCfg.fields = parseFields(field);\n            }\n            if (cfg) {\n                if (isFunction(cfg)) {\n                    attrCfg.callback = cfg;\n                }\n                else {\n                    attrCfg.values = cfg;\n                }\n            }\n            set(this.attributeOption, attrName, attrCfg);\n        }\n    };\n    Geometry.prototype.initAttributes = function () {\n        var _this = this;\n        var _a = this, attributes = _a.attributes, attributeOption = _a.attributeOption, theme = _a.theme, shapeType = _a.shapeType;\n        this.groupScales = [];\n        var tmpMap = {};\n        var _loop_1 = function (attrType) {\n            if (attributeOption.hasOwnProperty(attrType)) {\n                var option = attributeOption[attrType];\n                if (!option) {\n                    return { value: void 0 };\n                }\n                var attrCfg = __assign({}, option);\n                var callback = attrCfg.callback, values = attrCfg.values, _a = attrCfg.fields, fields = _a === void 0 ? [] : _a;\n                // 获取每一个字段对应的 scale\n                var scales = fields.map(function (field) {\n                    var scale = _this.scales[field];\n                    if (scale.isCategory && !tmpMap[field] && GROUP_ATTRS.includes(attrType)) {\n                        _this.groupScales.push(scale);\n                        tmpMap[field] = true;\n                    }\n                    return scale;\n                });\n                attrCfg.scales = scales;\n                if (attrType !== 'position' && scales.length === 1 && scales[0].type === 'identity') {\n                    // 用户在图形通道上声明了常量字段 color('red'), size(5)\n                    attrCfg.values = scales[0].values;\n                }\n                else if (!callback && !values) {\n                    // 用户没有指定任何规则，则使用默认的映射规则\n                    if (attrType === 'size') {\n                        attrCfg.values = theme.sizes;\n                    }\n                    else if (attrType === 'shape') {\n                        attrCfg.values = theme.shapes[shapeType] || [];\n                    }\n                    else if (attrType === 'color') {\n                        if (scales.length) {\n                            // 根据数值个数使用对应的色板\n                            attrCfg.values = scales[0].values.length <= 10 ? theme.colors10 : theme.colors20;\n                        }\n                        else {\n                            attrCfg.values = theme.colors10;\n                        }\n                    }\n                }\n                var AttributeCtor = getAttributeClass(attrType);\n                attributes[attrType] = new AttributeCtor(attrCfg);\n            }\n        };\n        // 遍历每一个 attrOption，各自创建 Attribute 实例\n        for (var attrType in attributeOption) {\n            var state_1 = _loop_1(attrType);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n    };\n    // 处理数据：分组 -> 数字化 -> adjust 调整\n    Geometry.prototype.processData = function (data) {\n        this.hasSorted = false;\n        var scales = this.getAttribute('position').scales;\n        var categoryScales = scales.filter(function (scale) { return scale.isCategory; });\n        var groupedArray = this.groupData(data); // 数据分组\n        var beforeAdjust = [];\n        for (var i = 0, len = groupedArray.length; i < len; i++) {\n            var subData = groupedArray[i];\n            var arr = [];\n            for (var j = 0, subLen = subData.length; j < subLen; j++) {\n                var originData = subData[j];\n                var item = {};\n                // tslint:disable-next-line: forin\n                for (var k in originData) {\n                    item[k] = originData[k];\n                }\n                item[FIELD_ORIGIN] = originData;\n                // 将分类数据翻译成数据, 仅对位置相关的度量进行数字化处理\n                for (var _i = 0, categoryScales_1 = categoryScales; _i < categoryScales_1.length; _i++) {\n                    var scale = categoryScales_1[_i];\n                    var field = scale.field;\n                    item[field] = scale.translate(item[field]);\n                }\n                arr.push(item);\n            }\n            beforeAdjust.push(arr);\n        }\n        var dataArray = this.adjustData(beforeAdjust); // 进行 adjust 数据调整\n        this.beforeMappingData = dataArray;\n        return dataArray;\n    };\n    // 调整数据\n    Geometry.prototype.adjustData = function (dataArray) {\n        var adjustOption = this.adjustOption;\n        var result = dataArray;\n        if (adjustOption) {\n            var xScale = this.getXScale();\n            var yScale = this.getYScale();\n            var xField = xScale.field;\n            var yField = yScale ? yScale.field : null;\n            for (var i = 0, len = adjustOption.length; i < len; i++) {\n                var adjust = adjustOption[i];\n                var adjustCfg = __assign({ xField: xField,\n                    yField: yField }, adjust);\n                var type = adjust.type;\n                if (type === 'dodge') {\n                    var adjustNames = [];\n                    if (xScale.isCategory || xScale.type === 'identity') {\n                        adjustNames.push('x');\n                    }\n                    else if (!yScale) {\n                        adjustNames.push('y');\n                    }\n                    else {\n                        throw new Error('dodge is not support linear attribute, please use category attribute!');\n                    }\n                    adjustCfg.adjustNames = adjustNames;\n                    // 每个分组内每条柱子的宽度占比，用户不可指定，用户需要通过 columnWidthRatio 指定\n                    adjustCfg.dodgeRatio = this.theme.columnWidthRatio;\n                }\n                else if (type === 'stack') {\n                    var coordinate = this.coordinate;\n                    if (!yScale) {\n                        // 一维的情况下获取高度和默认size\n                        adjustCfg.height = coordinate.getHeight();\n                        var size = this.getDefaultValue('size') || 3;\n                        adjustCfg.size = size;\n                    }\n                    // 不进行 transpose 时，用户又没有设置这个参数时，默认从上向下\n                    if (!coordinate.isTransposed && isNil(adjustCfg.reverseOrder)) {\n                        adjustCfg.reverseOrder = true;\n                    }\n                }\n                var adjustCtor = getAdjustClass(type);\n                var adjustInstance = new adjustCtor(adjustCfg);\n                result = adjustInstance.process(result);\n                this.adjusts[type] = adjustInstance;\n            }\n        }\n        return result;\n    };\n    // 对数据进行分组\n    Geometry.prototype.groupData = function (data) {\n        var groupScales = this.getGroupScales();\n        var scaleDefs = this.scaleDefs;\n        var appendConditions = {};\n        var groupFields = [];\n        for (var index = 0; index < groupScales.length; index++) {\n            var scale = groupScales[index];\n            var field = scale.field;\n            groupFields.push(field);\n            if (get(scaleDefs, [field, 'values'])) {\n                // 用户通过 view.scale() 接口指定了 values 属性\n                appendConditions[field] = scaleDefs[field].values;\n            }\n        }\n        return group(data, groupFields, appendConditions);\n    };\n    // 更新发生层叠后的数据对应的度量范围\n    Geometry.prototype.updateStackRange = function (scale, dataArray) {\n        var mergeArray = flatten(dataArray);\n        var field = scale.field;\n        var min = scale.min;\n        var max = scale.max;\n        for (var index = 0; index < mergeArray.length; index++) {\n            var obj = mergeArray[index];\n            var tmpMin = Math.min.apply(null, obj[field]);\n            var tmpMax = Math.max.apply(null, obj[field]);\n            if (tmpMin < min) {\n                min = tmpMin;\n            }\n            if (tmpMax > max) {\n                max = tmpMax;\n            }\n        }\n        var scaleDefs = this.scaleDefs;\n        var cfg = {};\n        if (min < scale.min && !get(scaleDefs, [field, 'min'])) {\n            // 用户如果在列定义中定义了 min，则以用户定义的为准\n            cfg.min = min;\n        }\n        if (max > scale.max && !get(scaleDefs, [field, 'max'])) {\n            // 用户如果在列定义中定义了 max\n            cfg.max = max;\n        }\n        scale.change(cfg);\n    };\n    // 将数据映射至图形空间前的操作：排序以及关键点的生成\n    Geometry.prototype.beforeMapping = function (beforeMappingData) {\n        // 当初加 clone 是因为 points 的引用关系，导致更新失败，可是现在貌似复现不出来了，所以暂时不进行 clone\n        // const source = clone(beforeMappingData);\n        var source = beforeMappingData;\n        if (this.sortable) {\n            this.sort(source);\n        }\n        if (this.generatePoints) {\n            // 需要生成关键点\n            for (var index = 0, length_7 = source.length; index < length_7; index++) {\n                var currentData = source[index];\n                this.generateShapePoints(currentData);\n                var nextData = source[index + 1];\n                if (nextData) {\n                    this.generateShapePoints(nextData);\n                    currentData[0].nextPoints = nextData[0].points;\n                }\n            }\n        }\n        return source;\n    };\n    // 生成 shape 的关键点\n    Geometry.prototype.generateShapePoints = function (data) {\n        var shapeFactory = this.getShapeFactory();\n        var shapeAttr = this.getAttribute('shape');\n        for (var index = 0; index < data.length; index++) {\n            var obj = data[index];\n            var cfg = this.createShapePointsCfg(obj);\n            var shape = shapeAttr ? this.getAttributeValues(shapeAttr, obj) : null;\n            var points = shapeFactory.getShapePoints(shape, cfg);\n            obj.points = points;\n        }\n    };\n    // 将数据归一化\n    Geometry.prototype.normalizeValues = function (values, scale) {\n        var rst = [];\n        if (isArray(values)) {\n            for (var index = 0; index < values.length; index++) {\n                var value = values[index];\n                rst.push(scale.scale(value));\n            }\n        }\n        else {\n            rst = scale.scale(values);\n        }\n        return rst;\n    };\n    // 将数据映射至图形空间\n    Geometry.prototype.mapping = function (data) {\n        var attributes = this.attributes;\n        var mappingData = [];\n        for (var index = 0; index < data.length; index++) {\n            var record = data[index];\n            var newRecord = {\n                _origin: record[FIELD_ORIGIN],\n                points: record.points,\n                nextPoints: record.nextPoints,\n            };\n            for (var k in attributes) {\n                if (attributes.hasOwnProperty(k)) {\n                    var attr = attributes[k];\n                    var names = attr.names;\n                    var values = this.getAttributeValues(attr, record);\n                    if (names.length > 1) {\n                        // position 之类的生成多个字段的属性\n                        for (var j = 0; j < values.length; j += 1) {\n                            var val = values[j];\n                            var name_1 = names[j];\n                            newRecord[name_1] = isArray(val) && val.length === 1 ? val[0] : val; // 只有一个值时返回第一个属性值\n                        }\n                    }\n                    else {\n                        // values.length === 1 的判断是以下情况，获取用户设置的图形属性值\n                        // shape('a', ['dot', 'dash']), color('a', ['red', 'yellow'])\n                        newRecord[names[0]] = values.length === 1 ? values[0] : values;\n                    }\n                }\n            }\n            this.convertPoint(newRecord); // 将 x、y 转换成画布坐标\n            mappingData.push(newRecord);\n        }\n        return mappingData;\n    };\n    // 将归一化的坐标值转换成画布坐标\n    Geometry.prototype.convertPoint = function (mappingRecord) {\n        var x = mappingRecord.x, y = mappingRecord.y;\n        var rstX;\n        var rstY;\n        var obj;\n        var coordinate = this.coordinate;\n        if (isArray(x) && isArray(y)) {\n            rstX = [];\n            rstY = [];\n            for (var i = 0, j = 0, xLen = x.length, yLen = y.length; i < xLen && j < yLen; i += 1, j += 1) {\n                obj = coordinate.convert({\n                    x: x[i],\n                    y: y[j],\n                });\n                rstX.push(obj.x);\n                rstY.push(obj.y);\n            }\n        }\n        else if (isArray(y)) {\n            rstY = [];\n            for (var index = 0; index < y.length; index++) {\n                var yVal = y[index];\n                obj = coordinate.convert({\n                    x: x,\n                    y: yVal,\n                });\n                if (rstX && rstX !== obj.x) {\n                    if (!isArray(rstX)) {\n                        rstX = [rstX];\n                    }\n                    rstX.push(obj.x);\n                }\n                else {\n                    rstX = obj.x;\n                }\n                rstY.push(obj.y);\n            }\n        }\n        else if (isArray(x)) {\n            rstX = [];\n            for (var index = 0; index < x.length; index++) {\n                var xVal = x[index];\n                obj = coordinate.convert({\n                    x: xVal,\n                    y: y,\n                });\n                if (rstY && rstY !== obj.y) {\n                    if (!isArray(rstY)) {\n                        rstY = [rstY];\n                    }\n                    rstY.push(obj.y);\n                }\n                else {\n                    rstY = obj.y;\n                }\n                rstX.push(obj.x);\n            }\n        }\n        else {\n            var point = coordinate.convert({\n                x: x,\n                y: y,\n            });\n            rstX = point.x;\n            rstY = point.y;\n        }\n        mappingRecord.x = rstX;\n        mappingRecord.y = rstY;\n    };\n    // 获取 style 配置\n    Geometry.prototype.getStyleCfg = function (styleOption, originData) {\n        var _a = styleOption.fields, fields = _a === void 0 ? [] : _a, callback = styleOption.callback, cfg = styleOption.cfg;\n        if (cfg) {\n            // 用户直接配置样式属性\n            return cfg;\n        }\n        var params = fields.map(function (field) {\n            return originData[field];\n        });\n        return callback.apply(void 0, params);\n    };\n    Geometry.prototype.setCfg = function (cfg) {\n        var _this = this;\n        var coordinate = cfg.coordinate, data = cfg.data, theme = cfg.theme, scaleDefs = cfg.scaleDefs;\n        if (coordinate) {\n            this.coordinate = coordinate;\n        }\n        if (data) {\n            this.data = data;\n        }\n        if (scaleDefs) {\n            this.scaleDefs = scaleDefs;\n            this.idFields = [];\n            each(scaleDefs, function (scaleDef, field) {\n                if (scaleDef && scaleDef.key) {\n                    _this.idFields.push(field);\n                }\n            });\n        }\n        if (theme) {\n            this.theme = this.userTheme ? deepMix({}, theme, this.userTheme) : theme; // 支持 geometry 层级的主题设置\n        }\n    };\n    Geometry.prototype.renderLabels = function (mappingArray, isUpdate) {\n        if (isUpdate === void 0) { isUpdate = false; }\n        var geometryLabel = this.geometryLabel;\n        if (!geometryLabel) {\n            // 初次创建\n            var labelType = this.getLabelType();\n            var GeometryLabelsCtor = getGeometryLabel(labelType);\n            geometryLabel = new GeometryLabelsCtor(this);\n            this.geometryLabel = geometryLabel;\n        }\n        geometryLabel.render(mappingArray, isUpdate);\n        // 将 label 同 element 进行关联\n        var labelsMap = geometryLabel.labelsRenderer.shapesMap;\n        each(this.elementsMap, function (element, id) {\n            var labels = filterLabelsById(id, labelsMap); // element 实例同 label 进行绑定\n            if (labels.length) {\n                element.labelShape = labels;\n                for (var i = 0; i < labels.length; i++) {\n                    var label = labels[i];\n                    var labelChildren = label.getChildren();\n                    for (var j = 0; j < labelChildren.length; j++) {\n                        var child = labelChildren[j];\n                        child.cfg.name = ['element', 'label'];\n                        child.cfg.element = element;\n                    }\n                }\n            }\n        });\n    };\n    /**\n     * 是否需要进行群组入场动画\n     * 规则：\n     * 1. 如果发生更新，则不进行\n     * 2. 如果用户关闭 geometry 动画，则不进行\n     * 3. 如果用户关闭了 appear 动画，则不进行\n     * 4. 如果用户配置了 appear.animation，则不进行\n     */\n    Geometry.prototype.canDoGroupAnimation = function (isUpdate) {\n        return (!isUpdate &&\n            this.animateOption &&\n            (get(this.animateOption, 'appear') === undefined ||\n                (get(this.animateOption, 'appear') && get(this.animateOption, ['appear', 'animation']) === undefined)));\n    };\n    return Geometry;\n}(Base));\nexport default Geometry;\n//# sourceMappingURL=base.js.map","import { groupToMap } from '@antv/util';\n/** @ignore */\nexport function group(data, fields, appendConditions) {\n    if (appendConditions === void 0) { appendConditions = {}; }\n    if (!fields) {\n        return [data];\n    }\n    var groups = groupToMap(data, fields);\n    var array = [];\n    if (fields.length === 1 && appendConditions[fields[0]]) {\n        var values = appendConditions[fields[0]];\n        for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\n            var value = values_1[_i];\n            var arr = groups[\"_\" + value];\n            if (arr) {\n                // 可能存在用户设置 values ，但是数据中没有对应的字段，则这时候 arr 就为 null\n                array.push(arr);\n            }\n        }\n    }\n    else {\n        for (var k in groups) {\n            if (groups.hasOwnProperty(k)) {\n                var eachGroup = groups[k];\n                array.push(eachGroup);\n            }\n        }\n    }\n    return array;\n}\n//# sourceMappingURL=group-data.js.map","import { ext } from '@antv/matrix-util';\nvar transform = ext.transform;\nexport { transform };\n/**\n * 对元素进行平移操作。\n * @param element 进行变换的元素\n * @param x x 方向位移\n * @param y y 方向位移\n */\nexport function translate(element, x, y) {\n    var matrix = transform(element.getMatrix(), [['t', x, y]]);\n    element.setMatrix(matrix);\n}\n/**\n * 获取元素旋转矩阵 (以元素的左上角为旋转点)\n * @param element 进行变换的元素\n * @param rotateRadian 旋转弧度\n */\nexport function getRotateMatrix(element, rotateRadian) {\n    var _a = element.attr(), x = _a.x, y = _a.y;\n    var matrix = transform(element.getMatrix(), [\n        ['t', -x, -y],\n        ['r', rotateRadian],\n        ['t', x, y],\n    ]);\n    return matrix;\n}\n/**\n * 对元素进行旋转操作。\n * @param element 进行变换的元素\n * @param rotateRadian 旋转弧度\n */\nexport function rotate(element, rotateRadian) {\n    var matrix = getRotateMatrix(element, rotateRadian);\n    element.setMatrix(matrix);\n}\n/**\n * 获取元矩阵。\n * @returns identity matrix\n */\nexport function getIdentityMatrix() {\n    return [1, 0, 0, 0, 1, 0, 0, 0, 1];\n}\n/**\n * 围绕图形中心点进行缩放\n * @param element 进行缩放的图形元素\n * @param ratio 缩放比例\n */\nexport function zoom(element, ratio) {\n    var bbox = element.getBBox();\n    var x = (bbox.minX + bbox.maxX) / 2;\n    var y = (bbox.minY + bbox.maxY) / 2;\n    element.applyToMatrix([x, y, 1]);\n    var matrix = transform(element.getMatrix(), [\n        ['t', -x, -y],\n        ['s', ratio, ratio],\n        ['t', x, y],\n    ]);\n    element.setMatrix(matrix);\n}\n//# sourceMappingURL=transform.js.map","import { isNil, isNumber } from '@antv/util';\nimport { rotate } from '../../../util/transform';\n/**\n * 查找 Label Group 中的文本 shape 对象\n * @param label\n */\nexport function findLabelTextShape(label) {\n    return label.find(function (el) { return el.get('type') === 'text'; });\n}\n/**\n * 获取标签背景信息: box (无旋转) + rotation (旋转角度)\n */\nexport function getlLabelBackgroundInfo(labelGroup, labelItem, padding) {\n    if (padding === void 0) { padding = [0, 0, 0, 0]; }\n    var content = labelGroup.getChildren()[0];\n    if (content) {\n        var labelShape = content.clone();\n        // revert rotate\n        if (labelItem.rotate) {\n            rotate(labelShape, -labelItem.rotate);\n        }\n        // use `getCanvasBBox`, because if Shape is been translated, `getBBox` is not the actual box position\n        var _a = labelShape.getCanvasBBox(), x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n        labelShape.destroy();\n        var boxPadding = padding;\n        if (isNil(boxPadding)) {\n            boxPadding = [2, 2, 2, 2];\n        }\n        else if (isNumber(boxPadding)) {\n            boxPadding = new Array(4).fill(boxPadding);\n        }\n        return {\n            x: x - boxPadding[3],\n            y: y - boxPadding[0],\n            width: width + boxPadding[1] + boxPadding[3],\n            height: height + boxPadding[0] + boxPadding[2],\n            rotation: labelItem.rotate || 0,\n        };\n    }\n}\n//# sourceMappingURL=index.js.map","import { __assign, __rest } from \"tslib\";\nimport { deepMix, each, get, isArray } from '@antv/util';\nimport { doAnimate } from '../animate';\nimport { getGeometryLabelLayout } from '../geometry/label';\nimport { getlLabelBackgroundInfo } from '../geometry/label/util';\nimport { getReplaceAttrs, polarToCartesian } from '../util/graphics';\nimport { rotate, translate } from '../util/transform';\nimport { FIELD_ORIGIN } from '../constant';\n/**\n * Geometry labels 渲染组件\n */\nvar Labels = /** @class */ (function () {\n    function Labels(cfg) {\n        /** 存储当前 shape 的映射表，键值为 shape id */\n        this.shapesMap = {};\n        this.lastShapesMap = {};\n        var layout = cfg.layout, container = cfg.container;\n        this.layout = layout;\n        this.container = container;\n    }\n    /**\n     * 渲染文本\n     */\n    Labels.prototype.render = function (items, shapes, isUpdate) {\n        var _this = this;\n        if (isUpdate === void 0) { isUpdate = false; }\n        this.shapesMap = {};\n        var container = this.container;\n        var offscreenGroup = this.createOffscreenGroup(); // 创建虚拟分组\n        if (items.length) {\n            // 如果 items 空的话就不进行绘制调整操作\n            // step 1: 在虚拟 group 中创建 shapes\n            for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n                var item = items_1[_i];\n                if (item) {\n                    this.renderLabel(item, offscreenGroup);\n                }\n            }\n            // step 2: 根据布局，调整 labels\n            this.doLayout(items, shapes);\n            // step 3.1: 绘制 labelLine\n            this.renderLabelLine(items);\n            // step 3.2: 绘制 labelBackground\n            this.renderLabelBackground(items);\n            // step 4: 根据用户设置的偏移量调整 label\n            this.adjustLabel(items);\n        }\n        // 进行添加、更新、销毁操作\n        var lastShapesMap = this.lastShapesMap;\n        var shapesMap = this.shapesMap;\n        each(shapesMap, function (shape, id) {\n            if (shape.destroyed) {\n                // label 在布局调整环节被删除了（doLayout）\n                delete shapesMap[id];\n            }\n            else {\n                if (lastShapesMap[id]) {\n                    // 图形发生更新\n                    var data_1 = shape.get('data');\n                    var origin_1 = shape.get('origin');\n                    var coordinate_1 = shape.get('coordinate');\n                    var currentShape = lastShapesMap[id]; // 已经在渲染树上的 shape\n                    var currentAnimateCfg_1 = shape.get('animateCfg');\n                    currentShape.set('data', data_1);\n                    currentShape.set('origin', origin_1);\n                    currentShape.set('animateCfg', currentAnimateCfg_1);\n                    currentShape.set('coordinate', coordinate_1);\n                    var updateAnimateCfg_1 = get(currentAnimateCfg_1, 'update');\n                    var currentChildren_1 = currentShape.getChildren();\n                    shape.getChildren().map(function (child, index) {\n                        var currentChild = currentChildren_1[index];\n                        currentChild.set('data', data_1);\n                        currentChild.set('origin', origin_1);\n                        currentChild.set('animateCfg', currentAnimateCfg_1);\n                        currentChild.set('coordinate', coordinate_1);\n                        var newAttrs = getReplaceAttrs(currentChild, child);\n                        if (updateAnimateCfg_1) {\n                            doAnimate(currentChild, updateAnimateCfg_1, {\n                                toAttrs: newAttrs,\n                                coordinate: coordinate_1,\n                            });\n                        }\n                        else {\n                            currentChild.attr(newAttrs);\n                        }\n                    });\n                    _this.shapesMap[id] = currentShape; // 保存引用\n                }\n                else {\n                    // 新生成的 shape\n                    container.add(shape);\n                    var animateCfg = get(shape.get('animateCfg'), isUpdate ? 'enter' : 'appear');\n                    if (animateCfg) {\n                        doAnimate(shape, animateCfg, {\n                            toAttrs: __assign({}, shape.attr()),\n                            coordinate: shape.get('coordinate'),\n                        });\n                    }\n                }\n                delete lastShapesMap[id];\n            }\n        });\n        // 移除\n        each(lastShapesMap, function (deleteShape) {\n            var animateCfg = get(deleteShape.get('animateCfg'), 'leave');\n            if (animateCfg) {\n                doAnimate(deleteShape, animateCfg, {\n                    toAttrs: null,\n                    coordinate: deleteShape.get('coordinate'),\n                });\n            }\n            else {\n                deleteShape.remove(true); // 移除\n            }\n        });\n        this.lastShapesMap = shapesMap;\n        offscreenGroup.destroy();\n    };\n    /** 清楚当前 labels */\n    Labels.prototype.clear = function () {\n        this.container.clear();\n        this.shapesMap = {};\n        this.lastShapesMap = {};\n    };\n    /** 销毁 */\n    Labels.prototype.destroy = function () {\n        this.container.destroy();\n        this.shapesMap = null;\n        this.lastShapesMap = null;\n    };\n    Labels.prototype.renderLabel = function (cfg, container) {\n        var id = cfg.id, data = cfg.data, mappingData = cfg.mappingData, coordinate = cfg.coordinate, animate = cfg.animate, content = cfg.content;\n        var shapeAppendCfg = {\n            id: id,\n            data: data,\n            origin: __assign(__assign({}, mappingData), { data: mappingData[FIELD_ORIGIN] }),\n            coordinate: coordinate,\n        };\n        var labelGroup = container.addGroup(__assign({ name: 'label', \n            // 如果 this.animate === false 或者 cfg.animate === false/null 则不进行动画，否则进行动画配置的合并\n            animateCfg: this.animate === false || animate === null || animate === false ? false : deepMix({}, this.animate, animate) }, shapeAppendCfg));\n        var labelShape;\n        if ((content.isGroup && content.isGroup()) || (content.isShape && content.isShape())) {\n            // 如果 content 是 Group 或者 Shape，根据 textAlign 调整位置后，直接将其加入 labelGroup\n            var _a = content.getCanvasBBox(), width = _a.width, height = _a.height;\n            var textAlign = get(cfg, 'textAlign', 'left');\n            var x = cfg.x;\n            var y = cfg.y - height / 2;\n            if (textAlign === 'center') {\n                x = x - width / 2;\n            }\n            else if (textAlign === 'right' || textAlign === 'end') {\n                x = x - width;\n            }\n            translate(content, x, y); // 将 label 平移至 x, y 指定的位置\n            labelShape = content;\n            labelGroup.add(content);\n        }\n        else {\n            labelShape = labelGroup.addShape('text', __assign({ attrs: __assign({ x: cfg.x, y: cfg.y, textAlign: cfg.textAlign, textBaseline: get(cfg, 'textBaseline', 'middle'), text: cfg.content }, cfg.style) }, shapeAppendCfg));\n        }\n        if (cfg.rotate) {\n            rotate(labelShape, cfg.rotate);\n        }\n        this.shapesMap[id] = labelGroup;\n    };\n    // 根据type对label布局\n    Labels.prototype.doLayout = function (items, shapes) {\n        var _this = this;\n        if (this.layout) {\n            var layouts = isArray(this.layout) ? this.layout : [this.layout];\n            each(layouts, function (layout) {\n                var layoutFn = getGeometryLabelLayout(get(layout, 'type', ''));\n                if (layoutFn) {\n                    var labelShapes_1 = [];\n                    var geometryShapes_1 = [];\n                    each(_this.shapesMap, function (labelShape, id) {\n                        labelShapes_1.push(labelShape);\n                        geometryShapes_1.push(shapes[id]);\n                    });\n                    layoutFn(items, labelShapes_1, geometryShapes_1, _this.region, layout.cfg);\n                }\n            });\n        }\n    };\n    Labels.prototype.renderLabelLine = function (labelItems) {\n        var _this = this;\n        each(labelItems, function (labelItem) {\n            var coordinate = get(labelItem, 'coordinate');\n            if (!labelItem || !coordinate) {\n                return;\n            }\n            var center = coordinate.getCenter();\n            var radius = coordinate.getRadius();\n            if (!labelItem.labelLine) {\n                // labelLine: null | false，关闭 label 对应的 labelLine\n                return;\n            }\n            var labelLineCfg = get(labelItem, 'labelLine', {});\n            var id = labelItem.id;\n            var path = labelLineCfg.path;\n            if (!path) {\n                var start = polarToCartesian(center.x, center.y, radius, labelItem.angle);\n                path = [\n                    ['M', start.x, start.y],\n                    ['L', labelItem.x, labelItem.y],\n                ];\n            }\n            var labelGroup = _this.shapesMap[id];\n            if (!labelGroup.destroyed) {\n                labelGroup.addShape('path', {\n                    capture: false,\n                    attrs: __assign({ path: path, stroke: labelItem.color ? labelItem.color : get(labelItem, ['style', 'fill'], '#000'), fill: null }, labelLineCfg.style),\n                    id: id,\n                    origin: labelItem.mappingData,\n                    data: labelItem.data,\n                    coordinate: labelItem.coordinate,\n                });\n            }\n        });\n    };\n    /**\n     * 绘制标签背景\n     * @param labelItems\n     */\n    Labels.prototype.renderLabelBackground = function (labelItems) {\n        var _this = this;\n        each(labelItems, function (labelItem) {\n            var coordinate = get(labelItem, 'coordinate');\n            var background = get(labelItem, 'background');\n            if (!background || !coordinate) {\n                return;\n            }\n            var id = labelItem.id;\n            var labelGroup = _this.shapesMap[id];\n            if (!labelGroup.destroyed) {\n                var labelContentShape = labelGroup.getChildren()[0];\n                if (labelContentShape) {\n                    var _a = getlLabelBackgroundInfo(labelGroup, labelItem, background.padding), rotation = _a.rotation, box = __rest(_a, [\"rotation\"]);\n                    var backgroundShape = labelGroup.addShape('rect', {\n                        attrs: __assign(__assign({}, box), (background.style || {})),\n                        id: id,\n                        origin: labelItem.mappingData,\n                        data: labelItem.data,\n                        coordinate: labelItem.coordinate,\n                    });\n                    backgroundShape.setZIndex(-1);\n                    if (rotation) {\n                        var matrix = labelContentShape.getMatrix();\n                        backgroundShape.setMatrix(matrix);\n                    }\n                }\n            }\n        });\n    };\n    Labels.prototype.createOffscreenGroup = function () {\n        var container = this.container;\n        var GroupClass = container.getGroupBase(); // 获取分组的构造函数\n        var newGroup = new GroupClass({});\n        return newGroup;\n    };\n    Labels.prototype.adjustLabel = function (items) {\n        var _this = this;\n        each(items, function (item) {\n            if (item) {\n                var id = item.id;\n                var labelGroup = _this.shapesMap[id];\n                if (!labelGroup.destroyed) {\n                    // fix: 如果说开发者的 label content 是一个 group，此处的偏移无法对 整个 content group 生效；场景类似 饼图 spider label 是一个含 2 个 textShape 的 gorup\n                    var labelShapes = labelGroup.findAll(function (ele) { return ele.get('type') !== 'path'; });\n                    each(labelShapes, function (labelShape) {\n                        if (labelShape) {\n                            if (item.offsetX) {\n                                labelShape.attr('x', labelShape.attr('x') + item.offsetX);\n                            }\n                            if (item.offsetY) {\n                                labelShape.attr('y', labelShape.attr('y') + item.offsetY);\n                            }\n                        }\n                    });\n                }\n            }\n        });\n    };\n    return Labels;\n}());\nexport default Labels;\n//# sourceMappingURL=labels.js.map","import { __assign } from \"tslib\";\nimport { deepMix, each, get, isArray, isFunction, isNil, isUndefined } from '@antv/util';\nimport { FIELD_ORIGIN } from '../../constant';\nimport { getDefaultAnimateCfg } from '../../animate';\nimport { getPolygonCentroid } from '../../util/graphics';\nimport Labels from '../../component/labels';\nfunction avg(arr) {\n    var sum = 0;\n    each(arr, function (value) {\n        sum += value;\n    });\n    return sum / arr.length;\n}\n/**\n * Geometry Label 基类，用于生成 Geometry 下所有 label 的配置项信息\n */\nvar GeometryLabel = /** @class */ (function () {\n    function GeometryLabel(geometry) {\n        this.geometry = geometry;\n    }\n    GeometryLabel.prototype.getLabelItems = function (mapppingArray) {\n        var _this = this;\n        var items = [];\n        var labelCfgs = this.getLabelCfgs(mapppingArray);\n        // 获取 label 相关的 x，y 的值，获取具体的 x, y，防止存在数组\n        each(mapppingArray, function (mappingData, index) {\n            var labelCfg = labelCfgs[index];\n            if (!labelCfg || isNil(mappingData.x) || isNil(mappingData.y)) {\n                items.push(null);\n                return;\n            }\n            var labelContent = !isArray(labelCfg.content) ? [labelCfg.content] : labelCfg.content;\n            labelCfg.content = labelContent;\n            var total = labelContent.length;\n            each(labelContent, function (content, subIndex) {\n                if (isNil(content) || content === '') {\n                    items.push(null);\n                    return;\n                }\n                var item = __assign(__assign({}, labelCfg), _this.getLabelPoint(labelCfg, mappingData, subIndex));\n                if (!item.textAlign) {\n                    item.textAlign = _this.getLabelAlign(item, subIndex, total);\n                }\n                if (item.offset <= 0) {\n                    item.labelLine = null;\n                }\n                items.push(item);\n            });\n        });\n        return items;\n    };\n    GeometryLabel.prototype.render = function (mapppingArray, isUpdate) {\n        if (isUpdate === void 0) { isUpdate = false; }\n        var labelItems = this.getLabelItems(mapppingArray);\n        var labelsRenderer = this.getLabelsRenderer();\n        var shapes = this.getGeometryShapes();\n        // 渲染文本\n        labelsRenderer.render(labelItems, shapes, isUpdate);\n    };\n    GeometryLabel.prototype.clear = function () {\n        var labelsRenderer = this.labelsRenderer;\n        if (labelsRenderer) {\n            labelsRenderer.clear();\n        }\n    };\n    GeometryLabel.prototype.destroy = function () {\n        var labelsRenderer = this.labelsRenderer;\n        if (labelsRenderer) {\n            labelsRenderer.destroy();\n        }\n        this.labelsRenderer = null;\n    };\n    // geometry 更新之后，对应的 Coordinate 也会更新，为了获取到最新鲜的 Coordinate，故使用方法获取\n    GeometryLabel.prototype.getCoordinate = function () {\n        return this.geometry.coordinate;\n    };\n    /**\n     * 获取 label 的默认配置\n     */\n    GeometryLabel.prototype.getDefaultLabelCfg = function () {\n        return get(this.geometry.theme, 'labels', {});\n    };\n    /**\n     * 获取当前 label 的最终配置\n     * @param labelCfg\n     */\n    GeometryLabel.prototype.getThemedLabelCfg = function (labelCfg) {\n        var geometry = this.geometry;\n        var defaultLabelCfg = this.getDefaultLabelCfg();\n        var type = geometry.type, theme = geometry.theme;\n        var themedLabelCfg;\n        if (type === 'polygon' || (labelCfg.offset < 0 && !['line', 'point', 'path'].includes(type))) {\n            // polygon 或者 offset 小于 0 时，文本展示在图形内部，将其颜色设置为 白色\n            themedLabelCfg = deepMix({}, defaultLabelCfg, theme.innerLabels, labelCfg);\n        }\n        else {\n            themedLabelCfg = deepMix({}, defaultLabelCfg, theme.labels, labelCfg);\n        }\n        return themedLabelCfg;\n    };\n    /**\n     * 设置 label 位置\n     * @param labelPointCfg\n     * @param mappingData\n     * @param index\n     * @param position\n     */\n    GeometryLabel.prototype.setLabelPosition = function (labelPointCfg, mappingData, index, position) { };\n    /**\n     * 获取文本默认偏移量\n     * @param offset\n     * @returns\n     */\n    GeometryLabel.prototype.getDefaultOffset = function (offset) {\n        var coordinate = this.getCoordinate();\n        var vector = this.getOffsetVector(offset);\n        return coordinate.isTransposed ? vector[0] : vector[1];\n    };\n    /**\n     * 获取每个 label 的偏移量\n     * @param labelCfg\n     * @param index\n     * @param total\n     * @returns\n     */\n    GeometryLabel.prototype.getLabelOffset = function (labelCfg, index, total) {\n        var offset = this.getDefaultOffset(labelCfg.offset);\n        var coordinate = this.getCoordinate();\n        var transposed = coordinate.isTransposed;\n        var dim = transposed ? 'x' : 'y';\n        var factor = transposed ? 1 : -1; // y 方向上越大，像素的坐标越小，所以transposed时将系数变成\n        var offsetPoint = {\n            x: 0,\n            y: 0,\n        };\n        if (index > 0 || total === 1) {\n            // 判断是否小于0\n            offsetPoint[dim] = offset * factor;\n        }\n        else {\n            offsetPoint[dim] = offset * factor * -1;\n        }\n        return offsetPoint;\n    };\n    /**\n     * 获取每个 label 的位置\n     * @param labelCfg\n     * @param mappingData\n     * @param index\n     * @returns label point\n     */\n    GeometryLabel.prototype.getLabelPoint = function (labelCfg, mappingData, index) {\n        var coordinate = this.getCoordinate();\n        var total = labelCfg.content.length;\n        function getDimValue(value, idx) {\n            var v = value;\n            if (isArray(v)) {\n                if (labelCfg.content.length === 1) {\n                    // 如果仅一个 label，多个 y, 取最后一个 y\n                    if (v.length <= 2) {\n                        v = v[value.length - 1];\n                    }\n                    else {\n                        v = avg(v);\n                    }\n                }\n                else {\n                    v = v[idx];\n                }\n            }\n            return v;\n        }\n        var label = {\n            content: labelCfg.content[index],\n            x: 0,\n            y: 0,\n            start: { x: 0, y: 0 },\n            color: '#fff',\n        };\n        // 多边形场景，多用于地图\n        if (mappingData && this.geometry.type === 'polygon') {\n            var centroid = getPolygonCentroid(mappingData.x, mappingData.y);\n            label.x = centroid[0];\n            label.y = centroid[1];\n        }\n        else {\n            label.x = getDimValue(mappingData.x, index);\n            label.y = getDimValue(mappingData.y, index);\n        }\n        // 处理漏斗图文本位置\n        var shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n        if (shape === 'funnel' || shape === 'pyramid') {\n            var nextPoints = get(mappingData, 'nextPoints');\n            var points = get(mappingData, 'points');\n            if (nextPoints) {\n                // 非漏斗图底部\n                var point1 = coordinate.convert(points[1]);\n                var point2 = coordinate.convert(nextPoints[1]);\n                label.x = (point1.x + point2.x) / 2;\n                label.y = (point1.y + point2.y) / 2;\n            }\n            else if (shape === 'pyramid') {\n                var point1 = coordinate.convert(points[1]);\n                var point2 = coordinate.convert(points[2]);\n                label.x = (point1.x + point2.x) / 2;\n                label.y = (point1.y + point2.y) / 2;\n            }\n        }\n        if (labelCfg.position) {\n            // 如果 label 支持 position 属性\n            this.setLabelPosition(label, mappingData, index, labelCfg.position);\n        }\n        var offsetPoint = this.getLabelOffset(labelCfg, index, total);\n        label.start = { x: label.x, y: label.y };\n        label.x += offsetPoint.x;\n        label.y += offsetPoint.y;\n        label.color = mappingData.color;\n        return label;\n    };\n    /**\n     * 获取文本的对齐方式\n     * @param item\n     * @param index\n     * @param total\n     * @returns\n     */\n    GeometryLabel.prototype.getLabelAlign = function (item, index, total) {\n        var align = 'center';\n        var coordinate = this.getCoordinate();\n        if (coordinate.isTransposed) {\n            var offset = this.getDefaultOffset(item.offset);\n            if (offset < 0) {\n                align = 'right';\n            }\n            else if (offset === 0) {\n                align = 'center';\n            }\n            else {\n                align = 'left';\n            }\n            if (total > 1 && index === 0) {\n                if (align === 'right') {\n                    align = 'left';\n                }\n                else if (align === 'left') {\n                    align = 'right';\n                }\n            }\n        }\n        return align;\n    };\n    /**\n     * 获取每一个 label 的唯一 id\n     * @param mappingData label 对应的图形的绘制数据\n     */\n    GeometryLabel.prototype.getLabelId = function (mappingData) {\n        var geometry = this.geometry;\n        var type = geometry.type;\n        var xScale = geometry.getXScale();\n        var yScale = geometry.getYScale();\n        var origin = mappingData[FIELD_ORIGIN]; // 原始数据\n        var labelId = geometry.getElementId(mappingData);\n        if (type === 'line' || type === 'area') {\n            // 折线图以及区域图，一条线会对应一组数据，即多个 labels，为了区分这些 labels，需要在 line id 的前提下加上 x 字段值\n            labelId += \" \" + origin[xScale.field];\n        }\n        else if (type === 'path') {\n            // path 路径图，无序，有可能存在相同 x 不同 y 的情况，需要通过 x y 来确定唯一 id\n            labelId += \" \" + origin[xScale.field] + \"-\" + origin[yScale.field];\n        }\n        return labelId;\n    };\n    // 获取 labels 组件\n    GeometryLabel.prototype.getLabelsRenderer = function () {\n        var _a = this.geometry, labelsContainer = _a.labelsContainer, labelOption = _a.labelOption, canvasRegion = _a.canvasRegion, animateOption = _a.animateOption;\n        var coordinate = this.geometry.coordinate;\n        var labelsRenderer = this.labelsRenderer;\n        if (!labelsRenderer) {\n            labelsRenderer = new Labels({\n                container: labelsContainer,\n                layout: get(labelOption, ['cfg', 'layout'], {\n                    type: this.defaultLayout,\n                }),\n            });\n            this.labelsRenderer = labelsRenderer;\n        }\n        labelsRenderer.region = canvasRegion;\n        // 设置动画配置，如果 geometry 的动画关闭了，那么 label 的动画也会关闭\n        labelsRenderer.animate = animateOption ? getDefaultAnimateCfg('label', coordinate) : false;\n        return labelsRenderer;\n    };\n    GeometryLabel.prototype.getLabelCfgs = function (mapppingArray) {\n        var _this = this;\n        var geometry = this.geometry;\n        var defaultLabelCfg = this.getDefaultLabelCfg();\n        var type = geometry.type, theme = geometry.theme, labelOption = geometry.labelOption, scales = geometry.scales, coordinate = geometry.coordinate;\n        var _a = labelOption, fields = _a.fields, callback = _a.callback, cfg = _a.cfg;\n        var labelScales = fields.map(function (field) {\n            return scales[field];\n        });\n        var labelCfgs = [];\n        each(mapppingArray, function (mappingData, index) {\n            var origin = mappingData[FIELD_ORIGIN]; // 原始数据\n            var originText = _this.getLabelText(origin, labelScales);\n            var callbackCfg;\n            if (callback) {\n                // 当同时配置了 callback 和 cfg 时，以 callback 为准\n                var originValues = fields.map(function (field) { return origin[field]; });\n                callbackCfg = callback.apply(void 0, originValues);\n                if (isNil(callbackCfg)) {\n                    labelCfgs.push(null);\n                    return;\n                }\n            }\n            var labelCfg = __assign(__assign({ id: _this.getLabelId(mappingData), data: origin, // 存储原始数据\n                mappingData: mappingData,\n                coordinate: coordinate }, cfg), callbackCfg);\n            var content = labelCfg.content;\n            if (isFunction(content)) {\n                labelCfg.content = content(origin, mappingData, index);\n            }\n            else if (isUndefined(content)) {\n                // 用户未配置 content，则默认为映射的第一个字段的值\n                labelCfg.content = originText[0];\n            }\n            if (isFunction(labelCfg.position)) {\n                labelCfg.position = labelCfg.position(origin, mappingData, index);\n            }\n            labelCfg = _this.getThemedLabelCfg(labelCfg);\n            labelCfgs.push(labelCfg);\n        });\n        return labelCfgs;\n    };\n    GeometryLabel.prototype.getLabelText = function (origin, scales) {\n        var labelTexts = [];\n        each(scales, function (scale) {\n            var value = origin[scale.field];\n            if (isArray(value)) {\n                value = value.map(function (subVal) {\n                    return scale.getText(subVal);\n                });\n            }\n            else {\n                value = scale.getText(value);\n            }\n            if (isNil(value) || value === '') {\n                labelTexts.push(null);\n            }\n            else {\n                labelTexts.push(value);\n            }\n        });\n        return labelTexts;\n    };\n    GeometryLabel.prototype.getOffsetVector = function (offset) {\n        if (offset === void 0) { offset = 0; }\n        var coordinate = this.getCoordinate();\n        // 如果 x,y 翻转，则偏移 x，否则偏移 y\n        return coordinate.isTransposed ? coordinate.applyMatrix(offset, 0) : coordinate.applyMatrix(0, offset);\n    };\n    GeometryLabel.prototype.getGeometryShapes = function () {\n        var geometry = this.geometry;\n        var shapes = {};\n        each(geometry.elementsMap, function (element, id) {\n            shapes[id] = element.shape;\n        });\n        // 因为有可能 shape 还在进行动画，导致 shape.getBBox() 获取到的值不是最终态，所以需要从 offscreenGroup 获取\n        each(geometry.getOffscreenGroup().getChildren(), function (child) {\n            var id = geometry.getElementId(child.get('origin').mappingData);\n            shapes[id] = child;\n        });\n        return shapes;\n    };\n    return GeometryLabel;\n}());\nexport default GeometryLabel;\n//# sourceMappingURL=base.js.map","/* G2 的一个壳子，不包含 Geometry，由开发者自己定义和引入 */\nexport var VERSION = '4.1.0-beta.14';\n// 核心基类导出\nexport { Chart, View, Event } from './chart'; // Chart, View 类\nexport { Controller as ComponentController } from './chart/controller/base'; // G2 组件基类\nexport { default as Geometry } from './geometry/base'; // Geometry 基类\nexport { default as GeometryLabel } from './geometry/label/base'; // Geometry Label 基类\nexport { Interaction } from './interaction'; // Interaction 基类\nexport { Facet } from './facet'; // Facet 基类\nexport { default as InteractionAction } from './interaction/action/base'; // Interaction Action 基类\n// 注册 ComponentController\nexport { registerComponentController } from './chart';\n// 注册 Geometry\nexport { registerGeometry } from './chart';\n// 注册 Geometry Shape\nexport { registerShape, registerShapeFactory, getShapeFactory } from './geometry/shape/base';\n// 注册 Geometry label 以及 Geometry Label 布局函数\nexport { registerGeometryLabel, registerGeometryLabelLayout, getGeometryLabel, getGeometryLabelLayout, } from './geometry/label';\n// 注册 interaction\nexport { getInteraction, registerInteraction, registerAction, getActionClass } from './interaction';\n// 注册 facet\nexport { getFacet, registerFacet } from './facet';\n// 注册主题\nexport { getTheme, registerTheme } from './theme';\n// G engine 管理相关\nexport { registerEngine, getEngine } from './engine';\n// 注册动画函数\nexport { registerAnimation, getAnimation } from './animate/animation';\nexport { LAYER, DIRECTION } from './constant';\n// 因为 typescript 部分版本不支持 export * as 语法。\nimport * as Types from './interface';\nexport { Types };\n//# sourceMappingURL=core.js.map","var WHITE_COLORS = {\n    100: '#000',\n    95: '#0D0D0D',\n    85: '#262626',\n    65: '#595959',\n    45: '#8C8C8C',\n    25: '#BFBFBF',\n    15: '#D9D9D9',\n    6: '#F0F0F0',\n};\nvar BLACK_COLORS = {\n    100: '#FFFFFF',\n    95: '#F2F2F2',\n    85: '#D9D9D9',\n    65: '#A6A6A6',\n    45: '#737373',\n    25: '#404040',\n    15: '#262626',\n    6: '#0F0F0F',\n};\nvar QUALITATIVE_10 = [\n    '#5B8FF9',\n    '#5AD8A6',\n    '#5D7092',\n    '#F6BD16',\n    '#E86452',\n    '#6DC8EC',\n    '#945FB9',\n    '#FF9845',\n    '#1E9493',\n    '#FF99C3',\n];\nvar QUALITATIVE_20 = [\n    '#5B8FF9',\n    '#CDDDFD',\n    '#5AD8A6',\n    '#CDF3E4',\n    '#5D7092',\n    '#CED4DE',\n    '#F6BD16',\n    '#FCEBB9',\n    '#E86452',\n    '#F8D0CB',\n    '#6DC8EC',\n    '#D3EEF9',\n    '#945FB9',\n    '#DECFEA',\n    '#FF9845',\n    '#FFE0C7',\n    '#1E9493',\n    '#BBDEDE',\n    '#FF99C3',\n    '#FFE0ED',\n];\nexport var antvDark = {\n    /** 图表背景色 */\n    backgroundColor: '#141414',\n    /** 主题色 */\n    brandColor: QUALITATIVE_10[0],\n    /** 分类色板 1，在数据量小于等于 10 时使用 */\n    paletteQualitative10: QUALITATIVE_10,\n    /** 分类色板 2，在数据量大于 10 时使用 */\n    paletteQualitative20: QUALITATIVE_20,\n    /** 语义色 */\n    paletteSemanticRed: '#F4664A',\n    /** 语义色 */\n    paletteSemanticGreen: '#30BF78',\n    /** 语义色 */\n    paletteSemanticYellow: '#FAAD14',\n    /** 字体 */\n    fontFamily: \"\\\"-apple-system\\\", \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial,\\n  \\\"Noto Sans\\\", sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\",\\n  \\\"Noto Color Emoji\\\"\",\n    // -------------------- 坐标轴 --------------------\n    /** 坐标轴线颜色 */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /** 坐标轴线粗细 */\n    axisLineBorder: 1,\n    /** 坐标轴线 lineDash 设置 */\n    axisLineDash: null,\n    /** 坐标轴标题颜色 */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /** 坐标轴标题文本字体大小 */\n    axisTitleTextFontSize: 12,\n    /** 坐标轴标题文本行高 */\n    axisTitleTextLineHeight: 12,\n    /** 坐标轴标题文本字体粗细 */\n    axisTitleTextFontWeight: 'normal',\n    /** 坐标轴标题距离坐标轴文本的间距 */\n    axisTitleSpacing: 12,\n    /** 坐标轴刻度线颜色 */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /** 坐标轴刻度线长度 */\n    axisTickLineLength: 4,\n    /** 坐标轴刻度线粗细 */\n    axisTickLineBorder: 1,\n    /** 坐标轴次刻度线颜色 */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /** 坐标轴次刻度线长度 */\n    axisSubTickLineLength: 2,\n    /** 坐标轴次刻度线粗细 */\n    axisSubTickLineBorder: 1,\n    /** 坐标轴刻度文本颜色 */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /** 坐标轴刻度文本字体大小 */\n    axisLabelFontSize: 12,\n    /** 坐标轴刻度文本行高 */\n    axisLabelLineHeight: 12,\n    /** 坐标轴刻度文本字体粗细 */\n    axisLabelFontWeight: 'normal',\n    /** 坐标轴刻度文本距离坐标轴线的间距 */\n    axisLabelOffset: 8,\n    /** 坐标轴网格线颜色 */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /** 坐标轴网格线粗细 */\n    axisGridBorder: 1,\n    /** 坐标轴网格线虚线设置 */\n    axisGridLineDash: null,\n    // -------------------- 图例 --------------------\n    /** 图例标题颜色 */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /** 图例标题文本字体大小 */\n    legendTitleTextFontSize: 12,\n    /** 图例标题文本行高 */\n    legendTitleTextLineHeight: 21,\n    /** 图例标题文本字体粗细 */\n    legendTitleTextFontWeight: 'normal',\n    /** 图例 marker 颜色 */\n    legendMarkerColor: QUALITATIVE_10[0],\n    /** 图例 marker 距离图例文本的间距 */\n    legendMarkerSpacing: 8,\n    /** 图例 marker 默认半径大小 */\n    legendMarkerSize: 4,\n    /** 图例 'circle' marker 半径 */\n    legendCircleMarkerSize: 4,\n    /** 图例 'square' marker 半径 */\n    legendSquareMarkerSize: 4,\n    /** 图例 'line' marker 半径 */\n    legendLineMarkerSize: 5,\n    /** 图例项文本颜色 */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /** 图例项文本字体大小 */\n    legendItemNameFontSize: 12,\n    /** 图例项文本行高 */\n    legendItemNameLineHeight: 12,\n    /** 图例项粗细 */\n    legendItemNameFontWeight: 'normal',\n    /** 图例项之间的水平间距 */\n    legendItemSpacing: 24,\n    /** 图例项垂直方向的间隔 */\n    legendItemMarginBottom: 12,\n    /** 图例与图表绘图区域的便宜距离  */\n    legendSpacing: 16,\n    /** 连续图例滑块填充色 */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /** 连续图例滑块边框粗细 */\n    sliderRailBorder: 0,\n    /** 连续图例滑块边框颜色 */\n    sliderRailBorderColor: null,\n    /** 连续图例滑块宽度 */\n    sliderRailWidth: 100,\n    /** 连续图例滑块高度 */\n    sliderRailHeight: 12,\n    /** 连续图例文本颜色 */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /** 连续图例文本字体大小 */\n    sliderLabelTextFontSize: 12,\n    /** 连续图例文本行高 */\n    sliderLabelTextLineHeight: 12,\n    /** 连续图例文本字体粗细 */\n    sliderLabelTextFontWeight: 'normal',\n    /** 连续图例滑块颜色 */\n    sliderHandlerFillColor: WHITE_COLORS[6],\n    /** 连续图例滑块宽度 */\n    sliderHandlerWidth: 10,\n    /** 连续图例滑块高度 */\n    sliderHandlerHeight: 14,\n    /** 连续图例滑块边框粗细 */\n    sliderHandlerBorder: 1,\n    /** 连续图例滑块边框颜色 */\n    sliderHandlerBorderColor: WHITE_COLORS[25],\n    // -------------------- Annotation，图形标注 --------------------\n    /** arc 图形标注描边颜色 */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc 图形标注粗细 */\n    annotationArcBorder: 1,\n    /** line 图形标注颜色 */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line 图形标注粗细 */\n    annotationLineBorder: 1,\n    /** lube 图形标注的虚线间隔 */\n    annotationLineDash: null,\n    /** text 图形标注文本颜色 */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text 图形标注文本字体大小 */\n    annotationTextFontSize: 12,\n    /** text 图形标注文本行高 */\n    annotationTextLineHeight: 12,\n    /** text 图形标注文本字体粗细 */\n    annotationTextFontWeight: 'normal',\n    /** text 图形标注文本边框颜色 */\n    annotationTextBorderColor: null,\n    /** text 图形标注文本边框粗细 */\n    annotationTextBorder: 0,\n    /** region 图形标注填充颜色 */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region 图形标注填充颜色透明色 */\n    annotationRegionFillOpacity: 0.06,\n    /** region 图形标注描边粗细 */\n    annotationRegionBorder: 0,\n    /** region 图形标注描边颜色 */\n    annotationRegionBorderColor: null,\n    /** dataMarker 图形标注线的长度 */\n    annotationDataMarkerLineLength: 16,\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs 辅助线颜色 */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs 辅助线粗细 */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs 辅助线虚线间隔 */\n    tooltipCrosshairsLineDash: null,\n    /** tooltip 内容框背景色 */\n    tooltipContainerFillColor: '#1f1f1f',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip 内容框阴影 */\n    tooltipContainerShadow: '0px 2px 4px rgba(0,0,0,.5)',\n    /** tooltip 内容框圆角 */\n    tooltipContainerBorderRadius: 3,\n    /** tooltip 文本颜色 */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip 文本字体大小 */\n    tooltipTextFontSize: 12,\n    /** tooltip 文本行高 */\n    tooltipTextLineHeight: 12,\n    /** tooltip 文本字体粗细 */\n    tooltipTextFontWeight: 'bold',\n    // -------------------- Geometry labels --------------------\n    /** Geometry label 文本颜色 */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label 文本字体大小 */\n    labelFontSize: 12,\n    /** Geometry label 文本行高 */\n    labelLineHeight: 12,\n    /** Geometry label 文本字体粗细 */\n    labelFontWeight: 'normal',\n    /** Geometry label 文本描边颜色 */\n    labelBorderColor: null,\n    /** Geometry label 文本描边粗细 */\n    labelBorder: 0,\n    /** Geometry innerLabel 文本颜色 */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel 文本字体大小 */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel 文本行高 */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel 文本字体粗细 */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel 文本描边颜色 */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel 文本描边粗细 */\n    innerLabelBorder: 0,\n    /** Geometry label　文本连接线粗细 */\n    labelLineBorder: 1,\n    /** Geometry label 文本连接线颜色 */\n    labelLineBorderColor: BLACK_COLORS[25],\n    // -------------------- Geometry 图形样式--------------------\n    /** 点图填充颜色 */\n    pointFillColor: QUALITATIVE_10[0],\n    /** 点图填充颜色透明度 */\n    pointFillOpacity: 0.95,\n    /** 点图大小 */\n    pointSize: 4,\n    /** 点图描边粗细 */\n    pointBorder: 1,\n    /** 点图描边颜色 */\n    pointBorderColor: WHITE_COLORS[100],\n    /** 点图描边透明度 */\n    pointBorderOpacity: 1,\n    /** 点图 active 状态下描边颜色 */\n    pointActiveBorderColor: BLACK_COLORS[100],\n    /** 点图 selected 状态下描边粗细 */\n    pointSelectedBorder: 2,\n    /** 点图 selected 状态下描边颜色 */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n    /** 点图 inactive 状态下填充颜色透明度 */\n    pointInactiveFillOpacity: 0.3,\n    /** 点图 inactive 状态下描边透明度 */\n    pointInactiveBorderOpacity: 0.3,\n    /** 空心点图大小 */\n    hollowPointSize: 4,\n    /** 空心点图描边粗细 */\n    hollowPointBorder: 1,\n    /** 空心点图描边颜色 */\n    hollowPointBorderColor: QUALITATIVE_10[0],\n    /** 空心点图描边透明度 */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n    /** 空心点图 active 状态下描边粗细 */\n    hollowPointActiveBorder: 1,\n    /** 空心点图 active 状态下描边颜色 */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /** 空心点图 active 状态下描边透明度 */\n    hollowPointActiveBorderOpacity: 1,\n    /** 空心点图 selected 状态下描边粗细 */\n    hollowPointSelectedBorder: 2,\n    /** 空心点图 selected 状态下描边颜色 */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /** 空心点图 selected 状态下描边透明度 */\n    hollowPointSelectedBorderOpacity: 1,\n    /** 空心点图 inactive 状态下描边透明度 */\n    hollowPointInactiveBorderOpacity: 0.3,\n    /** 线图粗细 */\n    lineBorder: 2,\n    /** 线图颜色 */\n    lineBorderColor: QUALITATIVE_10[0],\n    /** 线图透明度 */\n    lineBorderOpacity: 1,\n    /** 线图 Active 状态下粗细 */\n    lineActiveBorder: 3,\n    /** 线图 selected 状态下粗细 */\n    lineSelectedBorder: 3,\n    /** 线图 inactive 状态下透明度 */\n    lineInactiveBorderOpacity: 0.3,\n    /** area 填充颜色 */\n    areaFillColor: QUALITATIVE_10[0],\n    /** area 填充透明度 */\n    areaFillOpacity: 0.25,\n    /** area 在 active 状态下的填充透明度 */\n    areaActiveFillColor: QUALITATIVE_10[0],\n    areaActiveFillOpacity: 0.5,\n    /** area 在 selected 状态下的填充透明度 */\n    areaSelectedFillColor: QUALITATIVE_10[0],\n    areaSelectedFillOpacity: 0.5,\n    /** area inactive 状态下填充透明度 */\n    areaInactiveFillOpacity: 0.3,\n    /** hollowArea 颜色 */\n    hollowAreaBorderColor: QUALITATIVE_10[0],\n    /** hollowArea 边框粗细 */\n    hollowAreaBorder: 2,\n    /** hollowArea 边框透明度 */\n    hollowAreaBorderOpacity: 1,\n    /** hollowArea active 状态下的边框粗细 */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n    /** hollowArea selected 状态下的边框粗细 */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowArea inactive 状态下的边框透明度 */\n    hollowAreaInactiveBorderOpacity: 0.3,\n    /** interval 填充颜色 */\n    intervalFillColor: QUALITATIVE_10[0],\n    /** interval 填充透明度 */\n    intervalFillOpacity: 0.95,\n    /** interval active 状态下边框粗细 */\n    intervalActiveBorder: 1,\n    /** interval active 状态下边框颜色 */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n    /** interval selected 状态下边框粗细 */\n    intervalSelectedBorder: 2,\n    /** interval selected 状态下边框颜色 */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected 状态下边框透明度 */\n    intervalSelectedBorderOpacity: 1,\n    /** interval inactive 状态下边框透明度 */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive 状态下填充透明度 */\n    intervalInactiveFillOpacity: 0.3,\n    /** interval 边框粗细 */\n    hollowIntervalBorder: 2,\n    /** hollowInterval 边框颜色 */\n    hollowIntervalBorderColor: QUALITATIVE_10[0],\n    /** hollowInterval 边框透明度 */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n    /** hollowInterval active 状态下边框粗细 */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active 状态下边框颜色 */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected 状态下边框粗细 */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected 状态下边框颜色 */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected 状态下边框透明度 */\n    hollowIntervalSelectedBorderOpacity: 1,\n    /** hollowInterval inactive 状态下边框透明度 */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n};\n//# sourceMappingURL=dark.js.map","import { isArray } from '@antv/util';\nfunction isValueEmpty(value) {\n    if (value) {\n        return false;\n    }\n    return value === null || value === undefined || isNaN(value);\n}\nfunction isYNil(point) {\n    if (isArray(point)) {\n        // 特殊处理 area 的关键点数据，其关键点结构为 [{x: 0, y: 1}, {x: 0, y: 2}]\n        return isValueEmpty(point[1].y);\n    }\n    var value = point.y;\n    return isArray(value) ? isValueEmpty(value[0]) : isValueEmpty(value);\n}\n/**\n * @ignore\n * 分割数据，用于处理在一组点数据中，y 对应的数值存在 null/undefined/NaN 的情况\n * 应用于折线图、区域图以及路径图\n *\n * ```typescript\n * // return [[{x: 1, y: 2}, {x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], true);\n * // return [[{x: 1, y: 2}], [{x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], false);\n * // return [[[{ x: 1, y: 10 }, { x: 2, y: 2 }], [{ x: 9, y: 34 }, { x: 1, y: 1 }]]]\n * getPathPoints([\n *   [{ x: 1, y: 10 }, { x: 2, y: 2 }],\n *   [{ x: 4, y: 2 }, { x: 8, y: NaN }],\n *   [{ x: 9, y: 34 }, { x: 1, y: 1 }],\n * ], true);\n * ```\n *\n * @param points 要进行处理点集合\n * @param connectNulls 是否连接空值数据\n * @param showSinglePoint 是否展示孤立点\n * @returns 返回处理后的点集合\n */\nexport function getPathPoints(points, connectNulls, showSinglePoint) {\n    if (connectNulls === void 0) { connectNulls = false; }\n    if (showSinglePoint === void 0) { showSinglePoint = true; }\n    if (!points.length || (points.length === 1 && !showSinglePoint)) {\n        // 空或者只有一个点并配置不展示时\n        return [];\n    }\n    if (connectNulls) {\n        // 即 y 值为空的场景\n        var filtered = [];\n        for (var i = 0, len = points.length; i < len; i++) {\n            var point = points[i];\n            if (!isYNil(point)) {\n                filtered.push(point);\n            }\n        }\n        return [filtered];\n    }\n    var result = [];\n    var tmp = [];\n    for (var i = 0, len = points.length; i < len; i++) {\n        var point = points[i];\n        if (isYNil(point)) {\n            if (tmp.length) {\n                if (!(tmp.length === 1 && !showSinglePoint)) {\n                    // 如果前段数据只有一个字段并且不需要展示时则不加入\n                    result.push(tmp);\n                }\n                tmp = [];\n            }\n        }\n        else {\n            tmp.push(point);\n        }\n    }\n    if (tmp.length) {\n        result.push(tmp);\n    }\n    return result;\n}\n//# sourceMappingURL=get-path-points.js.map","import { __assign } from \"tslib\";\nimport { isNil } from '@antv/util';\n/**\n * @ignore\n * 获取 Shape 的图形属性\n * @param cfg\n * @param isStroke 是否需要描边\n * @param isFill 是否需要填充\n * @param [sizeName] 可选，表示图形大小的属性，lineWidth 或者 r\n * @returns\n */\nexport function getStyle(cfg, isStroke, isFill, sizeName) {\n    if (sizeName === void 0) { sizeName = ''; }\n    var _a = cfg.style, style = _a === void 0 ? {} : _a, defaultStyle = cfg.defaultStyle, color = cfg.color, size = cfg.size;\n    var attrs = __assign(__assign({}, defaultStyle), style);\n    if (color) {\n        if (isStroke) {\n            if (!style.stroke) {\n                // 如果用户在 style() 中配置了 stroke，则以用户配置的为准\n                attrs.stroke = color;\n            }\n        }\n        if (isFill) {\n            if (!style.fill) {\n                // 如果用户在 style() 中配置了 fill\n                attrs.fill = color;\n            }\n        }\n    }\n    if (sizeName && isNil(style[sizeName]) && !isNil(size)) {\n        // 如果用户在 style() 中配置了 lineWidth 或者 r 属性\n        attrs[sizeName] = size;\n    }\n    return attrs;\n}\n//# sourceMappingURL=get-style.js.map","import { isArray } from '@antv/util';\n/**\n * @ignore\n * 拆分点数据\n * @example\n * // result: [{x: 20, y: 20}, {x: 20, y: 30}]\n * splitPoints({x: 20,y: [20, 30]});\n * @example\n * // result: [{x: 20, y: 20}, {x: 30, y: 30}]\n * splitPoints({x: [20, 30],y: [20, 30]});\n * @param obj\n */\nexport function splitPoints(obj) {\n    // y 有可能是数组，对应原始数据中 y 为一个区间数据，如 [19, 30]，为了统一也将 x 转换为数组\n    var x = obj.x;\n    var y = isArray(obj.y) ? obj.y : [obj.y];\n    return y.map(function (eachY, index) {\n        return {\n            x: isArray(x) ? x[index] : x,\n            y: eachY,\n        };\n    });\n}\n//# sourceMappingURL=split-points.js.map","var LineSymbols = {\n    line: function (x, y, r) {\n        return [\n            ['M', x - r, y],\n            ['L', x + r, y],\n        ];\n    },\n    dot: function (x, y, r) {\n        return [\n            ['M', x - r, y],\n            ['L', x + r, y],\n        ];\n    },\n    dash: function (x, y, r) {\n        return [\n            ['M', x - r, y],\n            ['L', x + r, y],\n        ];\n    },\n    smooth: function (x, y, r) {\n        return [\n            ['M', x - r, y],\n            ['A', r / 2, r / 2, 0, 1, 1, x, y],\n            ['A', r / 2, r / 2, 0, 1, 0, x + r, y],\n        ];\n    },\n    hv: function (x, y, r) {\n        return [\n            ['M', x - r - 1, y - 2.5],\n            ['L', x, y - 2.5],\n            ['L', x, y + 2.5],\n            ['L', x + r + 1, y + 2.5],\n        ];\n    },\n    vh: function (x, y, r) {\n        return [\n            ['M', x - r - 1, y + 2.5],\n            ['L', x, y + 2.5],\n            ['L', x, y - 2.5],\n            ['L', x + r + 1, y - 2.5],\n        ];\n    },\n    hvh: function (x, y, r) {\n        return [\n            ['M', x - (r + 1), y + 2.5],\n            ['L', x - r / 2, y + 2.5],\n            ['L', x - r / 2, y - 2.5],\n            ['L', x + r / 2, y - 2.5],\n            ['L', x + r / 2, y + 2.5],\n            ['L', x + r + 1, y + 2.5],\n        ];\n    },\n    vhv: function (x, y) {\n        // 宽 13px，高 8px\n        return [\n            ['M', x - 5, y + 2.5],\n            ['L', x - 5, y],\n            ['L', x, y],\n            ['L', x, y - 3],\n            ['L', x, y + 3],\n            ['L', x + 6.5, y + 3],\n        ];\n    },\n};\n/**\n * Gets line marker\n * @ignore\n * @param markerCfg\n * @param shapeType\n * @returns 返回 Line 的 marker 配置\n */\nexport function getLineMarker(markerCfg, shapeType) {\n    var color = markerCfg.color;\n    return {\n        symbol: LineSymbols[shapeType],\n        style: {\n            lineWidth: 2,\n            r: 6,\n            stroke: color,\n        },\n    };\n}\n//# sourceMappingURL=util.js.map","import { each, isArray } from '@antv/util';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\nimport { getLineMarker } from './util';\nfunction getShapeAttrs(cfg, smooth, constraint) {\n    var isStack = cfg.isStack, connectNulls = cfg.connectNulls, isInCircle = cfg.isInCircle, showSinglePoint = cfg.showSinglePoint;\n    var shapeAttrs = getStyle(cfg, true, false, 'lineWidth');\n    var points = getPathPoints(cfg.points, connectNulls, showSinglePoint); // 根据 connectNulls 值处理 points\n    var path = [];\n    for (var i = 0, len = points.length; i < len; i++) {\n        var eachLinePoints = points[i];\n        path = path.concat(getPath(eachLinePoints, isInCircle, isStack, smooth, constraint, shapeAttrs));\n    }\n    shapeAttrs.path = path;\n    return shapeAttrs;\n}\n// 单条 path\nfunction getSinglePath(points, isInCircle, smooth, constraint, style) {\n    if (points.length === 1) {\n        // 只有一个点时\n        return [\n            ['M', points[0].x, points[0].y - style.lineWidth / 2],\n            ['L', points[0].x, points[0].y],\n            ['L', points[0].x, points[0].y + style.lineWidth / 2],\n        ];\n    }\n    var path;\n    if (!smooth) {\n        path = getLinePath(points, false);\n        if (isInCircle) {\n            path.push(['Z']);\n        }\n    }\n    else {\n        // 直角坐标系下绘制曲线时限制最大值、最小值\n        if (isInCircle && points.length) {\n            points.push({ x: points[0].x, y: points[0].y });\n        }\n        path = getSplinePath(points, false, constraint);\n    }\n    return path;\n}\nfunction getRangePath(points, isInCircle, isStack, smooth, constraint, style) {\n    var topPoints = [];\n    var bottomPoints = [];\n    each(points, function (point) {\n        var result = splitPoints(point);\n        topPoints.push(result[1]); // 上边\n        bottomPoints.push(result[0]); // 底边\n    });\n    var topPath = getSinglePath(topPoints, isInCircle, smooth, constraint, style);\n    var bottomPath = getSinglePath(bottomPoints, isInCircle, smooth, constraint, style);\n    if (isStack) {\n        return topPath;\n    }\n    return topPath.concat(bottomPath);\n}\nfunction getPath(points, isInCircle, isStack, smooth, constraint, style) {\n    if (points.length) {\n        var first = points[0];\n        return isArray(first.y)\n            ? getRangePath(points, isInCircle, isStack, smooth, constraint, style)\n            : getSinglePath(points, isInCircle, smooth, constraint, style);\n    }\n    return [];\n}\nvar LineShapeFactory = registerShapeFactory('line', {\n    defaultShapeType: 'line',\n});\n// 这里因为代码公用，所以直接全部注册\n// 'line' 默认折线；'dot' 点线 ···；'dash' 断线 - - -\neach(['line', 'dot', 'dash', 'smooth'], function (shapeType) {\n    registerShape('line', shapeType, {\n        draw: function (cfg, container) {\n            var smooth = shapeType === 'smooth';\n            var constraint;\n            if (smooth) {\n                var _a = this.coordinate, start = _a.start, end = _a.end;\n                constraint = [\n                    [start.x, end.y],\n                    [end.x, start.y],\n                ];\n            }\n            var attrs = getShapeAttrs(cfg, smooth, constraint);\n            var shape = container.addShape({\n                type: 'path',\n                attrs: attrs,\n                name: 'line',\n            });\n            return shape;\n        },\n        getMarker: function (markerCfg) {\n            return getLineMarker(markerCfg, shapeType);\n        },\n    });\n});\nexport default LineShapeFactory;\n//# sourceMappingURL=index.js.map","import { __extends } from \"tslib\";\nimport { FIELD_ORIGIN } from '../constant';\nimport Geometry from './base';\nimport Element from './element';\n/** 引入对应的 ShapeFactory */\nimport './shape/line';\nimport { isModelChange } from './util/is-model-change';\n/**\n * Path 几何标记。\n * 用于绘制路径图等。\n */\nvar Path = /** @class */ (function (_super) {\n    __extends(Path, _super);\n    function Path(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.type = 'path';\n        _this.shapeType = 'line';\n        var _a = cfg.connectNulls, connectNulls = _a === void 0 ? false : _a, _b = cfg.showSinglePoint, showSinglePoint = _b === void 0 ? true : _b;\n        _this.connectNulls = connectNulls;\n        _this.showSinglePoint = showSinglePoint;\n        return _this;\n    }\n    /**\n     * 创建所有的 Element 实例，对于 Path、Line、Area，一组数据对应一个 Element。\n     * @param mappingData\n     * @param [isUpdate]\n     * @returns elements\n     */\n    Path.prototype.createElements = function (mappingData, index, isUpdate) {\n        if (isUpdate === void 0) { isUpdate = false; }\n        // Path 的每个 element 对应一组数据\n        var _a = this, lastElementsMap = _a.lastElementsMap, elementsMap = _a.elementsMap, elements = _a.elements, container = _a.container;\n        var elementId = this.getElementId(mappingData);\n        var shapeCfg = this.getShapeInfo(mappingData);\n        var result = lastElementsMap[elementId];\n        if (!result) {\n            var shapeFactory = this.getShapeFactory();\n            result = new Element({\n                shapeFactory: shapeFactory,\n                container: container,\n                offscreenGroup: this.getOffscreenGroup(),\n            });\n            result.geometry = this;\n            result.animate = this.animateOption;\n            result.draw(shapeCfg, isUpdate); // 绘制 shape\n        }\n        else {\n            // element 已经创建\n            var preShapeCfg = result.getModel();\n            if (this.isCoordinateChanged || isModelChange(preShapeCfg, shapeCfg)) {\n                result.animate = this.animateOption;\n                // 通过绘制数据的变更来判断是否需要更新，因为用户有可能会修改图形属性映射\n                result.update(shapeCfg); // 更新对应的 element\n            }\n            delete lastElementsMap[elementId];\n        }\n        elements.push(result);\n        elementsMap[elementId] = result;\n        return elements;\n    };\n    /**\n     * 获取组成一条线（一组数据）的所有点以及数据\n     * @param mappingData 映射后的数组\n     */\n    Path.prototype.getPointsAndData = function (mappingData) {\n        var points = [];\n        var data = [];\n        for (var i = 0, len = mappingData.length; i < len; i++) {\n            var obj = mappingData[i];\n            points.push({\n                x: obj.x,\n                y: obj.y,\n            });\n            data.push(obj[FIELD_ORIGIN]);\n        }\n        return {\n            points: points,\n            data: data,\n        };\n    };\n    Path.prototype.getShapeInfo = function (mappingData) {\n        var shapeCfg = this.getDrawCfg(mappingData[0]);\n        var _a = this.getPointsAndData(mappingData), points = _a.points, data = _a.data;\n        shapeCfg.mappingData = mappingData;\n        shapeCfg.data = data;\n        shapeCfg.isStack = !!this.getAdjust('stack');\n        shapeCfg.points = points;\n        shapeCfg.connectNulls = this.connectNulls;\n        shapeCfg.showSinglePoint = this.showSinglePoint;\n        return shapeCfg;\n    };\n    return Path;\n}(Geometry));\nexport default Path;\n//# sourceMappingURL=path.js.map","import { each } from '@antv/util';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\nfunction getPath(points, isInCircle, smooth, registeredShape, constraint) {\n    var path = [];\n    if (points.length) {\n        var topLinePoints_1 = []; // area 区域上部分\n        var bottomLinePoints_1 = []; // area 区域下部分\n        for (var i = 0, len = points.length; i < len; i++) {\n            var point = points[i];\n            topLinePoints_1.push(point[1]);\n            bottomLinePoints_1.push(point[0]);\n        }\n        bottomLinePoints_1 = bottomLinePoints_1.reverse();\n        each([topLinePoints_1, bottomLinePoints_1], function (pointsData, index) {\n            var subPath = [];\n            var parsedPoints = registeredShape.parsePoints(pointsData);\n            var p1 = parsedPoints[0];\n            if (topLinePoints_1.length === 1 && bottomLinePoints_1.length === 1) {\n                // 都只有一个点，绘制一条竖线\n                subPath =\n                    index === 0\n                        ? [\n                            ['M', p1.x - 0.5, p1.y],\n                            ['L', p1.x + 0.5, p1.y],\n                        ]\n                        : [\n                            ['L', p1.x + 0.5, p1.y],\n                            ['L', p1.x - 0.5, p1.y],\n                        ];\n            }\n            else {\n                if (isInCircle) {\n                    parsedPoints.push({ x: p1.x, y: p1.y });\n                }\n                if (smooth) {\n                    subPath = getSplinePath(parsedPoints, false, constraint);\n                }\n                else {\n                    subPath = getLinePath(parsedPoints, false);\n                }\n                if (index > 0) {\n                    subPath[0][0] = 'L';\n                }\n            }\n            path = path.concat(subPath);\n        });\n        path.push(['Z']);\n    }\n    return path;\n}\n/**\n * @ignore\n * Gets shape attrs\n * @param cfg\n * @param isStroke\n * @param smooth\n * @param registeredShape\n * @param [constraint]\n * @returns\n */\nexport function getShapeAttrs(cfg, isStroke, smooth, registeredShape, constraint) {\n    var attrs = getStyle(cfg, isStroke, !isStroke, 'lineWidth');\n    var connectNulls = cfg.connectNulls, isInCircle = cfg.isInCircle, points = cfg.points, showSinglePoint = cfg.showSinglePoint;\n    var pathPoints = getPathPoints(points, connectNulls, showSinglePoint); // 根据 connectNulls 配置获取图形关键点\n    var path = [];\n    for (var i = 0, len = pathPoints.length; i < len; i++) {\n        var eachPoints = pathPoints[i];\n        path = path.concat(getPath(eachPoints, isInCircle, smooth, registeredShape, constraint));\n    }\n    attrs.path = path;\n    return attrs;\n}\n/**\n * @ignore\n * Gets constraint\n * @param coordinate\n * @returns constraint\n */\nexport function getConstraint(coordinate) {\n    var start = coordinate.start, end = coordinate.end;\n    return [\n        [start.x, end.y],\n        [end.x, start.y],\n    ];\n}\n//# sourceMappingURL=util.js.map","import { isArray } from '@antv/util';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getShapeAttrs } from './util';\nvar AreaShapeFactory = registerShapeFactory('area', {\n    defaultShapeType: 'area',\n    getDefaultPoints: function (pointInfo) {\n        // area 基本标记的绘制需要获取上下两边的顶点\n        var x = pointInfo.x, y0 = pointInfo.y0;\n        var y = isArray(pointInfo.y) ? pointInfo.y : [y0, pointInfo.y];\n        return y.map(function (yItem) {\n            return {\n                x: x,\n                y: yItem,\n            };\n        });\n    },\n});\n// Area 几何标记默认的 shape：填充的区域图\nregisterShape('area', 'area', {\n    draw: function (cfg, container) {\n        var attrs = getShapeAttrs(cfg, false, false, this);\n        var shape = container.addShape({\n            type: 'path',\n            attrs: attrs,\n            name: 'area',\n        });\n        return shape;\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color;\n        return {\n            symbol: function (x, y, r) {\n                if (r === void 0) { r = 5.5; }\n                return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n            },\n            style: {\n                r: 5,\n                fill: color,\n            },\n        };\n    },\n});\nexport default AreaShapeFactory;\n//# sourceMappingURL=index.js.map","import { __extends } from \"tslib\";\nimport { FIELD_ORIGIN } from '../constant';\nimport Path from './path';\nimport './shape/area';\n/**\n * Area 几何标记类。\n * 常用于绘制面积图。\n */\nvar Area = /** @class */ (function (_super) {\n    __extends(Area, _super);\n    function Area(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.type = 'area';\n        _this.shapeType = 'area';\n        /** 生成图形关键点 */\n        _this.generatePoints = true;\n        /**\n         * 面积图是否从 0 基准线开始填充。\n         * 1. 默认值为 `true`，表现如下：\n         * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n         * 2. 当值为 `false` 时，表现如下：\n         * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n         */\n        _this.startOnZero = true;\n        var _a = cfg.startOnZero, startOnZero = _a === void 0 ? true : _a, _b = cfg.sortable, sortable = _b === void 0 ? true : _b, _c = cfg.showSinglePoint, showSinglePoint = _c === void 0 ? false : _c;\n        _this.startOnZero = startOnZero; // 默认为 true\n        _this.sortable = sortable; // Area 默认会对数据按照 x 轴字段进行正向排序\n        _this.showSinglePoint = showSinglePoint;\n        return _this;\n    }\n    /**\n     * 获取图形绘制的关键点以及数据\n     * @param mappingData 映射后的数据\n     */\n    Area.prototype.getPointsAndData = function (mappingData) {\n        var points = [];\n        var data = [];\n        for (var i = 0, len = mappingData.length; i < len; i++) {\n            var obj = mappingData[i];\n            points.push(obj.points);\n            data.push(obj[FIELD_ORIGIN]);\n        }\n        return {\n            points: points,\n            data: data,\n        };\n    };\n    /**\n     * 获取 Y 轴上的最小值\n     * @returns y 字段最小值\n     */\n    Area.prototype.getYMinValue = function () {\n        if (this.startOnZero) {\n            return _super.prototype.getYMinValue.call(this);\n        }\n        var yScale = this.getYScale();\n        return yScale.min;\n    };\n    return Area;\n}(Path));\nexport default Area;\n//# sourceMappingURL=area.js.map","import { __assign } from \"tslib\";\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\nvar EdgeShapeFactory = registerShapeFactory('edge', {\n    defaultShapeType: 'line',\n    getDefaultPoints: function (pointInfo) {\n        return splitPoints(pointInfo);\n    },\n});\nregisterShape('edge', 'line', {\n    draw: function (cfg, container) {\n        var style = getStyle(cfg, true, false, 'lineWidth');\n        var path = getLinePath(this.parsePoints(cfg.points), this.coordinate.isPolar);\n        return container.addShape('path', {\n            attrs: __assign(__assign({}, style), { path: path }),\n        });\n    },\n    getMarker: function (markerCfg) {\n        return {\n            symbol: 'circle',\n            style: {\n                r: 4.5,\n                fill: markerCfg.color,\n            },\n        };\n    },\n});\nexport default EdgeShapeFactory;\n//# sourceMappingURL=index.js.map","import { __extends } from \"tslib\";\nimport Geometry from './base';\nimport './shape/edge';\n/**\n * Edge 几何标记，用于绘制关系图中的**边**图形，如：\n * 1. 流程图\n * 2. 树\n * 3. 弧长连接图\n * 4. 和弦图\n * 5. 桑基图\n */\nvar Edge = /** @class */ (function (_super) {\n    __extends(Edge, _super);\n    function Edge() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'edge';\n        _this.shapeType = 'edge';\n        _this.generatePoints = true;\n        return _this;\n    }\n    return Edge;\n}(Geometry));\nexport default Edge;\n//# sourceMappingURL=edge.js.map","import { __assign, __extends } from \"tslib\";\nimport ColorUtil from '@antv/color-util';\nimport { get, isNumber } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport Geometry from './base';\n/**\n * 用于绘制热力图。\n */\nvar Heatmap = /** @class */ (function (_super) {\n    __extends(Heatmap, _super);\n    function Heatmap() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'heatmap';\n        _this.paletteCache = {};\n        return _this;\n    }\n    Heatmap.prototype.createElements = function (mappingData, index, isUpdate) {\n        if (isUpdate === void 0) { isUpdate = false; }\n        var range = this.prepareRange(mappingData);\n        var radius = this.prepareSize();\n        var blur = get(this.styleOption, ['style', 'shadowBlur']);\n        if (!isNumber(blur)) {\n            blur = radius / 2;\n        }\n        this.prepareGreyScaleBlurredCircle(radius, blur);\n        this.drawWithRange(mappingData, range, radius, blur);\n        return null;\n    };\n    /**\n     * clear\n     */\n    Heatmap.prototype.clear = function () {\n        _super.prototype.clear.call(this);\n        this.clearShadowCanvasCtx();\n        this.paletteCache = {};\n    };\n    Heatmap.prototype.prepareRange = function (data) {\n        var colorAttr = this.getAttribute('color');\n        var colorField = colorAttr.getFields()[0];\n        var min = Infinity;\n        var max = -Infinity;\n        data.forEach(function (row) {\n            var value = row[FIELD_ORIGIN][colorField];\n            if (value > max) {\n                max = value;\n            }\n            if (value < min) {\n                min = value;\n            }\n        });\n        if (min === max) {\n            min = max - 1;\n        }\n        return [min, max];\n    };\n    Heatmap.prototype.prepareSize = function () {\n        var radius = this.getDefaultValue('size');\n        if (!isNumber(radius)) {\n            radius = this.getDefaultSize();\n        }\n        return radius;\n    };\n    Heatmap.prototype.prepareGreyScaleBlurredCircle = function (radius, blur) {\n        var grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n        var r2 = radius + blur;\n        var ctx = grayScaleBlurredCanvas.getContext('2d');\n        grayScaleBlurredCanvas.width = grayScaleBlurredCanvas.height = r2 * 2;\n        ctx.clearRect(0, 0, grayScaleBlurredCanvas.width, grayScaleBlurredCanvas.height);\n        ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n        ctx.shadowBlur = blur;\n        ctx.shadowColor = 'black';\n        ctx.beginPath();\n        ctx.arc(-r2, -r2, radius, 0, Math.PI * 2, true);\n        ctx.closePath();\n        ctx.fill();\n    };\n    Heatmap.prototype.drawWithRange = function (data, range, radius, blur) {\n        // canvas size\n        var _a = this.coordinate, start = _a.start, end = _a.end;\n        var width = this.coordinate.getWidth();\n        var height = this.coordinate.getHeight();\n        // value, range, etc\n        var colorAttr = this.getAttribute('color');\n        var valueField = colorAttr.getFields()[0];\n        // prepare shadow canvas context\n        this.clearShadowCanvasCtx();\n        var ctx = this.getShadowCanvasCtx();\n        // filter data\n        if (range) {\n            data = data.filter(function (row) {\n                return row[FIELD_ORIGIN][valueField] <= range[1] && row[FIELD_ORIGIN][valueField] >= range[0];\n            });\n        }\n        // step1. draw points with shadow\n        var scale = this.scales[valueField];\n        for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\n            var obj = data_1[_i];\n            var _b = this.getDrawCfg(obj), x = _b.x, y = _b.y;\n            var alpha = scale.scale(obj[FIELD_ORIGIN][valueField]);\n            this.drawGrayScaleBlurredCircle(x - start.x, y - end.y, radius + blur, alpha, ctx);\n        }\n        // step2. convert pixels\n        var colored = ctx.getImageData(0, 0, width, height);\n        this.clearShadowCanvasCtx();\n        this.colorize(colored);\n        ctx.putImageData(colored, 0, 0);\n        var imageShape = this.getImageShape();\n        imageShape.attr('x', start.x);\n        imageShape.attr('y', end.y);\n        imageShape.attr('width', width);\n        imageShape.attr('height', height);\n        imageShape.attr('img', ctx.canvas);\n        imageShape.set('origin', this.getShapeInfo(data)); // 存储绘图信息数据\n    };\n    Heatmap.prototype.getDefaultSize = function () {\n        var position = this.getAttribute('position');\n        var coordinate = this.coordinate;\n        return Math.min(coordinate.getWidth() / (position.scales[0].ticks.length * 4), coordinate.getHeight() / (position.scales[1].ticks.length * 4));\n    };\n    Heatmap.prototype.clearShadowCanvasCtx = function () {\n        var ctx = this.getShadowCanvasCtx();\n        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n    };\n    Heatmap.prototype.getShadowCanvasCtx = function () {\n        var canvas = this.shadowCanvas;\n        if (!canvas) {\n            canvas = document.createElement('canvas');\n            this.shadowCanvas = canvas;\n        }\n        canvas.width = this.coordinate.getWidth();\n        canvas.height = this.coordinate.getHeight();\n        return canvas.getContext('2d');\n    };\n    Heatmap.prototype.getGrayScaleBlurredCanvas = function () {\n        if (!this.grayScaleBlurredCanvas) {\n            this.grayScaleBlurredCanvas = document.createElement('canvas');\n        }\n        return this.grayScaleBlurredCanvas;\n    };\n    Heatmap.prototype.drawGrayScaleBlurredCircle = function (x, y, r, alpha, ctx) {\n        var grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n        ctx.globalAlpha = alpha;\n        ctx.drawImage(grayScaleBlurredCanvas, x - r, y - r);\n    };\n    Heatmap.prototype.colorize = function (img) {\n        var colorAttr = this.getAttribute('color');\n        var pixels = img.data;\n        var paletteCache = this.paletteCache;\n        for (var i = 3; i < pixels.length; i += 4) {\n            var alpha = pixels[i]; // get gradient color from opacity value\n            if (isNumber(alpha)) {\n                var palette = paletteCache[alpha] ? paletteCache[alpha] : ColorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n                pixels[i - 3] = palette[0];\n                pixels[i - 2] = palette[1];\n                pixels[i - 1] = palette[2];\n                pixels[i] = alpha;\n            }\n        }\n    };\n    Heatmap.prototype.getImageShape = function () {\n        var imageShape = this.imageShape;\n        if (imageShape) {\n            return imageShape;\n        }\n        var container = this.container;\n        imageShape = container.addShape({\n            type: 'image',\n            attrs: {},\n        });\n        this.imageShape = imageShape;\n        return imageShape;\n    };\n    Heatmap.prototype.getShapeInfo = function (mappingData) {\n        var shapeCfg = this.getDrawCfg(mappingData[0]);\n        return __assign(__assign({}, shapeCfg), { mappingData: mappingData, data: this.getData(mappingData) });\n    };\n    Heatmap.prototype.getData = function (mappingData) {\n        return mappingData.map(function (obj) {\n            return obj[FIELD_ORIGIN];\n        });\n    };\n    return Heatmap;\n}(Geometry));\nexport default Heatmap;\n//# sourceMappingURL=heatmap.js.map","import { isArray, isNil } from '@antv/util';\n/**\n * @ignore\n * 根据数据点生成矩形的四个关键点\n * @param pointInfo 数据点信息\n * @param [isPyramid] 是否为尖底漏斗图\n * @returns rect points 返回矩形四个顶点信息\n */\nexport function getRectPoints(pointInfo, isPyramid) {\n    if (isPyramid === void 0) { isPyramid = false; }\n    var x = pointInfo.x, y = pointInfo.y, y0 = pointInfo.y0, size = pointInfo.size;\n    // 有 4 种情况，\n    // 1. x, y 都不是数组\n    // 2. y是数组，x不是\n    // 3. x是数组，y不是\n    // 4. x, y 都是数组\n    var yMin;\n    var yMax;\n    if (isArray(y)) {\n        yMin = y[0], yMax = y[1];\n    }\n    else {\n        yMin = y0;\n        yMax = y;\n    }\n    var xMin;\n    var xMax;\n    if (isArray(x)) {\n        xMin = x[0], xMax = x[1];\n    }\n    else {\n        xMin = x - size / 2;\n        xMax = x + size / 2;\n    }\n    var points = [\n        { x: xMin, y: yMin },\n        { x: xMin, y: yMax },\n    ];\n    if (isPyramid) {\n        // 绘制尖底漏斗图\n        // 金字塔漏斗图的关键点\n        // 1\n        // |   2\n        // 0\n        points.push({\n            x: xMax,\n            y: (yMax + yMin) / 2,\n        });\n    }\n    else {\n        // 矩形的四个关键点，结构如下（左下角顺时针连接）\n        // 1 ---- 2\n        // |      |\n        // 0 ---- 3\n        points.push({ x: xMax, y: yMax }, { x: xMax, y: yMin });\n    }\n    return points;\n}\n/**\n * @ignore\n * 根据矩形关键点绘制 path\n * @param points 关键点数组\n * @param isClosed path 是否需要闭合\n * @returns 返回矩形的 path\n */\nexport function getRectPath(points, isClosed) {\n    if (isClosed === void 0) { isClosed = true; }\n    var path = [];\n    var firstPoint = points[0];\n    path.push(['M', firstPoint.x, firstPoint.y]);\n    for (var i = 1, len = points.length; i < len; i++) {\n        path.push(['L', points[i].x, points[i].y]);\n    }\n    // 对于 shape=\"line\" path 不应该闭合，否则会造成 lineCap 绘图属性失效\n    if (isClosed) {\n        path.push(['L', firstPoint.x, firstPoint.y]); // 需要闭合\n        path.push(['z']);\n    }\n    return path;\n}\n/**\n * @ignore\n * 根据 funnel 关键点绘制漏斗图的 path\n * @param points 图形关键点信息\n * @param nextPoints 下一个数据的图形关键点信息\n * @param isPyramid 是否为尖底漏斗图\n * @returns 返回漏斗图的图形 path\n */\nexport function getFunnelPath(points, nextPoints, isPyramid) {\n    var path = [];\n    if (!isNil(nextPoints)) {\n        path.push(['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', nextPoints[1].x, nextPoints[1].y], ['L', nextPoints[0].x, nextPoints[0].y], ['Z']);\n    }\n    else if (isPyramid) {\n        // 金字塔最底部\n        path.push(['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', points[2].x, points[2].y], ['L', points[2].x, points[2].y], ['Z']);\n    }\n    else {\n        // 漏斗图最底部\n        path.push(['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', points[2].x, points[2].y], ['L', points[3].x, points[3].y], ['Z']);\n    }\n    return path;\n}\n//# sourceMappingURL=util.js.map","import { __assign } from \"tslib\";\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getRectPath, getRectPoints } from './util';\n/** Interval 的 shape 工厂 */\nvar IntervalShapeFactory = registerShapeFactory('interval', {\n    defaultShapeType: 'rect',\n    getDefaultPoints: function (pointInfo) {\n        return getRectPoints(pointInfo);\n    },\n});\n/** Inerval 默认 shape，填充的矩形 */\nregisterShape('interval', 'rect', {\n    draw: function (cfg, container) {\n        var style = getStyle(cfg, false, true);\n        var path = this.parsePath(getRectPath(cfg.points));\n        var shape = container.addShape('path', {\n            attrs: __assign(__assign({}, style), { path: path }),\n            name: 'interval',\n        });\n        return shape;\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color, isInPolar = markerCfg.isInPolar;\n        if (isInPolar) {\n            return {\n                symbol: 'circle',\n                style: {\n                    r: 4.5,\n                    fill: color,\n                },\n            };\n        }\n        return {\n            symbol: 'square',\n            style: {\n                r: 4,\n                fill: color,\n            },\n        };\n    },\n});\nexport default IntervalShapeFactory;\n//# sourceMappingURL=index.js.map","import { flatten, isString, valuesOfKey } from '@antv/util';\nimport { getXDimensionLength } from '../../util/coordinate';\n// 已经排序后的数据查找距离最小的\nfunction findMinDistance(arr, scale) {\n    var count = arr.length;\n    var sourceArr = arr;\n    if (isString(sourceArr[0])) {\n        // 日期类型的 values 经常上文本类型，所以需要转换一下\n        sourceArr = arr.map(function (v) {\n            return scale.translate(v);\n        });\n    }\n    var distance = sourceArr[1] - sourceArr[0];\n    for (var i = 2; i < count; i++) {\n        var tmp = sourceArr[i] - sourceArr[i - 1];\n        if (distance > tmp) {\n            distance = tmp;\n        }\n    }\n    return distance;\n}\nfunction getDodgeCount(dataArray, dodgeBy) {\n    if (dodgeBy) {\n        var mergeData = flatten(dataArray);\n        var values = valuesOfKey(mergeData, dodgeBy);\n        return values.length;\n    }\n    return dataArray.length;\n}\n/** @ignore */\nexport function getDefaultSize(geometry) {\n    var theme = geometry.theme;\n    var coordinate = geometry.coordinate;\n    var xScale = geometry.getXScale();\n    var xValues = xScale.values;\n    var dataArray = geometry.beforeMappingData;\n    var count = xValues.length;\n    if (xScale.isLinear && xValues.length > 1) {\n        // Linear 类型用户有可能设置了 min, max 范围所以需要根据数据最小区间计算 count\n        xValues.sort();\n        var interval = findMinDistance(xValues, xScale);\n        count = (xScale.max - xScale.min) / interval;\n        if (xValues.length > count) {\n            count = xValues.length;\n        }\n    }\n    var range = xScale.range;\n    var normalizedSize = 1 / count;\n    var wr = 1;\n    if (coordinate.isPolar) {\n        if (coordinate.isTransposed && count > 1) {\n            // 极坐标下多层环图\n            wr = theme.multiplePieWidthRatio;\n        }\n        else {\n            wr = theme.roseWidthRatio;\n        }\n    }\n    else {\n        if (xScale.isLinear) {\n            normalizedSize *= range[1] - range[0];\n        }\n        wr = theme.columnWidthRatio;\n    }\n    normalizedSize *= wr;\n    if (geometry.getAdjust('dodge')) {\n        var dodgeAdjust = geometry.getAdjust('dodge');\n        var dodgeBy = dodgeAdjust.dodgeBy;\n        var dodgeCount = getDodgeCount(dataArray, dodgeBy);\n        normalizedSize = normalizedSize / dodgeCount;\n    }\n    // 最大和最小限制\n    var maxColumnWidth = theme.maxColumnWidth, minColumnWidth = theme.minColumnWidth;\n    var xDimensionLength = getXDimensionLength(geometry.coordinate);\n    if (maxColumnWidth) {\n        var normalizedMaxColumnWidth = maxColumnWidth / xDimensionLength;\n        if (normalizedSize > normalizedMaxColumnWidth) {\n            normalizedSize = normalizedMaxColumnWidth;\n        }\n    }\n    if (minColumnWidth) {\n        var normalizedMinColumnWidth = minColumnWidth / xDimensionLength;\n        if (normalizedSize < normalizedMinColumnWidth) {\n            normalizedSize = normalizedMinColumnWidth;\n        }\n    }\n    return normalizedSize;\n}\n//# sourceMappingURL=shape-size.js.map","import { __extends } from \"tslib\";\nimport { get } from '@antv/util';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry from './base';\n/** 引入对应的 ShapeFactory */\nimport './shape/interval';\nimport { getDefaultSize } from './util/shape-size';\n/**\n * Interval 几何标记。\n * 用于绘制柱状图、饼图、条形图、玫瑰图等。\n */\nvar Interval = /** @class */ (function (_super) {\n    __extends(Interval, _super);\n    function Interval() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'interval';\n        _this.shapeType = 'interval';\n        _this.generatePoints = true;\n        return _this;\n    }\n    /**\n     * 获取每条数据的 Shape 绘制信息\n     * @param obj 经过分组 -> 数字化 -> adjust 调整后的数据记录\n     * @returns\n     */\n    Interval.prototype.createShapePointsCfg = function (obj) {\n        var cfg = _super.prototype.createShapePointsCfg.call(this, obj);\n        // 计算每个 shape 的 size\n        var size;\n        var sizeAttr = this.getAttribute('size');\n        if (sizeAttr) {\n            size = this.getAttributeValues(sizeAttr, obj)[0];\n            // 归一化\n            var coordinate = this.coordinate;\n            var coordinateWidth = getXDimensionLength(coordinate);\n            size = size / coordinateWidth;\n        }\n        else {\n            if (!this.defaultSize) {\n                this.defaultSize = getDefaultSize(this);\n            }\n            size = this.defaultSize;\n        }\n        cfg.size = size;\n        return cfg;\n    };\n    /**\n     * 调整 y 轴的 scale 范围。\n     * 对于 Y 轴为数值轴柱状图，默认从 0 开始 生长。\n     */\n    Interval.prototype.adjustScale = function () {\n        _super.prototype.adjustScale.call(this);\n        var yScale = this.getYScale();\n        // 特殊逻辑：饼图需要填充满整个空间\n        if (this.coordinate.type === 'theta') {\n            yScale.change({\n                nice: false,\n                min: 0,\n                // 发生过 stack 调整，yScale 的 max 被调整过，this.updateStackRange()\n                max: Math.max(Math.max.apply(null, yScale.values), yScale.max),\n            });\n        }\n        else {\n            // 柱状图数值轴默认从 0 开始\n            var scaleDefs = this.scaleDefs;\n            var field = yScale.field, min = yScale.min, max = yScale.max, type = yScale.type;\n            if (type !== 'time') {\n                // time 类型不做调整\n                // 柱状图的 Y 轴要从 0 开始生长，但是如果用户设置了则以用户的为准\n                if (min > 0 && !get(scaleDefs, [field, 'min'])) {\n                    yScale.change({\n                        min: 0,\n                    });\n                }\n                // 柱当柱状图全为负值时也需要从 0 开始生长，但是如果用户设置了则以用户的为准\n                if (max <= 0 && !get(scaleDefs, [field, 'max'])) {\n                    yScale.change({\n                        max: 0,\n                    });\n                }\n            }\n        }\n    };\n    return Interval;\n}(Geometry));\nexport default Interval;\n//# sourceMappingURL=interval.js.map","import { __extends } from \"tslib\";\nimport Path from './path';\n/** 引入 Path 对应的 ShapeFactory */\nimport './shape/line';\n/**\n * Line 几何标记。\n * 常用于折线图的绘制。\n */\nvar Line = /** @class */ (function (_super) {\n    __extends(Line, _super);\n    function Line(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.type = 'line';\n        var _a = cfg.sortable, sortable = _a === void 0 ? true : _a; // Line 默认会对数据按照 x 轴字段进行排序\n        _this.sortable = sortable;\n        return _this;\n    }\n    return Line;\n}(Path));\nexport default Line;\n//# sourceMappingURL=line.js.map","/** @ignore */\nexport var MarkerSymbols = {\n    hexagon: function (x, y, r) {\n        var diffX = (r / 2) * Math.sqrt(3);\n        return [\n            ['M', x, y - r],\n            ['L', x + diffX, y - r / 2],\n            ['L', x + diffX, y + r / 2],\n            ['L', x, y + r],\n            ['L', x - diffX, y + r / 2],\n            ['L', x - diffX, y - r / 2],\n            ['Z'],\n        ];\n    },\n    bowtie: function (x, y, r) {\n        var diffY = r - 1.5;\n        return [['M', x - r, y - diffY], ['L', x + r, y + diffY], ['L', x + r, y - diffY], ['L', x - r, y + diffY], ['Z']];\n    },\n    cross: function (x, y, r) {\n        return [\n            ['M', x - r, y - r],\n            ['L', x + r, y + r],\n            ['M', x + r, y - r],\n            ['L', x - r, y + r],\n        ];\n    },\n    tick: function (x, y, r) {\n        return [\n            ['M', x - r / 2, y - r],\n            ['L', x + r / 2, y - r],\n            ['M', x, y - r],\n            ['L', x, y + r],\n            ['M', x - r / 2, y + r],\n            ['L', x + r / 2, y + r],\n        ];\n    },\n    plus: function (x, y, r) {\n        return [\n            ['M', x - r, y],\n            ['L', x + r, y],\n            ['M', x, y - r],\n            ['L', x, y + r],\n        ];\n    },\n    hyphen: function (x, y, r) {\n        return [\n            ['M', x - r, y],\n            ['L', x + r, y],\n        ];\n    },\n    line: function (x, y, r) {\n        return [\n            ['M', x, y - r],\n            ['L', x, y + r],\n        ];\n    },\n};\n//# sourceMappingURL=marker.js.map","import { __assign } from \"tslib\";\nimport { MarkerSymbols } from '../../../util/marker';\nimport { getStyle } from '../util/get-style';\nexport var SHAPES = ['circle', 'square', 'bowtie', 'diamond', 'hexagon', 'triangle', 'triangle-down'];\nexport var HOLLOW_SHAPES = ['cross', 'tick', 'plus', 'hyphen', 'line'];\n/**\n * @ignore\n * Draws points\n * @param shape\n * @param cfg\n * @param container\n * @param shapeName\n * @param isStroke\n * @returns points\n */\nexport function drawPoints(shape, cfg, container, shapeName, isStroke) {\n    var style = getStyle(cfg, isStroke, !isStroke, 'r');\n    var points = shape.parsePoints(cfg.points);\n    var pointPosition = points[0];\n    if (cfg.isStack) {\n        pointPosition = points[1];\n    }\n    else if (points.length > 1) {\n        var group = container.addGroup();\n        for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n            var point = points_1[_i];\n            group.addShape({\n                type: 'marker',\n                attrs: __assign(__assign(__assign({}, style), { symbol: MarkerSymbols[shapeName] || shapeName }), point),\n            });\n        }\n        return group;\n    }\n    return container.addShape({\n        type: 'marker',\n        attrs: __assign(__assign(__assign({}, style), { symbol: MarkerSymbols[shapeName] || shapeName }), pointPosition),\n    });\n}\n//# sourceMappingURL=util.js.map","import { each } from '@antv/util';\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { splitPoints } from '../util/split-points';\nimport { drawPoints, SHAPES } from './util';\nvar PointShapeFactory = registerShapeFactory('point', {\n    defaultShapeType: 'hollow-circle',\n    getDefaultPoints: function (pointInfo) {\n        return splitPoints(pointInfo);\n    },\n});\neach(SHAPES, function (shapeName) {\n    // 添加该 shape 对应的 hollow-shape\n    registerShape('point', \"hollow-\" + shapeName, {\n        draw: function (cfg, container) {\n            return drawPoints(this, cfg, container, shapeName, true);\n        },\n        getMarker: function (markerCfg) {\n            var color = markerCfg.color;\n            return {\n                symbol: MarkerSymbols[shapeName] || shapeName,\n                style: {\n                    r: 4.5,\n                    stroke: color,\n                    fill: null,\n                },\n            };\n        },\n    });\n});\nexport default PointShapeFactory;\n//# sourceMappingURL=index.js.map","import { __assign, __extends } from \"tslib\";\nimport Geometry from './base';\n/** 引入 Point 对应的 ShapeFactory */\nimport './shape/point';\n/**\n * Point 几何标记。\n * 常用于绘制点图。\n */\nvar Point = /** @class */ (function (_super) {\n    __extends(Point, _super);\n    function Point() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'point';\n        _this.shapeType = 'point';\n        _this.generatePoints = true;\n        return _this;\n    }\n    /**\n     * 获取一个点的绘制信息。\n     * @param mappingDatum\n     * @returns draw cfg\n     */\n    Point.prototype.getDrawCfg = function (mappingDatum) {\n        var shapeCfg = _super.prototype.getDrawCfg.call(this, mappingDatum);\n        return __assign(__assign({}, shapeCfg), { isStack: !!this.getAdjust('stack') });\n    };\n    return Point;\n}(Geometry));\nexport default Point;\n//# sourceMappingURL=point.js.map","import { __assign } from \"tslib\";\nimport { each, isEmpty, isEqual, last } from '@antv/util';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\nfunction getPath(points) {\n    var flag = points[0];\n    var i = 1;\n    var path = [['M', flag.x, flag.y]];\n    while (i < points.length) {\n        var c = points[i];\n        if (c.x !== points[i - 1].x || c.y !== points[i - 1].y) {\n            path.push(['L', c.x, c.y]);\n            if (c.x === flag.x && c.y === flag.y && i < points.length - 1) {\n                flag = points[i + 1];\n                path.push(['Z']);\n                path.push(['M', flag.x, flag.y]);\n                i++;\n            }\n        }\n        i++;\n    }\n    if (!isEqual(last(path), flag)) {\n        path.push(['L', flag.x, flag.y]);\n    }\n    path.push(['Z']);\n    return path;\n}\nvar PolygonShapeFactory = registerShapeFactory('polygon', {\n    defaultShapeType: 'polygon',\n    getDefaultPoints: function (pointInfo) {\n        var points = [];\n        each(pointInfo.x, function (subX, index) {\n            var subY = pointInfo.y[index];\n            points.push({\n                x: subX,\n                y: subY,\n            });\n        });\n        return points;\n    },\n});\nregisterShape('polygon', 'polygon', {\n    draw: function (cfg, container) {\n        if (!isEmpty(cfg.points)) {\n            var shapeAttrs = getStyle(cfg, true, true);\n            var path = this.parsePath(getPath(cfg.points));\n            return container.addShape('path', {\n                attrs: __assign(__assign({}, shapeAttrs), { path: path }),\n                name: 'polygon',\n            });\n        }\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color;\n        return {\n            symbol: 'square',\n            style: {\n                r: 4,\n                fill: color,\n            },\n        };\n    },\n});\nexport default PolygonShapeFactory;\n//# sourceMappingURL=index.js.map","import { __extends } from \"tslib\";\nimport { isArray } from '@antv/util';\nimport Geometry from './base';\n/** 引入 Path 对应的 ShapeFactory */\nimport './shape/polygon';\n/**\n * Polygon 几何标记。\n * 常用于绘制色块图、日历图等。\n */\nvar Polygon = /** @class */ (function (_super) {\n    __extends(Polygon, _super);\n    function Polygon() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'polygon';\n        _this.shapeType = 'polygon';\n        _this.generatePoints = true;\n        return _this;\n    }\n    /**\n     * 获取 Shape 的关键点数据。\n     * @param obj\n     * @returns\n     */\n    Polygon.prototype.createShapePointsCfg = function (obj) {\n        var cfg = _super.prototype.createShapePointsCfg.call(this, obj);\n        var x = cfg.x;\n        var y = cfg.y;\n        var temp;\n        // x y 都是数组时，不做处理\n        if (!(isArray(x) && isArray(y))) {\n            var xScale = this.getXScale();\n            var yScale = this.getYScale();\n            var xCount = xScale.values.length;\n            var yCount = yScale.values.length;\n            var xOffset = (0.5 * 1) / xCount;\n            var yOffset = (0.5 * 1) / yCount;\n            if (xScale.isCategory && yScale.isCategory) {\n                // 如果x,y都是分类\n                x = [x - xOffset, x - xOffset, x + xOffset, x + xOffset];\n                y = [y - yOffset, y + yOffset, y + yOffset, y - yOffset];\n            }\n            else if (isArray(x)) {\n                // x 是数组\n                temp = x;\n                x = [temp[0], temp[0], temp[1], temp[1]];\n                y = [y - yOffset / 2, y + yOffset / 2, y + yOffset / 2, y - yOffset / 2];\n            }\n            else if (isArray(y)) {\n                // y 是数组\n                temp = y;\n                y = [temp[0], temp[1], temp[1], temp[0]];\n                x = [x - xOffset / 2, x - xOffset / 2, x + xOffset / 2, x + xOffset / 2];\n            }\n            cfg.x = x;\n            cfg.y = y;\n        }\n        return cfg;\n    };\n    return Polygon;\n}(Geometry));\nexport default Polygon;\n//# sourceMappingURL=polygon.js.map","import { __extends } from \"tslib\";\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry from './base';\n/** 引入对应的 ShapeFactory */\nimport './shape/schema';\nimport { getDefaultSize } from './util/shape-size';\n/**\n * Schema 几何标记，用于一些自定义图形的绘制，比如箱型图、股票图等。\n */\nvar Schema = /** @class */ (function (_super) {\n    __extends(Schema, _super);\n    function Schema() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'schema';\n        _this.shapeType = 'schema';\n        _this.generatePoints = true;\n        return _this;\n    }\n    /**\n     * 获取 Shape 的关键点数据。\n     * @param record\n     * @returns\n     */\n    Schema.prototype.createShapePointsCfg = function (record) {\n        var cfg = _super.prototype.createShapePointsCfg.call(this, record);\n        // 计算每个 shape 的 size\n        var size;\n        var sizeAttr = this.getAttribute('size');\n        if (sizeAttr) {\n            size = this.getAttributeValues(sizeAttr, record)[0];\n            // 归一化\n            var coordinate = this.coordinate;\n            var coordinateWidth = getXDimensionLength(coordinate);\n            size = size / coordinateWidth;\n        }\n        else {\n            if (!this.defaultSize) {\n                this.defaultSize = getDefaultSize(this);\n            }\n            size = this.defaultSize;\n        }\n        cfg.size = size;\n        return cfg;\n    };\n    return Schema;\n}(Geometry));\nexport default Schema;\n//# sourceMappingURL=schema.js.map","import { registerShapeFactory } from '../base';\nvar SchemaShapeFactory = registerShapeFactory('schema', {\n    defaultShapeType: '',\n});\nexport default SchemaShapeFactory;\n//# sourceMappingURL=index.js.map","import { each } from '@antv/util';\n/**\n * @ignore\n * Gets cpath\n * @param from\n * @param to\n * @returns\n */\nexport function getCPath(from, to) {\n    var points = [];\n    points.push({\n        x: from.x,\n        y: (from.y * 1) / 2 + (to.y * 1) / 2,\n    });\n    points.push({\n        x: to.x,\n        y: (from.y * 1) / 2 + (to.y * 1) / 2,\n    });\n    points.push(to);\n    var sub = ['C'];\n    each(points, function (point) {\n        sub.push(point.x, point.y);\n    });\n    return sub;\n}\n/**\n * @ignore\n * Gets qpath\n * @param to\n * @param center\n * @returns\n */\nexport function getQPath(to, center) {\n    var points = [];\n    points.push({\n        x: center.x,\n        y: center.y,\n    });\n    points.push(to);\n    var sub = ['Q'];\n    each(points, function (point) {\n        sub.push(point.x, point.y);\n    });\n    return sub;\n}\n//# sourceMappingURL=util.js.map","import { registerShape } from '../base';\nimport { getShapeAttrs } from './util';\n/**\n * 描边但不填充的区域图\n */\nregisterShape('area', 'line', {\n    draw: function (cfg, container) {\n        var attrs = getShapeAttrs(cfg, true, false, this);\n        var shape = container.addShape({\n            type: 'path',\n            attrs: attrs,\n            name: 'area',\n        });\n        return shape;\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color;\n        return {\n            symbol: function (x, y, r) {\n                if (r === void 0) { r = 5.5; }\n                return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n            },\n            style: {\n                r: 5,\n                stroke: color,\n                fill: null,\n            },\n        };\n    },\n});\n//# sourceMappingURL=line.js.map","import { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n/**\n * 填充的平滑曲面图\n */\nregisterShape('area', 'smooth', {\n    draw: function (cfg, container) {\n        var coordinate = this.coordinate;\n        var attrs = getShapeAttrs(cfg, false, true, this, getConstraint(coordinate));\n        var shape = container.addShape({\n            type: 'path',\n            attrs: attrs,\n            name: 'area',\n        });\n        return shape;\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color;\n        return {\n            symbol: function (x, y, r) {\n                if (r === void 0) { r = 5.5; }\n                return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n            },\n            style: {\n                r: 5,\n                fill: color,\n            },\n        };\n    },\n});\n//# sourceMappingURL=smooth.js.map","import { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n/** 描边的平滑曲面图 */\nregisterShape('area', 'smooth-line', {\n    draw: function (cfg, container) {\n        var coordinate = this.coordinate;\n        var attrs = getShapeAttrs(cfg, true, true, this, getConstraint(coordinate));\n        var shape = container.addShape({\n            type: 'path',\n            attrs: attrs,\n            name: 'area',\n        });\n        return shape;\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color;\n        return {\n            symbol: function (x, y, r) {\n                if (r === void 0) { r = 5.5; }\n                return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n            },\n            style: {\n                r: 5,\n                stroke: color,\n                fill: null,\n            },\n        };\n    },\n});\n//# sourceMappingURL=smooth-line.js.map","import { __assign } from \"tslib\";\nimport { getArcPath } from '../../../util/graphics';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath, getQPath } from './util';\nfunction getArcShapePath(from, to, center) {\n    var sub = getQPath(to, center);\n    var path = [['M', from.x, from.y]];\n    path.push(sub);\n    return path;\n}\nfunction getArcShapeWeightPath(points, center) {\n    var arc1 = getQPath(points[1], center);\n    var arc2 = getQPath(points[3], center);\n    var path = [['M', points[0].x, points[0].y]];\n    path.push(arc2);\n    path.push(['L', points[3].x, points[3].y]);\n    path.push(['L', points[2].x, points[2].y]);\n    path.push(arc1);\n    path.push(['L', points[1].x, points[1].y]);\n    path.push(['L', points[0].x, points[0].y]);\n    path.push(['Z']);\n    return path;\n}\n// 弧线包括笛卡尔坐标系下的半圆弧线、极坐标系下以圆心为控制点的二阶曲线、笛卡尔坐标系下带权重的三阶曲线、极坐标系下带权重的以圆心为控制点的二阶曲线\nregisterShape('edge', 'arc', {\n    draw: function (cfg, container) {\n        var style = getStyle(cfg, true, false, 'lineWidth');\n        var points = cfg.points;\n        var type = points.length > 2 ? 'weight' : 'normal';\n        var path;\n        if (cfg.isInCircle) {\n            var center = { x: 0, y: 1 };\n            if (type === 'normal') {\n                path = getArcShapePath(points[0], points[1], center);\n            }\n            else {\n                style.fill = style.stroke;\n                path = getArcShapeWeightPath(points, center);\n            }\n            path = this.parsePath(path);\n            return container.addShape('path', {\n                attrs: __assign(__assign({}, style), { path: path }),\n            });\n        }\n        else {\n            if (type === 'normal') {\n                points = this.parsePoints(points);\n                path = getArcPath((points[1].x + points[0].x) / 2, points[0].y, Math.abs(points[1].x - points[0].x) / 2, Math.PI, Math.PI * 2);\n                return container.addShape('path', {\n                    attrs: __assign(__assign({}, style), { path: path }),\n                });\n            }\n            else {\n                var c1 = getCPath(points[1], points[3]);\n                var c2 = getCPath(points[2], points[0]);\n                path = [\n                    ['M', points[0].x, points[0].y],\n                    ['L', points[1].x, points[1].y],\n                    c1,\n                    ['L', points[3].x, points[3].y],\n                    ['L', points[2].x, points[2].y],\n                    c2,\n                    ['Z'],\n                ];\n                path = this.parsePath(path);\n                style.fill = style.stroke;\n                return container.addShape('path', {\n                    attrs: __assign(__assign({}, style), { path: path }),\n                });\n            }\n        }\n    },\n    getMarker: function (markerCfg) {\n        return {\n            symbol: 'circle',\n            style: {\n                r: 4.5,\n                fill: markerCfg.color,\n            },\n        };\n    },\n});\n//# sourceMappingURL=arc.js.map","import { __assign } from \"tslib\";\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath } from './util';\nfunction getSmoothPath(from, to) {\n    var sub = getCPath(from, to);\n    var path = [['M', from.x, from.y]];\n    path.push(sub);\n    return path;\n}\nregisterShape('edge', 'smooth', {\n    draw: function (cfg, container) {\n        var style = getStyle(cfg, true, false, 'lineWidth');\n        var points = cfg.points;\n        var path = this.parsePath(getSmoothPath(points[0], points[1]));\n        return container.addShape('path', {\n            attrs: __assign(__assign({}, style), { path: path }),\n        });\n    },\n    getMarker: function (markerCfg) {\n        return {\n            symbol: 'circle',\n            style: {\n                r: 4.5,\n                fill: markerCfg.color,\n            },\n        };\n    },\n});\n//# sourceMappingURL=smooth.js.map","import { __assign } from \"tslib\";\nimport { each } from '@antv/util';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nvar CORNER_PERCENT = 1 / 3;\nfunction getVHVPath(from, to) {\n    var points = [];\n    points.push({\n        x: from.x,\n        y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n    });\n    points.push({\n        x: to.x,\n        y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n    });\n    points.push(to);\n    var path = [['M', from.x, from.y]];\n    each(points, function (point) {\n        path.push(['L', point.x, point.y]);\n    });\n    return path;\n}\nregisterShape('edge', 'vhv', {\n    draw: function (cfg, container) {\n        var style = getStyle(cfg, true, false, 'lineWidth');\n        var points = cfg.points;\n        var path = this.parsePath(getVHVPath(points[0], points[1]));\n        return container.addShape('path', {\n            attrs: __assign(__assign({}, style), { path: path }),\n        });\n    },\n    getMarker: function (markerCfg) {\n        return {\n            symbol: 'circle',\n            style: {\n                r: 4.5,\n                fill: markerCfg.color,\n            },\n        };\n    },\n});\n//# sourceMappingURL=vhv.js.map","import { __assign } from \"tslib\";\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n/** 漏斗图 */\nregisterShape('interval', 'funnel', {\n    getPoints: function (shapePoint) {\n        shapePoint.size = shapePoint.size * 2; // 漏斗图的 size 是柱状图的两倍\n        return getRectPoints(shapePoint);\n    },\n    draw: function (cfg, container) {\n        var style = getStyle(cfg, false, true);\n        var path = this.parsePath(getFunnelPath(cfg.points, cfg.nextPoints, false));\n        var shape = container.addShape('path', {\n            attrs: __assign(__assign({}, style), { path: path }),\n            name: 'interval',\n        });\n        return shape;\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color;\n        return {\n            symbol: 'square',\n            style: {\n                r: 4,\n                fill: color,\n            },\n        };\n    },\n});\n//# sourceMappingURL=funnel.js.map","import { __assign } from \"tslib\";\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getRectPath } from './util';\n/** 描边柱状图 */\nregisterShape('interval', 'hollow-rect', {\n    draw: function (cfg, container) {\n        var style = getStyle(cfg, true, false);\n        var path = this.parsePath(getRectPath(cfg.points));\n        var shape = container.addShape('path', {\n            attrs: __assign(__assign({}, style), { path: path }),\n            name: 'interval',\n        });\n        return shape;\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color, isInPolar = markerCfg.isInPolar;\n        if (isInPolar) {\n            return {\n                symbol: 'circle',\n                style: {\n                    r: 4.5,\n                    stroke: color,\n                    fill: null,\n                },\n            };\n        }\n        return {\n            symbol: 'square',\n            style: {\n                r: 4,\n                stroke: color,\n                fill: null,\n            },\n        };\n    },\n});\n//# sourceMappingURL=hollow-rect.js.map","import { __assign } from \"tslib\";\nimport { isArray } from '@antv/util';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getRectPath } from './util';\n// 根据数据点生成 Line 的两个关键点\nfunction getLinePoints(pointInfo) {\n    var x = pointInfo.x, y = pointInfo.y, y0 = pointInfo.y0;\n    if (isArray(y)) {\n        return y.map(function (yItem, idx) {\n            return {\n                x: isArray(x) ? x[idx] : x,\n                y: yItem,\n            };\n        });\n    }\n    // 起始点从 y0 开始\n    return [\n        { x: x, y: y0 },\n        { x: x, y: y },\n    ];\n}\nregisterShape('interval', 'line', {\n    getPoints: function (shapePoint) {\n        return getLinePoints(shapePoint);\n    },\n    draw: function (cfg, container) {\n        var style = getStyle(cfg, true, false, 'lineWidth');\n        var path = this.parsePath(getRectPath(cfg.points, false));\n        var shape = container.addShape('path', {\n            attrs: __assign(__assign({}, style), { path: path }),\n            name: 'interval',\n        });\n        return shape;\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color;\n        return {\n            symbol: function (x, y, r) {\n                return [\n                    ['M', x, y - r],\n                    ['L', x, y + r],\n                ];\n            },\n            style: {\n                r: 5,\n                stroke: color,\n            },\n        };\n    },\n});\n//# sourceMappingURL=line.js.map","import { __assign } from \"tslib\";\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n/** 金字塔图，尖底漏斗图 */\nregisterShape('interval', 'pyramid', {\n    getPoints: function (shapePoint) {\n        shapePoint.size = shapePoint.size * 2; // 漏斗图的 size 是柱状图的两倍\n        return getRectPoints(shapePoint, true);\n    },\n    draw: function (cfg, container) {\n        var style = getStyle(cfg, false, true);\n        var path = this.parsePath(getFunnelPath(cfg.points, cfg.nextPoints, true));\n        var shape = container.addShape('path', {\n            attrs: __assign(__assign({}, style), { path: path }),\n            name: 'interval',\n        });\n        return shape;\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color;\n        return {\n            symbol: 'square',\n            style: {\n                r: 4,\n                fill: color,\n            },\n        };\n    },\n});\n//# sourceMappingURL=pyramid.js.map","import { __assign } from \"tslib\";\nimport { isArray } from '@antv/util';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n// 根据数据点生成 tick shape 的 6 个关键点\nfunction getTickPoints(pointInfo) {\n    var x = pointInfo.x, y = pointInfo.y, y0 = pointInfo.y0, size = pointInfo.size;\n    var yMin;\n    var yMax;\n    if (isArray(y)) {\n        yMin = y[0], yMax = y[1];\n    }\n    else {\n        yMin = y0;\n        yMax = y;\n    }\n    var xMax = x + size / 2;\n    var xMin = x - size / 2;\n    // tick 关键点顺序\n    // 4 - 1 - 5\n    //     |\n    // 2 - 0 - 3\n    return [\n        { x: x, y: yMin },\n        { x: x, y: yMax },\n        { x: xMin, y: yMin },\n        { x: xMax, y: yMin },\n        { x: xMin, y: yMax },\n        { x: xMax, y: yMax },\n    ];\n}\n// 根据 tick 关键点绘制 path\nfunction getTickPath(points) {\n    return [\n        ['M', points[0].x, points[0].y],\n        ['L', points[1].x, points[1].y],\n        ['M', points[2].x, points[2].y],\n        ['L', points[3].x, points[3].y],\n        ['M', points[4].x, points[4].y],\n        ['L', points[5].x, points[5].y],\n    ];\n}\n/** I 形状柱状图，常用于 error bar chart */\nregisterShape('interval', 'tick', {\n    getPoints: function (shapePoint) {\n        return getTickPoints(shapePoint);\n    },\n    draw: function (cfg, container) {\n        var style = getStyle(cfg, true, false);\n        var path = this.parsePath(getTickPath(cfg.points));\n        var shape = container.addShape('path', {\n            attrs: __assign(__assign({}, style), { path: path }),\n            name: 'interval',\n        });\n        return shape;\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color;\n        return {\n            symbol: function (x, y, r) {\n                return [\n                    ['M', x - r / 2, y - r],\n                    ['L', x + r / 2, y - r],\n                    ['M', x, y - r],\n                    ['L', x, y + r],\n                    ['M', x - r / 2, y + r],\n                    ['L', x + r / 2, y + r],\n                ];\n            },\n            style: {\n                r: 5,\n                stroke: color,\n            },\n        };\n    },\n});\n//# sourceMappingURL=tick.js.map","import { __assign } from \"tslib\";\nimport { each } from '@antv/util';\nimport { registerShape } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLineMarker } from './util';\nvar interpolateCallback = function (point, nextPoint, shapeType) {\n    var x = point.x;\n    var y = point.y;\n    var nextX = nextPoint.x;\n    var nextY = nextPoint.y;\n    var result;\n    switch (shapeType) {\n        case 'hv':\n            result = [{ x: nextX, y: y }];\n            break;\n        case 'vh':\n            result = [{ x: x, y: nextY }];\n            break;\n        case 'hvh':\n            var middleX = (nextX + x) / 2;\n            result = [\n                { x: middleX, y: y },\n                { x: middleX, y: nextY },\n            ];\n            break;\n        case 'vhv':\n            var middleY = (y + nextY) / 2;\n            result = [\n                { x: x, y: middleY },\n                { x: nextX, y: middleY },\n            ];\n            break;\n        default:\n            break;\n    }\n    return result;\n};\nfunction getInterpolatePoints(points, shapeType) {\n    var result = [];\n    each(points, function (point, index) {\n        var nextPoint = points[index + 1];\n        result.push(point);\n        if (nextPoint) {\n            var interpolatePoint = interpolateCallback(point, nextPoint, shapeType);\n            result = result.concat(interpolatePoint);\n        }\n    });\n    return result;\n}\n// 插值的图形path，不考虑null\nfunction getInterpolatePath(points) {\n    return points.map(function (point, index) {\n        return index === 0 ? ['M', point.x, point.y] : ['L', point.x, point.y];\n    });\n}\n// 插值的图形\nfunction getInterpolateShapeAttrs(cfg, shapeType) {\n    var points = getPathPoints(cfg.points, cfg.connectNulls, cfg.showSinglePoint); // 根据 connectNulls 值处理 points\n    var path = [];\n    each(points, function (eachLinePoints) {\n        var interpolatePoints = getInterpolatePoints(eachLinePoints, shapeType);\n        path = path.concat(getInterpolatePath(interpolatePoints));\n    });\n    return __assign(__assign({}, getStyle(cfg, true, false, 'lineWidth')), { path: path });\n}\n// step line\neach(['hv', 'vh', 'hvh', 'vhv'], function (shapeType) {\n    registerShape('line', shapeType, {\n        draw: function (cfg, container) {\n            var attrs = getInterpolateShapeAttrs(cfg, shapeType);\n            var shape = container.addShape({\n                type: 'path',\n                attrs: attrs,\n                name: 'line',\n            });\n            return shape;\n        },\n        getMarker: function (markerCfg) {\n            return getLineMarker(markerCfg, shapeType);\n        },\n    });\n});\n//# sourceMappingURL=step.js.map","import { __assign } from \"tslib\";\nimport { isArray, isNil } from '@antv/util';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nfunction parseValue(value) {\n    var array = !isArray(value) ? [value] : value;\n    var min = array[0]; // 最小值\n    var max = array[array.length - 1]; // 最大值\n    var min1 = array.length > 1 ? array[1] : min;\n    var max1 = array.length > 3 ? array[3] : max;\n    var median = array.length > 2 ? array[2] : min1;\n    return {\n        min: min,\n        max: max,\n        min1: min1,\n        max1: max1,\n        median: median,\n    };\n}\nfunction getBoxPoints(x, y, size) {\n    var halfSize = size / 2;\n    var pointsArray;\n    if (isArray(y)) {\n        // 2维\n        var _a = parseValue(y), min = _a.min, max = _a.max, median = _a.median, min1 = _a.min1, max1 = _a.max1;\n        var minX = x - halfSize;\n        var maxX = x + halfSize;\n        pointsArray = [\n            [minX, max],\n            [maxX, max],\n            [x, max],\n            [x, max1],\n            [minX, min1],\n            [minX, max1],\n            [maxX, max1],\n            [maxX, min1],\n            [x, min1],\n            [x, min],\n            [minX, min],\n            [maxX, min],\n            [minX, median],\n            [maxX, median],\n        ];\n    }\n    else {\n        // 只有一个维度\n        y = isNil(y) ? 0.5 : y;\n        var _b = parseValue(x), min = _b.min, max = _b.max, median = _b.median, min1 = _b.min1, max1 = _b.max1;\n        var minY = y - halfSize;\n        var maxY = y + halfSize;\n        pointsArray = [\n            [min, minY],\n            [min, maxY],\n            [min, y],\n            [min1, y],\n            [min1, minY],\n            [min1, maxY],\n            [max1, maxY],\n            [max1, minY],\n            [max1, y],\n            [max, y],\n            [max, minY],\n            [max, maxY],\n            [median, minY],\n            [median, maxY],\n        ];\n    }\n    return pointsArray.map(function (arr) {\n        return {\n            x: arr[0],\n            y: arr[1],\n        };\n    });\n}\nfunction getBoxPath(points) {\n    return [\n        ['M', points[0].x, points[0].y],\n        ['L', points[1].x, points[1].y],\n        ['M', points[2].x, points[2].y],\n        ['L', points[3].x, points[3].y],\n        ['M', points[4].x, points[4].y],\n        ['L', points[5].x, points[5].y],\n        ['L', points[6].x, points[6].y],\n        ['L', points[7].x, points[7].y],\n        ['L', points[4].x, points[4].y],\n        ['Z'],\n        ['M', points[8].x, points[8].y],\n        ['L', points[9].x, points[9].y],\n        ['M', points[10].x, points[10].y],\n        ['L', points[11].x, points[11].y],\n        ['M', points[12].x, points[12].y],\n        ['L', points[13].x, points[13].y],\n    ];\n}\n// box shape\nregisterShape('schema', 'box', {\n    getPoints: function (shapePoint) {\n        var x = shapePoint.x, y = shapePoint.y, size = shapePoint.size;\n        return getBoxPoints(x, y, size);\n    },\n    draw: function (cfg, container) {\n        var style = getStyle(cfg, true, false);\n        var path = this.parsePath(getBoxPath(cfg.points));\n        var shape = container.addShape('path', {\n            attrs: __assign(__assign({}, style), { path: path, name: 'schema' }),\n        });\n        return shape;\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color;\n        return {\n            symbol: function (x, y, r) {\n                var yValues = [y - 6, y - 3, y, y + 3, y + 6];\n                var points = getBoxPoints(x, yValues, r);\n                return [\n                    ['M', points[0].x + 1, points[0].y],\n                    ['L', points[1].x - 1, points[1].y],\n                    ['M', points[2].x, points[2].y],\n                    ['L', points[3].x, points[3].y],\n                    ['M', points[4].x, points[4].y],\n                    ['L', points[5].x, points[5].y],\n                    ['L', points[6].x, points[6].y],\n                    ['L', points[7].x, points[7].y],\n                    ['L', points[4].x, points[4].y],\n                    ['Z'],\n                    ['M', points[8].x, points[8].y],\n                    ['L', points[9].x, points[9].y],\n                    ['M', points[10].x + 1, points[10].y],\n                    ['L', points[11].x - 1, points[11].y],\n                    ['M', points[12].x, points[12].y],\n                    ['L', points[13].x, points[13].y],\n                ];\n            },\n            style: {\n                r: 6,\n                lineWidth: 1,\n                stroke: color,\n            },\n        };\n    },\n});\n//# sourceMappingURL=box.js.map","import { __assign } from \"tslib\";\nimport { isArray } from '@antv/util';\nimport { padEnd } from '../../../util/helper';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nfunction getCandleYValues(value) {\n    var array = !isArray(value) ? [value] : value;\n    // 从大到小排序\n    var sorted = array.sort(function (a, b) { return b - a; });\n    return padEnd(sorted, 4, sorted[sorted.length - 1]);\n}\n// get candle shape's key points\nfunction getCandlePoints(x, y, size) {\n    var yValues = getCandleYValues(y);\n    return [\n        { x: x, y: yValues[0] },\n        { x: x, y: yValues[1] },\n        { x: x - size / 2, y: yValues[2] },\n        { x: x - size / 2, y: yValues[1] },\n        { x: x + size / 2, y: yValues[1] },\n        { x: x + size / 2, y: yValues[2] },\n        { x: x, y: yValues[2] },\n        { x: x, y: yValues[3] },\n    ];\n}\nfunction getCandlePath(points) {\n    return [\n        ['M', points[0].x, points[0].y],\n        ['L', points[1].x, points[1].y],\n        ['M', points[2].x, points[2].y],\n        ['L', points[3].x, points[3].y],\n        ['L', points[4].x, points[4].y],\n        ['L', points[5].x, points[5].y],\n        ['Z'],\n        ['M', points[6].x, points[6].y],\n        ['L', points[7].x, points[7].y],\n    ];\n}\n// k line shape\nregisterShape('schema', 'candle', {\n    getPoints: function (shapePoint) {\n        var x = shapePoint.x, y = shapePoint.y, size = shapePoint.size;\n        return getCandlePoints(x, y, size);\n    },\n    draw: function (cfg, container) {\n        var style = getStyle(cfg, true, true);\n        var path = this.parsePath(getCandlePath(cfg.points));\n        var shape = container.addShape('path', {\n            attrs: __assign(__assign({}, style), { path: path, name: 'schema' }),\n        });\n        return shape;\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color;\n        return {\n            symbol: function (x, y, r) {\n                var yValues = [y + 7.5, y + 3, y - 3, y - 7.5];\n                var points = getCandlePoints(x, yValues, r);\n                return [\n                    ['M', points[0].x, points[0].y],\n                    ['L', points[1].x, points[1].y],\n                    ['M', points[2].x, points[2].y],\n                    ['L', points[3].x, points[3].y],\n                    ['L', points[4].x, points[4].y],\n                    ['L', points[5].x, points[5].y],\n                    ['Z'],\n                    ['M', points[6].x, points[6].y],\n                    ['L', points[7].x, points[7].y],\n                ];\n            },\n            style: {\n                lineWidth: 1,\n                stroke: color,\n                fill: color,\n                r: 6,\n            },\n        };\n    },\n});\n//# sourceMappingURL=candle.js.map","import { __assign } from \"tslib\";\nimport { isEmpty, clamp } from '@antv/util';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nfunction getRectAttrs(points, size) {\n    var width = Math.abs(points[0].x - points[2].x);\n    var height = Math.abs(points[0].y - points[2].y);\n    var len = Math.min(width, height);\n    if (size) {\n        len = clamp(size, 0, Math.min(width, height));\n    }\n    len = len / 2;\n    var centerX = (points[0].x + points[2].x) / 2;\n    var centerY = (points[0].y + points[2].y) / 2;\n    return {\n        x: centerX - len,\n        y: centerY - len,\n        width: len * 2,\n        height: len * 2,\n    };\n}\nregisterShape('polygon', 'square', {\n    draw: function (cfg, container) {\n        if (!isEmpty(cfg.points)) {\n            var shapeAttrs = getStyle(cfg, true, true);\n            var points = this.parsePoints(cfg.points); // 转换为画布坐标\n            return container.addShape('rect', {\n                attrs: __assign(__assign({}, shapeAttrs), getRectAttrs(points, cfg.size)),\n                name: 'polygon',\n            });\n        }\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color;\n        return {\n            symbol: 'square',\n            style: {\n                r: 4,\n                fill: color,\n            },\n        };\n    },\n});\n//# sourceMappingURL=square.js.map","import { each } from '@antv/util';\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, HOLLOW_SHAPES } from './util';\n// 添加 hollowShape\neach(HOLLOW_SHAPES, function (shapeName) {\n    registerShape('point', shapeName, {\n        draw: function (cfg, container) {\n            return drawPoints(this, cfg, container, shapeName, true);\n        },\n        getMarker: function (markerCfg) {\n            var color = markerCfg.color;\n            return {\n                symbol: MarkerSymbols[shapeName],\n                style: {\n                    r: 4.5,\n                    stroke: color,\n                    fill: null,\n                },\n            };\n        },\n    });\n});\n//# sourceMappingURL=hollow.js.map","import { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nregisterShape('point', 'image', {\n    draw: function (cfg, container) {\n        var size = getStyle(cfg, false, false, 'r').r;\n        var points = this.parsePoints(cfg.points);\n        var pointPosition = points[0];\n        if (cfg.isStack) {\n            pointPosition = points[1];\n        }\n        else if (points.length > 1) {\n            var group = container.addGroup();\n            for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n                var point = points_1[_i];\n                group.addShape('image', {\n                    attrs: {\n                        x: point.x - size / 2,\n                        y: point.y - size,\n                        width: size,\n                        height: size,\n                        img: cfg.shape[1],\n                    },\n                });\n            }\n            return group;\n        }\n        return container.addShape('image', {\n            attrs: {\n                x: pointPosition.x - size / 2,\n                y: pointPosition.y - size,\n                width: size,\n                height: size,\n                img: cfg.shape[1],\n            },\n        });\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color;\n        return {\n            symbol: 'circle',\n            style: {\n                r: 4.5,\n                fill: color,\n            },\n        };\n    },\n});\n//# sourceMappingURL=image.js.map","import { each } from '@antv/util';\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, SHAPES } from './util';\n// 所有的 SHAPES 都注册一下\neach(SHAPES, function (shapeName) {\n    registerShape('point', shapeName, {\n        draw: function (cfg, container) {\n            return drawPoints(this, cfg, container, shapeName, false);\n        },\n        getMarker: function (markerCfg) {\n            var color = markerCfg.color;\n            return {\n                symbol: MarkerSymbols[shapeName] || shapeName,\n                style: {\n                    r: 4.5,\n                    fill: color,\n                },\n            };\n        },\n    });\n});\n//# sourceMappingURL=solid.js.map","import { __extends } from \"tslib\";\nimport { get, deepMix, isArray } from '@antv/util';\nimport GeometryLabel from './base';\n/**\n * 柱状图 label\n */\nvar IntervalLabel = /** @class */ (function (_super) {\n    __extends(IntervalLabel, _super);\n    function IntervalLabel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * 获取 interval label 的方向，取决于 value 的值是正还是负\n     * @param labelCfg\n     */\n    IntervalLabel.prototype.getLabelValueDir = function (mappingData) {\n        // points 中的 x/y 和 transpose 无关\n        var dim = 'y';\n        var points = mappingData.points;\n        return points[0][dim] < points[2][dim] ? 1 : -1;\n    };\n    /**\n     * 重载：根据 interval 值的正负来调整 label 偏移量\n     * @param labelCfg\n     * @param index\n     * @param total\n     */\n    IntervalLabel.prototype.getLabelOffset = function (labelCfg, index, total) {\n        var point = _super.prototype.getLabelOffset.call(this, labelCfg, index, total);\n        var transposed = this.getCoordinate().isTransposed;\n        var dim = transposed ? 'x' : 'y';\n        var dir = this.getLabelValueDir(labelCfg.mappingData);\n        point[dim] *= dir;\n        return point;\n    };\n    /**\n     * 重载：定制 interval label 的默认主题配置\n     * @param labelCfg\n     */\n    IntervalLabel.prototype.getThemedLabelCfg = function (labelCfg) {\n        var geometry = this.geometry;\n        var defaultLabelCfg = this.getDefaultLabelCfg();\n        var theme = geometry.theme;\n        // 如果 interval label position 设置为 middle，则将主题中的 offset 覆盖为 0\n        return deepMix({}, defaultLabelCfg, theme.labels, labelCfg.position === 'middle' ? { offset: 0 } : {}, labelCfg);\n    };\n    IntervalLabel.prototype.setLabelPosition = function (labelPointCfg, mappingData, index, position) {\n        var coordinate = this.getCoordinate();\n        var transposed = coordinate.isTransposed;\n        var shapePoints = mappingData.points;\n        var point0 = coordinate.convert(shapePoints[0]);\n        var point2 = coordinate.convert(shapePoints[2]);\n        var dir = this.getLabelValueDir(mappingData);\n        var top;\n        var right;\n        var bottom;\n        var left;\n        var shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n        if (shape === 'funnel' || shape === 'pyramid') {\n            // 处理漏斗图\n            var nextPoints = get(mappingData, 'nextPoints');\n            var points = get(mappingData, 'points');\n            if (nextPoints) {\n                // 非漏斗图底部\n                var p0 = coordinate.convert(points[0]);\n                var p1 = coordinate.convert(points[1]);\n                var nextP0 = coordinate.convert(nextPoints[0]);\n                var nextP1 = coordinate.convert(nextPoints[1]);\n                // TODO: 使用包围盒的计算方法\n                if (transposed) {\n                    top = Math.min(nextP0.y, p0.y);\n                    bottom = Math.max(nextP0.y, p0.y);\n                    right = (p1.x + nextP1.x) / 2;\n                    left = (p0.x + nextP0.x) / 2;\n                }\n                else {\n                    top = Math.min((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n                    bottom = Math.max((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n                    right = nextP1.x;\n                    left = p0.x;\n                }\n            }\n            else {\n                top = Math.min(point2.y, point0.y);\n                bottom = Math.max(point2.y, point0.y);\n                right = point2.x;\n                left = point0.x;\n            }\n        }\n        else {\n            top = Math.min(point2.y, point0.y);\n            bottom = Math.max(point2.y, point0.y);\n            right = point2.x;\n            left = point0.x;\n        }\n        switch (position) {\n            case 'right':\n                labelPointCfg.x = right;\n                labelPointCfg.y = (top + bottom) / 2;\n                labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n                break;\n            case 'left':\n                labelPointCfg.x = left;\n                labelPointCfg.y = (top + bottom) / 2;\n                labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n                break;\n            case 'bottom':\n                if (transposed) {\n                    labelPointCfg.x = (right + left) / 2;\n                }\n                labelPointCfg.y = bottom;\n                labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n                labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n                break;\n            case 'middle':\n                if (transposed) {\n                    labelPointCfg.x = (right + left) / 2;\n                }\n                labelPointCfg.y = (top + bottom) / 2;\n                labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n                labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', 'middle');\n                break;\n            case 'top':\n                if (transposed) {\n                    labelPointCfg.x = (right + left) / 2;\n                }\n                labelPointCfg.y = top;\n                labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n                labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n                break;\n            default:\n                break;\n        }\n    };\n    return IntervalLabel;\n}(GeometryLabel));\nexport default IntervalLabel;\n//# sourceMappingURL=interval.js.map","import { __assign, __extends } from \"tslib\";\nimport { each, get, isArray, map } from '@antv/util';\nimport { getDistanceToCenter } from '../../util/coordinate';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport GeometryLabel from './base';\nvar HALF_PI = Math.PI / 2;\n/**\n * 极坐标下的图形 label\n */\nvar PolarLabel = /** @class */ (function (_super) {\n    __extends(PolarLabel, _super);\n    function PolarLabel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @override\n     * 获取 labelItems, 增加切片 percent\n     * @param mapppingArray\n     */\n    PolarLabel.prototype.getLabelItems = function (mapppingArray) {\n        var items = _super.prototype.getLabelItems.call(this, mapppingArray);\n        var yScale = this.geometry.getYScale();\n        return map(items, function (item) {\n            if (item) {\n                var percent = null;\n                if (yScale) {\n                    percent = yScale.scale(get(item.data, yScale.field));\n                }\n                return __assign(__assign({}, item), { percent: percent });\n            }\n            return item;\n        });\n    };\n    /**\n     * @override\n     * 获取文本的对齐方式\n     * @param point\n     */\n    PolarLabel.prototype.getLabelAlign = function (point) {\n        var coordinate = this.getCoordinate();\n        var align;\n        if (point.labelEmit) {\n            align = point.angle <= Math.PI / 2 && point.angle >= -Math.PI / 2 ? 'left' : 'right';\n        }\n        else if (!coordinate.isTransposed) {\n            align = 'center';\n        }\n        else {\n            var center = coordinate.getCenter();\n            var offset = this.getDefaultOffset(point.offset);\n            if (Math.abs(point.x - center.x) < 1) {\n                align = 'center';\n            }\n            else if (point.angle > Math.PI || point.angle <= 0) {\n                align = offset > 0 ? 'left' : 'right';\n            }\n            else {\n                align = offset > 0 ? 'right' : 'left';\n            }\n        }\n        return align;\n    };\n    /**\n     * @override\n     * 获取 label 的位置\n     * @param labelCfg\n     * @param mappingData\n     * @param index\n     */\n    PolarLabel.prototype.getLabelPoint = function (labelCfg, mappingData, index) {\n        var factor = 1;\n        var arcPoint;\n        var content = labelCfg.content[index];\n        if (this.isToMiddle(mappingData)) {\n            arcPoint = this.getMiddlePoint(mappingData.points);\n        }\n        else {\n            if (labelCfg.content.length === 1 && index === 0) {\n                index = 1;\n            }\n            else if (index === 0) {\n                factor = -1;\n            }\n            arcPoint = this.getArcPoint(mappingData, index);\n        }\n        var offset = this.getDefaultOffset(labelCfg.offset) * factor;\n        var middleAngle = this.getPointAngle(arcPoint);\n        var isLabelEmit = labelCfg.labelEmit;\n        var labelPositionCfg = this.getCirclePoint(middleAngle, offset, arcPoint, isLabelEmit);\n        if (labelPositionCfg.r === 0) {\n            // 如果文本位置位于圆心，则不展示\n            labelPositionCfg.content = '';\n        }\n        else {\n            labelPositionCfg.content = content;\n            labelPositionCfg.angle = middleAngle;\n            labelPositionCfg.color = mappingData.color;\n        }\n        labelPositionCfg.rotate = labelCfg.autoRotate\n            ? this.getLabelRotate(middleAngle, offset, isLabelEmit)\n            : labelCfg.rotate;\n        labelPositionCfg.start = {\n            x: arcPoint.x,\n            y: arcPoint.y,\n        };\n        return labelPositionCfg;\n    };\n    /**\n     * 获取圆弧的位置\n     */\n    PolarLabel.prototype.getArcPoint = function (mappingData, index) {\n        if (index === void 0) { index = 0; }\n        if (!isArray(mappingData.x) && !isArray(mappingData.y)) {\n            return {\n                x: mappingData.x,\n                y: mappingData.y,\n            };\n        }\n        return {\n            x: isArray(mappingData.x) ? mappingData.x[index] : mappingData.x,\n            y: isArray(mappingData.y) ? mappingData.y[index] : mappingData.y,\n        };\n    };\n    /**\n     * 计算坐标线点在极坐标系下角度\n     * @param point\n     */\n    PolarLabel.prototype.getPointAngle = function (point) {\n        return getAngleByPoint(this.getCoordinate(), point);\n    };\n    /**\n     * 获取坐标点与圆心形成的圆的位置信息\n     * @param angle\n     * @param offset\n     * @param point\n     * @param isLabelEmit\n     */\n    PolarLabel.prototype.getCirclePoint = function (angle, offset, point, isLabelEmit) {\n        var coordinate = this.getCoordinate();\n        var center = coordinate.getCenter();\n        var r = getDistanceToCenter(coordinate, point);\n        if (r === 0) {\n            return __assign(__assign({}, center), { r: r });\n        }\n        var labelAngle = angle;\n        if (coordinate.isTransposed && r > offset && !isLabelEmit) {\n            var appendAngle = Math.asin(offset / (2 * r));\n            labelAngle = angle + appendAngle * 2;\n        }\n        else {\n            r = r + offset;\n        }\n        return {\n            x: center.x + r * Math.cos(labelAngle),\n            y: center.y + r * Math.sin(labelAngle),\n            r: r,\n        };\n    };\n    /**\n     * 获取 label 的旋转角度\n     * @param angle\n     * @param offset\n     * @param isLabelEmit\n     */\n    PolarLabel.prototype.getLabelRotate = function (angle, offset, isLabelEmit) {\n        var rotate = angle + HALF_PI;\n        if (isLabelEmit) {\n            rotate -= HALF_PI;\n        }\n        if (rotate) {\n            if (rotate > HALF_PI) {\n                rotate = rotate - Math.PI;\n            }\n            else if (rotate < -HALF_PI) {\n                rotate = rotate + Math.PI;\n            }\n        }\n        return rotate;\n    };\n    // 获取中心的位置\n    PolarLabel.prototype.getMiddlePoint = function (points) {\n        var coordinate = this.getCoordinate();\n        var count = points.length;\n        var middlePoint = {\n            x: 0,\n            y: 0,\n        };\n        each(points, function (point) {\n            middlePoint.x += point.x;\n            middlePoint.y += point.y;\n        });\n        middlePoint.x /= count;\n        middlePoint.y /= count;\n        middlePoint = coordinate.convert(middlePoint);\n        return middlePoint;\n    };\n    // 是否居中\n    PolarLabel.prototype.isToMiddle = function (mappingData) {\n        return mappingData.x.length > 2;\n    };\n    return PolarLabel;\n}(GeometryLabel));\nexport default PolarLabel;\n//# sourceMappingURL=polar.js.map","import { __assign, __extends } from \"tslib\";\nimport { get, isArray } from '@antv/util';\nimport { getAngleByPoint } from '../../../util/coordinate';\nimport { polarToCartesian } from '../../../util/graphics';\nimport PolarLabel from '../polar';\n/**\n * 饼图 label\n */\nvar PieLabel = /** @class */ (function (_super) {\n    __extends(PieLabel, _super);\n    function PieLabel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.defaultLayout = 'distribute';\n        return _this;\n    }\n    PieLabel.prototype.getDefaultLabelCfg = function () {\n        return get(this.geometry.theme, 'pieLabels', {});\n    };\n    PieLabel.prototype.getDefaultOffset = function (offset) {\n        return offset || 0;\n    };\n    PieLabel.prototype.getLabelRotate = function (angle, offset, isLabelLimit) {\n        var rotate;\n        if (offset < 0) {\n            rotate = angle;\n            if (rotate > Math.PI / 2) {\n                rotate = rotate - Math.PI;\n            }\n            if (rotate < -Math.PI / 2) {\n                rotate = rotate + Math.PI;\n            }\n        }\n        return rotate;\n    };\n    PieLabel.prototype.getLabelAlign = function (point) {\n        var coordinate = this.getCoordinate();\n        var center = coordinate.getCenter();\n        var align;\n        if (point.angle <= Math.PI / 2 && point.x >= center.x) {\n            align = 'left';\n        }\n        else {\n            align = 'right';\n        }\n        var offset = this.getDefaultOffset(point.offset);\n        if (offset <= 0) {\n            if (align === 'right') {\n                align = 'left';\n            }\n            else {\n                align = 'right';\n            }\n        }\n        return align;\n    };\n    PieLabel.prototype.getArcPoint = function (point) {\n        return point;\n    };\n    PieLabel.prototype.getPointAngle = function (point) {\n        var coordinate = this.getCoordinate();\n        var startPoint = {\n            x: isArray(point.x) ? point.x[0] : point.x,\n            y: point.y[0],\n        };\n        var endPoint = {\n            x: isArray(point.x) ? point.x[1] : point.x,\n            y: point.y[1],\n        };\n        var angle;\n        var startAngle = getAngleByPoint(coordinate, startPoint);\n        if (point.points && point.points[0].y === point.points[1].y) {\n            angle = startAngle;\n        }\n        else {\n            var endAngle = getAngleByPoint(coordinate, endPoint);\n            if (startAngle >= endAngle) {\n                // 100% pie slice\n                endAngle = endAngle + Math.PI * 2;\n            }\n            angle = startAngle + (endAngle - startAngle) / 2;\n        }\n        return angle;\n    };\n    PieLabel.prototype.getCirclePoint = function (angle, offset, p) {\n        var coordinate = this.getCoordinate();\n        var center = coordinate.getCenter();\n        var r = coordinate.getRadius() + offset;\n        return __assign(__assign({}, polarToCartesian(center.x, center.y, r, angle)), { angle: angle,\n            r: r });\n    };\n    return PieLabel;\n}(PolarLabel));\nexport default PieLabel;\n//# sourceMappingURL=index.js.map","/**\n * 碰撞检测算法\n */\nexport function antiCollision(items, labelHeight, plotRange) {\n    var labels = items.filter(function (item) { return !item.invisible; });\n    // sorted by y, mutable\n    labels.sort(function (a, b) { return a.y - b.y; });\n    // adjust y position of labels to avoid overlapping\n    var overlapping = true;\n    var startY = plotRange.minY;\n    var endY = plotRange.maxY;\n    var totalHeight = Math.abs(startY - endY);\n    var i;\n    var maxY = 0;\n    var minY = Number.MIN_VALUE;\n    var boxes = labels.map(function (label) {\n        if (label.y > maxY) {\n            maxY = label.y;\n        }\n        if (label.y < minY) {\n            minY = label.y;\n        }\n        return {\n            content: label.content,\n            size: labelHeight,\n            targets: [label.y - startY],\n            pos: null,\n        };\n    });\n    if (maxY - startY > totalHeight) {\n        totalHeight = maxY - startY;\n    }\n    while (overlapping) {\n        /* eslint no-loop-func: 0 */\n        boxes.forEach(function (box) {\n            var target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n            box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n        });\n        // detect overlapping and join boxes\n        overlapping = false;\n        i = boxes.length;\n        while (i--) {\n            if (i > 0) {\n                var previousBox = boxes[i - 1];\n                var box = boxes[i];\n                if (previousBox.pos + previousBox.size > box.pos) {\n                    // overlapping\n                    previousBox.size += box.size;\n                    previousBox.targets = previousBox.targets.concat(box.targets);\n                    // overflow, shift up\n                    if (previousBox.pos + previousBox.size > totalHeight) {\n                        previousBox.pos = totalHeight - previousBox.size;\n                    }\n                    boxes.splice(i, 1); // removing box\n                    overlapping = true;\n                }\n            }\n        }\n    }\n    i = 0;\n    // step 4: normalize y and adjust x\n    boxes.forEach(function (b) {\n        var posInCompositeBox = startY + labelHeight / 2; // middle of the label\n        b.targets.forEach(function () {\n            labels[i].y = b.pos + posInCompositeBox;\n            posInCompositeBox += labelHeight;\n            i++;\n        });\n    });\n}\n//# sourceMappingURL=util.js.map","import { each } from '@antv/util';\nvar MAX_TIMES = 100;\n/**\n * @ignore\n * Greedy 贪婪算法\n */\nvar Greedy = /** @class */ (function () {\n    function Greedy(cfg) {\n        if (cfg === void 0) { cfg = {}; }\n        this.bitmap = {};\n        var _a = cfg.xGap, xGap = _a === void 0 ? 1 : _a, _b = cfg.yGap, yGap = _b === void 0 ? 8 : _b;\n        this.xGap = xGap;\n        this.yGap = yGap;\n    }\n    Greedy.prototype.hasGap = function (bbox) {\n        var hasGap = true;\n        var bitmap = this.bitmap;\n        var minX = Math.round(bbox.minX);\n        var maxX = Math.round(bbox.maxX);\n        var minY = Math.round(bbox.minY);\n        var maxY = Math.round(bbox.maxY);\n        for (var i = minX; i <= maxX; i += 1) {\n            if (!bitmap[i]) {\n                bitmap[i] = {};\n                continue;\n            }\n            if (i === minX || i === maxX) {\n                for (var j = minY; j <= maxY; j++) {\n                    if (bitmap[i][j]) {\n                        hasGap = false;\n                        break;\n                    }\n                }\n            }\n            else {\n                if (bitmap[i][minY] || bitmap[i][maxY]) {\n                    hasGap = false;\n                    break;\n                }\n            }\n        }\n        return hasGap;\n    };\n    Greedy.prototype.fillGap = function (bbox) {\n        var bitmap = this.bitmap;\n        var minX = Math.round(bbox.minX);\n        var maxX = Math.round(bbox.maxX);\n        var minY = Math.round(bbox.minY);\n        var maxY = Math.round(bbox.maxY);\n        // filling grid\n        for (var i = minX; i <= maxX; i += 1) {\n            if (!bitmap[i]) {\n                bitmap[i] = {};\n            }\n        }\n        for (var i = minX; i <= maxX; i += this.xGap) {\n            for (var j = minY; j <= maxY; j += this.yGap) {\n                bitmap[i][j] = true;\n            }\n            bitmap[i][maxY] = true;\n        }\n        // filling y edges\n        if (this.yGap !== 1) {\n            for (var i = minY; i <= maxY; i += 1) {\n                bitmap[minX][i] = true;\n                bitmap[maxX][i] = true;\n            }\n        }\n        // filling x edges\n        if (this.xGap !== 1) {\n            for (var i = minX; i <= maxX; i += 1) {\n                bitmap[i][minY] = true;\n                bitmap[i][maxY] = true;\n            }\n        }\n    };\n    Greedy.prototype.destroy = function () {\n        this.bitmap = {};\n    };\n    return Greedy;\n}());\nfunction spiralFill(label, greedy, maxTimes) {\n    if (maxTimes === void 0) { maxTimes = MAX_TIMES; }\n    var dt = -1;\n    var _a = label.attr(), x = _a.x, y = _a.y;\n    var bbox = label.getCanvasBBox();\n    var maxDelta = Math.sqrt(bbox.width * bbox.width + bbox.height * bbox.height);\n    var dxdy;\n    var t = -dt;\n    var dx = 0;\n    var dy = 0;\n    var f = function (param) {\n        var nt = param * 0.1;\n        return [nt * Math.cos(nt), nt * Math.sin(nt)];\n    };\n    if (greedy.hasGap(bbox)) {\n        greedy.fillGap(bbox);\n        return true;\n    }\n    var canFill = false;\n    var times = 0;\n    var accessedCache = {};\n    while (Math.min(Math.abs(dx), Math.abs(dy)) < maxDelta && times < maxTimes) {\n        dxdy = f((t += dt));\n        dx = ~~dxdy[0];\n        dy = ~~dxdy[1];\n        if ((!dx && !dy) || accessedCache[dx + \"-\" + dy]) {\n            continue;\n        }\n        label.attr({ x: x + dx, y: y + dy });\n        if (dx + dy < 0) {\n            label.attr('textAlign', 'right');\n        }\n        times++;\n        if (greedy.hasGap(label.getCanvasBBox())) {\n            greedy.fillGap(label.getCanvasBBox());\n            canFill = true;\n            accessedCache[dx + \"-\" + dy] = true;\n            break;\n        }\n    }\n    return canFill;\n}\n/*\n *  根据如下规则尝试放置label\n *                5\n *        ------------------\n *        |    1   |   0   |\n *    8   —————————4————————   7\n *        |    2   |   3   |\n *        ——————————————————\n *                 6\n */\nfunction adjustLabelPosition(label, x, y, index) {\n    var _a = label.getCanvasBBox(), width = _a.width, height = _a.height;\n    var attrs = {\n        x: x,\n        y: y,\n        textAlign: 'center',\n    };\n    switch (index) {\n        case 0:\n            attrs.y -= height + 1;\n            attrs.x += 1;\n            attrs.textAlign = 'left';\n            break;\n        case 1:\n            attrs.y -= height + 1;\n            attrs.x -= 1;\n            attrs.textAlign = 'right';\n            break;\n        case 2:\n            attrs.y += height + 1;\n            attrs.x -= 1;\n            attrs.textAlign = 'right';\n            break;\n        case 3:\n            attrs.y += height + 1;\n            attrs.x += 1;\n            attrs.textAlign = 'left';\n            break;\n        case 5:\n            attrs.y -= height * 2 + 2;\n            break;\n        case 6:\n            attrs.y += height * 2 + 2;\n            break;\n        case 7:\n            attrs.x += width + 1;\n            attrs.textAlign = 'left';\n            break;\n        case 8:\n            attrs.x -= width + 1;\n            attrs.textAlign = 'right';\n            break;\n        default:\n            break;\n    }\n    label.attr(attrs);\n    return label.getCanvasBBox();\n}\n/**\n * @ignore\n * label 防遮挡布局：在不改变 label 位置的情况下对相互重叠的 label 进行调整。\n * 不同于 'overlap' 类型的布局，该布局不会对 label 的位置进行偏移调整。\n * @param labels 参与布局调整的 label 数组集合\n */\nexport function fixedOverlap(items, labels, shapes, region) {\n    var greedy = new Greedy();\n    each(labels, function (label) {\n        var labelShape = label.find(function (shape) { return shape.get('type') === 'text'; });\n        if (!spiralFill(labelShape, greedy)) {\n            label.remove(true);\n        }\n    });\n    greedy.destroy();\n}\n/**\n * @ignore\n * label 防遮挡布局：为了防止 label 之间相互覆盖同时保证尽可能多 的 label 展示，通过尝试将 label 向**四周偏移**来剔除放不下的 label\n * @param labels 参与布局调整的 label 数组集合\n */\nexport function overlap(items, labels, shapes, region) {\n    var greedy = new Greedy();\n    each(labels, function (label) {\n        var labelShape = label.find(function (shape) { return shape.get('type') === 'text'; });\n        var _a = labelShape.attr(), x = _a.x, y = _a.y;\n        var canFill = false;\n        for (var i = 0; i <= 8; i++) {\n            var bbox = adjustLabelPosition(labelShape, x, y, i);\n            if (greedy.hasGap(bbox)) {\n                greedy.fillGap(bbox);\n                canFill = true;\n                break;\n            }\n        }\n        if (!canFill) {\n            label.remove(true);\n        }\n    });\n    greedy.destroy();\n}\n//# sourceMappingURL=overlap.js.map","import { __spreadArrays } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nvar dot = vec2.dot;\n/**\n * @private\n * 1. 获取投影轴\n */\nfunction getAxes(points /** 多边形的关键点 */) {\n    // 目前先处理 平行矩形 的场景, 其他多边形不处理\n    if (points.length > 4) {\n        return [];\n    }\n    // 获取向量\n    var vector = function (start, end) {\n        return [end.x - start.x, end.y - start.y];\n    };\n    // 由于 矩形的平行原理，所以只有 2 条投影轴: A -> B, B -> C\n    var AB = vector(points[0], points[1]);\n    var BC = vector(points[1], points[2]);\n    return [AB, BC];\n}\n/**\n * @private\n * 绕指定点顺时针旋转后的点坐标\n * 默认绕原点旋转\n */\nfunction rotateAtPoint(point, deg, origin) {\n    if (deg === void 0) { deg = 0; }\n    if (origin === void 0) { origin = { x: 0, y: 0 }; }\n    var x = point.x, y = point.y;\n    return {\n        x: (x - origin.x) * Math.cos(-deg) + (y - origin.y) * Math.sin(-deg) + origin.x,\n        y: (origin.x - x) * Math.sin(-deg) + (y - origin.y) * Math.cos(-deg) + origin.y,\n    };\n}\n/**\n * @private\n * 转化为顶点坐标数组\n *\n * @param {Object} box\n */\nfunction getRectPoints(box) {\n    var points = [\n        { x: box.x, y: box.y },\n        { x: box.x + box.width, y: box.y },\n        { x: box.x + box.width, y: box.y + box.height },\n        { x: box.x, y: box.y + box.height },\n    ];\n    var rotation = box.rotation;\n    if (rotation) {\n        return [\n            rotateAtPoint(points[0], rotation, points[0]),\n            rotateAtPoint(points[1], rotation, points[0]),\n            rotateAtPoint(points[2], rotation, points[0]),\n            rotateAtPoint(points[3], rotation, points[0]),\n        ];\n    }\n    return points;\n}\n/**\n * @private\n * 2. 获取多边形在投影轴上的投影\n *\n * 向量的点积的其中一个几何含义是：一个向量在平行于另一个向量方向上的投影的数值乘积。\n * 由于投影轴是单位向量（长度为1），投影的长度为 x1 * x2 + y1 * y2\n */\nfunction getProjection(points /** 多边形的关键点 */, axis) {\n    // 目前先处理矩形的场景\n    if (points.length > 4) {\n        return { min: 0, max: 0 };\n    }\n    var scalars = [];\n    points.forEach(function (point) {\n        scalars.push(dot([point.x, point.y], axis));\n    });\n    return { min: Math.min.apply(Math, scalars), max: Math.max.apply(Math, scalars) };\n}\nfunction isProjectionOverlap(projection1, projection2) {\n    return projection1.max > projection2.min && projection1.min < projection2.max;\n}\n/**\n * 快速判断两个无旋转矩形是否遮挡\n */\nexport function isIntersectRect(box1, box2, margin) {\n    if (margin === void 0) { margin = 0; }\n    return !(box2.x > box1.x + box1.width + margin ||\n        box2.x + box2.width < box1.x - margin ||\n        box2.y > box1.y + box1.height + margin ||\n        box2.y + box2.height < box1.y - margin);\n}\n/**\n * detect whether two shape is intersected, useful when shape is been rotated\n * 判断两个矩形是否重叠（相交和包含, 是否旋转）\n *\n * - 原理: 分离轴定律\n */\nexport function isIntersect(box1, box2) {\n    // 如果两个矩形没有旋转，使用快速判断\n    if (!box1.rotation && !box2.rotation) {\n        return isIntersectRect(box1, box2);\n    }\n    // 分别获取 4 个关键点\n    var rect1Points = getRectPoints(box1);\n    var rect2Points = getRectPoints(box2);\n    // 获取所有投影轴\n    var axes = __spreadArrays(getAxes(rect1Points), getAxes(rect2Points));\n    for (var i = 0; i < axes.length; i++) {\n        var axis = axes[i];\n        var projection1 = getProjection(rect1Points, axis);\n        var projection2 = getProjection(rect2Points, axis);\n        // 判断投影轴上的投影是否存在重叠，若检测到存在间隙则立刻退出判断，消除不必要的运算。\n        if (!isProjectionOverlap(projection1, projection2))\n            return false;\n    }\n    return true;\n}\n//# sourceMappingURL=collision-detect.js.map","import { BBox } from '../../../../util/bbox';\nimport { findLabelTextShape } from '../../util';\nfunction shouldInShapeSingle(geometry, label, shape) {\n    var coordinate = geometry.coordinate;\n    var textShape = findLabelTextShape(label);\n    var textBBox = BBox.fromObject(textShape.getCanvasBBox());\n    var shapeBBox = BBox.fromObject(shape.getBBox());\n    return coordinate.isTransposed ? shapeBBox.height >= textBBox.height : shapeBBox.width >= textBBox.width;\n}\nfunction shouldInShape(geometry, labels, shapes) {\n    var isStack = !!geometry.getAdjust('stack');\n    return (isStack ||\n        labels.every(function (label, index) {\n            var shape = shapes[index];\n            return shouldInShapeSingle(geometry, label, shape);\n        }));\n}\nfunction moveInShape(geometry, label, shape) {\n    var coordinate = geometry.coordinate;\n    var shapeBBox = BBox.fromObject(shape.getBBox());\n    var textShape = findLabelTextShape(label);\n    if (coordinate.isTransposed) {\n        // 水平方向：条形图系列\n        textShape.attr({\n            x: shapeBBox.minX + shapeBBox.width / 2,\n            textAlign: 'center',\n        });\n    }\n    else {\n        // 垂直方向：柱形图系列\n        textShape.attr({\n            y: shapeBBox.minY + shapeBBox.height / 2,\n            textBaseline: 'middle',\n        });\n    }\n}\n/**\n * 适用于 interval geometry 的数据标签位置自动调整布局方法\n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalAdjustPosition(items, labels, shapes) {\n    var _a;\n    if (shapes.length === 0) {\n        return;\n    }\n    var element = (_a = shapes[0]) === null || _a === void 0 ? void 0 : _a.get('element');\n    var geometry = element === null || element === void 0 ? void 0 : element.geometry;\n    if (!geometry) {\n        return;\n    }\n    var inShape = shouldInShape(geometry, labels, shapes);\n    if (inShape) {\n        shapes.forEach(function (shape, index) {\n            var label = labels[index];\n            moveInShape(geometry, label, shape);\n        });\n    }\n}\n//# sourceMappingURL=adjust-position.js.map","import { groupBy, keys, map } from '@antv/util';\nimport { findLabelTextShape } from '../../util';\n/**\n * 对同一组(相同 xField )的 Label 进行排序：第一个、最后一个、其他...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry, labels) {\n    var yField = geometry.getXYFields()[1];\n    var result = [];\n    var sortedLabels = labels.sort(function (left, right) { return left.get('data')[yField] - left.get('data')[yField]; });\n    if (sortedLabels.length > 0) {\n        result.push(sortedLabels.shift());\n    }\n    if (sortedLabels.length > 0) {\n        result.push(sortedLabels.pop());\n    }\n    result.push.apply(result, sortedLabels);\n    return result;\n}\nfunction hasSome(dones, current, compare) {\n    return dones.some(function (done) { return compare(done, current); });\n}\n/**\n * 计算两个矩形之间的堆叠区域面积\n */\nfunction getOverlapArea(a, b, margin) {\n    if (margin === void 0) { margin = 0; }\n    var xOverlap = Math.max(0, Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin));\n    var yOverlap = Math.max(0, Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin));\n    return xOverlap * yOverlap;\n}\n/**\n * 判断新添加的 Label 是否和已存在的发生重叠\n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones, current) {\n    return hasSome(dones, current, function (left, right) {\n        var leftText = findLabelTextShape(left);\n        var rightText = findLabelTextShape(right);\n        return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n    });\n}\n/**\n * 适用于 point geometry 的数据标签位置自动调整布局方法\n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pointAdjustPosition(items, labels, shapes, region, cfg) {\n    var _a, _b;\n    if (shapes.length === 0) {\n        return;\n    }\n    var element = (_a = shapes[0]) === null || _a === void 0 ? void 0 : _a.get('element');\n    var geometry = element === null || element === void 0 ? void 0 : element.geometry;\n    if (!geometry) {\n        return;\n    }\n    var _c = geometry.getXYFields(), xField = _c[0], yField = _c[1];\n    var groupedLabels = groupBy(labels, function (label) { return label.get('data')[xField]; });\n    var dones = [];\n    var offset = (cfg && cfg.offset) || ((_b = items[0]) === null || _b === void 0 ? void 0 : _b.offset) || 12;\n    map(keys(groupedLabels).reverse(), function (xValue) {\n        var sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n        while (sortedCollections.length) {\n            var current = sortedCollections.shift();\n            var textShape = findLabelTextShape(current);\n            if (hasSome(dones, current, function (left, right) {\n                return left.get('data')[xField] === right.get('data')[xField] &&\n                    left.get('data')[yField] === right.get('data')[yField];\n            })) {\n                // 重复位置，直接隐藏\n                textShape.set('visible', false);\n                continue;\n            }\n            var upFail = checkShapeOverlap(dones, current);\n            var downFail = false;\n            if (upFail) {\n                textShape.attr('y', textShape.attr('y') + 2 * offset);\n                downFail = checkShapeOverlap(dones, current);\n            }\n            if (downFail) {\n                textShape.set('visible', false);\n                continue;\n            }\n            dones.push(current);\n        }\n    });\n}\n//# sourceMappingURL=adjust-position.js.map","import { ext } from '@antv/matrix-util';\n/**\n * @ignore\n * 对图形元素进行矩阵变换，同时返回变换前的图形矩阵\n * @param shape 进行矩阵变换的图形\n * @param vector 矩阵变换的中心点\n * @param direct 矩阵变换的类型\n */\nexport function transformShape(shape, vector, direct) {\n    var scaledMatrix;\n    var x = vector[0], y = vector[1];\n    shape.applyToMatrix([x, y, 1]);\n    if (direct === 'x') {\n        shape.setMatrix(ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 0.01, 1],\n            ['t', x, y],\n        ]));\n        scaledMatrix = ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 100, 1],\n            ['t', x, y],\n        ]);\n    }\n    else if (direct === 'y') {\n        shape.setMatrix(ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 1, 0.01],\n            ['t', x, y],\n        ]));\n        scaledMatrix = ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 1, 100],\n            ['t', x, y],\n        ]);\n    }\n    else if (direct === 'xy') {\n        shape.setMatrix(ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 0.01, 0.01],\n            ['t', x, y],\n        ]));\n        scaledMatrix = ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 100, 100],\n            ['t', x, y],\n        ]);\n    }\n    return scaledMatrix;\n}\n/**\n * 对图形元素进行剪切动画\n * @param element 进行动画的图形元素\n * @param animateCfg 动画配置\n * @param coordinate 当前坐标系\n * @param yMinPoint y 轴的最小值对应的图形坐标点\n * @param type 剪切动画的类型\n */\nexport function doScaleAnimate(element, animateCfg, coordinate, yMinPoint, type) {\n    var start = coordinate.start, end = coordinate.end;\n    var width = coordinate.getWidth();\n    var height = coordinate.getHeight();\n    var x;\n    var y;\n    if (type === 'y') {\n        x = start.x + width / 2;\n        y = yMinPoint.y < start.y ? yMinPoint.y : start.y;\n    }\n    else if (type === 'x') {\n        x = yMinPoint.x > start.x ? yMinPoint.x : start.x;\n        y = start.y + height / 2;\n    }\n    else if (type === 'xy') {\n        if (coordinate.isPolar) {\n            x = coordinate.getCenter().x;\n            y = coordinate.getCenter().y;\n        }\n        else {\n            x = (start.x + end.x) / 2;\n            y = (start.y + end.y) / 2;\n        }\n    }\n    var endMatrix = transformShape(element, [x, y], type);\n    element.animate({\n        matrix: endMatrix,\n    }, animateCfg);\n}\n//# sourceMappingURL=util.js.map","import { __assign } from \"tslib\";\nimport getArcParams from '@antv/g-canvas/lib/util/arc-params';\nimport { isNumberEqual, isEqual } from '@antv/util';\nimport { getArcPath, getSectorPath } from '../../util/graphics';\nfunction getAngle(startPoint, arcPath) {\n    var _a;\n    var _b = getArcParams(startPoint, arcPath), startAngle = _b.startAngle, endAngle = _b.endAngle;\n    if (!isNumberEqual(startAngle, -Math.PI * 0.5) && startAngle < -Math.PI * 0.5) {\n        startAngle += Math.PI * 2;\n    }\n    if (!isNumberEqual(endAngle, -Math.PI * 0.5) && endAngle < -Math.PI * 0.5) {\n        endAngle += Math.PI * 2;\n    }\n    if (arcPath[5] === 0) {\n        // 逆时针，需要将 startAngle 和 endAngle 转置，因为 G2 极坐标系为顺时针方向\n        _a = [endAngle, startAngle], startAngle = _a[0], endAngle = _a[1];\n    }\n    if (isNumberEqual(startAngle, Math.PI * 1.5)) {\n        startAngle = Math.PI * -0.5;\n    }\n    if (isNumberEqual(endAngle, Math.PI * -0.5)) {\n        endAngle = Math.PI * 1.5;\n    }\n    return {\n        startAngle: startAngle,\n        endAngle: endAngle,\n    };\n}\nfunction getArcStartPoint(path) {\n    var startPoint;\n    if (path[0] === 'M' || path[0] === 'L') {\n        startPoint = [path[1], path[2]];\n    }\n    else if (path[0] === 'a' || path[0] === 'A') {\n        startPoint = [path[path.length - 2], path[path.length - 1]];\n    }\n    return startPoint;\n}\n/**\n * path 存在以下情况\n * 1. 饼图不为整圆的 path，命令为 M, L, A, L, Z\n * 2. 饼图为整圆的 path，命令为 M, M, A, A, M, Z\n * 3. 环图不为整圆的 path，命令为 M, A, L, A, L, Z\n * 4. 环图为整圆的 path，命令为 M, A, A, M, A, A, M, Z\n * 5. radial-line, 不为整圆时的 path, 命令为 M, A, A, Z\n * 6. radial-line, 为整圆时的 path，命令为 M, A, A, A, A, Z\n * @param path theta 坐标系下圆弧的 path 命令\n */\nfunction getArcInfo(path) {\n    var _a;\n    var startAngle;\n    var endAngle;\n    var arcPaths = path.filter(function (command) {\n        return command[0] === 'A' || command[0] === 'a';\n    });\n    var firstArcPathCommand = arcPaths[0];\n    var lastArcPathCommand = arcPaths.length > 1 ? arcPaths[1] : arcPaths[0];\n    var firstIndex = path.indexOf(firstArcPathCommand);\n    var lastIndex = path.indexOf(lastArcPathCommand);\n    var firstStartPoint = getArcStartPoint(path[firstIndex - 1]);\n    var lastStartPoint = getArcStartPoint(path[lastIndex - 1]);\n    var _b = getAngle(firstStartPoint, firstArcPathCommand), firstStartAngle = _b.startAngle, firstEndAngle = _b.endAngle;\n    var _c = getAngle(lastStartPoint, lastArcPathCommand), lastStartAngle = _c.startAngle, lastEndAngle = _c.endAngle;\n    if (isNumberEqual(firstStartAngle, lastStartAngle) && isNumberEqual(firstEndAngle, lastEndAngle)) {\n        startAngle = firstStartAngle;\n        endAngle = firstEndAngle;\n    }\n    else {\n        startAngle = Math.min(firstStartAngle, lastStartAngle);\n        endAngle = Math.max(firstEndAngle, lastEndAngle);\n    }\n    var radius = firstArcPathCommand[1];\n    var innerRadius = arcPaths[arcPaths.length - 1][1];\n    if (radius < innerRadius) {\n        _a = [innerRadius, radius], radius = _a[0], innerRadius = _a[1];\n    }\n    else if (radius === innerRadius) {\n        innerRadius = 0;\n    }\n    return {\n        startAngle: startAngle,\n        endAngle: endAngle,\n        radius: radius,\n        innerRadius: innerRadius,\n    };\n}\n/**\n * @ignore\n * 饼图更新动画\n * @param shape 文本图形\n * @param animateCfg\n * @param cfg\n */\nexport function sectorPathUpdate(shape, animateCfg, cfg) {\n    var toAttrs = cfg.toAttrs, coordinate = cfg.coordinate;\n    // @ts-ignore\n    var path = toAttrs.path;\n    var pathCommands = path.map(function (command) { return command[0]; });\n    var _a = getArcInfo(path), curStartAngle = _a.startAngle, curEndAngle = _a.endAngle, radius = _a.radius, innerRadius = _a.innerRadius;\n    var _b = getArcInfo(shape.attr('path')), preStartAngle = _b.startAngle, preEndAngle = _b.endAngle;\n    var center = coordinate.getCenter();\n    var diffStartAngle = curStartAngle - preStartAngle;\n    var diffEndAngle = curEndAngle - preEndAngle;\n    shape.animate(function (ratio) {\n        var onFrameStartAngle = preStartAngle + ratio * diffStartAngle;\n        var onFrameEndAngle = preEndAngle + ratio * diffEndAngle;\n        return __assign(__assign({}, toAttrs), { path: \n            // hack, 兼容 /examples/bar/basic/demo/radial-line.ts 动画\n            isEqual(pathCommands, ['M', 'A', 'A', 'Z'])\n                ? getArcPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle)\n                : getSectorPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle, innerRadius) });\n    }, __assign(__assign({}, animateCfg), { callback: function () {\n            // 将 path 保持原始态，否则会影响 setState() 的动画\n            shape.attr('path', path);\n        } }));\n}\n//# sourceMappingURL=sector-path-update.js.map","import { __assign } from \"tslib\";\nimport { ext } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nfunction doShapeZoom(shape, animateCfg, type) {\n    if (shape.isGroup()) {\n        each(shape.getChildren(), function (child) {\n            doShapeZoom(child, animateCfg, type);\n        });\n    }\n    else {\n        var bbox = shape.getBBox();\n        var x = (bbox.minX + bbox.maxX) / 2;\n        var y = (bbox.minY + bbox.maxY) / 2;\n        shape.applyToMatrix([x, y, 1]);\n        if (type === 'zoomIn') {\n            // 放大\n            var matrix = ext.transform(shape.getMatrix(), [\n                ['t', -x, -y],\n                ['s', 0.01, 0.01],\n                ['t', x, y],\n            ]);\n            shape.setMatrix(matrix);\n            shape.animate({\n                matrix: ext.transform(shape.getMatrix(), [\n                    ['t', -x, -y],\n                    ['s', 100, 100],\n                    ['t', x, y],\n                ]),\n            }, animateCfg);\n        }\n        else {\n            shape.animate({\n                matrix: ext.transform(shape.getMatrix(), [\n                    ['t', -x, -y],\n                    ['s', 0.01, 0.01],\n                    ['t', x, y],\n                ]),\n            }, __assign(__assign({}, animateCfg), { callback: function () {\n                    shape.remove(true);\n                } }));\n        }\n    }\n}\n/**\n * @ignore\n * 单个 shape 动画\n * shape 以自身中心点逐渐放大的进入动画\n * @param shape 参与动画的图形元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\nexport function zoomIn(shape, animateCfg, cfg) {\n    doShapeZoom(shape, animateCfg, 'zoomIn');\n}\n/**\n * @ignore\n * 单个 shape 动画\n * 消失动画，shape 以自身为中心点的逐渐缩小\n * @param shape 参与动画的图形元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\nexport function zoomOut(shape, animateCfg, cfg) {\n    doShapeZoom(shape, animateCfg, 'zoomOut');\n}\n//# sourceMappingURL=zoom.js.map","import { DIRECTION } from '../constant';\n/**\n * @ignore\n * 获取 facet title 的最佳默认配置，防止\n */\nexport function getFactTitleConfig(direction) {\n    if ([DIRECTION.TOP, DIRECTION.BOTTOM].includes(direction)) {\n        return {\n            offsetX: 0,\n            offsetY: direction === DIRECTION.TOP ? -8 : 8,\n            style: {\n                textAlign: 'center',\n                textBaseline: direction === DIRECTION.TOP ? 'bottom' : 'top',\n            },\n        };\n    }\n    if ([DIRECTION.LEFT, DIRECTION.RIGHT].includes(direction)) {\n        return {\n            offsetX: direction === DIRECTION.LEFT ? -8 : 8,\n            offsetY: 0,\n            style: {\n                textAlign: direction === DIRECTION.LEFT ? 'right' : 'left',\n                textBaseline: 'middle',\n                rotate: Math.PI / 2,\n            },\n        };\n    }\n    return {};\n}\n/**\n * @ignore\n * 根据角度，获取 ○ 上的点\n * @param center\n * @param r\n * @param angle\n */\nexport function getAnglePoint(center, r, angle) {\n    return {\n        x: center.x + r * Math.cos(angle),\n        y: center.y + r * Math.sin(angle),\n    };\n}\n//# sourceMappingURL=facet.js.map","import { __extends } from \"tslib\";\nimport { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { getAnglePoint, getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n/**\n * @ignore\n * 镜像分面\n */\nvar Circle = /** @class */ (function (_super) {\n    __extends(Circle, _super);\n    function Circle() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Circle.prototype.getDefaultCfg = function () {\n        return deepMix({}, _super.prototype.getDefaultCfg.call(this), {\n            type: 'circle',\n            showTitle: true,\n            title: _super.prototype.getDefaultTitleCfg.call(this),\n        });\n    };\n    Circle.prototype.render = function () {\n        _super.prototype.render.call(this);\n        if (this.cfg.showTitle) {\n            this.renderTitle();\n        }\n    };\n    /**\n     * 根据总数和当前索引，计算分面的 region\n     * @param count\n     * @param index\n     */\n    Circle.prototype.getRegion = function (count, index) {\n        var r = 1 / 2; // 画布半径\n        // 画布圆心\n        var center = { x: 0.5, y: 0.5 };\n        // 每隔分面间隔的弧度\n        var avgAngle = (Math.PI * 2) / count;\n        // 当前分面所在的弧度\n        var angle = (-1 * Math.PI) / 2 + avgAngle * index;\n        // TODO 没看懂\n        var facetR = r / (1 + 1 / Math.sin(avgAngle / 2));\n        // 分面的中心点\n        var middle = getAnglePoint(center, r - facetR, angle);\n        var startAngle = (Math.PI * 5) / 4; // 右上角\n        var endAngle = (Math.PI * 1) / 4; // 左下角\n        return {\n            start: getAnglePoint(middle, facetR, startAngle),\n            end: getAnglePoint(middle, facetR, endAngle),\n        };\n    };\n    Circle.prototype.afterEachView = function (view, facet) {\n        this.processAxis(view, facet);\n    };\n    Circle.prototype.beforeEachView = function (view, facet) { };\n    Circle.prototype.generateFacets = function (data) {\n        var _this = this;\n        var _a = this.cfg, fields = _a.fields, type = _a.type;\n        var field = fields[0];\n        if (!field) {\n            throw new Error('No `fields` specified!');\n        }\n        var values = this.getFieldValues(data, field);\n        var count = values.length;\n        var rst = [];\n        values.forEach(function (value, index) {\n            var conditions = [{ field: field, value: value, values: values }];\n            var facetData = filter(data, _this.getFacetDataFilter(conditions));\n            var facet = {\n                type: type,\n                data: facetData,\n                region: _this.getRegion(count, index),\n                columnValue: value,\n                columnField: field,\n                columnIndex: index,\n                columnValuesLength: count,\n                rowValue: null,\n                rowField: null,\n                rowIndex: 0,\n                rowValuesLength: 1,\n            };\n            rst.push(facet);\n        });\n        return rst;\n    };\n    Circle.prototype.getXAxisOption = function (x, axes, option, facet) {\n        // 不做任何处理\n        return option;\n    };\n    /**\n     * 设置 y 坐标轴的文本、title 是否显示\n     * @param y\n     * @param axes\n     * @param option\n     * @param facet\n     */\n    Circle.prototype.getYAxisOption = function (y, axes, option, facet) {\n        // 不做任何处理\n        return option;\n    };\n    /**\n     * facet title\n     */\n    Circle.prototype.renderTitle = function () {\n        var _this = this;\n        each(this.facets, function (facet) {\n            var columnValue = facet.columnValue, view = facet.view;\n            var formatter = get(_this.cfg.title, 'formatter');\n            var config = deepMix({\n                position: ['50%', '0%'],\n                content: formatter ? formatter(columnValue) : columnValue,\n            }, getFactTitleConfig(DIRECTION.TOP), _this.cfg.title);\n            view.annotation().text(config);\n        });\n    };\n    return Circle;\n}(Facet));\nexport default Circle;\n//# sourceMappingURL=circle.js.map","import { __assign, __extends } from \"tslib\";\nimport { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n/**\n * @ignore\n * 镜像分面\n */\nvar List = /** @class */ (function (_super) {\n    __extends(List, _super);\n    function List() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    List.prototype.getDefaultCfg = function () {\n        return deepMix({}, _super.prototype.getDefaultCfg.call(this), {\n            type: 'list',\n            cols: null,\n            showTitle: true,\n            title: _super.prototype.getDefaultTitleCfg.call(this),\n        });\n    };\n    List.prototype.render = function () {\n        _super.prototype.render.call(this);\n        if (this.cfg.showTitle) {\n            this.renderTitle();\n        }\n    };\n    List.prototype.afterEachView = function (view, facet) {\n        this.processAxis(view, facet);\n    };\n    List.prototype.beforeEachView = function (view, facet) { };\n    List.prototype.generateFacets = function (data) {\n        var _this = this;\n        var fields = this.cfg.fields;\n        var cols = this.cfg.cols;\n        var columnField = fields[0];\n        if (!columnField) {\n            throw new Error('No `fields` specified!');\n        }\n        var colValues = this.getFieldValues(data, columnField);\n        var count = colValues.length;\n        cols = cols || count; // 每行有几列数据\n        // 总共有几行\n        var rows = this.getPageCount(count, cols);\n        var rst = [];\n        colValues.forEach(function (val, index) {\n            // 当前 index 在那个行列\n            var _a = _this.getRowCol(index, cols), row = _a.row, col = _a.col;\n            var conditions = [{ field: columnField, value: val, values: colValues }];\n            var facetData = filter(data, _this.getFacetDataFilter(conditions));\n            var facet = {\n                type: _this.cfg.type,\n                data: facetData,\n                region: _this.getRegion(rows, cols, col, row),\n                columnValue: val,\n                rowValue: val,\n                columnField: columnField,\n                rowField: null,\n                columnIndex: col,\n                rowIndex: row,\n                columnValuesLength: cols,\n                rowValuesLength: rows,\n                total: count,\n            };\n            rst.push(facet);\n        });\n        return rst;\n    };\n    /**\n     * 设置 x 坐标轴的文本、title 是否显示\n     * @param x\n     * @param axes\n     * @param option\n     * @param facet\n     */\n    List.prototype.getXAxisOption = function (x, axes, option, facet) {\n        // 当是最后一行或者下面没有 view 时文本不显示\n        if (facet.rowIndex !== facet.rowValuesLength - 1 &&\n            facet.columnValuesLength * facet.rowIndex + facet.columnIndex + 1 + facet.columnValuesLength <= facet.total) {\n            return __assign(__assign({}, option), { label: null, title: null });\n        }\n        return option;\n    };\n    /**\n     * 设置 y 坐标轴的文本、title 是否显示\n     * @param y\n     * @param axes\n     * @param option\n     * @param facet\n     */\n    List.prototype.getYAxisOption = function (y, axes, option, facet) {\n        if (facet.columnIndex !== 0) {\n            return __assign(__assign({}, option), { title: null, label: null });\n        }\n        return option;\n    };\n    /**\n     * facet title\n     */\n    List.prototype.renderTitle = function () {\n        var _this = this;\n        each(this.facets, function (facet) {\n            var columnValue = facet.columnValue, view = facet.view;\n            var formatter = get(_this.cfg.title, 'formatter');\n            var config = deepMix({\n                position: ['50%', '0%'],\n                content: formatter ? formatter(columnValue) : columnValue,\n            }, getFactTitleConfig(DIRECTION.TOP), _this.cfg.title);\n            view.annotation().text(config);\n        });\n    };\n    /**\n     * 计算分页数\n     * @param total\n     * @param pageSize\n     */\n    List.prototype.getPageCount = function (total, pageSize) {\n        return Math.floor((total + pageSize - 1) / pageSize);\n    };\n    /**\n     * 索引值在哪一页\n     * @param index\n     * @param pageSize\n     */\n    List.prototype.getRowCol = function (index, pageSize) {\n        var row = Math.floor(index / pageSize);\n        var col = index % pageSize;\n        return { row: row, col: col };\n    };\n    return List;\n}(Facet));\nexport default List;\n//# sourceMappingURL=list.js.map","import { __assign, __extends } from \"tslib\";\nimport { deepMix, each, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n/**\n * @ignore\n * 镜像分面\n */\nvar Matrix = /** @class */ (function (_super) {\n    __extends(Matrix, _super);\n    function Matrix() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Matrix.prototype.getDefaultCfg = function () {\n        return deepMix({}, _super.prototype.getDefaultCfg.call(this), {\n            type: 'matrix',\n            showTitle: false,\n            columnTitle: __assign({}, _super.prototype.getDefaultTitleCfg.call(this)),\n            rowTitle: __assign({}, _super.prototype.getDefaultTitleCfg.call(this)),\n        });\n    };\n    Matrix.prototype.render = function () {\n        _super.prototype.render.call(this);\n        if (this.cfg.showTitle) {\n            this.renderTitle();\n        }\n    };\n    Matrix.prototype.afterEachView = function (view, facet) {\n        this.processAxis(view, facet);\n    };\n    Matrix.prototype.beforeEachView = function (view, facet) { };\n    Matrix.prototype.generateFacets = function (data) {\n        var _a = this.cfg, fields = _a.fields, type = _a.type;\n        // 矩阵中行列相等，等于指定的字段个数\n        var rowValuesLength = fields.length;\n        var columnValuesLength = rowValuesLength;\n        var rst = [];\n        for (var i = 0; i < columnValuesLength; i++) {\n            var columnField = fields[i];\n            for (var j = 0; j < rowValuesLength; j++) {\n                var rowField = fields[j];\n                var facet = {\n                    type: type,\n                    data: data,\n                    region: this.getRegion(rowValuesLength, columnValuesLength, i, j),\n                    columnValue: columnField,\n                    rowValue: rowField,\n                    columnField: columnField,\n                    rowField: rowField,\n                    columnIndex: i,\n                    rowIndex: j,\n                    columnValuesLength: columnValuesLength,\n                    rowValuesLength: rowValuesLength,\n                };\n                rst.push(facet);\n            }\n        }\n        return rst;\n    };\n    /**\n     * 设置 x 坐标轴的文本、title 是否显示\n     * @param x\n     * @param axes\n     * @param option\n     * @param facet\n     */\n    Matrix.prototype.getXAxisOption = function (x, axes, option, facet) {\n        // 最后一行显示\n        if (facet.rowIndex !== facet.rowValuesLength - 1) {\n            return __assign(__assign({}, option), { label: null, title: null });\n        }\n        return option;\n    };\n    /**\n     * 设置 y 坐标轴的文本、title 是否显示\n     * @param y\n     * @param axes\n     * @param option\n     * @param facet\n     */\n    Matrix.prototype.getYAxisOption = function (y, axes, option, facet) {\n        // 第一列显示\n        if (facet.columnIndex !== 0) {\n            return __assign(__assign({}, option), { title: null, label: null });\n        }\n        return option;\n    };\n    /**\n     * facet title\n     */\n    Matrix.prototype.renderTitle = function () {\n        var _this = this;\n        each(this.facets, function (facet, facetIndex) {\n            var columnIndex = facet.columnIndex, rowIndex = facet.rowIndex, columnValuesLength = facet.columnValuesLength, rowValuesLength = facet.rowValuesLength, columnValue = facet.columnValue, rowValue = facet.rowValue, view = facet.view;\n            // top\n            if (rowIndex === 0) {\n                var formatter = get(_this.cfg.columnTitle, 'formatter');\n                var config = deepMix({\n                    position: ['50%', '0%'],\n                    content: formatter ? formatter(columnValue) : columnValue,\n                }, getFactTitleConfig(DIRECTION.TOP), _this.cfg.columnTitle);\n                view.annotation().text(config);\n            }\n            // right\n            if (columnIndex === columnValuesLength - 1) {\n                var formatter = get(_this.cfg.rowTitle, 'formatter');\n                var config = deepMix({\n                    position: ['100%', '50%'],\n                    content: formatter ? formatter(rowValue) : rowValue,\n                }, getFactTitleConfig(DIRECTION.RIGHT), _this.cfg.rowTitle);\n                view.annotation().text(config);\n            }\n        });\n    };\n    return Matrix;\n}(Facet));\nexport default Matrix;\n//# sourceMappingURL=matrix.js.map","import { __assign, __extends } from \"tslib\";\nimport { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n/**\n * @ignore\n * 镜像分面\n */\nvar Mirror = /** @class */ (function (_super) {\n    __extends(Mirror, _super);\n    function Mirror() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Mirror.prototype.getDefaultCfg = function () {\n        return deepMix({}, _super.prototype.getDefaultCfg.call(this), {\n            type: 'mirror',\n            showTitle: true,\n            title: _super.prototype.getDefaultTitleCfg.call(this),\n            transpose: false,\n        });\n    };\n    Mirror.prototype.render = function () {\n        _super.prototype.render.call(this);\n        if (this.cfg.showTitle) {\n            this.renderTitle();\n        }\n    };\n    Mirror.prototype.beforeEachView = function (view, facet) {\n        // 做一下坐标系转化\n        if (this.cfg.transpose) {\n            if (facet.columnIndex % 2 === 0) {\n                view.coordinate().transpose().reflect('x');\n            }\n            else {\n                view.coordinate().transpose();\n            }\n        }\n        else {\n            if (facet.rowIndex % 2 !== 0) {\n                view.coordinate().reflect('y');\n            }\n        }\n    };\n    Mirror.prototype.afterEachView = function (view, facet) {\n        this.processAxis(view, facet);\n    };\n    Mirror.prototype.generateFacets = function (data) {\n        var _this = this;\n        var f = this.cfg.fields[0];\n        var rst = [];\n        var columnValuesLength = 1;\n        var rowValuesLength = 1;\n        var columnValues = [''];\n        var rowValues = [''];\n        var columnField;\n        var rowField;\n        if (this.cfg.transpose) {\n            columnField = f;\n            columnValues = this.getFieldValues(data, columnField).slice(0, 2); // 镜像最多两个\n            columnValuesLength = columnValues.length;\n        }\n        else {\n            rowField = f;\n            rowValues = this.getFieldValues(data, rowField).slice(0, 2); // 镜像最多两个\n            rowValuesLength = rowValues.length;\n        }\n        // 获取每个维度对应的数据配置片段\n        columnValues.forEach(function (xVal, xIndex) {\n            rowValues.forEach(function (yVal, yIndex) {\n                var conditions = [\n                    { field: columnField, value: xVal, values: columnValues },\n                    { field: rowField, value: yVal, values: rowValues },\n                ];\n                var facetData = filter(data, _this.getFacetDataFilter(conditions));\n                var facet = {\n                    type: _this.cfg.type,\n                    data: facetData,\n                    region: _this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n                    columnValue: xVal,\n                    rowValue: yVal,\n                    columnField: columnField,\n                    rowField: rowField,\n                    columnIndex: xIndex,\n                    rowIndex: yIndex,\n                    columnValuesLength: columnValuesLength,\n                    rowValuesLength: rowValuesLength,\n                };\n                rst.push(facet);\n            });\n        });\n        return rst;\n    };\n    /**\n     * 设置 x 坐标轴的文本、title 是否显示\n     * @param x\n     * @param axes\n     * @param option\n     * @param facet\n     */\n    Mirror.prototype.getXAxisOption = function (x, axes, option, facet) {\n        // 非最后一行\n        // 当是最后一行或者下面没有 view 时文本不显示\n        if (facet.columnIndex === 1 || facet.rowIndex === 1) {\n            return __assign(__assign({}, option), { label: null, title: null });\n        }\n        return option;\n    };\n    /**\n     * 设置 y 坐标轴的文本、title 是否显示\n     * @param y\n     * @param axes\n     * @param option\n     * @param facet\n     */\n    Mirror.prototype.getYAxisOption = function (y, axes, option, facet) {\n        // do nothing\n        return option;\n    };\n    Mirror.prototype.renderTitle = function () {\n        var _this = this;\n        each(this.facets, function (facet, facetIndex) {\n            var columnValue = facet.columnValue, rowValue = facet.rowValue, view = facet.view;\n            var formatter = get(_this.cfg.title, 'formatter');\n            if (_this.cfg.transpose) {\n                var config = deepMix({\n                    position: ['50%', '0%'],\n                    content: formatter ? formatter(columnValue) : columnValue,\n                }, getFactTitleConfig(DIRECTION.TOP), _this.cfg.title);\n                view.annotation().text(config);\n            }\n            else {\n                var config = deepMix({\n                    position: ['100%', '50%'],\n                    content: formatter ? formatter(rowValue) : rowValue,\n                }, getFactTitleConfig(DIRECTION.RIGHT), _this.cfg.title);\n                view.annotation().text(config);\n            }\n        });\n    };\n    return Mirror;\n}(Facet));\nexport default Mirror;\n//# sourceMappingURL=mirror.js.map","import { __assign, __extends } from \"tslib\";\nimport { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n/**\n * @ignore\n * 矩阵分面\n */\nvar Rect = /** @class */ (function (_super) {\n    __extends(Rect, _super);\n    function Rect() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Rect.prototype.afterEachView = function (view, facet) {\n        this.processAxis(view, facet);\n    };\n    Rect.prototype.beforeEachView = function (view, facet) {\n        // do nothing\n    };\n    Rect.prototype.getDefaultCfg = function () {\n        return deepMix({}, _super.prototype.getDefaultCfg.call(this), {\n            type: 'rect',\n            columnTitle: __assign({}, _super.prototype.getDefaultTitleCfg.call(this)),\n            rowTitle: __assign({}, _super.prototype.getDefaultTitleCfg.call(this)),\n        });\n    };\n    Rect.prototype.render = function () {\n        _super.prototype.render.call(this);\n        if (this.cfg.showTitle) {\n            this.renderTitle();\n        }\n    };\n    /**\n     * 生成矩阵分面的分面数据\n     * @param data\n     */\n    Rect.prototype.generateFacets = function (data) {\n        var _this = this;\n        var _a = this.cfg.fields, columnField = _a[0], rowField = _a[1];\n        var rst = [];\n        var columnValuesLength = 1;\n        var rowValuesLength = 1;\n        var columnValues = [''];\n        var rowValues = [''];\n        if (columnField) {\n            columnValues = this.getFieldValues(data, columnField);\n            columnValuesLength = columnValues.length;\n        }\n        if (rowField) {\n            rowValues = this.getFieldValues(data, rowField);\n            rowValuesLength = rowValues.length;\n        }\n        // 获取每个维度对应的数据配置片段\n        columnValues.forEach(function (xVal, xIndex) {\n            rowValues.forEach(function (yVal, yIndex) {\n                var conditions = [\n                    { field: columnField, value: xVal, values: columnValues },\n                    { field: rowField, value: yVal, values: rowValues },\n                ];\n                var facetData = filter(data, _this.getFacetDataFilter(conditions));\n                var facet = {\n                    type: _this.cfg.type,\n                    data: facetData,\n                    region: _this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n                    columnValue: xVal,\n                    rowValue: yVal,\n                    columnField: columnField,\n                    rowField: rowField,\n                    columnIndex: xIndex,\n                    rowIndex: yIndex,\n                    columnValuesLength: columnValuesLength,\n                    rowValuesLength: rowValuesLength,\n                };\n                rst.push(facet);\n            });\n        });\n        return rst;\n    };\n    Rect.prototype.renderTitle = function () {\n        var _this = this;\n        each(this.facets, function (facet, facetIndex) {\n            var columnIndex = facet.columnIndex, rowIndex = facet.rowIndex, columnValuesLength = facet.columnValuesLength, columnValue = facet.columnValue, rowValue = facet.rowValue, view = facet.view;\n            // top\n            if (rowIndex === 0) {\n                var formatter = get(_this.cfg.columnTitle, 'formatter');\n                var config = deepMix({\n                    position: ['50%', '0%'],\n                    content: formatter ? formatter(columnValue) : columnValue,\n                }, getFactTitleConfig(DIRECTION.TOP), _this.cfg.columnTitle);\n                view.annotation().text(config);\n            }\n            // right\n            if (columnIndex === columnValuesLength - 1) {\n                var formatter = get(_this.cfg.rowTitle, 'formatter');\n                var config = deepMix({\n                    position: ['100%', '50%'],\n                    content: formatter ? formatter(rowValue) : rowValue,\n                }, getFactTitleConfig(DIRECTION.RIGHT), _this.cfg.rowTitle);\n                view.annotation().text(config);\n            }\n        });\n    };\n    /**\n     * 设置 x 坐标轴的文本、title 是否显示\n     * @param x\n     * @param axes\n     * @param option\n     * @param facet\n     */\n    Rect.prototype.getXAxisOption = function (x, axes, option, facet) {\n        // 非最后一行\n        if (facet.rowIndex !== facet.rowValuesLength - 1) {\n            return __assign(__assign({}, option), { title: null, label: null });\n        }\n        else if (facet.columnIndex !== Math.floor((facet.columnValuesLength - 1) / 2)) {\n            // 不是中间列\n            return __assign(__assign({}, option), { title: null });\n        }\n        return option;\n    };\n    /**\n     * 设置 y 坐标轴的文本、title 是否显示\n     * @param y\n     * @param axes\n     * @param option\n     * @param facet\n     */\n    Rect.prototype.getYAxisOption = function (y, axes, option, facet) {\n        if (facet.columnIndex !== 0) {\n            return __assign(__assign({}, option), { title: null, label: null });\n        }\n        else if (facet.rowIndex !== Math.floor((facet.rowValuesLength - 1) / 2)) {\n            return __assign(__assign({}, option), { title: null });\n        }\n        return option;\n    };\n    return Rect;\n}(Facet));\nexport default Rect;\n//# sourceMappingURL=rect.js.map","import { __assign, __extends } from \"tslib\";\n/**\n * Create By Bruce Too\n * On 2020-02-10\n */\nimport { assign, deepMix, each, get } from '@antv/util';\nimport { DIRECTION, VIEW_LIFE_CIRCLE } from '../constant';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n/**\n * @ignore\n * Tree Facet\n */\nvar Tree = /** @class */ (function (_super) {\n    __extends(Tree, _super);\n    function Tree() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.afterChartRender = function () {\n            if (_this.facets && _this.cfg.line) {\n                _this.container.clear();\n                _this.drawLines(_this.facets);\n            }\n        };\n        return _this;\n    }\n    Tree.prototype.afterEachView = function (view, facet) {\n        this.processAxis(view, facet);\n    };\n    Tree.prototype.beforeEachView = function (view, facet) { };\n    Tree.prototype.init = function () {\n        _super.prototype.init.call(this);\n        this.view.on(VIEW_LIFE_CIRCLE.AFTER_RENDER, this.afterChartRender);\n    };\n    Tree.prototype.getDefaultCfg = function () {\n        return deepMix({}, _super.prototype.getDefaultCfg.call(this), {\n            type: 'tree',\n            line: {\n                style: {\n                    lineWidth: 1,\n                    stroke: '#ddd',\n                },\n                smooth: false,\n            },\n            showTitle: true,\n            title: _super.prototype.getDefaultTitleCfg.call(this),\n        });\n    };\n    Tree.prototype.generateFacets = function (data) {\n        var fields = this.cfg.fields;\n        if (!fields.length) {\n            throw new Error('Please specify for the fields for rootFacet!');\n        }\n        var rst = [];\n        var rootFacet = {\n            type: this.cfg.type,\n            data: data,\n            region: null,\n            rowValuesLength: this.getRows(),\n            columnValuesLength: 1,\n            rowIndex: 0,\n            columnIndex: 0,\n            rowField: '',\n            columnField: '',\n            rowValue: '',\n            columnValue: '',\n        };\n        rst.push(rootFacet);\n        rootFacet.children = this.getChildFacets(data, 1, rst);\n        this.setRegion(rst);\n        return rst;\n    };\n    Tree.prototype.setRegion = function (facets) {\n        var _this = this;\n        this.forceColIndex(facets);\n        facets.forEach(function (facet) {\n            // @ts-ignore 允许调整\n            facet.region = _this.getRegion(facet.rowValuesLength, facet.columnValuesLength, facet.columnIndex, facet.rowIndex);\n        });\n    };\n    Tree.prototype.getRegion = function (rows, cols, xIndex, yIndex) {\n        var xWidth = 1 / cols; // x轴方向的每个分面的偏移\n        var yWidth = 1 / rows; // y轴方向的每个分面的偏移\n        var start = {\n            x: xWidth * xIndex,\n            y: yWidth * yIndex,\n        };\n        var end = {\n            x: start.x + xWidth,\n            y: start.y + (yWidth * 2) / 3,\n        };\n        return {\n            start: start,\n            end: end,\n        };\n    };\n    Tree.prototype.forceColIndex = function (facets) {\n        var _this = this;\n        var leafs = [];\n        var index = 0;\n        facets.forEach(function (facet) {\n            if (_this.isLeaf(facet)) {\n                leafs.push(facet);\n                // @ts-ignore 允许调整\n                facet.columnIndex = index;\n                index++;\n            }\n        });\n        leafs.forEach(function (facet) {\n            // @ts-ignore\n            facet.columnValuesLength = leafs.length;\n        });\n        var maxLevel = this.cfg.fields.length;\n        for (var i = maxLevel - 1; i >= 0; i--) {\n            var levelFacets = this.getFacetsByLevel(facets, i);\n            // var yIndex = maxLevel - i;\n            for (var _i = 0, levelFacets_1 = levelFacets; _i < levelFacets_1.length; _i++) {\n                var facet = levelFacets_1[_i];\n                if (!this.isLeaf(facet)) {\n                    facet.originColIndex = facet.columnIndex;\n                    // @ts-ignore\n                    facet.columnIndex = this.getRegionIndex(facet.children);\n                    // @ts-ignore\n                    facet.columnValuesLength = leafs.length;\n                }\n            }\n        }\n    };\n    // get facet use level\n    Tree.prototype.getFacetsByLevel = function (facets, level) {\n        var rst = [];\n        facets.forEach(function (facet) {\n            if (facet.rowIndex === level) {\n                rst.push(facet);\n            }\n        });\n        return rst;\n    };\n    // if the facet has children , make it's column index in the middle of it's children\n    Tree.prototype.getRegionIndex = function (children) {\n        var first = children[0];\n        var last = children[children.length - 1];\n        return (last.columnIndex - first.columnIndex) / 2 + first.columnIndex;\n    };\n    // is  a leaf without children\n    Tree.prototype.isLeaf = function (facet) {\n        return !facet.children || !facet.children.length;\n    };\n    Tree.prototype.getRows = function () {\n        return this.cfg.fields.length + 1;\n    };\n    // get child\n    Tree.prototype.getChildFacets = function (data, level, arr) {\n        var _this = this;\n        // [ 'grade', 'class' ]\n        var fields = this.cfg.fields;\n        var length = fields.length;\n        if (length < level) {\n            return;\n        }\n        var rst = [];\n        // get fist level except root node\n        var field = fields[level - 1];\n        // get field value\n        var values = this.getFieldValues(data, field);\n        values.forEach(function (value, index) {\n            var conditions = [{ field: field, value: value, values: values }];\n            var subData = data.filter(_this.getFacetDataFilter(conditions));\n            if (subData.length) {\n                var facet = {\n                    type: _this.cfg.type,\n                    data: subData,\n                    region: null,\n                    columnValue: value,\n                    rowValue: '',\n                    columnField: field,\n                    rowField: '',\n                    columnIndex: index,\n                    rowValuesLength: _this.getRows(),\n                    columnValuesLength: 1,\n                    rowIndex: level,\n                    children: _this.getChildFacets(subData, level + 1, arr),\n                };\n                rst.push(facet);\n                arr.push(facet);\n            }\n        });\n        return rst;\n    };\n    Tree.prototype.render = function () {\n        _super.prototype.render.call(this);\n        if (this.cfg.showTitle) {\n            this.renderTitle();\n        }\n    };\n    Tree.prototype.renderTitle = function () {\n        var _this = this;\n        each(this.facets, function (facet) {\n            var columnValue = facet.columnValue, view = facet.view;\n            var formatter = get(_this.cfg.title, 'formatter');\n            var config = deepMix({\n                position: ['50%', '0%'],\n                content: formatter ? formatter(columnValue) : columnValue,\n            }, getFactTitleConfig(DIRECTION.TOP), _this.cfg.title);\n            view.annotation().text(config);\n        });\n    };\n    Tree.prototype.drawLines = function (facets) {\n        var _this = this;\n        facets.forEach(function (facet) {\n            if (!_this.isLeaf(facet)) {\n                var children = facet.children;\n                _this.addFacetLines(facet, children);\n            }\n        });\n    };\n    // add lines with it's children\n    Tree.prototype.addFacetLines = function (facet, children) {\n        var _this = this;\n        var view = facet.view;\n        var region = view.coordinateBBox;\n        // top, right, bottom, left\n        var start = {\n            x: region.x + region.width / 2,\n            y: region.y + region.height,\n        };\n        children.forEach(function (subFacet) {\n            var subRegion = subFacet.view.coordinateBBox;\n            var end = {\n                x: subRegion.bl.x + (subRegion.tr.x - subRegion.bl.x) / 2,\n                y: subRegion.tr.y,\n            };\n            var middle1 = {\n                x: start.x,\n                y: start.y + (end.y - start.y) / 2,\n            };\n            var middle2 = {\n                x: end.x,\n                y: middle1.y,\n            };\n            _this.drawLine([start, middle1, middle2, end]);\n        });\n    };\n    Tree.prototype.getPath = function (points) {\n        var path = [];\n        var smooth = this.cfg.line.smooth;\n        if (smooth) {\n            path.push(['M', points[0].x, points[0].y]);\n            path.push(['C', points[1].x, points[1].y, points[2].x, points[2].y, points[3].x, points[3].y]);\n        }\n        else {\n            points.forEach(function (point, index) {\n                if (index === 0) {\n                    path.push(['M', point.x, point.y]);\n                }\n                else {\n                    path.push(['L', point.x, point.y]);\n                }\n            });\n        }\n        return path;\n    };\n    // draw line width points\n    Tree.prototype.drawLine = function (points) {\n        var path = this.getPath(points);\n        var line = this.cfg.line.style;\n        this.container.addShape('path', {\n            attrs: assign({\n                // @ts-ignore\n                path: path,\n            }, line),\n        });\n    };\n    Tree.prototype.getXAxisOption = function (x, axes, option, facet) {\n        if (facet.rowIndex !== facet.rowValuesLength - 1) {\n            return __assign(__assign({}, option), { title: null, label: null });\n        }\n        return option;\n    };\n    Tree.prototype.getYAxisOption = function (y, axes, option, facet) {\n        if (facet.originColIndex !== 0 && facet.columnIndex !== 0) {\n            return __assign(__assign({}, option), { title: null, label: null });\n        }\n        return option;\n    };\n    return Tree;\n}(Facet));\nexport default Tree;\n//# sourceMappingURL=tree.js.map","import { __spreadArrays } from \"tslib\";\nimport { reduce, isNumber } from '@antv/util';\n/**\n * 获得中位数\n * @param array\n */\nexport function getMedian(array) {\n    var arr = __spreadArrays(array);\n    // 先排序\n    arr.sort(function (a, b) {\n        return a - b;\n    });\n    var len = arr.length;\n    // median\n    // 0\n    if (len === 0) {\n        return 0;\n    }\n    // 奇数\n    if (len % 2 === 1) {\n        return arr[(len - 1) / 2];\n    }\n    // 偶数\n    return (arr[len / 2] + arr[len / 2 - 1]) / 2;\n}\n/**\n * 获得平均值\n * @param array\n */\nexport function getMean(array) {\n    var sum = reduce(array, function (r, num) {\n        return r += (isNaN(num) || !isNumber(num) ? 0 : num);\n    }, 0);\n    return array.length === 0 ? 0 : sum / array.length;\n}\n//# sourceMappingURL=stat.js.map","import { getMedian, getMean } from './stat';\n/**\n * parse the value position\n * @param val\n * @param scale\n */\nexport function getNormalizedValue(val, scale) {\n    var scaled;\n    switch (val) {\n        case 'start':\n            return 0;\n        case 'end':\n            return 1;\n        case 'median': {\n            scaled = scale.isCategory ? getMedian(scale.values.map(function (_, idx) { return idx; })) : getMedian(scale.values);\n            break;\n        }\n        case 'mean': {\n            scaled = scale.isCategory ? (scale.values.length - 1) / 2 : getMean(scale.values);\n            break;\n        }\n        case 'min':\n            scaled = scale.isCategory ? 0 : scale[val];\n            break;\n        case 'max':\n            scaled = scale.isCategory ? scale.values.length - 1 : scale[val];\n            break;\n        default:\n            scaled = val;\n            break;\n    }\n    return scale.scale(scaled);\n}\n//# sourceMappingURL=annotation.js.map","import { __assign, __extends, __rest } from \"tslib\";\nimport { contains, deepMix, each, get, isArray, isFunction, isNil, isString, keys, upperFirst, find, includes, } from '@antv/util';\nimport { Annotation as AnnotationComponent } from '../../dependents';\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\nimport { COMPONENT_TYPE, DIRECTION, GEOMETRY_LIFE_CIRCLE, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { getAngleByPoint, getDistanceToCenter } from '../../util/coordinate';\nimport { omit } from '../../util/helper';\nimport { getNormalizedValue } from '../../util/annotation';\nimport { Controller } from './base';\n/** 需要在图形绘制完成后才渲染的辅助组件类型列表 */\nvar ANNOTATIONS_AFTER_RENDER = ['regionFilter', 'shape'];\n/**\n * Annotation controller, 主要作用:\n * 1. 创建 Annotation: line、text、arc ...\n * 2. 生命周期: init、layout、render、clear、destroy\n */\nvar Annotation = /** @class */ (function (_super) {\n    __extends(Annotation, _super);\n    function Annotation(view) {\n        var _this = _super.call(this, view) || this;\n        /* 组件更新的 cache，组件配置 object : 组件 */\n        _this.cache = new Map();\n        _this.foregroundContainer = _this.view.getLayer(LAYER.FORE).addGroup();\n        _this.backgroundContainer = _this.view.getLayer(LAYER.BG).addGroup();\n        _this.option = [];\n        return _this;\n    }\n    Object.defineProperty(Annotation.prototype, \"name\", {\n        get: function () {\n            return 'annotation';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Annotation.prototype.init = function () { };\n    /**\n     * 因为 annotation 需要依赖坐标系信息，所以 render 阶段为空方法，实际的创建逻辑都在 layout 中\n     */\n    Annotation.prototype.layout = function () {\n        this.update();\n    };\n    // 因为 Annotation 不参与布局，但是渲染的位置依赖于坐标系，所以可以将绘制阶段延迟到 layout() 进行\n    Annotation.prototype.render = function () { };\n    /**\n     * 更新\n     */\n    Annotation.prototype.update = function () {\n        var _this = this;\n        // 1. 先处理需要在图形渲染之后的辅助组件 需要在 Geometry 完成之后，拿到图形信息\n        this.onAfterRender(function () {\n            var updated = new Map();\n            // 先看是否有 regionFilter/shape 要更新\n            each(_this.option, function (option) {\n                if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n                    var co = _this.updateOrCreate(option);\n                    // 存储已经处理过的\n                    if (co) {\n                        updated.set(_this.getCacheKey(option), co);\n                    }\n                }\n            });\n            // 处理完成之后，更新 cache\n            // 处理完成之后，销毁删除的\n            _this.cache = _this.syncCache(updated);\n        });\n        // 2. 处理非 regionFilter\n        var updateCache = new Map();\n        each(this.option, function (option) {\n            if (!includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n                var co = _this.updateOrCreate(option);\n                // 存储已经处理过的\n                if (co) {\n                    updateCache.set(_this.getCacheKey(option), co);\n                }\n            }\n        });\n        this.cache = this.syncCache(updateCache);\n    };\n    /**\n     * 清空\n     * @param includeOption 是否清空 option 配置项\n     */\n    Annotation.prototype.clear = function (includeOption) {\n        if (includeOption === void 0) { includeOption = false; }\n        _super.prototype.clear.call(this);\n        this.cache.clear();\n        this.foregroundContainer.clear();\n        this.backgroundContainer.clear();\n        // clear all option\n        if (includeOption) {\n            this.option = [];\n        }\n    };\n    Annotation.prototype.destroy = function () {\n        this.clear(true);\n        this.foregroundContainer.remove(true);\n        this.backgroundContainer.remove(true);\n    };\n    /**\n     * 复写基类的方法\n     */\n    Annotation.prototype.getComponents = function () {\n        var co = [];\n        this.cache.forEach(function (value) {\n            co.push(value);\n        });\n        return co;\n    };\n    /**\n     * region filter 比较特殊的渲染时机\n     * @param doWhat\n     */\n    Annotation.prototype.onAfterRender = function (doWhat) {\n        if (this.view.getOptions().animate) {\n            this.view.geometries.forEach(function (g) {\n                // 如果 geometry 开启，则监听\n                if (g.animateOption) {\n                    g.once(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE, function () {\n                        doWhat();\n                    });\n                }\n            });\n        }\n        else {\n            this.view.getRootView().once(VIEW_LIFE_CIRCLE.AFTER_RENDER, function () {\n                doWhat();\n            });\n        }\n    };\n    Annotation.prototype.createAnnotation = function (option) {\n        var type = option.type;\n        var Ctor = AnnotationComponent[upperFirst(type)];\n        if (Ctor) {\n            var theme = this.getAnnotationTheme(type);\n            var cfg = this.getAnnotationCfg(type, option, theme);\n            var annotation = new Ctor(cfg);\n            return {\n                component: annotation,\n                layer: this.isTop(cfg) ? LAYER.FORE : LAYER.BG,\n                direction: DIRECTION.NONE,\n                type: COMPONENT_TYPE.ANNOTATION,\n                extra: option,\n            };\n        }\n    };\n    // APIs for creating annotation component\n    Annotation.prototype.annotation = function (option) {\n        this.option.push(option);\n    };\n    /**\n     * 创建 Arc\n     * @param option\n     * @returns AnnotationController\n     */\n    Annotation.prototype.arc = function (option) {\n        this.annotation(__assign({ type: 'arc' }, option));\n        return this;\n    };\n    /**\n     * 创建 image\n     * @param option\n     * @returns AnnotationController\n     */\n    Annotation.prototype.image = function (option) {\n        this.annotation(__assign({ type: 'image' }, option));\n        return this;\n    };\n    /**\n     * 创建 Line\n     * @param option\n     * @returns AnnotationController\n     */\n    Annotation.prototype.line = function (option) {\n        this.annotation(__assign({ type: 'line' }, option));\n        return this;\n    };\n    /**\n     * 创建 Region\n     * @param option\n     * @returns AnnotationController\n     */\n    Annotation.prototype.region = function (option) {\n        this.annotation(__assign({ type: 'region' }, option));\n        return this;\n    };\n    /**\n     * 创建 Text\n     * @param option\n     * @returns AnnotationController\n     */\n    Annotation.prototype.text = function (option) {\n        this.annotation(__assign({ type: 'text' }, option));\n        return this;\n    };\n    /**\n     * 创建 DataMarker\n     * @param option\n     * @returns AnnotationController\n     */\n    Annotation.prototype.dataMarker = function (option) {\n        this.annotation(__assign({ type: 'dataMarker' }, option));\n        return this;\n    };\n    /**\n     * 创建 DataRegion\n     * @param option\n     * @returns AnnotationController\n     */\n    Annotation.prototype.dataRegion = function (option) {\n        this.annotation(__assign({ type: 'dataRegion' }, option));\n    };\n    /**\n     * 创建 RegionFilter\n     * @param option\n     * @returns AnnotationController\n     */\n    Annotation.prototype.regionFilter = function (option) {\n        this.annotation(__assign({ type: 'regionFilter' }, option));\n    };\n    /**\n     * 创建 ShapeAnnotation\n     * @param option\n     */\n    Annotation.prototype.shape = function (option) {\n        this.annotation(__assign({ type: 'shape' }, option));\n    };\n    /**\n     * 创建 HtmlAnnotation\n     * @param option\n     */\n    Annotation.prototype.html = function (option) {\n        this.annotation(__assign({ type: 'html' }, option));\n    };\n    // end API\n    /**\n     * parse the point position to [x, y]\n     * @param p Position\n     * @returns { x, y }\n     */\n    Annotation.prototype.parsePosition = function (p) {\n        var xScale = this.view.getXScale();\n        // 转成 object\n        var yScales = this.view.getScalesByDim('y');\n        var position = isFunction(p) ? p.call(null, xScale, yScales) : p;\n        var x = 0;\n        var y = 0;\n        // 入参是 [24, 24] 这类时\n        if (isArray(position)) {\n            var xPos = position[0], yPos = position[1];\n            // 如果数据格式是 ['50%', '50%'] 的格式\n            // fix: 原始数据中可能会包含 'xxx5%xxx' 这样的数据，需要判断下 https://github.com/antvis/f2/issues/590\n            // @ts-ignore\n            if (isString(xPos) && xPos.indexOf('%') !== -1 && !isNaN(xPos.slice(0, -1))) {\n                return this.parsePercentPosition(position);\n            }\n            x = getNormalizedValue(xPos, xScale);\n            y = getNormalizedValue(yPos, Object.values(yScales)[0]);\n        }\n        else if (!isNil(position)) {\n            // 入参是 object 结构，数据点\n            for (var _i = 0, _a = keys(position); _i < _a.length; _i++) {\n                var key = _a[_i];\n                var value = position[key];\n                if (key === xScale.field) {\n                    x = getNormalizedValue(value, xScale);\n                }\n                if (yScales[key]) {\n                    y = getNormalizedValue(value, yScales[key]);\n                }\n            }\n        }\n        return this.view.getCoordinate().convert({ x: x, y: y });\n    };\n    /**\n     * parse all the points between start and end\n     * @param start\n     * @param end\n     * @return Point[]\n     */\n    Annotation.prototype.getRegionPoints = function (start, end) {\n        var _this = this;\n        var xScale = this.view.getXScale();\n        var yScales = this.view.getScalesByDim('y');\n        var yScale = Object.values(yScales)[0];\n        var xField = xScale.field;\n        var viewData = this.view.getData();\n        var startXValue = isArray(start) ? start[0] : start[xField];\n        var endXValue = isArray(end) ? end[0] : end[xField];\n        var arr = [];\n        var startIndex;\n        each(viewData, function (item, idx) {\n            if (item[xField] === startXValue) {\n                startIndex = idx;\n            }\n            if (idx >= startIndex) {\n                var point = _this.parsePosition([item[xField], item[yScale.field]]);\n                if (point) {\n                    arr.push(point);\n                }\n            }\n            if (item[xField] === endXValue) {\n                return false;\n            }\n        });\n        return arr;\n    };\n    /**\n     * parse percent position\n     * @param position\n     */\n    Annotation.prototype.parsePercentPosition = function (position) {\n        var xPercent = parseFloat(position[0]) / 100;\n        var yPercent = parseFloat(position[1]) / 100;\n        var coordinate = this.view.getCoordinate();\n        var start = coordinate.start, end = coordinate.end;\n        var topLeft = {\n            x: Math.min(start.x, end.x),\n            y: Math.min(start.y, end.y),\n        };\n        var x = coordinate.getWidth() * xPercent + topLeft.x;\n        var y = coordinate.getHeight() * yPercent + topLeft.y;\n        return { x: x, y: y };\n    };\n    /**\n     * get coordinate bbox\n     */\n    Annotation.prototype.getCoordinateBBox = function () {\n        var coordinate = this.view.getCoordinate();\n        var start = coordinate.start, end = coordinate.end;\n        var width = coordinate.getWidth();\n        var height = coordinate.getHeight();\n        var topLeft = {\n            x: Math.min(start.x, end.x),\n            y: Math.min(start.y, end.y),\n        };\n        return {\n            x: topLeft.x,\n            y: topLeft.y,\n            minX: topLeft.x,\n            minY: topLeft.y,\n            maxX: topLeft.x + width,\n            maxY: topLeft.y + height,\n            width: width,\n            height: height,\n        };\n    };\n    /**\n     * get annotation component config by different type\n     * @param type\n     * @param option 用户的配置\n     * @param theme\n     */\n    Annotation.prototype.getAnnotationCfg = function (type, option, theme) {\n        var _this = this;\n        var coordinate = this.view.getCoordinate();\n        var canvas = this.view.getCanvas();\n        var o = {};\n        if (isNil(option)) {\n            return null;\n        }\n        if (type === 'arc') {\n            var _a = option, start = _a.start, end = _a.end;\n            var sp = this.parsePosition(start);\n            var ep = this.parsePosition(end);\n            var startAngle = getAngleByPoint(coordinate, sp);\n            var endAngle = getAngleByPoint(coordinate, ep);\n            if (startAngle > endAngle) {\n                endAngle = Math.PI * 2 + endAngle;\n            }\n            o = {\n                center: coordinate.getCenter(),\n                radius: getDistanceToCenter(coordinate, sp),\n                startAngle: startAngle,\n                endAngle: endAngle,\n            };\n        }\n        else if (type === 'image') {\n            var _b = option, start = _b.start, end = _b.end;\n            o = {\n                start: this.parsePosition(start),\n                end: this.parsePosition(end),\n                src: option.src,\n            };\n        }\n        else if (type === 'line') {\n            var _c = option, start = _c.start, end = _c.end;\n            o = {\n                start: this.parsePosition(start),\n                end: this.parsePosition(end),\n                text: get(option, 'text', null),\n            };\n        }\n        else if (type === 'region') {\n            var _d = option, start = _d.start, end = _d.end;\n            o = {\n                start: this.parsePosition(start),\n                end: this.parsePosition(end),\n            };\n        }\n        else if (type === 'text') {\n            var filteredData = this.view.getData();\n            var _e = option, position = _e.position, content = _e.content, rest = __rest(_e, [\"position\", \"content\"]);\n            var textContent = content;\n            if (isFunction(content)) {\n                textContent = content(filteredData);\n            }\n            o = __assign(__assign(__assign({}, this.parsePosition(position)), rest), { content: textContent });\n        }\n        else if (type === 'dataMarker') {\n            var _f = option, position = _f.position, point = _f.point, line = _f.line, text = _f.text, autoAdjust = _f.autoAdjust, direction = _f.direction;\n            o = __assign(__assign({}, this.parsePosition(position)), { coordinateBBox: this.getCoordinateBBox(), point: point,\n                line: line,\n                text: text,\n                autoAdjust: autoAdjust,\n                direction: direction });\n        }\n        else if (type === 'dataRegion') {\n            var _g = option, start = _g.start, end = _g.end, region = _g.region, text = _g.text, lineLength = _g.lineLength;\n            o = {\n                points: this.getRegionPoints(start, end),\n                region: region,\n                text: text,\n                lineLength: lineLength,\n            };\n        }\n        else if (type === 'regionFilter') {\n            var _h = option, start = _h.start, end = _h.end, apply_1 = _h.apply, color = _h.color;\n            var geometries = this.view.geometries;\n            var shapes_1 = [];\n            var addShapes_1 = function (item) {\n                if (!item) {\n                    return;\n                }\n                if (item.isGroup()) {\n                    item.getChildren().forEach(function (child) { return addShapes_1(child); });\n                }\n                else {\n                    shapes_1.push(item);\n                }\n            };\n            each(geometries, function (geom) {\n                if (apply_1) {\n                    if (contains(apply_1, geom.type)) {\n                        each(geom.elements, function (elem) {\n                            addShapes_1(elem.shape);\n                        });\n                    }\n                }\n                else {\n                    each(geom.elements, function (elem) {\n                        addShapes_1(elem.shape);\n                    });\n                }\n            });\n            o = {\n                color: color,\n                shapes: shapes_1,\n                start: this.parsePosition(start),\n                end: this.parsePosition(end),\n            };\n        }\n        else if (type === 'shape') {\n            var _j = option, render_1 = _j.render, restOptions = __rest(_j, [\"render\"]);\n            var wrappedRender = function (container) {\n                if (isFunction(option.render)) {\n                    return render_1(container, _this.view, { parsePosition: _this.parsePosition.bind(_this) });\n                }\n            };\n            o = __assign(__assign({}, restOptions), { render: wrappedRender });\n        }\n        else if (type === 'html') {\n            var _k = option, html_1 = _k.html, position = _k.position, restOptions = __rest(_k, [\"html\", \"position\"]);\n            var wrappedHtml = function (container) {\n                if (isFunction(html_1)) {\n                    return html_1(container, _this.view);\n                }\n                return html_1;\n            };\n            o = __assign(__assign(__assign({}, restOptions), this.parsePosition(position)), { \n                // html 组件需要指定 parent\n                parent: canvas.get('el').parentNode, html: wrappedHtml });\n        }\n        // 合并主题，用户配置优先级高于默认主题\n        var cfg = deepMix({}, theme, __assign(__assign({}, o), { top: option.top, style: option.style, offsetX: option.offsetX, offsetY: option.offsetY }));\n        if (type !== 'html') {\n            // html 类型不使用 G container\n            cfg.container = this.getComponentContainer(cfg);\n        }\n        cfg.animate = this.view.getOptions().animate && cfg.animate && get(option, 'animate', cfg.animate); // 如果 view 关闭动画，则不执行\n        cfg.animateOption = deepMix({}, DEFAULT_ANIMATE_CFG, cfg.animateOption, option.animateOption);\n        return cfg;\n    };\n    /**\n     * is annotation render on top\n     * @param option\n     * @return whethe on top\n     */\n    Annotation.prototype.isTop = function (option) {\n        return get(option, 'top', true);\n    };\n    /**\n     * get the container by option.top\n     * default is on top\n     * @param option\n     * @returns the container\n     */\n    Annotation.prototype.getComponentContainer = function (option) {\n        return this.isTop(option) ? this.foregroundContainer : this.backgroundContainer;\n    };\n    Annotation.prototype.getAnnotationTheme = function (type) {\n        return get(this.view.getTheme(), ['components', 'annotation', type], {});\n    };\n    /**\n     * 创建或者更新 annotation\n     * @param option\n     */\n    Annotation.prototype.updateOrCreate = function (option) {\n        // 拿到缓存的内容\n        var co = this.cache.get(this.getCacheKey(option));\n        // 存在则更新，不存在在创建\n        if (co) {\n            var type = option.type;\n            var theme = this.getAnnotationTheme(type);\n            var cfg = this.getAnnotationCfg(type, option, theme);\n            // 忽略掉一些配置\n            omit(cfg, ['container']);\n            co.component.update(cfg);\n            // 对于 regionFilter/shape，因为生命周期的原因，需要额外 render\n            if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n                co.component.render();\n            }\n        }\n        else {\n            // 不存在，创建\n            co = this.createAnnotation(option);\n            if (co) {\n                co.component.init();\n                // Note：regionFilter/shape 特殊处理，regionFilter/shape 需要取到 Geometry 中的 Shape，需要在 view render 之后处理\n                // 其他组件使用外层的统一 render 逻辑\n                if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n                    co.component.render();\n                }\n            }\n        }\n        return co;\n    };\n    /**\n     * 更新缓存，以及销毁组件\n     * @param updated 更新或者创建的组件\n     */\n    Annotation.prototype.syncCache = function (updated) {\n        var _this = this;\n        var newCache = new Map(this.cache); // clone 一份\n        // 将 update 更新到 cache\n        updated.forEach(function (co, key) {\n            newCache.set(key, co);\n        });\n        // 另外和 options 进行对比，删除\n        newCache.forEach(function (co, key) {\n            // option 中已经找不到，那么就是删除的\n            if (!find(_this.option, function (option) {\n                return key === _this.getCacheKey(option);\n            })) {\n                co.component.destroy();\n                newCache.delete(key);\n            }\n        });\n        return newCache;\n    };\n    /**\n     * 获得缓存组件的 key\n     * @param option\n     */\n    Annotation.prototype.getCacheKey = function (option) {\n        // 如果存在 id，则使用 id string，否则直接使用 option 引用作为 key\n        return option;\n        // 后续扩展 id 用\n        // const id = get(option, 'id');\n        // return id ? id : option;\n    };\n    return Annotation;\n}(Controller));\nexport default Annotation;\n//# sourceMappingURL=annotation.js.map","import { get, map } from '@antv/util';\n/**\n * @ignore\n * get the grid theme by type\n * @param theme\n * @param direction\n * @returns theme object\n */\nexport function getGridThemeCfg(theme, direction) {\n    return get(theme, ['components', 'axis', direction, 'grid'], {});\n}\n/**\n * @ignore\n * get axis grid items\n * @param coordinate\n * @param scale\n * @param dim\n * @return items\n */\nexport function getLineGridItems(coordinate, scale, dim, alignTick) {\n    var items = [];\n    var ticks = scale.getTicks();\n    if (coordinate.isPolar) {\n        // 补全 ticks\n        ticks.push({\n            value: 1,\n            text: '',\n            tickValue: '',\n        });\n    }\n    ticks.reduce(function (preTick, currentTick, currentIndex) {\n        var currentValue = currentTick.value;\n        if (alignTick) {\n            items.push({\n                points: [\n                    coordinate.convert(dim === 'y' ? { x: 0, y: currentValue } : { x: currentValue, y: 0 }),\n                    coordinate.convert(dim === 'y' ? { x: 1, y: currentValue } : { x: currentValue, y: 1 }),\n                ],\n            });\n        }\n        else {\n            if (currentIndex) {\n                var preValue = preTick.value;\n                var middleValue = (preValue + currentValue) / 2;\n                items.push({\n                    points: [\n                        coordinate.convert(dim === 'y' ? { x: 0, y: middleValue } : { x: middleValue, y: 0 }),\n                        coordinate.convert(dim === 'y' ? { x: 1, y: middleValue } : { x: middleValue, y: 1 }),\n                    ],\n                });\n            }\n        }\n        return currentTick;\n    }, ticks[0]);\n    return items;\n}\n/**\n * @ignore\n * get\n * @param coordinate\n * @param xScale\n * @param yScale\n * @param dim\n * @returns items\n */\nexport function getCircleGridItems(coordinate, xScale, yScale, alignTick, dim) {\n    var count = xScale.values.length;\n    var items = [];\n    var ticks = yScale.getTicks();\n    ticks.reduce(function (preTick, currentTick) {\n        var preValue = preTick ? preTick.value : currentTick.value; // 只有一项数据时取当前值\n        var currentValue = currentTick.value;\n        var middleValue = (preValue + currentValue) / 2;\n        if (dim === 'x') {\n            // 如果是 x 轴作为半径轴，那么只需要取圆弧收尾两个即可\n            items.push({\n                points: [\n                    coordinate.convert({\n                        x: alignTick ? currentValue : middleValue,\n                        y: 0,\n                    }),\n                    coordinate.convert({\n                        x: alignTick ? currentValue : middleValue,\n                        y: 1,\n                    }),\n                ],\n            });\n        }\n        else {\n            items.push({\n                points: map(Array(count + 1), function (__, idx) {\n                    return coordinate.convert({\n                        x: idx / count,\n                        y: alignTick ? currentValue : middleValue,\n                    });\n                }),\n            });\n        }\n        return currentTick;\n    }, ticks[0]);\n    return items;\n}\n/**\n * @ignore\n * show grid or not\n * @param axisTheme\n * @param axisOption\n */\nexport function showGrid(axisTheme, axisOption) {\n    var userGrid = get(axisOption, 'grid');\n    if (userGrid === null) {\n        return false;\n    }\n    var themeGrid = get(axisTheme, 'grid');\n    return !(userGrid === undefined && themeGrid === null);\n}\n//# sourceMappingURL=grid.js.map","import { __assign, __extends } from \"tslib\";\nimport { deepMix, each, get, isUndefined } from '@antv/util';\nimport { DIRECTION, COMPONENT_TYPE, LAYER } from '../../constant';\nimport { CircleAxis, CircleGrid, LineAxis, LineGrid } from '../../dependents';\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\nimport { getAxisDirection, getAxisFactorByRegion, getAxisRegion, getAxisThemeCfg, getAxisTitleText, getCircleAxisCenterRadius, isVertical, } from '../../util/axis';\nimport { getAxisOption } from '../../util/axis';\nimport { getCircleGridItems, getGridThemeCfg, getLineGridItems, showGrid } from '../../util/grid';\nimport { omit } from '../../util/helper';\nimport { Controller } from './base';\n// update 组件的时候，忽略的数据更新\nvar OMIT_CFG = ['container'];\n// 坐标轴默认动画配置\nvar AXIS_DEFAULT_ANIMATE_CFG = __assign(__assign({}, DEFAULT_ANIMATE_CFG), { appear: null });\n/**\n * @ignore\n * G2 Axis controller, will:\n *  - create component\n *    - axis\n *    - grid\n *  - life circle\n */\nvar Axis = /** @class */ (function (_super) {\n    __extends(Axis, _super);\n    function Axis(view) {\n        var _this = _super.call(this, view) || this;\n        /** 使用 object 存储组件 */\n        _this.cache = new Map();\n        // 先创建 gridContainer，将 grid 放到 axis 底层\n        _this.gridContainer = _this.view.getLayer(LAYER.BG).addGroup();\n        _this.axisContainer = _this.view.getLayer(LAYER.BG).addGroup();\n        return _this;\n    }\n    Object.defineProperty(Axis.prototype, \"name\", {\n        get: function () {\n            return 'axis';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Axis.prototype.init = function () { };\n    Axis.prototype.render = function () {\n        this.update();\n    };\n    /**\n     * 更新组件布局，位置大小\n     */\n    Axis.prototype.layout = function () {\n        var _this = this;\n        var coordinate = this.view.getCoordinate();\n        each(this.getComponents(), function (co) {\n            var component = co.component, direction = co.direction, type = co.type, extra = co.extra;\n            var dim = extra.dim, scale = extra.scale, alignTick = extra.alignTick;\n            var updated;\n            if (type === COMPONENT_TYPE.AXIS) {\n                if (coordinate.isPolar) {\n                    if (dim === 'x') {\n                        updated = coordinate.isTransposed\n                            ? getAxisRegion(coordinate, direction)\n                            : getCircleAxisCenterRadius(coordinate);\n                    }\n                    else if (dim === 'y') {\n                        updated = coordinate.isTransposed\n                            ? getCircleAxisCenterRadius(coordinate)\n                            : getAxisRegion(coordinate, direction);\n                    }\n                }\n                else {\n                    updated = getAxisRegion(coordinate, direction);\n                }\n            }\n            else if (type === COMPONENT_TYPE.GRID) {\n                if (coordinate.isPolar) {\n                    var items = void 0;\n                    if (coordinate.isTransposed) {\n                        items =\n                            dim === 'x'\n                                ? getCircleGridItems(coordinate, _this.view.getYScales()[0], scale, alignTick, dim)\n                                : getLineGridItems(coordinate, scale, dim, alignTick);\n                    }\n                    else {\n                        items =\n                            dim === 'x'\n                                ? getLineGridItems(coordinate, scale, dim, alignTick)\n                                : getCircleGridItems(coordinate, _this.view.getXScale(), scale, alignTick, dim);\n                    }\n                    updated = {\n                        items: items,\n                        // coordinate 更新之后，center 也变化了\n                        center: _this.view.getCoordinate().getCenter(),\n                    };\n                }\n                else {\n                    updated = { items: getLineGridItems(coordinate, scale, dim, alignTick) };\n                }\n            }\n            component.update(updated);\n        });\n    };\n    /**\n     * 更新 axis 组件\n     */\n    Axis.prototype.update = function () {\n        this.option = this.view.getOptions().axes;\n        var updatedCache = new Map();\n        this.updateXAxes(updatedCache);\n        this.updateYAxes(updatedCache);\n        // 处理完成之后，销毁删除的\n        // 不在处理中的\n        var newCache = new Map();\n        this.cache.forEach(function (co, key) {\n            if (updatedCache.has(key)) {\n                newCache.set(key, co);\n            }\n            else {\n                // 不存在，则是所有需要被销毁的组件\n                co.component.destroy();\n            }\n        });\n        // 更新缓存\n        this.cache = newCache;\n    };\n    Axis.prototype.clear = function () {\n        _super.prototype.clear.call(this);\n        this.cache.clear();\n        this.gridContainer.clear();\n        this.axisContainer.clear();\n    };\n    Axis.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.gridContainer.remove(true);\n        this.axisContainer.remove(true);\n    };\n    /**\n     * @override\n     */\n    Axis.prototype.getComponents = function () {\n        var co = [];\n        this.cache.forEach(function (value) {\n            co.push(value);\n        });\n        return co;\n    };\n    /**\n     * 更新 x axis\n     * @param updatedCache\n     */\n    Axis.prototype.updateXAxes = function (updatedCache) {\n        // x axis\n        var scale = this.view.getXScale();\n        if (!scale || scale.isIdentity) {\n            return;\n        }\n        var xAxisOption = getAxisOption(this.option, scale.field);\n        if (xAxisOption === false) {\n            return;\n        }\n        var direction = getAxisDirection(xAxisOption, DIRECTION.BOTTOM);\n        var layer = LAYER.BG;\n        var dim = 'x';\n        var coordinate = this.view.getCoordinate();\n        var axisId = this.getId('axis', scale.field);\n        var gridId = this.getId('grid', scale.field);\n        if (coordinate.isRect) {\n            // 1. do axis update\n            var axis = this.cache.get(axisId);\n            // 存在则更新\n            if (axis) {\n                var cfg = this.getLineAxisCfg(scale, xAxisOption, direction);\n                omit(cfg, OMIT_CFG);\n                axis.component.update(cfg);\n                updatedCache.set(axisId, axis);\n            }\n            else {\n                // 不存在，则创建\n                axis = this.createLineAxis(scale, xAxisOption, layer, direction, dim);\n                this.cache.set(axisId, axis);\n                updatedCache.set(axisId, axis);\n            }\n            // 2. do grid update\n            var grid = this.cache.get(gridId);\n            // 存在则更新\n            if (grid) {\n                var cfg = this.getLineGridCfg(scale, xAxisOption, direction, dim);\n                omit(cfg, OMIT_CFG);\n                grid.component.update(cfg);\n                updatedCache.set(gridId, grid);\n            }\n            else {\n                // 不存在则创建\n                grid = this.createLineGrid(scale, xAxisOption, layer, direction, dim);\n                if (grid) {\n                    this.cache.set(gridId, grid);\n                    updatedCache.set(gridId, grid);\n                }\n            }\n        }\n        else if (coordinate.isPolar) {\n            // 1. do axis update\n            var axis = this.cache.get(axisId);\n            // 存在则更新\n            if (axis) {\n                var cfg = coordinate.isTransposed\n                    ? this.getLineAxisCfg(scale, xAxisOption, DIRECTION.RADIUS)\n                    : this.getCircleAxisCfg(scale, xAxisOption, direction);\n                omit(cfg, OMIT_CFG);\n                axis.component.update(cfg);\n                updatedCache.set(axisId, axis);\n            }\n            else {\n                // 不存在，则创建\n                if (coordinate.isTransposed) {\n                    if (isUndefined(xAxisOption)) {\n                        // 默认不渲染转置极坐标下的坐标轴\n                        return;\n                    }\n                    else {\n                        // 如果用户打开了隐藏的坐标轴 chart.axis(true)/chart.axis('x', true)\n                        // 那么对于转置了的极坐标，半径轴显示的是 x 轴对应的数据\n                        axis = this.createLineAxis(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n                    }\n                }\n                else {\n                    axis = this.createCircleAxis(scale, xAxisOption, layer, direction, dim);\n                }\n                this.cache.set(axisId, axis);\n                updatedCache.set(axisId, axis);\n            }\n            // 2. do grid update\n            var grid = this.cache.get(gridId);\n            // 存在则更新\n            if (grid) {\n                var cfg = coordinate.isTransposed\n                    ? this.getCircleGridCfg(scale, xAxisOption, DIRECTION.RADIUS, dim)\n                    : this.getLineGridCfg(scale, xAxisOption, DIRECTION.CIRCLE, dim);\n                omit(cfg, OMIT_CFG);\n                grid.component.update(cfg);\n                updatedCache.set(gridId, grid);\n            }\n            else {\n                // 不存在则创建\n                if (coordinate.isTransposed) {\n                    if (isUndefined(xAxisOption)) {\n                        return;\n                    }\n                    else {\n                        grid = this.createCircleGrid(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n                    }\n                }\n                else {\n                    // grid，极坐标下的 x 轴网格线沿着半径方向绘制\n                    grid = this.createLineGrid(scale, xAxisOption, layer, DIRECTION.CIRCLE, dim);\n                }\n                if (grid) {\n                    this.cache.set(gridId, grid);\n                    updatedCache.set(gridId, grid);\n                }\n            }\n        }\n        else {\n            // helix and other, do not draw axis\n        }\n    };\n    Axis.prototype.updateYAxes = function (updatedCache) {\n        var _this = this;\n        // y axes\n        var yScales = this.view.getYScales();\n        each(yScales, function (scale, idx) {\n            // @ts-ignore\n            if (!scale || scale.isIdentity) {\n                return;\n            }\n            var field = scale.field;\n            var yAxisOption = getAxisOption(_this.option, field);\n            if (yAxisOption !== false) {\n                var layer = LAYER.BG;\n                var dim = 'y';\n                var axisId = _this.getId('axis', field);\n                var gridId = _this.getId('grid', field);\n                var coordinate = _this.view.getCoordinate();\n                if (coordinate.isRect) {\n                    var direction = getAxisDirection(yAxisOption, idx === 0 ? DIRECTION.LEFT : DIRECTION.RIGHT);\n                    // 1. do axis update\n                    var axis = _this.cache.get(axisId);\n                    // 存在则更新\n                    if (axis) {\n                        var cfg = _this.getLineAxisCfg(scale, yAxisOption, direction);\n                        omit(cfg, OMIT_CFG);\n                        axis.component.update(cfg);\n                        updatedCache.set(axisId, axis);\n                    }\n                    else {\n                        // 不存在，则创建\n                        axis = _this.createLineAxis(scale, yAxisOption, layer, direction, dim);\n                        _this.cache.set(axisId, axis);\n                        updatedCache.set(axisId, axis);\n                    }\n                    // 2. do grid update\n                    var grid = _this.cache.get(gridId);\n                    // 存在则更新\n                    if (grid) {\n                        var cfg = _this.getLineGridCfg(scale, yAxisOption, direction, dim);\n                        omit(cfg, OMIT_CFG);\n                        grid.component.update(cfg);\n                        updatedCache.set(gridId, grid);\n                    }\n                    else {\n                        // 不存在则创建\n                        grid = _this.createLineGrid(scale, yAxisOption, layer, direction, dim);\n                        if (grid) {\n                            _this.cache.set(gridId, grid);\n                            updatedCache.set(gridId, grid);\n                        }\n                    }\n                }\n                else if (coordinate.isPolar) {\n                    // 1. do axis update\n                    var axis = _this.cache.get(axisId);\n                    // 存在则更新\n                    if (axis) {\n                        var cfg = coordinate.isTransposed\n                            ? _this.getCircleAxisCfg(scale, yAxisOption, DIRECTION.CIRCLE)\n                            : _this.getLineAxisCfg(scale, yAxisOption, DIRECTION.RADIUS);\n                        // @ts-ignore\n                        omit(cfg, OMIT_CFG);\n                        axis.component.update(cfg);\n                        updatedCache.set(axisId, axis);\n                    }\n                    else {\n                        // 不存在，则创建\n                        if (coordinate.isTransposed) {\n                            if (isUndefined(yAxisOption)) {\n                                return;\n                            }\n                            else {\n                                axis = _this.createCircleAxis(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n                            }\n                        }\n                        else {\n                            axis = _this.createLineAxis(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n                        }\n                        _this.cache.set(axisId, axis);\n                        updatedCache.set(axisId, axis);\n                    }\n                    // 2. do grid update\n                    var grid = _this.cache.get(gridId);\n                    // 存在则更新\n                    if (grid) {\n                        var cfg = coordinate.isTransposed\n                            ? _this.getLineGridCfg(scale, yAxisOption, DIRECTION.CIRCLE, dim)\n                            : _this.getCircleGridCfg(scale, yAxisOption, DIRECTION.RADIUS, dim);\n                        omit(cfg, OMIT_CFG);\n                        grid.component.update(cfg);\n                        updatedCache.set(gridId, grid);\n                    }\n                    else {\n                        // 不存在则创建\n                        if (coordinate.isTransposed) {\n                            if (isUndefined(yAxisOption)) {\n                                return;\n                            }\n                            else {\n                                grid = _this.createLineGrid(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n                            }\n                        }\n                        else {\n                            grid = _this.createCircleGrid(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n                        }\n                        if (grid) {\n                            _this.cache.set(gridId, grid);\n                            updatedCache.set(gridId, grid);\n                        }\n                    }\n                }\n                else {\n                    // helix and other, do not draw axis\n                }\n            }\n        });\n    };\n    /**\n     * 创建 line axis\n     * @param scale\n     * @param option\n     * @param layer\n     * @param direction\n     * @param dim\n     */\n    Axis.prototype.createLineAxis = function (scale, option, layer, direction, dim) {\n        // axis\n        var axis = {\n            component: new LineAxis(this.getLineAxisCfg(scale, option, direction)),\n            layer: layer,\n            direction: direction === DIRECTION.RADIUS ? DIRECTION.NONE : direction,\n            type: COMPONENT_TYPE.AXIS,\n            extra: { dim: dim, scale: scale },\n        };\n        axis.component.set('field', scale.field);\n        axis.component.init();\n        return axis;\n    };\n    Axis.prototype.createLineGrid = function (scale, option, layer, direction, dim) {\n        var cfg = this.getLineGridCfg(scale, option, direction, dim);\n        if (cfg) {\n            var grid = {\n                component: new LineGrid(cfg),\n                layer: layer,\n                direction: DIRECTION.NONE,\n                type: COMPONENT_TYPE.GRID,\n                extra: {\n                    dim: dim,\n                    scale: scale,\n                    alignTick: get(cfg, 'alignTick', true),\n                },\n            };\n            grid.component.init();\n            return grid;\n        }\n    };\n    Axis.prototype.createCircleAxis = function (scale, option, layer, direction, dim) {\n        var axis = {\n            component: new CircleAxis(this.getCircleAxisCfg(scale, option, direction)),\n            layer: layer,\n            direction: direction,\n            type: COMPONENT_TYPE.AXIS,\n            extra: { dim: dim, scale: scale },\n        };\n        axis.component.set('field', scale.field);\n        axis.component.init();\n        return axis;\n    };\n    Axis.prototype.createCircleGrid = function (scale, option, layer, direction, dim) {\n        var cfg = this.getCircleGridCfg(scale, option, direction, dim);\n        if (cfg) {\n            var grid = {\n                component: new CircleGrid(cfg),\n                layer: layer,\n                direction: DIRECTION.NONE,\n                type: COMPONENT_TYPE.GRID,\n                extra: {\n                    dim: dim,\n                    scale: scale,\n                    alignTick: get(cfg, 'alignTick', true),\n                },\n            };\n            grid.component.init();\n            return grid;\n        }\n    };\n    /**\n     * generate line axis cfg\n     * @param scale\n     * @param axisOption\n     * @param direction\n     * @return line axis cfg\n     */\n    Axis.prototype.getLineAxisCfg = function (scale, axisOption, direction) {\n        var container = this.axisContainer;\n        var coordinate = this.view.getCoordinate();\n        var region = getAxisRegion(coordinate, direction);\n        var titleText = getAxisTitleText(scale, axisOption);\n        var axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), direction);\n        // the cfg order should be ensure\n        var optionWithTitle = get(axisOption, ['title'])\n            ? deepMix({ title: { style: { text: titleText } } }, {\n                title: get(getAxisThemeCfg(this.view.getTheme(), 'common'), 'title'),\n            }, axisOption)\n            : axisOption;\n        var cfg = deepMix(__assign(__assign({ container: container }, region), { ticks: scale.getTicks().map(function (tick) { return ({ id: \"\" + tick.tickValue, name: tick.text, value: tick.value }); }), verticalFactor: coordinate.isPolar\n                ? getAxisFactorByRegion(region, coordinate.getCenter()) * -1\n                : getAxisFactorByRegion(region, coordinate.getCenter()), theme: axisThemeCfg }), axisThemeCfg, optionWithTitle);\n        var _a = this.getAnimateCfg(cfg), animate = _a.animate, animateOption = _a.animateOption;\n        cfg.animateOption = animateOption;\n        cfg.animate = animate;\n        // 计算 verticalLimitLength\n        var isAxisVertical = isVertical(region);\n        // TODO: 1 / 3 等默认值需要有一个全局的配置的地方\n        var verticalLimitLength = get(cfg, 'verticalLimitLength', isAxisVertical ? 1 / 3 : 1 / 2);\n        if (verticalLimitLength <= 1) {\n            // 配置的相对值，相对于画布\n            var canvasWidth = this.view.getCanvas().get('width');\n            var canvasHeight = this.view.getCanvas().get('height');\n            cfg.verticalLimitLength = verticalLimitLength * (isAxisVertical ? canvasWidth : canvasHeight);\n        }\n        return cfg;\n    };\n    /**\n     * generate line grid cfg\n     * @param scale\n     * @param axisOption\n     * @param direction\n     * @param dim\n     * @return line grid cfg\n     */\n    Axis.prototype.getLineGridCfg = function (scale, axisOption, direction, dim) {\n        if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n            return undefined;\n        }\n        var gridThemeCfg = getGridThemeCfg(this.view.getTheme(), direction);\n        // the cfg order should be ensure\n        // grid 动画以 axis 为准\n        var gridCfg = deepMix({\n            container: this.gridContainer,\n        }, gridThemeCfg, get(axisOption, 'grid'), this.getAnimateCfg(axisOption));\n        gridCfg.items = getLineGridItems(this.view.getCoordinate(), scale, dim, get(gridCfg, 'alignTick', true));\n        return gridCfg;\n    };\n    /**\n     * generate circle axis cfg\n     * @param scale\n     * @param axisOption\n     * @param direction\n     * @return circle axis cfg\n     */\n    Axis.prototype.getCircleAxisCfg = function (scale, axisOption, direction) {\n        var container = this.axisContainer;\n        var coordinate = this.view.getCoordinate();\n        var ticks = scale.getTicks().map(function (tick) { return ({ id: \"\" + tick.tickValue, name: tick.text, value: tick.value }); });\n        if (!scale.isCategory && Math.abs(coordinate.endAngle - coordinate.startAngle) === Math.PI * 2) {\n            // x 轴对应的值如果是非 cat 类型，在整圆的情况下坐标轴第一个和最后一个文本会重叠，默认只展示第一个文本\n            ticks.pop();\n        }\n        var titleText = getAxisTitleText(scale, axisOption);\n        var axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), DIRECTION.CIRCLE);\n        // the cfg order should be ensure\n        var optionWithTitle = get(axisOption, ['title'])\n            ? deepMix({ title: { style: { text: titleText } } }, {\n                title: get(getAxisThemeCfg(this.view.getTheme(), 'common'), 'title'),\n            }, axisOption)\n            : axisOption;\n        var cfg = deepMix(__assign(__assign({ container: container }, getCircleAxisCenterRadius(this.view.getCoordinate())), { ticks: ticks, verticalFactor: 1, theme: axisThemeCfg }), axisThemeCfg, optionWithTitle);\n        var _a = this.getAnimateCfg(cfg), animate = _a.animate, animateOption = _a.animateOption;\n        cfg.animate = animate;\n        cfg.animateOption = animateOption;\n        return cfg;\n    };\n    /**\n     * generate circle grid cfg\n     * @param scale\n     * @param axisOption\n     * @param direction\n     * @return circle grid cfg\n     */\n    Axis.prototype.getCircleGridCfg = function (scale, axisOption, direction, dim) {\n        if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n            return undefined;\n        }\n        // the cfg order should be ensure\n        // grid 动画以 axis 为准\n        var gridThemeCfg = getGridThemeCfg(this.view.getTheme(), DIRECTION.RADIUS);\n        var gridCfg = deepMix({\n            container: this.gridContainer,\n            center: this.view.getCoordinate().getCenter(),\n        }, gridThemeCfg, get(axisOption, 'grid'), this.getAnimateCfg(axisOption));\n        var alignTick = get(gridCfg, 'alignTick', true);\n        var verticalScale = dim === 'x' ? this.view.getYScales()[0] : this.view.getXScale();\n        gridCfg.items = getCircleGridItems(this.view.getCoordinate(), verticalScale, scale, alignTick, dim);\n        // the cfg order should be ensure\n        // grid 动画以 axis 为准\n        return gridCfg;\n    };\n    Axis.prototype.getId = function (name, key) {\n        var coordinate = this.view.getCoordinate();\n        // 坐标系类型也作为组件的 key\n        return name + \"-\" + key + \"-\" + coordinate.type;\n    };\n    Axis.prototype.getAnimateCfg = function (cfg) {\n        return {\n            animate: this.view.getOptions().animate && get(cfg, 'animate'),\n            animateOption: cfg && cfg.animateOption ? deepMix({}, AXIS_DEFAULT_ANIMATE_CFG, cfg.animateOption) : AXIS_DEFAULT_ANIMATE_CFG,\n        };\n    };\n    return Axis;\n}(Controller));\nexport default Axis;\n//# sourceMappingURL=axis.js.map","import { DIRECTION } from '../constant';\n/**\n * @ignore\n * 方位常量转实际的 bbox 位置大小\n * @param parentBBox\n * @param bbox\n * @param direction\n */\nexport function directionToPosition(parentBBox, bbox, direction) {\n    if (direction === DIRECTION.TOP) {\n        return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.minY];\n    }\n    if (direction === DIRECTION.BOTTOM) {\n        return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.maxY - bbox.height];\n    }\n    if (direction === DIRECTION.LEFT) {\n        return [parentBBox.minX, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n    }\n    if (direction === DIRECTION.RIGHT) {\n        return [parentBBox.maxX - bbox.width, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n    }\n    if (direction === DIRECTION.TOP_LEFT || direction === DIRECTION.LEFT_TOP) {\n        return [parentBBox.tl.x, parentBBox.tl.y];\n    }\n    if (direction === DIRECTION.TOP_RIGHT || direction === DIRECTION.RIGHT_TOP) {\n        return [parentBBox.tr.x - bbox.width, parentBBox.tr.y];\n    }\n    if (direction === DIRECTION.BOTTOM_LEFT || direction === DIRECTION.LEFT_BOTTOM) {\n        return [parentBBox.bl.x, parentBBox.bl.y - bbox.height];\n    }\n    if (direction === DIRECTION.BOTTOM_RIGHT || direction === DIRECTION.RIGHT_BOTTOM) {\n        return [parentBBox.br.x - bbox.width, parentBBox.br.y - bbox.height];\n    }\n    return [0, 0];\n}\n/**\n * get direction after coordinate transpose\n * @param direction\n * @param coordinate\n * @returns direction after transpose or not\n */\nfunction getTransposedDirection(direction, coordinate) {\n    if (coordinate.isTransposed) {\n        switch (direction) {\n            case DIRECTION.BOTTOM:\n                return DIRECTION.LEFT;\n            case DIRECTION.LEFT:\n                return DIRECTION.BOTTOM;\n            case DIRECTION.RIGHT:\n                return DIRECTION.TOP;\n            case DIRECTION.TOP:\n                return DIRECTION.RIGHT;\n        }\n    }\n    return direction;\n}\nfunction reflectX(direct) {\n    if (direct === DIRECTION.LEFT) {\n        return DIRECTION.RIGHT;\n    }\n    if (direct === DIRECTION.RIGHT) {\n        return DIRECTION.LEFT;\n    }\n    return direct;\n}\nfunction reflectY(direct) {\n    if (direct === DIRECTION.TOP) {\n        return DIRECTION.BOTTOM;\n    }\n    if (direct === DIRECTION.BOTTOM) {\n        return DIRECTION.TOP;\n    }\n    return direct;\n}\n/**\n * get direction after coordinate.scale\n * @param direction\n * @param coordinate\n */\nfunction getScaleDirection(direction, coordinate) {\n    var x = coordinate.matrix[0];\n    var y = coordinate.matrix[4];\n    var d = direction;\n    if (x < 0) {\n        d = reflectX(d);\n    }\n    if (y < 0) {\n        d = reflectY(d);\n    }\n    return d;\n}\n/**\n *\n * @param direction\n * @param coordinate\n */\nfunction getReflectDirection(direction, coordinate) {\n    var d = direction;\n    if (coordinate.isReflect('x')) {\n        d = reflectX(d);\n    }\n    if (coordinate.isReflect('y')) {\n        d = reflectY(d);\n    }\n    return d;\n}\n/**\n * @ignore\n * get direction after coordinate translate\n * @param direction\n * @param coordinate\n */\nexport function getTranslateDirection(direction, coordinate) {\n    var d = direction;\n    d = getTransposedDirection(d, coordinate);\n    d = getScaleDirection(d, coordinate);\n    d = getReflectDirection(d, coordinate);\n    return d;\n}\n//# sourceMappingURL=direction.js.map","import { __spreadArrays } from \"tslib\";\n/**\n * @ignore\n * get the mapping value by attribute, if mapping value is nil, return def\n * @param attr\n * @param value\n * @param def\n * @returns get mapping value\n */\nexport function getMappingValue(attr, value, def) {\n    if (!attr) {\n        return def;\n    }\n    var r;\n    // 多参数映射，阻止程序报错\n    if (attr.callback && attr.callback.length > 1) {\n        var restArgs = Array(attr.callback.length - 1).fill('');\n        r = attr.mapping.apply(attr, __spreadArrays([value], restArgs)).join('');\n    }\n    else {\n        r = attr.mapping(value).join('');\n    }\n    return r || def;\n}\n//# sourceMappingURL=attr.js.map","import { deepMix, isString, each } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { getMappingValue } from './attr';\nimport { MarkerSymbols } from './marker';\nfunction setMarkerSymbol(marker) {\n    var symbol = marker.symbol;\n    if (isString(symbol) && MarkerSymbols[symbol]) {\n        marker.symbol = MarkerSymbols[symbol];\n    }\n}\n/**\n * @ignore\n * get the legend layout from direction\n * @param direction\n * @returns layout 'horizontal' | 'vertical'\n */\nexport function getLegendLayout(direction) {\n    return direction.startsWith(DIRECTION.LEFT) || direction.startsWith(DIRECTION.RIGHT) ? 'vertical' : 'horizontal';\n}\n/**\n * @ignore\n * get the legend items\n * @param view\n * @param geometry\n * @param attr\n * @param themeMarker\n * @param userMarker\n * @returns legend items\n */\nexport function getLegendItems(view, geometry, attr, themeMarker, userMarker) {\n    var scale = attr.getScale(attr.type);\n    if (scale.isCategory) {\n        var field_1 = scale.field;\n        var colorAttr_1 = geometry.getAttribute('color');\n        var shapeAttr_1 = geometry.getAttribute('shape');\n        var defaultColor_1 = view.getTheme().defaultColor;\n        var isInPolar_1 = geometry.coordinate.isPolar;\n        return scale.getTicks().map(function (tick) {\n            var _a;\n            var text = tick.text, scaleValue = tick.value;\n            var name = text;\n            var value = scale.invert(scaleValue);\n            // 通过过滤图例项的数据，来看是否 unchecked\n            var unchecked = view.filterFieldData(field_1, [(_a = {}, _a[field_1] = value, _a)]).length === 0;\n            each(view.views, function (subView) {\n                var _a;\n                if (!subView.filterFieldData(field_1, [(_a = {}, _a[field_1] = value, _a)]).length) {\n                    unchecked = true;\n                }\n            });\n            // @ts-ignore\n            var color = getMappingValue(colorAttr_1, value, defaultColor_1);\n            var shape = getMappingValue(shapeAttr_1, value, 'point');\n            var marker = geometry.getShapeMarker(shape, {\n                color: color,\n                isInPolar: isInPolar_1,\n            });\n            // the marker configure order should be ensure\n            marker = deepMix({}, themeMarker, marker, userMarker);\n            setMarkerSymbol(marker);\n            return { id: value, name: name, value: value, marker: marker, unchecked: unchecked };\n        });\n    }\n    return [];\n}\n/**\n * @ignore\n * custom legend 的 items 获取\n * @param themeMarker\n * @param userMarker\n * @param customItems\n */\nexport function getCustomLegendItems(themeMarker, userMarker, customItems) {\n    // 如果有自定义的 item，那么就直接使用，并合并主题的 marker 配置\n    return customItems.map(function (item) {\n        var marker = deepMix({}, themeMarker, userMarker, item.marker);\n        setMarkerSymbol(marker);\n        item.marker = marker;\n        return item;\n    });\n}\n//# sourceMappingURL=legend.js.map","import { __extends } from \"tslib\";\nimport { deepMix, each, find, get, head, isBoolean, last } from '@antv/util';\nimport { COMPONENT_MAX_VIEW_PERCENTAGE, COMPONENT_TYPE, DIRECTION, LAYER } from '../../constant';\nimport { CategoryLegend, ContinuousLegend } from '../../dependents';\nimport { DEFAULT_ANIMATE_CFG } from '../../animate';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { omit } from '../../util/helper';\nimport { getCustomLegendItems, getLegendItems, getLegendLayout } from '../../util/legend';\nimport { getName } from '../../util/scale';\nimport { Controller } from './base';\n/**\n * 从配置中获取单个字段的 legend 配置\n * @param legends\n * @param field\n * @returns the option of one legend field\n */\nfunction getLegendOption(legends, field) {\n    if (isBoolean(legends)) {\n        return legends === false ? false : {};\n    }\n    return get(legends, [field], legends);\n}\nfunction getDirection(legendOption) {\n    return get(legendOption, 'position', DIRECTION.BOTTOM);\n}\n/**\n * @ignore\n * legend Controller\n */\nvar Legend = /** @class */ (function (_super) {\n    __extends(Legend, _super);\n    function Legend(view) {\n        var _this = _super.call(this, view) || this;\n        _this.container = _this.view.getLayer(LAYER.FORE).addGroup();\n        return _this;\n    }\n    Object.defineProperty(Legend.prototype, \"name\", {\n        get: function () {\n            return 'legend';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Legend.prototype.init = function () { };\n    /**\n     * render the legend component by legend options\n     */\n    Legend.prototype.render = function () {\n        // 和 update 逻辑保持一致\n        this.update();\n    };\n    /**\n     * layout legend\n     * 计算出 legend 的 direction 位置 x, y\n     */\n    Legend.prototype.layout = function () {\n        var _this = this;\n        this.layoutBBox = this.view.viewBBox;\n        each(this.components, function (co) {\n            var component = co.component, direction = co.direction;\n            var layout = getLegendLayout(direction);\n            var maxSize = _this.getCategoryLegendSizeCfg(layout);\n            var maxWidth = component.get('maxWidth');\n            var maxHeight = component.get('maxHeight');\n            // 先更新 maxSize，更新 layoutBBox，以便计算正确的 x y\n            component.update({\n                maxWidth: Math.min(maxSize.maxWidth, maxWidth || 0),\n                maxHeight: Math.min(maxSize.maxHeight, maxHeight || 0),\n            });\n            var padding = component.get('padding');\n            var bboxObject = component.getLayoutBBox(); // 这里只需要他的 width、height 信息做位置调整\n            var bbox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(padding);\n            var _a = directionToPosition(_this.view.viewBBox, bbox, direction), x1 = _a[0], y1 = _a[1];\n            var _b = directionToPosition(_this.layoutBBox, bbox, direction), x2 = _b[0], y2 = _b[1];\n            var x = 0;\n            var y = 0;\n            // 因为 legend x y 要和 coordinateBBox 对齐，所以要做一个简单的判断\n            if (direction.startsWith('top') || direction.startsWith('bottom')) {\n                x = x1;\n                y = y2;\n            }\n            else {\n                x = x2;\n                y = y1;\n            }\n            // 更新位置\n            component.setLocation({ x: x + padding[3], y: y + padding[0] });\n            _this.layoutBBox = _this.layoutBBox.cut(bbox, direction);\n        });\n    };\n    /**\n     * legend 的更新逻辑\n     */\n    Legend.prototype.update = function () {\n        var _this = this;\n        this.option = this.view.getOptions().legends;\n        // 已经处理过的 legend\n        var updated = {};\n        var eachLegend = function (geometry, attr, scale) {\n            var id = _this.getId(scale.field);\n            var existCo = _this.getComponentById(id);\n            // 存在则 update\n            if (existCo) {\n                var cfg = void 0;\n                var legendOption = getLegendOption(_this.option, scale.field);\n                // if the legend option is not false, means legend should be created.\n                if (legendOption !== false) {\n                    if (get(legendOption, 'custom')) {\n                        cfg = _this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n                    }\n                    else {\n                        if (scale.isLinear) {\n                            // linear field, create continuous legend\n                            cfg = _this.getContinuousCfg(geometry, attr, scale, legendOption);\n                        }\n                        else if (scale.isCategory) {\n                            // category field, create category legend\n                            cfg = _this.getCategoryCfg(geometry, attr, scale, legendOption);\n                        }\n                    }\n                }\n                // 如果 cfg 为空，则不在 updated 标记，那么会在后面逻辑中删除\n                if (cfg) {\n                    // omit 掉一些属性，比如 container 等\n                    omit(cfg, ['container']);\n                    existCo.direction = getDirection(legendOption);\n                    existCo.component.update(cfg);\n                    // 标记为新的\n                    updated[id] = true;\n                }\n            }\n            else {\n                // 不存在则 create\n                var legend = _this.createFieldLegend(geometry, attr, scale);\n                if (legend) {\n                    legend.component.init();\n                    _this.components.push(legend);\n                    // 标记为新的\n                    updated[id] = true;\n                }\n            }\n        };\n        // 全局自定义图例\n        if (get(this.option, 'custom')) {\n            var id = 'global-custom';\n            var existCo = this.getComponentById(id);\n            if (existCo) {\n                var customCfg = this.getCategoryCfg(undefined, undefined, undefined, this.option, true);\n                omit(customCfg, ['container']);\n                existCo.component.update(customCfg);\n                updated[id] = true;\n            }\n            else {\n                var component = this.createCustomLegend(undefined, undefined, undefined, this.option);\n                if (component) {\n                    component.init();\n                    var layer = LAYER.FORE;\n                    var direction = getDirection(this.option);\n                    this.components.push({\n                        id: id,\n                        component: component,\n                        layer: layer,\n                        direction: direction,\n                        type: COMPONENT_TYPE.LEGEND,\n                        extra: undefined,\n                    });\n                    // 标记为更新\n                    updated[id] = true;\n                }\n            }\n        }\n        else {\n            // 遍历处理每一个创建逻辑\n            this.loopLegends(eachLegend);\n        }\n        // 处理完成之后，销毁删除的\n        // 不在处理中的\n        var components = [];\n        each(this.getComponents(), function (co) {\n            if (updated[co.id]) {\n                components.push(co);\n            }\n            else {\n                co.component.destroy();\n            }\n        });\n        // 更新当前已有的 components\n        this.components = components;\n    };\n    Legend.prototype.clear = function () {\n        _super.prototype.clear.call(this);\n        this.container.clear();\n    };\n    Legend.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.container.remove(true);\n    };\n    /**\n     * 递归获取所有的 Geometry\n     */\n    Legend.prototype.getGeometries = function (view) {\n        var _this = this;\n        var geometries = view.geometries;\n        each(view.views, function (v) {\n            geometries = geometries.concat(_this.getGeometries(v));\n        });\n        return geometries;\n    };\n    /**\n     * 遍历 Geometry，处理 legend 逻辑\n     * @param doEach 每个 loop 中的处理方法\n     */\n    Legend.prototype.loopLegends = function (doEach) {\n        var isRootView = this.view.getRootView() === this.view;\n        // 非根 view，不处理 legend\n        if (!isRootView) {\n            return;\n        }\n        // 递归 view 中所有的 Geometry，进行创建 legend\n        var geometries = this.getGeometries(this.view);\n        var looped = {}; // 防止一个字段创建两个 legend\n        each(geometries, function (geometry) {\n            var attributes = geometry.getGroupAttributes();\n            each(attributes, function (attr) {\n                var scale = attr.getScale(attr.type);\n                // 如果在视觉通道上映射常量值，如 size(2) shape('circle') 不创建 legend\n                if (!scale || scale.type === 'identity' || looped[scale.field]) {\n                    return;\n                }\n                doEach(geometry, attr, scale);\n                looped[scale.field] = true;\n            });\n        });\n    };\n    /**\n     * 创建一个 legend\n     * @param geometry\n     * @param attr\n     * @param scale\n     */\n    Legend.prototype.createFieldLegend = function (geometry, attr, scale) {\n        var component;\n        var legendOption = getLegendOption(this.option, scale.field);\n        var layer = LAYER.FORE;\n        var direction = getDirection(legendOption);\n        // if the legend option is not false, means legend should be created.\n        if (legendOption !== false) {\n            if (get(legendOption, 'custom')) {\n                component = this.createCustomLegend(geometry, attr, scale, legendOption);\n            }\n            else {\n                if (scale.isLinear) {\n                    // linear field, create continuous legend\n                    component = this.createContinuousLegend(geometry, attr, scale, legendOption);\n                }\n                else if (scale.isCategory) {\n                    // category field, create category legend\n                    component = this.createCategoryLegend(geometry, attr, scale, legendOption);\n                }\n            }\n        }\n        if (component) {\n            component.set('field', scale.field);\n            return {\n                id: this.getId(scale.field),\n                component: component,\n                layer: layer,\n                direction: direction,\n                type: COMPONENT_TYPE.LEGEND,\n                extra: { scale: scale },\n            };\n        }\n    };\n    /**\n     * 自定义图例使用 category 图例去渲染\n     * @param geometry\n     * @param attr\n     * @param scale\n     * @param legendOption\n     */\n    Legend.prototype.createCustomLegend = function (geometry, attr, scale, legendOption) {\n        // 直接使用 分类图例渲染\n        var cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n        return new CategoryLegend(cfg);\n    };\n    /**\n     * 创建连续图例\n     * @param geometry\n     * @param attr\n     * @param scale\n     * @param legendOption\n     */\n    Legend.prototype.createContinuousLegend = function (geometry, attr, scale, legendOption) {\n        var cfg = this.getContinuousCfg(geometry, attr, scale, legendOption);\n        return new ContinuousLegend(cfg);\n    };\n    /**\n     * 创建分类图例\n     * @param geometry\n     * @param attr\n     * @param scale\n     * @param legendOption\n     */\n    Legend.prototype.createCategoryLegend = function (geometry, attr, scale, legendOption) {\n        var cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n        return new CategoryLegend(cfg);\n    };\n    /**\n     * 获得连续图例的配置\n     * @param geometry\n     * @param attr\n     * @param scale\n     * @param legendOption\n     */\n    Legend.prototype.getContinuousCfg = function (geometry, attr, scale, legendOption) {\n        var ticks = scale.getTicks();\n        var containMin = find(ticks, function (tick) { return tick.value === 0; });\n        var containMax = find(ticks, function (tick) { return tick.value === 1; });\n        var items = ticks.map(function (tick) {\n            var value = tick.value, tickValue = tick.tickValue;\n            var attrValue = attr.mapping(scale.invert(value)).join('');\n            return {\n                value: tickValue,\n                attrValue: attrValue,\n                color: attrValue,\n                scaleValue: value,\n            };\n        });\n        if (!containMin) {\n            items.push({\n                value: scale.min,\n                attrValue: attr.mapping(scale.invert(0)).join(''),\n                color: attr.mapping(scale.invert(0)).join(''),\n                scaleValue: 0,\n            });\n        }\n        if (!containMax) {\n            items.push({\n                value: scale.max,\n                attrValue: attr.mapping(scale.invert(1)).join(''),\n                color: attr.mapping(scale.invert(1)).join(''),\n                scaleValue: 1,\n            });\n        }\n        // 排序\n        items.sort(function (a, b) { return a.value - b.value; });\n        // 跟 attr 相关的配置\n        // size color 区别的配置\n        var attrLegendCfg = {\n            min: head(items).value,\n            max: last(items).value,\n            colors: [],\n            rail: {\n                type: attr.type,\n            },\n            track: {},\n        };\n        if (attr.type === 'size') {\n            attrLegendCfg.track = {\n                style: {\n                    // size 的选中前景色，对于 color，则直接使用 color 标识\n                    // @ts-ignore\n                    fill: attr.type === 'size' ? this.view.getTheme().defaultColor : undefined,\n                },\n            };\n        }\n        if (attr.type === 'color') {\n            attrLegendCfg.colors = items.map(function (item) { return item.attrValue; });\n        }\n        var container = this.container;\n        // if position is not set, use top as default\n        var direction = getDirection(legendOption);\n        var layout = getLegendLayout(direction);\n        var title = get(legendOption, 'title');\n        if (title) {\n            title = deepMix({\n                text: getName(scale),\n            }, title);\n        }\n        // 基础配置，从当前数据中读到的配置\n        attrLegendCfg.container = container;\n        attrLegendCfg.layout = layout;\n        attrLegendCfg.title = title;\n        attrLegendCfg.animateOption = DEFAULT_ANIMATE_CFG;\n        // @ts-ignore\n        return this.mergeLegendCfg(attrLegendCfg, legendOption, 'continuous');\n    };\n    /**\n     * 获取分类图例的配置项\n     * @param geometry\n     * @param attr\n     * @param scale\n     * @param custom\n     * @param legendOption\n     */\n    Legend.prototype.getCategoryCfg = function (geometry, attr, scale, legendOption, custom) {\n        var container = this.container;\n        // if position is not set, use top as default\n        var direction = get(legendOption, 'position', DIRECTION.BOTTOM);\n        // the default marker style\n        var themeMarker = get(this.view.getTheme(), ['components', 'legend', direction, 'marker']);\n        var userMarker = get(legendOption, 'marker');\n        var layout = getLegendLayout(direction);\n        var items = custom\n            ? getCustomLegendItems(themeMarker, userMarker, legendOption.items)\n            : getLegendItems(this.view, geometry, attr, themeMarker, userMarker);\n        var title = get(legendOption, 'title');\n        if (title) {\n            title = deepMix({\n                text: scale ? getName(scale) : '',\n            }, title);\n        }\n        var baseCfg = this.getCategoryLegendSizeCfg(layout);\n        baseCfg.container = container;\n        baseCfg.layout = layout;\n        baseCfg.items = items;\n        baseCfg.title = title;\n        baseCfg.animateOption = DEFAULT_ANIMATE_CFG;\n        var categoryCfg = this.mergeLegendCfg(baseCfg, legendOption, direction);\n        if (categoryCfg.reversed) {\n            // 图例项需要逆序\n            categoryCfg.items.reverse();\n        }\n        var maxItemWidth = get(categoryCfg, 'maxItemWidth');\n        if (maxItemWidth && maxItemWidth <= 1) {\n            // 转换成像素值\n            categoryCfg.maxItemWidth = this.view.viewBBox.width * maxItemWidth;\n        }\n        return categoryCfg;\n    };\n    /**\n     * get legend config, use option > suggestion > theme\n     * @param baseCfg\n     * @param legendOption\n     * @param direction\n     */\n    Legend.prototype.mergeLegendCfg = function (baseCfg, legendOption, direction) {\n        var position = direction.split('-')[0];\n        var themeObject = get(this.view.getTheme(), ['components', 'legend', position], {});\n        return deepMix({}, themeObject, baseCfg, legendOption);\n    };\n    /**\n     * 生成 id\n     * @param key\n     */\n    Legend.prototype.getId = function (key) {\n        return this.name + \"-\" + key;\n    };\n    /**\n     * 根据 id 来获取组件\n     * @param id\n     */\n    Legend.prototype.getComponentById = function (id) {\n        return find(this.components, function (co) { return co.id === id; });\n    };\n    Legend.prototype.getCategoryLegendSizeCfg = function (layout) {\n        var _a = this.view.viewBBox, vw = _a.width, vh = _a.height;\n        // 目前 legend 的布局是以 viewBBox 为参照\n        // const { width: cw, height: ch } = this.view.coordinateBBox;\n        return layout === 'vertical'\n            ? {\n                maxWidth: vw * COMPONENT_MAX_VIEW_PERCENTAGE,\n                maxHeight: vh,\n            }\n            : {\n                maxWidth: vw,\n                maxHeight: vh * COMPONENT_MAX_VIEW_PERCENTAGE,\n            };\n    };\n    return Legend;\n}(Controller));\nexport default Legend;\n//# sourceMappingURL=legend.js.map","import { __assign, __extends } from \"tslib\";\nimport { deepMix, get, isObject, size, clamp, isNil, noop, throttle, groupBy, keys, isEmpty } from '@antv/util';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { Slider as SliderComponent } from '../../dependents';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { isBetween } from '../../util/helper';\nimport { Controller } from './base';\n/**\n * @ignore\n * slider Controller\n */\nvar Slider = /** @class */ (function (_super) {\n    __extends(Slider, _super);\n    function Slider(view) {\n        var _this = _super.call(this, view) || this;\n        _this.onChangeFn = noop;\n        /**\n         * 清除测量\n         */\n        _this.resetMeasure = function () {\n            _this.clear();\n        };\n        /**\n         * 滑块滑动的时候出发\n         * @param v\n         */\n        _this.onValueChange = function (v) {\n            var min = v[0], max = v[1];\n            _this.start = min;\n            _this.end = max;\n            _this.changeViewData(min, max);\n        };\n        _this.container = _this.view.getLayer(LAYER.FORE).addGroup();\n        _this.onChangeFn = throttle(_this.onValueChange, 20, {\n            leading: true,\n        });\n        _this.width = 0;\n        _this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, _this.resetMeasure);\n        _this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, _this.resetMeasure);\n        return _this;\n    }\n    Object.defineProperty(Slider.prototype, \"name\", {\n        get: function () {\n            return 'slider';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Slider.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n        this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n    };\n    /**\n     * 初始化\n     */\n    Slider.prototype.init = function () { };\n    /**\n     * 渲染\n     */\n    Slider.prototype.render = function () {\n        this.option = this.view.getOptions().slider;\n        var _a = this.getSliderCfg(), start = _a.start, end = _a.end;\n        if (isNil(this.start)) {\n            this.start = start;\n            this.end = end;\n        }\n        var viewData = this.view.getOptions().data;\n        if (this.option && !isEmpty(viewData)) {\n            if (this.slider) {\n                // exist, update\n                this.slider = this.updateSlider();\n            }\n            else {\n                // not exist, create\n                this.slider = this.createSlider();\n                // 监听事件，绑定交互\n                this.slider.component.on('sliderchange', this.onChangeFn);\n            }\n        }\n        else {\n            if (this.slider) {\n                // exist, destroy\n                this.slider.component.destroy();\n                this.slider = undefined;\n            }\n            else {\n                // do nothing\n            }\n        }\n    };\n    /**\n     * 布局\n     */\n    Slider.prototype.layout = function () {\n        var _this = this;\n        if (this.option && !this.width) {\n            this.measureSlider();\n            setTimeout(function () {\n                // 初始状态下的 view 数据过滤\n                if (!_this.view.destroyed) {\n                    _this.changeViewData(_this.start, _this.end);\n                }\n            }, 0);\n        }\n        if (this.slider) {\n            var width = this.view.coordinateBBox.width;\n            // 获取组件的 layout bbox\n            var padding = this.slider.component.get('padding');\n            var paddingTop = padding[0], paddingRight = padding[1], paddingBottom = padding[2], paddingLeft = padding[3];\n            var bboxObject = this.slider.component.getLayoutBBox();\n            var bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(padding);\n            var _a = this.getMinMaxText(this.start, this.end), minText = _a.minText, maxText = _a.maxText;\n            var _b = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM), x1 = _b[0], y1 = _b[1];\n            var _c = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM), x2 = _c[0], y2 = _c[1];\n            // 默认放在 bottom\n            this.slider.component.update(__assign(__assign({}, this.getSliderCfg()), { x: x2 + paddingLeft, y: y1 + paddingTop, width: this.width, start: this.start, end: this.end, minText: minText,\n                maxText: maxText }));\n            this.view.viewBBox = this.view.viewBBox.cut(bbox, DIRECTION.BOTTOM);\n        }\n    };\n    /**\n     * 更新\n     */\n    Slider.prototype.update = function () {\n        // 逻辑和 render 保持一致\n        this.render();\n    };\n    /**\n     * 创建 slider 组件\n     */\n    Slider.prototype.createSlider = function () {\n        var cfg = this.getSliderCfg();\n        // 添加 slider 组件\n        var component = new SliderComponent(__assign({ container: this.container }, cfg));\n        component.init();\n        return {\n            component: component,\n            layer: LAYER.FORE,\n            direction: DIRECTION.BOTTOM,\n            type: COMPONENT_TYPE.SLIDER,\n        };\n    };\n    /**\n     * 更新配置\n     */\n    Slider.prototype.updateSlider = function () {\n        var cfg = this.getSliderCfg();\n        if (this.width) {\n            var _a = this.getMinMaxText(this.start, this.end), minText = _a.minText, maxText = _a.maxText;\n            cfg = __assign(__assign({}, cfg), { width: this.width, start: this.start, end: this.end, minText: minText, maxText: maxText });\n        }\n        this.slider.component.update(cfg);\n        return this.slider;\n    };\n    /**\n     * 进行测量操作\n     */\n    Slider.prototype.measureSlider = function () {\n        var width = this.getSliderCfg().width;\n        this.width = width;\n    };\n    /**\n     * 生成 slider 配置\n     */\n    Slider.prototype.getSliderCfg = function () {\n        var cfg = {\n            height: 16,\n            start: 0,\n            end: 1,\n            minText: '',\n            maxText: '',\n            x: 0,\n            y: 0,\n            width: this.view.coordinateBBox.width,\n        };\n        if (isObject(this.option)) {\n            // 用户配置的数据，优先级更高\n            var trendCfg = __assign({ data: this.getData() }, get(this.option, 'trendCfg', {}));\n            // 因为有样式，所以深层覆盖\n            cfg = deepMix({}, cfg, this.getThemeOptions(), this.option);\n            // trendCfg 因为有数据数组，所以使用浅替换\n            cfg = __assign(__assign({}, cfg), { trendCfg: trendCfg });\n        }\n        cfg.start = clamp(Math.min(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n        cfg.end = clamp(Math.max(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n        return cfg;\n    };\n    /**\n     * 从 view 中获取数据，缩略轴使用全量的数据\n     */\n    Slider.prototype.getData = function () {\n        var data = this.view.getOptions().data;\n        var yScale = this.view.getYScales()[0];\n        var groupScales = this.view.getGroupScales();\n        if (groupScales.length) {\n            var _a = groupScales[0], field_1 = _a.field, ticks_1 = _a.ticks;\n            return data.reduce(function (pre, cur) {\n                if (cur[field_1] === ticks_1[0]) {\n                    pre.push(cur[yScale.field]);\n                }\n                return pre;\n            }, []);\n        }\n        return data.map(function (datum) { return datum[yScale.field] || 0; });\n    };\n    /**\n     * 获取 slider 的主题配置\n     */\n    Slider.prototype.getThemeOptions = function () {\n        var theme = this.view.getTheme();\n        return get(theme, ['components', 'slider', 'common'], {});\n    };\n    /**\n     * 根据 start/end 和当前数据计算出当前的 minText/maxText\n     * @param min\n     * @param max\n     */\n    Slider.prototype.getMinMaxText = function (min, max) {\n        var data = this.view.getOptions().data;\n        var xScale = this.view.getXScale();\n        var groupedData = groupBy(data, xScale.field);\n        var isHorizontal = true;\n        var xValues = isHorizontal ? keys(groupedData) : keys(groupedData).reverse();\n        var dataSize = size(data);\n        if (!xScale || !dataSize) {\n            return {}; // fix: 需要兼容，否则调用方直接取值会报错\n        }\n        var xTickCount = size(xValues);\n        var minIndex = Math.floor(min * (xTickCount - 1));\n        var maxIndex = Math.floor(max * (xTickCount - 1));\n        var minText = get(xValues, [minIndex]);\n        var maxText = get(xValues, [maxIndex]);\n        var formatter = this.getSliderCfg().formatter;\n        if (formatter) {\n            minText = formatter(minText, data[minIndex], minIndex);\n            maxText = formatter(maxText, data[maxIndex], maxIndex);\n        }\n        return {\n            minText: minText,\n            maxText: maxText,\n        };\n    };\n    /**\n     * 更新 view 过滤数据\n     * @param min\n     * @param max\n     */\n    Slider.prototype.changeViewData = function (min, max) {\n        var data = this.view.getOptions().data;\n        var xScale = this.view.getXScale();\n        var groupedData = groupBy(data, xScale.field);\n        var isHorizontal = true;\n        var xValues = isHorizontal ? keys(groupedData) : keys(groupedData).reverse();\n        var dataSize = size(data);\n        if (!xScale || !dataSize) {\n            return;\n        }\n        var xTickCount = size(xValues);\n        var minIndex = Math.floor(min * (xTickCount - 1));\n        var maxIndex = Math.floor(max * (xTickCount - 1));\n        // 增加 x 轴的过滤器\n        this.view.filter(xScale.field, function (value, datum) {\n            var idx = xValues.indexOf(value);\n            return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n        });\n        this.view.render(true);\n    };\n    /**\n     * 覆写父类方法\n     */\n    Slider.prototype.getComponents = function () {\n        return this.slider ? [this.slider] : [];\n    };\n    /**\n     * 覆盖父类\n     */\n    Slider.prototype.clear = function () {\n        if (this.slider) {\n            this.slider.component.destroy();\n            this.slider = undefined;\n        }\n        this.width = 0;\n        this.start = undefined;\n        this.end = undefined;\n    };\n    return Slider;\n}(Controller));\nexport default Slider;\n//# sourceMappingURL=slider.js.map","import { __assign, __extends } from \"tslib\";\nimport { deepMix, find, flatten, get, isArray, isEqual, isFunction, mix, isString, isBoolean } from '@antv/util';\nimport { Crosshair, HtmlTooltip } from '../../dependents';\nimport { getAngleByPoint, getDistanceToCenter, isPointInCoordinate } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { findDataByPoint, getTooltipItems } from '../../util/tooltip';\nimport { BBox } from '../../util/bbox';\nimport { Controller } from './base';\nimport Event from '../event';\n// Filter duplicates, use `name`, `color`, `value` and `title` property values as condition\nfunction uniq(items) {\n    var uniqItems = [];\n    var _loop_1 = function (index) {\n        var item = items[index];\n        var result = find(uniqItems, function (subItem) {\n            return (subItem.color === item.color &&\n                subItem.name === item.name &&\n                subItem.value === item.value &&\n                subItem.title === item.title);\n        });\n        if (!result) {\n            uniqItems.push(item);\n        }\n    };\n    for (var index = 0; index < items.length; index++) {\n        _loop_1(index);\n    }\n    return uniqItems;\n}\n/** @ignore */\nvar Tooltip = /** @class */ (function (_super) {\n    __extends(Tooltip, _super);\n    function Tooltip() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.isLocked = false;\n        return _this;\n    }\n    Object.defineProperty(Tooltip.prototype, \"name\", {\n        get: function () {\n            return 'tooltip';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Tooltip.prototype.init = function () { };\n    Tooltip.prototype.isVisible = function () {\n        var option = this.view.getOptions().tooltip;\n        return option !== false;\n    };\n    Tooltip.prototype.render = function () { };\n    /**\n     * Shows tooltip\n     * @param point\n     */\n    Tooltip.prototype.showTooltip = function (point) {\n        this.point = point;\n        if (!this.isVisible()) {\n            // 如果设置 tooltip(false) 则始终不显示\n            return;\n        }\n        var view = this.view;\n        var items = this.getTooltipItems(point);\n        if (!items.length) {\n            // 无内容则不展示，同时 tooltip 需要隐藏\n            this.hideTooltip();\n            return;\n        }\n        var title = this.getTitle(items);\n        var dataPoint = {\n            x: items[0].x,\n            y: items[0].y,\n        }; // 数据点位置\n        view.emit('tooltip:show', Event.fromData(view, 'tooltip:show', __assign({ items: items,\n            title: title }, point)));\n        var cfg = this.getTooltipCfg();\n        var follow = cfg.follow, showMarkers = cfg.showMarkers, showCrosshairs = cfg.showCrosshairs, showContent = cfg.showContent, marker = cfg.marker;\n        var lastItems = this.items;\n        var lastTitle = this.title;\n        if (!isEqual(lastTitle, title) || !isEqual(lastItems, items)) {\n            // 内容发生变化了更新 tooltip\n            view.emit('tooltip:change', Event.fromData(view, 'tooltip:change', __assign({ items: items,\n                title: title }, point)));\n            if (showContent) {\n                // 展示 tooltip 内容框才渲染 tooltip\n                if (!this.tooltip) {\n                    // 延迟生成\n                    this.renderTooltip();\n                }\n                this.tooltip.update(mix({}, cfg, {\n                    items: items,\n                    title: title,\n                }, follow ? point : {}));\n                this.tooltip.show();\n            }\n            if (showMarkers) {\n                // 展示 tooltipMarkers，tooltipMarkers 跟随数据\n                this.renderTooltipMarkers(items, marker);\n            }\n        }\n        else {\n            // 内容未发生变化，则更新位置\n            if (this.tooltip && follow) {\n                this.tooltip.update(point);\n                this.tooltip.show(); // tooltip 有可能被隐藏，需要保证显示状态\n            }\n            if (this.tooltipMarkersGroup) {\n                this.tooltipMarkersGroup.show();\n            }\n        }\n        this.items = items;\n        this.title = title;\n        if (showCrosshairs) {\n            // 展示 tooltip 辅助线\n            var isCrosshairsFollowCursor = get(cfg, ['crosshairs', 'follow'], false); // 辅助线是否要跟随鼠标\n            this.renderCrosshairs(isCrosshairsFollowCursor ? point : dataPoint, cfg);\n        }\n    };\n    Tooltip.prototype.hideTooltip = function () {\n        var follow = this.getTooltipCfg().follow;\n        if (!follow) {\n            this.point = null;\n            return;\n        }\n        // hide the tooltipMarkers\n        var tooltipMarkersGroup = this.tooltipMarkersGroup;\n        if (tooltipMarkersGroup) {\n            tooltipMarkersGroup.hide();\n        }\n        // hide crosshairs\n        var xCrosshair = this.xCrosshair;\n        var yCrosshair = this.yCrosshair;\n        if (xCrosshair) {\n            xCrosshair.hide();\n        }\n        if (yCrosshair) {\n            yCrosshair.hide();\n        }\n        var tooltip = this.tooltip;\n        if (tooltip) {\n            tooltip.hide();\n        }\n        this.view.emit('tooltip:hide', Event.fromData(this.view, 'tooltip:hide', {}));\n        this.point = null;\n    };\n    /**\n     * lockTooltip\n     */\n    Tooltip.prototype.lockTooltip = function () {\n        this.isLocked = true;\n        if (this.tooltip) {\n            // tooltip contianer 可捕获事件\n            this.tooltip.setCapture(true);\n        }\n    };\n    /**\n     * unlockTooltip\n     */\n    Tooltip.prototype.unlockTooltip = function () {\n        this.isLocked = false;\n        var cfg = this.getTooltipCfg();\n        if (this.tooltip) {\n            // 重置 capture 属性\n            this.tooltip.setCapture(cfg.capture);\n        }\n    };\n    /**\n     * isTooltipLocked\n     */\n    Tooltip.prototype.isTooltipLocked = function () {\n        return this.isLocked;\n    };\n    Tooltip.prototype.clear = function () {\n        var _a = this, tooltip = _a.tooltip, xCrosshair = _a.xCrosshair, yCrosshair = _a.yCrosshair, tooltipMarkersGroup = _a.tooltipMarkersGroup;\n        if (tooltip) {\n            tooltip.hide();\n            tooltip.clear();\n        }\n        if (xCrosshair) {\n            xCrosshair.clear();\n        }\n        if (yCrosshair) {\n            yCrosshair.clear();\n        }\n        if (tooltipMarkersGroup) {\n            tooltipMarkersGroup.clear();\n        }\n    };\n    Tooltip.prototype.destroy = function () {\n        if (this.tooltip) {\n            this.tooltip.destroy();\n        }\n        if (this.xCrosshair) {\n            this.xCrosshair.destroy();\n        }\n        if (this.yCrosshair) {\n            this.yCrosshair.destroy();\n        }\n        if (this.guideGroup) {\n            this.guideGroup.remove(true);\n        }\n        this.items = null;\n        this.title = null;\n        this.tooltipMarkersGroup = null;\n        this.tooltipCrosshairsGroup = null;\n        this.xCrosshair = null;\n        this.yCrosshair = null;\n        this.tooltip = null;\n        this.guideGroup = null;\n        this.isLocked = false;\n        this.point = null;\n    };\n    Tooltip.prototype.changeVisible = function (visible) {\n        if (this.visible === visible) {\n            return;\n        }\n        var _a = this, tooltip = _a.tooltip, tooltipMarkersGroup = _a.tooltipMarkersGroup, xCrosshair = _a.xCrosshair, yCrosshair = _a.yCrosshair;\n        if (visible) {\n            if (tooltip) {\n                tooltip.show();\n            }\n            if (tooltipMarkersGroup) {\n                tooltipMarkersGroup.show();\n            }\n            if (xCrosshair) {\n                xCrosshair.show();\n            }\n            if (yCrosshair) {\n                yCrosshair.show();\n            }\n        }\n        else {\n            if (tooltip) {\n                tooltip.hide();\n            }\n            if (tooltipMarkersGroup) {\n                tooltipMarkersGroup.hide();\n            }\n            if (xCrosshair) {\n                xCrosshair.hide();\n            }\n            if (yCrosshair) {\n                yCrosshair.hide();\n            }\n        }\n        this.visible = visible;\n    };\n    Tooltip.prototype.getTooltipItems = function (point) {\n        var items = this.findItemsFromView(this.view, point);\n        if (items.length) {\n            // 三层\n            items = flatten(items);\n            for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n                var itemArr = items_1[_i];\n                for (var _a = 0, itemArr_1 = itemArr; _a < itemArr_1.length; _a++) {\n                    var item = itemArr_1[_a];\n                    var _b = item.mappingData, x = _b.x, y = _b.y;\n                    item.x = isArray(x) ? x[x.length - 1] : x;\n                    item.y = isArray(y) ? y[y.length - 1] : y;\n                }\n            }\n            var shared = this.getTooltipCfg().shared;\n            // shared: false 代表只显示当前拾取到的 shape 的数据，但是一个 view 会有多个 Geometry，所以有可能会拾取到多个 shape\n            if (shared === false && items.length > 1) {\n                var snapItem = items[0];\n                var min = Math.abs(point.y - snapItem[0].y);\n                for (var _c = 0, items_2 = items; _c < items_2.length; _c++) {\n                    var aItem = items_2[_c];\n                    var yDistance = Math.abs(point.y - aItem[0].y);\n                    if (yDistance <= min) {\n                        snapItem = aItem;\n                        min = yDistance;\n                    }\n                }\n                items = [snapItem];\n            }\n            return uniq(flatten(items));\n        }\n        return [];\n    };\n    Tooltip.prototype.layout = function () { };\n    Tooltip.prototype.update = function () {\n        if (this.point) {\n            this.showTooltip(this.point);\n        }\n        if (this.tooltip) {\n            // #2279 修复resize之后tooltip越界的问题\n            // 确保tooltip已经创建的情况下\n            var canvas = this.view.getCanvas();\n            // TODO 逍为 tooltip 的区域不应该是 canvas，而应该是整个 特别是在图比较小的时候\n            // 更新 region\n            this.tooltip.set('region', {\n                start: { x: 0, y: 0 },\n                end: { x: canvas.get('width'), y: canvas.get('height') },\n            });\n        }\n    };\n    /**\n     * 当前鼠标点是在 enter tooltip 中\n     * @param point\n     */\n    Tooltip.prototype.isCursorEntered = function (point) {\n        // 是可捕获的，并且点在 tooltip dom 上\n        if (this.tooltip) {\n            var el = this.tooltip.getContainer();\n            var capture = this.tooltip.get('capture');\n            if (el && capture) {\n                var _a = el.getBoundingClientRect(), x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n                return new BBox(x, y, width, height).isPointIn(point);\n            }\n        }\n        return false;\n    };\n    // 获取 tooltip 配置，因为用户可能会通过 view.tooltip() 重新配置 tooltip，所以就不做缓存，每次直接读取\n    Tooltip.prototype.getTooltipCfg = function () {\n        var view = this.view;\n        var option = view.getOptions().tooltip;\n        var processOption = this.processCustomContent(option);\n        var theme = view.getTheme();\n        var defaultCfg = get(theme, ['components', 'tooltip'], {});\n        var enterable = get(processOption, 'enterable', defaultCfg.enterable);\n        return deepMix({}, defaultCfg, processOption, {\n            capture: enterable || this.isLocked ? true : false,\n        });\n    };\n    // process customContent\n    Tooltip.prototype.processCustomContent = function (option) {\n        if (isBoolean(option) || !get(option, 'customContent')) {\n            return option;\n        }\n        var currentCustomContent = option.customContent;\n        var customContent = function (title, items) {\n            var content = currentCustomContent(title, items) || '';\n            return isString(content) ? '<div class=\"g2-tooltip\">' + content + '</div>' : content;\n        };\n        return __assign(__assign({}, option), { customContent: customContent });\n    };\n    Tooltip.prototype.getTitle = function (items) {\n        var title = items[0].title || items[0].name;\n        this.title = title;\n        return title;\n    };\n    Tooltip.prototype.renderTooltip = function () {\n        var canvas = this.view.getCanvas();\n        var region = {\n            start: { x: 0, y: 0 },\n            end: { x: canvas.get('width'), y: canvas.get('height') },\n        };\n        var cfg = this.getTooltipCfg();\n        var tooltip = new HtmlTooltip(__assign(__assign({ parent: canvas.get('el').parentNode, region: region }, cfg), { visible: false, crosshairs: null }));\n        tooltip.init();\n        this.tooltip = tooltip;\n    };\n    Tooltip.prototype.renderTooltipMarkers = function (items, marker) {\n        var tooltipMarkersGroup = this.getTooltipMarkersGroup();\n        for (var _i = 0, items_3 = items; _i < items_3.length; _i++) {\n            var item = items_3[_i];\n            var x = item.x, y = item.y;\n            var attrs = __assign(__assign({ fill: item.color, symbol: 'circle', shadowColor: item.color }, marker), { x: x,\n                y: y });\n            tooltipMarkersGroup.addShape('marker', {\n                attrs: attrs,\n            });\n        }\n    };\n    Tooltip.prototype.renderCrosshairs = function (point, cfg) {\n        var crosshairsType = get(cfg, ['crosshairs', 'type'], 'x'); // 默认展示 x 轴上的辅助线\n        if (crosshairsType === 'x') {\n            if (this.yCrosshair) {\n                this.yCrosshair.hide();\n            }\n            this.renderXCrosshairs(point, cfg);\n        }\n        else if (crosshairsType === 'y') {\n            if (this.xCrosshair) {\n                this.xCrosshair.hide();\n            }\n            this.renderYCrosshairs(point, cfg);\n        }\n        else if (crosshairsType === 'xy') {\n            this.renderXCrosshairs(point, cfg);\n            this.renderYCrosshairs(point, cfg);\n        }\n    };\n    // 渲染 x 轴上的 tooltip 辅助线\n    Tooltip.prototype.renderXCrosshairs = function (point, tooltipCfg) {\n        var coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n        if (!isPointInCoordinate(coordinate, point)) {\n            return;\n        }\n        var start;\n        var end;\n        if (coordinate.isRect) {\n            if (coordinate.isTransposed) {\n                start = {\n                    x: coordinate.start.x,\n                    y: point.y,\n                };\n                end = {\n                    x: coordinate.end.x,\n                    y: point.y,\n                };\n            }\n            else {\n                start = {\n                    x: point.x,\n                    y: coordinate.end.y,\n                };\n                end = {\n                    x: point.x,\n                    y: coordinate.start.y,\n                };\n            }\n        }\n        else {\n            // 极坐标下 x 轴上的 crosshairs 表现为半径\n            var angle = getAngleByPoint(coordinate, point);\n            var center = coordinate.getCenter();\n            var radius = coordinate.getRadius();\n            end = polarToCartesian(center.x, center.y, radius, angle);\n            start = center;\n        }\n        var cfg = deepMix({\n            start: start,\n            end: end,\n            container: this.getTooltipCrosshairsGroup(),\n        }, get(tooltipCfg, 'crosshairs', {}), this.getCrosshairsText('x', point, tooltipCfg));\n        delete cfg.type; // 与 Crosshairs 组件的 type 冲突故删除\n        var xCrosshair = this.xCrosshair;\n        if (xCrosshair) {\n            xCrosshair.update(cfg);\n        }\n        else {\n            xCrosshair = new Crosshair.Line(cfg);\n            xCrosshair.init();\n        }\n        xCrosshair.render();\n        xCrosshair.show();\n        this.xCrosshair = xCrosshair;\n    };\n    // 渲染 y 轴上的辅助线\n    Tooltip.prototype.renderYCrosshairs = function (point, tooltipCfg) {\n        var coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n        if (!isPointInCoordinate(coordinate, point)) {\n            return;\n        }\n        var cfg;\n        var type;\n        if (coordinate.isRect) {\n            var start = void 0;\n            var end = void 0;\n            if (coordinate.isTransposed) {\n                start = {\n                    x: point.x,\n                    y: coordinate.end.y,\n                };\n                end = {\n                    x: point.x,\n                    y: coordinate.start.y,\n                };\n            }\n            else {\n                start = {\n                    x: coordinate.start.x,\n                    y: point.y,\n                };\n                end = {\n                    x: coordinate.end.x,\n                    y: point.y,\n                };\n            }\n            cfg = {\n                start: start,\n                end: end,\n            };\n            type = 'Line';\n        }\n        else {\n            // 极坐标下 y 轴上的 crosshairs 表现为圆弧\n            cfg = {\n                center: coordinate.getCenter(),\n                // @ts-ignore\n                radius: getDistanceToCenter(coordinate, point),\n                startAngle: coordinate.startAngle,\n                endAngle: coordinate.endAngle,\n            };\n            type = 'Circle';\n        }\n        cfg = deepMix({\n            container: this.getTooltipCrosshairsGroup(),\n        }, cfg, get(tooltipCfg, 'crosshairs', {}), this.getCrosshairsText('y', point, tooltipCfg));\n        delete cfg.type; // 与 Crosshairs 组件的 type 冲突故删除\n        var yCrosshair = this.yCrosshair;\n        if (yCrosshair) {\n            // 如果坐标系发生直角坐标系与极坐标的切换操作\n            if ((coordinate.isRect && yCrosshair.get('type') === 'circle') ||\n                (!coordinate.isRect && yCrosshair.get('type') === 'line')) {\n                yCrosshair = new Crosshair[type](cfg);\n                yCrosshair.init();\n            }\n            else {\n                yCrosshair.update(cfg);\n            }\n        }\n        else {\n            yCrosshair = new Crosshair[type](cfg);\n            yCrosshair.init();\n        }\n        yCrosshair.render();\n        yCrosshair.show();\n        this.yCrosshair = yCrosshair;\n    };\n    Tooltip.prototype.getCrosshairsText = function (type, point, tooltipCfg) {\n        var textCfg = get(tooltipCfg, ['crosshairs', 'text']);\n        var follow = get(tooltipCfg, ['crosshairs', 'follow']);\n        var items = this.items;\n        if (textCfg) {\n            var view = this.getViewWithGeometry(this.view);\n            // 需要展示文本\n            var firstItem = items[0];\n            var xScale = view.getXScale();\n            var yScale = view.getYScales()[0];\n            var xValue = void 0;\n            var yValue = void 0;\n            if (follow) {\n                // 如果需要跟随鼠标移动，就需要将当前鼠标坐标点转换为对应的数值\n                var invertPoint = this.view.getCoordinate().invert(point);\n                xValue = xScale.invert(invertPoint.x); // 转换为原始值\n                yValue = yScale.invert(invertPoint.y); // 转换为原始值\n            }\n            else {\n                xValue = firstItem.data[xScale.field];\n                yValue = firstItem.data[yScale.field];\n            }\n            var content = type === 'x' ? xValue : yValue;\n            if (isFunction(textCfg)) {\n                textCfg = textCfg(type, content, items, point);\n            }\n            else {\n                textCfg.content = content;\n            }\n            return {\n                text: textCfg,\n            };\n        }\n    };\n    // 获取存储 tooltipMarkers 和 crosshairs 的容器\n    Tooltip.prototype.getGuideGroup = function () {\n        if (!this.guideGroup) {\n            var foregroundGroup = this.view.foregroundGroup;\n            this.guideGroup = foregroundGroup.addGroup({\n                name: 'tooltipGuide',\n                capture: false,\n            });\n        }\n        return this.guideGroup;\n    };\n    // 获取 tooltipMarkers 存储的容器\n    Tooltip.prototype.getTooltipMarkersGroup = function () {\n        var tooltipMarkersGroup = this.tooltipMarkersGroup;\n        if (tooltipMarkersGroup && !tooltipMarkersGroup.destroyed) {\n            tooltipMarkersGroup.clear();\n            tooltipMarkersGroup.show();\n        }\n        else {\n            tooltipMarkersGroup = this.getGuideGroup().addGroup({\n                name: 'tooltipMarkersGroup',\n            });\n            tooltipMarkersGroup.toFront();\n            this.tooltipMarkersGroup = tooltipMarkersGroup;\n        }\n        return tooltipMarkersGroup;\n    };\n    // 获取 tooltip crosshairs 存储的容器\n    Tooltip.prototype.getTooltipCrosshairsGroup = function () {\n        var tooltipCrosshairsGroup = this.tooltipCrosshairsGroup;\n        if (!tooltipCrosshairsGroup) {\n            tooltipCrosshairsGroup = this.getGuideGroup().addGroup({\n                name: 'tooltipCrosshairsGroup',\n                capture: false,\n            });\n            tooltipCrosshairsGroup.toBack();\n            this.tooltipCrosshairsGroup = tooltipCrosshairsGroup;\n        }\n        return tooltipCrosshairsGroup;\n    };\n    Tooltip.prototype.getTooltipItemsByHitShape = function (geometry, point, title) {\n        var result = [];\n        var container = geometry.container;\n        var shape = container.getShape(point.x, point.y);\n        if (shape && shape.get('visible') && shape.get('origin')) {\n            var mappingData = shape.get('origin').mappingData;\n            var items = getTooltipItems(mappingData, geometry, title);\n            if (items.length) {\n                result.push(items);\n            }\n        }\n        return result;\n    };\n    Tooltip.prototype.getTooltipItemsByFindData = function (geometry, point, title) {\n        var result = [];\n        var dataArray = geometry.dataArray;\n        geometry.sort(dataArray); // 先进行排序，便于 tooltip 查找\n        for (var _i = 0, dataArray_1 = dataArray; _i < dataArray_1.length; _i++) {\n            var data = dataArray_1[_i];\n            var record = findDataByPoint(point, data, geometry);\n            if (record) {\n                var elementId = geometry.getElementId(record);\n                var element = geometry.elementsMap[elementId];\n                if (geometry.type === 'heatmap' || element.visible) {\n                    // Heatmap 没有 Element\n                    // 如果图形元素隐藏了，怎不再 tooltip 上展示相关数据\n                    var items = getTooltipItems(record, geometry, title);\n                    if (items.length) {\n                        result.push(items);\n                    }\n                }\n            }\n        }\n        return result;\n    };\n    Tooltip.prototype.findItemsFromView = function (view, point) {\n        if (view.getOptions().tooltip === false) {\n            // 如果 view 关闭了 tooltip\n            return [];\n        }\n        var result = [];\n        // 先从 view 本身查找\n        var geometries = view.geometries;\n        var _a = this.getTooltipCfg(), shared = _a.shared, title = _a.title;\n        for (var _i = 0, geometries_1 = geometries; _i < geometries_1.length; _i++) {\n            var geometry = geometries_1[_i];\n            if (geometry.visible && geometry.tooltipOption !== false) {\n                // geometry 可见同时未关闭 tooltip\n                var geometryType = geometry.type;\n                var tooltipItems = void 0;\n                if (['point', 'edge', 'polygon'].includes(geometryType)) {\n                    // 始终通过图形拾取\n                    tooltipItems = this.getTooltipItemsByHitShape(geometry, point, title);\n                }\n                else if (['area', 'line', 'path', 'heatmap'].includes(geometryType)) {\n                    // 如果是 'area', 'line', 'path'，始终通过数据查找方法查找 tooltip\n                    tooltipItems = this.getTooltipItemsByFindData(geometry, point, title);\n                }\n                else {\n                    if (shared !== false) {\n                        tooltipItems = this.getTooltipItemsByFindData(geometry, point, title);\n                    }\n                    else {\n                        tooltipItems = this.getTooltipItemsByHitShape(geometry, point, title);\n                    }\n                }\n                if (tooltipItems.length) {\n                    // geometry 有可能会有多个 item，因为用户可以设置 geometry.tooltip('x*y*z')\n                    result.push(tooltipItems);\n                }\n            }\n        }\n        // 递归查找，并合并结果\n        for (var _b = 0, _c = view.views; _b < _c.length; _b++) {\n            var childView = _c[_b];\n            result = result.concat(this.findItemsFromView(childView, point));\n        }\n        return result;\n    };\n    // FIXME: hack 方法\n    // 因为 tooltip 的交互是挂载在 Chart 上，所以当chart 上没有绘制 Geometry 的时候，就查找不到数据，并且绘图区域同子 View 的区域不同\n    Tooltip.prototype.getViewWithGeometry = function (view) {\n        var _this = this;\n        if (view.geometries.length) {\n            return view;\n        }\n        return find(view.views, function (childView) { return _this.getViewWithGeometry(childView); });\n    };\n    return Tooltip;\n}(Controller));\nexport default Tooltip;\n//# sourceMappingURL=tooltip.js.map","import { __assign, __extends } from \"tslib\";\nimport { Controller } from './base';\nimport { Scrollbar as ScrollbarComponent } from '../../dependents';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { isObject, clamp, size, groupBy, throttle, noop, keys, get } from '@antv/util';\nimport { isBetween } from '../../util/helper';\nvar DEFAULT_PADDING = 0;\nvar DEFAULT_SIZE = 8;\nvar DEFAULT_CATEGORY_SIZE = 32;\nvar MIN_THUMB_LENGTH = 20;\nvar Scrollbar = /** @class */ (function (_super) {\n    __extends(Scrollbar, _super);\n    function Scrollbar(view) {\n        var _this = _super.call(this, view) || this;\n        _this.onChangeFn = noop;\n        _this.resetMeasure = function () {\n            _this.clear();\n        };\n        _this.onValueChange = function (_a) {\n            var ratio = _a.ratio;\n            var animate = _this.getValidScrollbarCfg().animate;\n            _this.ratio = clamp(ratio, 0, 1);\n            var originalAnimate = _this.view.getOptions().animate;\n            if (!animate) {\n                _this.view.animate(false);\n            }\n            _this.changeViewData(_this.getScrollRange(), true);\n            _this.view.animate(originalAnimate);\n        };\n        _this.container = _this.view.getLayer(LAYER.FORE).addGroup();\n        _this.onChangeFn = throttle(_this.onValueChange, 20, {\n            leading: true,\n        });\n        _this.trackLen = 0;\n        _this.thumbLen = 0;\n        _this.ratio = 0;\n        _this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, _this.resetMeasure);\n        _this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, _this.resetMeasure);\n        return _this;\n    }\n    Object.defineProperty(Scrollbar.prototype, \"name\", {\n        get: function () {\n            return 'scrollbar';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Scrollbar.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n        this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n    };\n    Scrollbar.prototype.init = function () { };\n    /**\n     * 渲染\n     */\n    Scrollbar.prototype.render = function () {\n        this.option = this.view.getOptions().scrollbar;\n        if (this.option) {\n            if (this.scrollbar) {\n                // exist, update\n                this.scrollbar = this.updateScrollbar();\n            }\n            else {\n                // not exist, create\n                this.scrollbar = this.createScrollbar();\n                this.scrollbar.component.on('scrollchange', this.onChangeFn);\n            }\n        }\n        else {\n            if (this.scrollbar) {\n                // exist, destroy\n                this.scrollbar.component.destroy();\n                this.scrollbar = undefined;\n            }\n        }\n    };\n    /**\n     * 布局\n     */\n    Scrollbar.prototype.layout = function () {\n        var _this = this;\n        if (this.option && !this.trackLen) {\n            this.measureScrollbar();\n            setTimeout(function () {\n                if (!_this.view.destroyed) {\n                    _this.changeViewData(_this.getScrollRange(), true);\n                }\n            });\n        }\n        if (this.scrollbar) {\n            var width = this.view.coordinateBBox.width;\n            var padding = this.scrollbar.component.get('padding');\n            var bboxObject = this.scrollbar.component.getLayoutBBox();\n            var bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(padding);\n            var cfg = this.getScrollbarComponentCfg();\n            var x = void 0;\n            var y = void 0;\n            if (cfg.isHorizontal) {\n                var _a = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM), x1 = _a[0], y1 = _a[1];\n                var _b = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM), x2 = _b[0], y2 = _b[1];\n                x = x2;\n                y = y1;\n            }\n            else {\n                var _c = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT), x1 = _c[0], y1 = _c[1];\n                var _d = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT), x2 = _d[0], y2 = _d[1];\n                x = x2;\n                y = y1;\n            }\n            x += padding[3];\n            y += padding[0];\n            // 默认放在 bottom\n            if (this.trackLen) {\n                this.scrollbar.component.update(__assign(__assign({}, cfg), { x: x,\n                    y: y, trackLen: this.trackLen, thumbLen: this.thumbLen, thumbOffset: (this.trackLen - this.thumbLen) * this.ratio }));\n            }\n            else {\n                this.scrollbar.component.update(__assign(__assign({}, cfg), { x: x,\n                    y: y }));\n            }\n            this.view.viewBBox = this.view.viewBBox.cut(bbox, cfg.isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT);\n        }\n    };\n    /**\n     * 更新\n     */\n    Scrollbar.prototype.update = function () {\n        // 逻辑和 render 保持一致\n        this.render();\n    };\n    Scrollbar.prototype.getComponents = function () {\n        return this.scrollbar ? [this.scrollbar] : [];\n    };\n    Scrollbar.prototype.clear = function () {\n        if (this.scrollbar) {\n            this.scrollbar.component.destroy();\n            this.scrollbar = undefined;\n        }\n        this.trackLen = 0;\n        this.thumbLen = 0;\n        this.ratio = 0;\n        this.cnt = 0;\n        this.step = 0;\n        this.data = undefined;\n        this.xScaleCfg = undefined;\n        this.yScalesCfg = [];\n    };\n    /**\n     * 获取 scrollbar 的主题配置\n     */\n    Scrollbar.prototype.getThemeOptions = function () {\n        var theme = this.view.getTheme();\n        return get(theme, ['components', 'slider', 'common'], {});\n    };\n    Scrollbar.prototype.measureScrollbar = function () {\n        var xScale = this.view.getXScale();\n        var yScales = this.view.getYScales().slice();\n        this.data = this.view.getOptions().data;\n        this.step = this.getStep();\n        this.cnt = this.getCnt();\n        var _a = this.getScrollbarComponentCfg(), trackLen = _a.trackLen, thumbLen = _a.thumbLen;\n        this.trackLen = trackLen;\n        this.thumbLen = thumbLen;\n        this.xScaleCfg = {\n            field: xScale.field,\n            values: xScale.values || [],\n        };\n        this.yScalesCfg = yScales;\n    };\n    Scrollbar.prototype.getScrollRange = function () {\n        var startIdx = Math.floor((this.cnt - this.step) * clamp(this.ratio, 0, 1));\n        var endIdx = Math.min(startIdx + this.step - 1, this.cnt - 1);\n        return [startIdx, endIdx];\n    };\n    Scrollbar.prototype.changeViewData = function (_a, render) {\n        var _this = this;\n        var startIdx = _a[0], endIdx = _a[1];\n        var type = this.getValidScrollbarCfg().type;\n        var isHorizontal = type !== 'vertical';\n        var groupedData = groupBy(this.data, this.xScaleCfg.field);\n        var xValues = isHorizontal ? keys(groupedData) : keys(groupedData).reverse();\n        this.yScalesCfg.forEach(function (cfg) {\n            _this.view.scale(cfg.field, {\n                formatter: cfg.formatter,\n                type: cfg.type,\n                min: cfg.min,\n                max: cfg.max,\n            });\n        });\n        this.view.filter(this.xScaleCfg.field, function (val) {\n            var idx = xValues.indexOf(val);\n            return idx > -1 ? isBetween(idx, startIdx, endIdx) : true;\n        });\n        this.view.render(true);\n    };\n    Scrollbar.prototype.createScrollbar = function () {\n        var type = this.getValidScrollbarCfg().type;\n        var isHorizontal = type !== 'vertical';\n        var component = new ScrollbarComponent(__assign(__assign({ container: this.container }, this.getScrollbarComponentCfg()), { x: 0, y: 0 }));\n        component.init();\n        return {\n            component: component,\n            layer: LAYER.FORE,\n            direction: isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT,\n            type: COMPONENT_TYPE.SCROLLBAR,\n        };\n    };\n    Scrollbar.prototype.updateScrollbar = function () {\n        var config = this.getScrollbarComponentCfg();\n        var realConfig = this.trackLen\n            ? __assign(__assign({}, config), { trackLen: this.trackLen, thumbLen: this.thumbLen, thumbOffset: (this.trackLen - this.thumbLen) * this.ratio }) : __assign({}, config);\n        this.scrollbar.component.update(realConfig);\n        return this.scrollbar;\n    };\n    Scrollbar.prototype.getStep = function () {\n        if (this.step) {\n            return this.step;\n        }\n        var coordinateBBox = this.view.coordinateBBox;\n        var _a = this.getValidScrollbarCfg(), type = _a.type, categorySize = _a.categorySize;\n        var isHorizontal = type !== 'vertical';\n        return Math.floor((isHorizontal ? coordinateBBox.width : coordinateBBox.height) / categorySize);\n    };\n    Scrollbar.prototype.getCnt = function () {\n        if (this.cnt) {\n            return this.cnt;\n        }\n        var xScale = this.view.getXScale();\n        var data = this.view.getOptions().data;\n        var groupedData = groupBy(data, xScale.field);\n        return size(keys(groupedData));\n    };\n    Scrollbar.prototype.getScrollbarComponentCfg = function () {\n        var _a = this.view, coordinateBBox = _a.coordinateBBox, viewBBox = _a.viewBBox;\n        var xScale = this.view.getXScale();\n        var _b = this.getValidScrollbarCfg(), type = _b.type, padding = _b.padding, width = _b.width, height = _b.height;\n        var isHorizontal = type !== 'vertical';\n        var paddingTop = padding[0], paddingRight = padding[1], paddingBottom = padding[2], paddingLeft = padding[3];\n        var position = isHorizontal\n            ? {\n                x: coordinateBBox.minX + paddingLeft,\n                y: viewBBox.maxY - height - paddingBottom,\n            }\n            : {\n                x: viewBBox.maxX - width - paddingRight,\n                y: coordinateBBox.minY + paddingTop,\n            };\n        var step = this.getStep();\n        var cnt = this.getCnt();\n        var trackLen = isHorizontal\n            ? coordinateBBox.width - paddingLeft - paddingRight\n            : coordinateBBox.height - paddingTop - paddingBottom;\n        var thumbLen = Math.max(trackLen * clamp(step / cnt, 0, 1), MIN_THUMB_LENGTH);\n        return __assign(__assign({}, this.getThemeOptions()), { x: position.x, y: position.y, size: isHorizontal ? height : width, isHorizontal: isHorizontal,\n            trackLen: trackLen,\n            thumbLen: thumbLen, thumbOffset: 0 });\n    };\n    /**\n     * 填充一些默认的配置项目\n     */\n    Scrollbar.prototype.getValidScrollbarCfg = function () {\n        var cfg = {\n            type: 'horizontal',\n            categorySize: DEFAULT_CATEGORY_SIZE,\n            width: DEFAULT_SIZE,\n            height: DEFAULT_SIZE,\n            padding: [0, 0, 0, 0],\n            animate: true,\n        };\n        if (isObject(this.option)) {\n            cfg = __assign(__assign({}, cfg), this.option);\n        }\n        if (!isObject(this.option) || !this.option.padding) {\n            cfg.padding =\n                cfg.type === 'horizontal' ? [DEFAULT_PADDING, 0, DEFAULT_PADDING, 0] : [0, DEFAULT_PADDING, 0, DEFAULT_PADDING];\n        }\n        return cfg;\n    };\n    return Scrollbar;\n}(Controller));\nexport default Scrollbar;\n//# sourceMappingURL=scrollbar.js.map","import { __extends } from \"tslib\";\nimport { each, head, isEqual, last } from '@antv/util';\nimport { getAngle, getSectorPath } from '../../util/graphics';\nimport Action from './base';\n/**\n * 背景框的 Action\n * @ignore\n */\nvar ActiveRegion = /** @class */ (function (_super) {\n    __extends(ActiveRegion, _super);\n    function ActiveRegion() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * 显示\n     */\n    ActiveRegion.prototype.show = function () {\n        var view = this.context.view;\n        var ev = this.context.event;\n        var tooltipItems = view.getTooltipItems({\n            x: ev.x,\n            y: ev.y,\n        });\n        if (isEqual(tooltipItems, this.items)) {\n            // 如果拾取数据同上次相同，则不重复绘制\n            return;\n        }\n        this.items = tooltipItems;\n        if (tooltipItems.length) {\n            var xField_1 = view.getXScale().field;\n            var xValue_1 = tooltipItems[0].data[xField_1];\n            // 根据 x 对应的值查找 elements\n            var elements_1 = [];\n            var geometries = view.geometries;\n            each(geometries, function (geometry) {\n                if (geometry.type === 'interval' || geometry.type === 'schema') {\n                    var result = geometry.getElementsBy(function (ele) {\n                        var eleData = ele.getData();\n                        return eleData[xField_1] === xValue_1;\n                    });\n                    elements_1 = elements_1.concat(result);\n                }\n            });\n            // 根据 bbox 计算背景框的面积区域\n            if (elements_1.length) {\n                var coordinate_1 = view.getCoordinate();\n                var firstBBox_1 = elements_1[0].shape.getCanvasBBox();\n                var lastBBox_1 = elements_1[0].shape.getCanvasBBox();\n                var groupBBox_1 = firstBBox_1;\n                each(elements_1, function (ele) {\n                    var bbox = ele.shape.getCanvasBBox();\n                    if (coordinate_1.isTransposed) {\n                        if (bbox.minY < firstBBox_1.minY) {\n                            firstBBox_1 = bbox;\n                        }\n                        if (bbox.maxY > lastBBox_1.maxY) {\n                            lastBBox_1 = bbox;\n                        }\n                    }\n                    else {\n                        if (bbox.minX < firstBBox_1.minX) {\n                            firstBBox_1 = bbox;\n                        }\n                        if (bbox.maxX > lastBBox_1.maxX) {\n                            lastBBox_1 = bbox;\n                        }\n                    }\n                    groupBBox_1.x = Math.min(bbox.minX, groupBBox_1.minX);\n                    groupBBox_1.y = Math.min(bbox.minY, groupBBox_1.minY);\n                    groupBBox_1.width = Math.max(bbox.maxX, groupBBox_1.maxX) - groupBBox_1.x;\n                    groupBBox_1.height = Math.max(bbox.maxY, groupBBox_1.maxY) - groupBBox_1.y;\n                });\n                var backgroundGroup = view.backgroundGroup, coordinateBBox = view.coordinateBBox;\n                var path = void 0;\n                if (coordinate_1.isRect) {\n                    var xScale = view.getXScale();\n                    var appendRatio = xScale.isLinear ? 0 : 0.25; // 如果 x 轴是数值类型，如直方图，不需要家额外的宽度\n                    var minX = void 0;\n                    var minY = void 0;\n                    var width = void 0;\n                    var height = void 0;\n                    if (coordinate_1.isTransposed) {\n                        minX = coordinateBBox.minX;\n                        minY = Math.min(lastBBox_1.minY, firstBBox_1.minY) - appendRatio * lastBBox_1.height;\n                        width = coordinateBBox.width;\n                        height = groupBBox_1.height + appendRatio * 2 * lastBBox_1.height;\n                    }\n                    else {\n                        minX = Math.min(firstBBox_1.minX, lastBBox_1.minX) - appendRatio * firstBBox_1.width;\n                        minY = Math.min(coordinateBBox.minY, firstBBox_1.minY);\n                        width = groupBBox_1.width + appendRatio * 2 * firstBBox_1.width;\n                        height = coordinateBBox.height;\n                    }\n                    path = [\n                        ['M', minX, minY],\n                        ['L', minX + width, minY],\n                        ['L', minX + width, minY + height],\n                        ['L', minX, minY + height],\n                        ['Z'],\n                    ];\n                }\n                else {\n                    var firstElement = head(elements_1);\n                    var lastElement = last(elements_1);\n                    var startAngle = getAngle(firstElement.getModel(), coordinate_1).startAngle;\n                    var endAngle = getAngle(lastElement.getModel(), coordinate_1).endAngle;\n                    var center = coordinate_1.getCenter();\n                    var radius = coordinate_1.getRadius();\n                    var innterRadius = coordinate_1.innerRadius * radius;\n                    path = getSectorPath(center.x, center.y, radius, startAngle, endAngle, innterRadius);\n                }\n                if (this.regionPath) {\n                    this.regionPath.attr('path', path);\n                    this.regionPath.show();\n                }\n                else {\n                    this.regionPath = backgroundGroup.addShape({\n                        type: 'path',\n                        name: 'active-region',\n                        capture: false,\n                        attrs: {\n                            path: path,\n                            fill: '#CCD6EC',\n                            opacity: 0.3,\n                        },\n                    });\n                }\n            }\n        }\n    };\n    /**\n     * 隐藏\n     */\n    ActiveRegion.prototype.hide = function () {\n        if (this.regionPath) {\n            this.regionPath.hide();\n        }\n        // this.regionPath = null;\n        this.items = null;\n    };\n    /**\n     * 销毁\n     */\n    ActiveRegion.prototype.destroy = function () {\n        this.hide();\n        if (this.regionPath) {\n            this.regionPath.remove(true);\n        }\n        _super.prototype.destroy.call(this);\n    };\n    return ActiveRegion;\n}(Action));\nexport default ActiveRegion;\n//# sourceMappingURL=active-region.js.map","import { __extends } from \"tslib\";\nimport { isEqual, get } from '@antv/util';\nimport Action from '../../base';\n/**\n * Tooltip 展示隐藏的 Action\n * @ignore\n */\nvar TooltipAction = /** @class */ (function (_super) {\n    __extends(TooltipAction, _super);\n    function TooltipAction() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.timeStamp = 0;\n        return _this;\n    }\n    /**\n     * 显示 Tooltip\n     * @returns\n     */\n    TooltipAction.prototype.show = function () {\n        var context = this.context;\n        var ev = context.event;\n        var view = context.view;\n        var isTooltipLocked = view.isTooltipLocked();\n        if (isTooltipLocked) {\n            // 锁定时不移动 tooltip\n            return;\n        }\n        var lastTimeStamp = this.timeStamp;\n        var timeStamp = +new Date();\n        // 在 showDelay 毫秒（默认 16ms）内到 tooltip 上可以实现 enterable（调参工程师）\n        var showDelay = get(context.view.getOptions(), 'tooltip.showDelay', 16);\n        if (timeStamp - lastTimeStamp > showDelay) {\n            var preLoc = this.location;\n            var curLoc = { x: ev.x, y: ev.y };\n            if (!preLoc || !isEqual(preLoc, curLoc)) {\n                this.showTooltip(view, curLoc);\n            }\n            this.timeStamp = timeStamp;\n            this.location = curLoc;\n        }\n    };\n    /**\n     * 隐藏 Tooltip。\n     * @returns\n     */\n    TooltipAction.prototype.hide = function () {\n        var view = this.context.view;\n        var tooltip = view.getController('tooltip');\n        var _a = this.context.event, clientX = _a.clientX, clientY = _a.clientY;\n        // 如果已经 enterable + 已经在 tooltip 上，那么不隐藏\n        if (tooltip.isCursorEntered({ x: clientX, y: clientY })) {\n            return;\n        }\n        // 锁定 tooltip 时不隐藏\n        if (view.isTooltipLocked()) {\n            return;\n        }\n        this.hideTooltip(view);\n        this.location = null;\n    };\n    TooltipAction.prototype.showTooltip = function (view, point) {\n        // 相同位置不重复展示\n        view.showTooltip(point);\n    };\n    TooltipAction.prototype.hideTooltip = function (view) {\n        view.hideTooltip();\n    };\n    return TooltipAction;\n}(Action));\nexport default TooltipAction;\n//# sourceMappingURL=geometry.js.map","import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport { getSiblingPoint, getSilbings } from '../../util';\nimport TooltipAction from './geometry';\n/**\n * 存在多个 view 时，控制其他 view 上的 tooltip 显示\n * @ignore\n */\nvar SiblingTooltip = /** @class */ (function (_super) {\n    __extends(SiblingTooltip, _super);\n    function SiblingTooltip() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * 所有同一层级的 tooltip 显示\n     * @param view\n     * @param point\n     */\n    SiblingTooltip.prototype.showTooltip = function (view, point) {\n        var siblings = getSilbings(view);\n        each(siblings, function (sibling) {\n            var siblingPoint = getSiblingPoint(view, sibling, point);\n            sibling.showTooltip(siblingPoint);\n        });\n    };\n    /**\n     * 隐藏同一层级的 tooltip\n     * @param view\n     */\n    SiblingTooltip.prototype.hideTooltip = function (view) {\n        var siblings = getSilbings(view);\n        each(siblings, function (sibling) {\n            sibling.hideTooltip();\n        });\n    };\n    return SiblingTooltip;\n}(TooltipAction));\nexport default SiblingTooltip;\n//# sourceMappingURL=sibling.js.map","import { __assign, __extends } from \"tslib\";\nimport { isEqual, get } from '@antv/util';\nimport Action from '../../base';\nimport { HtmlTooltip } from '../../../../dependents';\n/**\n * 用于组件文本省略后需要展示完整信息的 Tooltip Action\n * @ignore\n */\nvar EllipsisText = /** @class */ (function (_super) {\n    __extends(EllipsisText, _super);\n    function EllipsisText() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.timeStamp = 0;\n        return _this;\n    }\n    EllipsisText.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.tooltip && this.tooltip.destroy();\n    };\n    /**\n     * 显示 Tooltip\n     * @returns\n     */\n    EllipsisText.prototype.show = function () {\n        var context = this.context;\n        var ev = context.event;\n        var lastTimeStamp = this.timeStamp;\n        var timeStamp = +new Date();\n        if (timeStamp - lastTimeStamp > 16) {\n            var preLoc = this.location;\n            var curLoc = { x: ev.x, y: ev.y };\n            if (!preLoc || !isEqual(preLoc, curLoc)) {\n                this.showTooltip(curLoc);\n            }\n            this.timeStamp = timeStamp;\n            this.location = curLoc;\n        }\n    };\n    /**\n     * 隐藏 Tooltip。\n     * @returns\n     */\n    EllipsisText.prototype.hide = function () {\n        this.hideTooltip();\n        this.location = null;\n    };\n    EllipsisText.prototype.showTooltip = function (curLoc) {\n        var context = this.context;\n        var ev = context.event;\n        var target = ev.target;\n        if (target && target.get('tip')) {\n            if (!this.tooltip) {\n                this.renderTooltip(); // 延迟生成\n            }\n            var tipContent = target.get('tip');\n            // 展示 tooltip\n            this.tooltip.update(__assign({ title: tipContent }, curLoc));\n            this.tooltip.show();\n        }\n    };\n    EllipsisText.prototype.hideTooltip = function () {\n        this.tooltip && this.tooltip.hide();\n    };\n    EllipsisText.prototype.renderTooltip = function () {\n        var view = this.context.view;\n        var canvas = view.canvas;\n        var region = {\n            start: { x: 0, y: 0 },\n            end: { x: canvas.get('width'), y: canvas.get('height') },\n        };\n        var theme = view.getTheme();\n        var tooltipStyles = get(theme, ['components', 'tooltip', 'domStyles'], {}); // 获取 tooltip 样式\n        var tooltip = new HtmlTooltip({\n            parent: canvas.get('el').parentNode,\n            region: region,\n            visible: false,\n            crosshairs: null,\n            domStyles: tooltipStyles,\n        });\n        tooltip.init();\n        tooltip.setCapture(false); // 不允许捕获事件\n        this.tooltip = tooltip;\n    };\n    return EllipsisText;\n}(Action));\nexport default EllipsisText;\n//# sourceMappingURL=ellipsis-text.js.map","import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport Action from '../base';\nimport { getElementsByState } from '../util';\n/**\n * 状态量 Action 的基类\n * @abstract\n * @class\n * @ignore\n */\nvar StateBase = /** @class */ (function (_super) {\n    __extends(StateBase, _super);\n    function StateBase() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * 状态名称\n         */\n        _this.stateName = '';\n        return _this;\n    }\n    /**\n     * 是否具有某个状态\n     * @param element 图表 Element 元素\n     */\n    StateBase.prototype.hasState = function (element) {\n        return element.hasState(this.stateName);\n    };\n    /**\n     * 设置状态激活\n     * @param enable 状态值\n     */\n    StateBase.prototype.setElementState = function (element, enable) {\n        // 防止闪烁\n        element.setState(this.stateName, enable);\n    };\n    /**\n     * 设置状态\n     */\n    StateBase.prototype.setState = function () {\n        this.setStateEnable(true);\n    };\n    /**\n     * 清除所有 Element 的状态\n     */\n    StateBase.prototype.clear = function () {\n        var view = this.context.view;\n        this.clearViewState(view);\n    };\n    StateBase.prototype.clearViewState = function (view) {\n        var _this = this;\n        var elements = getElementsByState(view, this.stateName);\n        each(elements, function (el) {\n            _this.setElementState(el, false);\n        });\n    };\n    return StateBase;\n}(Action));\nexport default StateBase;\n//# sourceMappingURL=state-base.js.map","import { __extends } from \"tslib\";\nimport { each, isNil, get } from '@antv/util';\nimport { getCurrentElement, getDelegationObject, getElements, getElementValue, getScaleByField, isElementChange, isList, } from '../util';\nimport StateBase from './state-base';\nfunction getItem(shape) {\n    return get(shape.get('delegateObject'), 'item');\n}\n/**\n * 状态量 Action 的基类，允许多个 Element 同时拥有某个状态\n * @class\n * @ignore\n */\nvar ElementState = /** @class */ (function (_super) {\n    __extends(ElementState, _super);\n    function ElementState() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.ignoreListItemStates = ['unchecked'];\n        return _this;\n    }\n    // 是否忽略触发的列表项\n    ElementState.prototype.isItemIgnore = function (item, list) {\n        var states = this.ignoreListItemStates;\n        var filtered = states.filter(function (state) {\n            return list.hasState(item, state);\n        });\n        return !!filtered.length;\n    };\n    // 设置由组件选项导致的状态变化\n    ElementState.prototype.setStateByComponent = function (component, item, enable) {\n        var view = this.context.view;\n        var field = component.get('field');\n        var elements = getElements(view);\n        this.setElementsStateByItem(elements, field, item, enable);\n    };\n    // 处理触发源由 element 导致的状态变化\n    ElementState.prototype.setStateByElement = function (element, enable) {\n        this.setElementState(element, enable);\n    };\n    /** 组件的选项是否同 element 匹配 */\n    ElementState.prototype.isMathItem = function (element, field, item) {\n        var view = this.context.view;\n        var scale = getScaleByField(view, field);\n        var value = getElementValue(element, field);\n        return !isNil(value) && item.name === scale.getText(value);\n    };\n    ElementState.prototype.setElementsStateByItem = function (elements, field, item, enable) {\n        var _this = this;\n        each(elements, function (el) {\n            if (_this.isMathItem(el, field, item)) {\n                el.setState(_this.stateName, enable);\n            }\n        });\n    };\n    /** 设置状态是否激活 */\n    ElementState.prototype.setStateEnable = function (enable) {\n        var element = getCurrentElement(this.context);\n        if (element) {\n            // 触发源由于 element 导致\n            if (isElementChange(this.context)) {\n                this.setStateByElement(element, enable);\n            }\n        }\n        else {\n            // 触发源由组件导致\n            var delegateObject = getDelegationObject(this.context);\n            // 如果触发源时列表，图例、坐标轴\n            if (isList(delegateObject)) {\n                var item = delegateObject.item, component = delegateObject.component;\n                if (item && component && !this.isItemIgnore(item, component)) {\n                    var event_1 = this.context.event.gEvent;\n                    // 防止闪烁\n                    if (event_1 && event_1.fromShape && event_1.toShape && getItem(event_1.fromShape) === getItem(event_1.toShape)) {\n                        return;\n                    }\n                    this.setStateByComponent(component, item, enable);\n                }\n            }\n        }\n    };\n    /**\n     * 切换状态\n     */\n    ElementState.prototype.toggle = function () {\n        var element = getCurrentElement(this.context);\n        if (element) {\n            var hasState = element.hasState(this.stateName);\n            this.setElementState(element, !hasState);\n        }\n    };\n    /**\n     * 取消当前时间影响的状态\n     */\n    ElementState.prototype.reset = function () {\n        this.setStateEnable(false);\n    };\n    return ElementState;\n}(StateBase));\nexport default ElementState;\n//# sourceMappingURL=state.js.map","import { __extends } from \"tslib\";\nimport StateAction from './state';\n/**\n * 元素 active 的 Action，允许多个元素同时 active\n * @class\n * @ignore\n */\nvar ElementActive = /** @class */ (function (_super) {\n    __extends(ElementActive, _super);\n    function ElementActive() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.stateName = 'active';\n        return _this;\n    }\n    /**\n     * Active Element\n     */\n    ElementActive.prototype.active = function () {\n        this.setState();\n    };\n    return ElementActive;\n}(StateAction));\nexport default ElementActive;\n//# sourceMappingURL=active.js.map","import { __extends } from \"tslib\";\nimport Action from '../base';\nimport { getCurrentElement, getElementValue, getElementsByField } from '../util';\nimport { each } from '@antv/util';\n/**\n * Link Elements by color\n * @ignore\n */\nvar LinkByColor = /** @class */ (function (_super) {\n    __extends(LinkByColor, _super);\n    function LinkByColor() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.cache = {};\n        return _this;\n    }\n    // 获取颜色对应的 scale\n    LinkByColor.prototype.getColorScale = function (view, element) {\n        var colorAttr = element.geometry.getAttribute('color');\n        if (!colorAttr) {\n            return null;\n        }\n        var scale = view.getScaleByField(colorAttr.getFields()[0]);\n        return scale;\n    };\n    // 获取连接的 path\n    LinkByColor.prototype.getLinkPath = function (element, nextElement) {\n        var bbox = element.shape.getCanvasBBox();\n        var nextBBox = nextElement.shape.getCanvasBBox();\n        var path = [\n            ['M', bbox.maxX, bbox.minY],\n            ['L', nextBBox.minX, nextBBox.minY],\n            ['L', nextBBox.minX, nextBBox.maxY],\n            ['L', bbox.maxX, bbox.maxY],\n            ['Z'],\n        ];\n        return path;\n    };\n    // 添加连接的图形\n    LinkByColor.prototype.addLinkShape = function (group, element, nextElement) {\n        group.addShape({\n            type: 'path',\n            attrs: {\n                opacity: 0.4,\n                fill: element.shape.attr('fill'),\n                path: this.getLinkPath(element, nextElement),\n            },\n        });\n    };\n    // 使用图形连接\n    LinkByColor.prototype.linkByElement = function (element) {\n        var _this = this;\n        var view = this.context.view;\n        var scale = this.getColorScale(view, element);\n        if (!scale) {\n            return;\n        }\n        var value = getElementValue(element, scale.field);\n        if (!this.cache[value]) {\n            var elements_1 = getElementsByField(view, scale.field, value);\n            var linkGroup = this.linkGroup;\n            var group_1 = linkGroup.addGroup();\n            this.cache[value] = group_1; // 缓存\n            var count_1 = elements_1.length;\n            each(elements_1, function (el, index) {\n                if (index < count_1 - 1) {\n                    var nextEl = elements_1[index + 1];\n                    _this.addLinkShape(group_1, el, nextEl);\n                }\n            });\n        }\n    };\n    // 移除连接\n    LinkByColor.prototype.removeLink = function (element) {\n        var scale = this.getColorScale(this.context.view, element);\n        if (!scale) {\n            return;\n        }\n        var value = getElementValue(element, scale.field);\n        if (this.cache[value]) {\n            this.cache[value].remove();\n            this.cache[value] = null;\n        }\n    };\n    /**\n     * 连接 elements\n     */\n    LinkByColor.prototype.link = function () {\n        var context = this.context;\n        if (!this.linkGroup) {\n            // 不允许被拾取\n            this.linkGroup = context.view.foregroundGroup.addGroup({\n                capture: false,\n            });\n        }\n        var element = getCurrentElement(context);\n        if (element) {\n            this.linkByElement(element);\n        }\n    };\n    /**\n     * 取消连接 elements\n     */\n    LinkByColor.prototype.unlink = function () {\n        var element = getCurrentElement(this.context);\n        if (element) {\n            this.removeLink(element);\n        }\n    };\n    /**\n     * 清除所有连接\n     */\n    LinkByColor.prototype.clear = function () {\n        if (this.linkGroup) {\n            this.linkGroup.clear();\n        }\n    };\n    /**\n     * 销毁\n     */\n    LinkByColor.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (this.linkGroup) {\n            this.linkGroup.remove();\n        }\n    };\n    return LinkByColor;\n}(Action));\nexport default LinkByColor;\n//# sourceMappingURL=link-by-color.js.map","import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport { getElements, getIntersectElements, getMaskedElements, getSiblingMaskElements, getSilbings, isInRecords, isMask, } from '../util';\nimport StateBase from './state-base';\n/**\n * @ignore\n * 区域设置状态的基础 Action\n */\nvar ElementRangeState = /** @class */ (function (_super) {\n    __extends(ElementRangeState, _super);\n    function ElementRangeState() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.startPoint = null;\n        _this.endPoint = null;\n        _this.isStarted = false;\n        /**\n         * 是否作用于当前 view 的 siblings，默认是 false 仅作用于自己\n         */\n        _this.effectSiblings = false;\n        /**\n         * 是否受 element 的数据影响，还是受包围盒的影响\n         */\n        _this.effectByRecord = false;\n        return _this;\n    }\n    // 获取当前的位置\n    ElementRangeState.prototype.getCurrentPoint = function () {\n        var event = this.context.event;\n        return {\n            x: event.x,\n            y: event.y,\n        };\n    };\n    /**\n     * 开始，记录开始选中的位置\n     */\n    ElementRangeState.prototype.start = function () {\n        this.clear(); // 开始的时候清理之前的状态\n        this.startPoint = this.getCurrentPoint();\n        this.isStarted = true;\n    };\n    ElementRangeState.prototype.getIntersectElements = function () {\n        var elements = null;\n        if (isMask(this.context)) {\n            elements = getMaskedElements(this.context, 10);\n        }\n        else {\n            var startPoint = this.startPoint;\n            var endPoint = this.isStarted ? this.getCurrentPoint() : this.endPoint;\n            // 如果没有开始，则不允许范围设置状态，保护性质\n            if (!startPoint || !endPoint) {\n                return;\n            }\n            // 计算框选区域\n            var box = {\n                minX: Math.min(startPoint.x, endPoint.x),\n                minY: Math.min(startPoint.y, endPoint.y),\n                maxX: Math.max(startPoint.x, endPoint.x),\n                maxY: Math.max(startPoint.y, endPoint.y),\n            };\n            // this.clear(); // 不全部清理，会导致闪烁\n            var view = this.context.view;\n            elements = getIntersectElements(view, box);\n        }\n        return elements;\n    };\n    /**\n     * 选中\n     */\n    ElementRangeState.prototype.setStateEnable = function (enable) {\n        if (this.effectSiblings && !this.effectByRecord) {\n            this.setSiblingsState(enable);\n        }\n        else {\n            var allElements = getElements(this.context.view);\n            var elements = this.getIntersectElements();\n            if (elements && elements.length) {\n                if (this.effectByRecord) {\n                    this.setSiblingsStateByRecord(elements, enable);\n                }\n                else {\n                    this.setElementsState(elements, enable, allElements);\n                }\n            }\n            else {\n                this.clear();\n            }\n        }\n    };\n    // 根据选中的 element 的数据进行设置状态\n    ElementRangeState.prototype.setSiblingsStateByRecord = function (elements, enable) {\n        var _this = this;\n        var view = this.context.view;\n        var siblings = getSilbings(view);\n        var records = elements.map(function (el) {\n            return el.getModel().data;\n        });\n        var xFiled = view.getXScale().field;\n        var yField = view.getYScales()[0].field;\n        each(siblings, function (sibling) {\n            var allElements = getElements(sibling);\n            var effectElements = allElements.filter(function (el) {\n                var record = el.getModel().data;\n                return isInRecords(records, record, xFiled, yField);\n            });\n            _this.setElementsState(effectElements, enable, allElements);\n        });\n    };\n    // 设置兄弟 view 的状态\n    ElementRangeState.prototype.setSiblingsState = function (enable) {\n        var _this = this;\n        var view = this.context.view;\n        var siblings = getSilbings(view);\n        if (isMask(this.context)) {\n            // 受 mask 影响\n            each(siblings, function (sibling) {\n                var allElements = getElements(sibling);\n                var effectElements = getSiblingMaskElements(_this.context, sibling, 10);\n                if (effectElements && effectElements.length) {\n                    _this.setElementsState(effectElements, enable, allElements);\n                }\n                else {\n                    _this.clearViewState(sibling);\n                }\n            });\n        }\n    };\n    ElementRangeState.prototype.setElementsState = function (elements, enable, allElements) {\n        var _this = this;\n        each(allElements, function (el) {\n            if (!elements.includes(el)) {\n                _this.setElementState(el, false);\n            }\n            else {\n                _this.setElementState(el, enable);\n            }\n        });\n    };\n    /**\n     * 结束\n     */\n    ElementRangeState.prototype.end = function () {\n        this.isStarted = false;\n        this.endPoint = this.getCurrentPoint();\n    };\n    // 复写 clear\n    ElementRangeState.prototype.clear = function () {\n        var _this = this;\n        var view = this.context.view;\n        // 判断是否影响 siblings\n        if (this.effectSiblings) {\n            var siblings = getSilbings(view);\n            each(siblings, function (sibling) {\n                _this.clearViewState(sibling);\n            });\n        }\n        else {\n            this.clearViewState(view);\n        }\n    };\n    return ElementRangeState;\n}(StateBase));\nexport default ElementRangeState;\n//# sourceMappingURL=range-state.js.map","import { __extends } from \"tslib\";\nimport ElementRangeState from './range-state';\n/**\n * @ignore\n * 图表元素区域 Active 的 Action\n */\nvar ElementRangeActive = /** @class */ (function (_super) {\n    __extends(ElementRangeActive, _super);\n    function ElementRangeActive() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.stateName = 'active';\n        return _this;\n    }\n    /**\n     * 图表元素 Active\n     */\n    ElementRangeActive.prototype.active = function () {\n        this.setState();\n    };\n    return ElementRangeActive;\n}(ElementRangeState));\nexport default ElementRangeActive;\n//# sourceMappingURL=range-active.js.map","import { __extends } from \"tslib\";\nimport { getCurrentElement, isElementChange } from '../util';\nimport StateBase from './state-base';\n/**\n * 单状态量的 Action 基类\n * @class\n * @ignore\n */\nvar ElementSingleState = /** @class */ (function (_super) {\n    __extends(ElementSingleState, _super);\n    function ElementSingleState() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ElementSingleState.prototype.setStateEnable = function (enable) {\n        var element = getCurrentElement(this.context);\n        if (element) {\n            // 在同一个 element 内部移动，忽视 label 和 shape 之间\n            if (!isElementChange(this.context)) {\n                return;\n            }\n            // 仅支持单个状态量的元素，只能由 element 触发\n            if (enable) {\n                this.clear();\n                this.setElementState(element, true);\n            }\n            else if (this.hasState(element)) {\n                this.setElementState(element, false);\n            }\n        }\n    };\n    /**\n     * 切换选中，只允许选中一个\n     */\n    ElementSingleState.prototype.toggle = function () {\n        var element = getCurrentElement(this.context);\n        if (element) {\n            var hasState = this.hasState(element); // 提前获取状态\n            if (!hasState) {\n                this.clear();\n            }\n            this.setElementState(element, !hasState);\n        }\n    };\n    /**\n     * 取消当前时间影响的状态\n     */\n    ElementSingleState.prototype.reset = function () {\n        this.setStateEnable(false);\n    };\n    return ElementSingleState;\n}(StateBase));\nexport default ElementSingleState;\n//# sourceMappingURL=single-state.js.map","import { __extends } from \"tslib\";\nimport ElementSingleState from './single-state';\n/**\n * @ignore\n * 仅允许单个 Element Active 的 Action\n */\nvar ElementSingleActive = /** @class */ (function (_super) {\n    __extends(ElementSingleActive, _super);\n    function ElementSingleActive() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.stateName = 'active';\n        return _this;\n    }\n    /**\n     * 当前事件相关的 Element Active\n     */\n    ElementSingleActive.prototype.active = function () {\n        this.setState();\n    };\n    return ElementSingleActive;\n}(ElementSingleState));\nexport default ElementSingleActive;\n//# sourceMappingURL=single-active.js.map","import { each } from '@antv/util';\nimport { getElements } from '../util';\nvar STATUS_UNACTIVE = 'inactive';\nvar STATUS_ACTIVE = 'active';\n/**\n * @ignore\n * 清理 highlight 效果\n * @param view View 或者 Chart\n */\nexport function clearHighlight(view) {\n    var elements = getElements(view);\n    each(elements, function (el) {\n        if (el.hasState(STATUS_ACTIVE)) {\n            el.setState(STATUS_ACTIVE, false);\n        }\n        if (el.hasState(STATUS_UNACTIVE)) {\n            el.setState(STATUS_UNACTIVE, false);\n        }\n    });\n}\n/**\n * @ignore\n * 设置多个元素的 highlight\n * @param elements 元素集合\n * @param callback 设置回调函数\n * @param enable 设置或者取消\n */\nexport function setHighlightBy(elements, callback, enable) {\n    each(elements, function (el) {\n        // 需要处理 active 和 unactive 的互斥\n        if (callback(el)) {\n            if (el.hasState(STATUS_UNACTIVE)) {\n                el.setState(STATUS_UNACTIVE, false);\n            }\n            el.setState(STATUS_ACTIVE, enable);\n        }\n        else {\n            if (el.hasState(STATUS_ACTIVE)) {\n                el.setState(STATUS_ACTIVE, false);\n            }\n            el.setState(STATUS_UNACTIVE, enable);\n        }\n    });\n}\n//# sourceMappingURL=highlight-util.js.map","import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport { getElements, getElementsByState } from '../util';\nimport { clearHighlight } from './highlight-util';\nimport StateAction from './state';\nimport { ELEMENT_STATE } from '../../../constant';\nexport var STATUS_UNACTIVE = ELEMENT_STATE.INACTIVE;\nexport var STATUS_ACTIVE = ELEMENT_STATE.ACTIVE;\n/**\n * @ignore\n * highlight，指定图形高亮，其他图形变暗\n */\nvar ElementHighlight = /** @class */ (function (_super) {\n    __extends(ElementHighlight, _super);\n    function ElementHighlight() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.stateName = STATUS_ACTIVE;\n        return _this;\n    }\n    // 多个元素设置、取消 highlight\n    ElementHighlight.prototype.setElementsStateByItem = function (elements, field, item, enable) {\n        var _this = this;\n        var callback = function (el) { return _this.isMathItem(el, field, item); };\n        this.setHighlightBy(elements, callback, enable);\n    };\n    // 设置元素的 highlight\n    ElementHighlight.prototype.setElementHighlight = function (el, callback) {\n        if (callback(el)) {\n            if (el.hasState(STATUS_UNACTIVE)) {\n                el.setState(STATUS_UNACTIVE, false);\n            }\n            el.setState(STATUS_ACTIVE, true);\n        }\n        else if (!el.hasState(STATUS_ACTIVE)) {\n            el.setState(STATUS_UNACTIVE, true);\n        }\n    };\n    ElementHighlight.prototype.setHighlightBy = function (elements, callback, enable) {\n        var _this = this;\n        if (enable) {\n            // 如果是设置 highlight ，则将匹配的 element 设置成 active，\n            // 其他如果不是 active，则设置成 unactive\n            each(elements, function (el) {\n                _this.setElementHighlight(el, callback);\n            });\n        }\n        else {\n            // 如果取消 highlight，则要检测是否全部取消 highlight\n            var activeElements = getElementsByState(this.context.view, STATUS_ACTIVE);\n            var allCancel_1 = true;\n            // 检测所有 activeElements 都要取消 highlight\n            each(activeElements, function (el) {\n                if (!callback(el)) {\n                    allCancel_1 = false;\n                    return false;\n                }\n            });\n            if (allCancel_1) {\n                // 都要取消，则取消所有的 active，unactive 状态\n                this.clear();\n            }\n            else {\n                // 如果不是都要取消 highlight, 则设置匹配的 element 的状态为 unactive\n                // 其他 element 状态不变\n                each(elements, function (el) {\n                    if (callback(el)) {\n                        if (el.hasState(STATUS_ACTIVE)) {\n                            el.setState(STATUS_ACTIVE, false);\n                        }\n                        el.setState(STATUS_UNACTIVE, true);\n                    }\n                });\n            }\n        }\n    };\n    // 单个元素设置和取消 highlight\n    ElementHighlight.prototype.setElementState = function (element, enable) {\n        var view = this.context.view;\n        var elements = getElements(view);\n        this.setHighlightBy(elements, function (el) { return element === el; }, enable);\n    };\n    ElementHighlight.prototype.highlight = function () {\n        this.setState();\n    };\n    // 清理掉所有的 active， unactive 状态\n    ElementHighlight.prototype.clear = function () {\n        var view = this.context.view;\n        clearHighlight(view);\n    };\n    return ElementHighlight;\n}(StateAction));\nexport default ElementHighlight;\n//# sourceMappingURL=highlight.js.map","import { __extends } from \"tslib\";\nimport { getElements, getElementValue } from '../util';\nimport Highlight from './highlight';\n/**\n * Highlight color\n * @ignore\n */\nvar HighlightColor = /** @class */ (function (_super) {\n    __extends(HighlightColor, _super);\n    function HighlightColor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    HighlightColor.prototype.setStateByElement = function (element, enable) {\n        var view = this.context.view;\n        var colorAttr = element.geometry.getAttribute('color');\n        if (!colorAttr) {\n            return;\n        }\n        var scale = view.getScaleByField(colorAttr.getFields()[0]);\n        var value = getElementValue(element, scale.field);\n        var elements = getElements(view);\n        var highlightElements = elements.filter(function (el) {\n            return getElementValue(el, scale.field) === value;\n        });\n        this.setHighlightBy(elements, function (el) { return highlightElements.includes(el); }, enable);\n    };\n    return HighlightColor;\n}(Highlight));\nexport default HighlightColor;\n//# sourceMappingURL=highlight-by-color.js.map","import { __extends } from \"tslib\";\nimport { getElements, getElementValue, getCurrentElement } from '../util';\nimport Highlight, { STATUS_ACTIVE, STATUS_UNACTIVE } from './highlight';\n/**\n * Highlight x\n * @ignore\n */\nvar HighlightX = /** @class */ (function (_super) {\n    __extends(HighlightX, _super);\n    function HighlightX() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // 不允许多选\n    HighlightX.prototype.setElementHighlight = function (el, callback) {\n        if (callback(el)) {\n            if (el.hasState(STATUS_UNACTIVE)) {\n                el.setState(STATUS_UNACTIVE, false);\n            }\n            el.setState(STATUS_ACTIVE, true);\n        }\n        else {\n            el.setState(STATUS_UNACTIVE, true);\n            if (el.hasState(STATUS_ACTIVE)) {\n                el.setState(STATUS_ACTIVE, false);\n            }\n        }\n    };\n    HighlightX.prototype.setStateByElement = function (element, enable) {\n        var view = this.context.view;\n        var scale = view.getXScale();\n        var value = getElementValue(element, scale.field);\n        var elements = getElements(view);\n        var highlightElements = elements.filter(function (el) {\n            return getElementValue(el, scale.field) === value;\n        });\n        this.setHighlightBy(elements, function (el) { return highlightElements.includes(el); }, enable);\n    };\n    /**\n     * 切换状态\n     */\n    HighlightX.prototype.toggle = function () {\n        var element = getCurrentElement(this.context);\n        if (element) {\n            var hasState = element.hasState(this.stateName);\n            this.setStateByElement(element, !hasState);\n        }\n    };\n    return HighlightX;\n}(Highlight));\nexport default HighlightX;\n//# sourceMappingURL=highlight-by-x.js.map","import { __extends } from \"tslib\";\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementRangeState from './range-state';\n/**\n * @ignore\n * 区域 highlight 的 Action\n */\nvar ElementRangeHighlight = /** @class */ (function (_super) {\n    __extends(ElementRangeHighlight, _super);\n    function ElementRangeHighlight() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.stateName = 'active';\n        return _this;\n    }\n    // 清理掉所有的 active， unactive 状态\n    ElementRangeHighlight.prototype.clearViewState = function (view) {\n        clearHighlight(view);\n    };\n    /**\n     * 设置 highlight\n     */\n    ElementRangeHighlight.prototype.highlight = function () {\n        this.setState();\n    };\n    ElementRangeHighlight.prototype.setElementsState = function (elements, enable, allElements) {\n        setHighlightBy(allElements, function (el) { return elements.indexOf(el) >= 0; }, enable);\n    };\n    return ElementRangeHighlight;\n}(ElementRangeState));\nexport default ElementRangeHighlight;\n//# sourceMappingURL=range-highlight.js.map","import { __extends } from \"tslib\";\nimport { getElements } from '../util';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementSingleState from './single-state';\n/**\n * @ignore\n * 单个 Element Highlight 的 Action\n */\nvar ElementSingleHighlight = /** @class */ (function (_super) {\n    __extends(ElementSingleHighlight, _super);\n    function ElementSingleHighlight() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.stateName = 'active';\n        return _this;\n    }\n    /**\n     * Element Highlight\n     */\n    ElementSingleHighlight.prototype.highlight = function () {\n        this.setState();\n    };\n    ElementSingleHighlight.prototype.setElementState = function (element, enable) {\n        var view = this.context.view;\n        var elements = getElements(view);\n        setHighlightBy(elements, function (el) { return element === el; }, enable);\n    };\n    // 清理掉所有的 active， unactive 状态\n    ElementSingleHighlight.prototype.clear = function () {\n        var view = this.context.view;\n        clearHighlight(view);\n    };\n    return ElementSingleHighlight;\n}(ElementSingleState));\nexport default ElementSingleHighlight;\n//# sourceMappingURL=single-highlight.js.map","import { __extends } from \"tslib\";\nimport ElementRangeState from './range-state';\n/**\n * @ignore\n * 区域选中的 Action\n */\nvar ElementRangeSelected = /** @class */ (function (_super) {\n    __extends(ElementRangeSelected, _super);\n    function ElementRangeSelected() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.stateName = 'selected';\n        return _this;\n    }\n    /**\n     * 选中\n     */\n    ElementRangeSelected.prototype.selected = function () {\n        this.setState();\n    };\n    return ElementRangeSelected;\n}(ElementRangeState));\nexport default ElementRangeSelected;\n//# sourceMappingURL=range-selected.js.map","import { __extends } from \"tslib\";\nimport StateAction from './state';\n/**\n * @ignore\n * 允许多选的 Action\n * @class\n */\nvar ElementMultipleSelected = /** @class */ (function (_super) {\n    __extends(ElementMultipleSelected, _super);\n    function ElementMultipleSelected() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.stateName = 'selected';\n        return _this;\n    }\n    /**\n     * 选中节点，允许多选\n     */\n    ElementMultipleSelected.prototype.selected = function () {\n        this.setState();\n    };\n    return ElementMultipleSelected;\n}(StateAction));\nexport default ElementMultipleSelected;\n//# sourceMappingURL=selected.js.map","import { __extends } from \"tslib\";\nimport ElementSingleState from './single-state';\n/**\n * @ignore\n * 单选的 Action\n */\nvar ElementSingleSelected = /** @class */ (function (_super) {\n    __extends(ElementSingleSelected, _super);\n    function ElementSingleSelected() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.stateName = 'selected';\n        return _this;\n    }\n    /**\n     * 选中\n     */\n    ElementSingleSelected.prototype.selected = function () {\n        this.setState();\n    };\n    return ElementSingleSelected;\n}(ElementSingleState));\nexport default ElementSingleSelected;\n//# sourceMappingURL=single-selected.js.map","import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport Action from '../base';\nimport { getComponents } from '../util';\nimport { getCurrentElement, getDelegationObject, getElementValue, isList, getScaleByField } from '../util';\n/**\n * 列表项状态 Action 的基础类\n * @class\n * @ignore\n */\nvar ListState = /** @class */ (function (_super) {\n    __extends(ListState, _super);\n    function ListState() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.stateName = '';\n        _this.ignoreItemStates = [];\n        return _this;\n    }\n    /** 获取触发的列表组件 */\n    ListState.prototype.getTriggerListInfo = function () {\n        var delegateObject = getDelegationObject(this.context);\n        var info = null;\n        if (isList(delegateObject)) {\n            info = {\n                item: delegateObject.item,\n                list: delegateObject.component,\n            };\n        }\n        return info;\n    };\n    // 获取所有允许执行 Action 的组件\n    ListState.prototype.getAllowComponents = function () {\n        var _this = this;\n        var view = this.context.view;\n        var components = getComponents(view);\n        var rst = [];\n        each(components, function (component) {\n            if (component.isList() && _this.allowSetStateByElement(component)) {\n                rst.push(component);\n            }\n        });\n        return rst;\n    };\n    /** 是否存在指定的状态 */\n    ListState.prototype.hasState = function (list, item) {\n        return list.hasState(item, this.stateName);\n    };\n    /** 清理组件的状态 */\n    ListState.prototype.clearAllComponentsState = function () {\n        var _this = this;\n        var components = this.getAllowComponents();\n        each(components, function (component) {\n            component.clearItemsState(_this.stateName);\n        });\n    };\n    // 不是所有的 component 都能进行 active，目前仅支持分类 scale 对应的组件\n    ListState.prototype.allowSetStateByElement = function (component) {\n        var field = component.get('field');\n        if (!field) {\n            return false;\n        }\n        if (this.cfg && this.cfg.componentNames) {\n            var name_1 = component.get('name');\n            // 如果配置了限制的 component name，则要进行检测\n            if (this.cfg.componentNames.indexOf(name_1) === -1) {\n                return false;\n            }\n        }\n        var view = this.context.view;\n        var scale = getScaleByField(view, field);\n        return scale && scale.isCategory;\n    };\n    // 检测是否允许触发对应的状态改变事件\n    ListState.prototype.allowSetStateByItem = function (item, list) {\n        var ignoreStates = this.ignoreItemStates;\n        if (ignoreStates.length) {\n            var filterStates = ignoreStates.filter(function (state) {\n                return list.hasState(item, state);\n            });\n            return filterStates.length === 0;\n        }\n        return true; // 没有定义忽略的状态时，允许\n    };\n    // 设置组件的 item active\n    ListState.prototype.setStateByElement = function (component, element, enable) {\n        var field = component.get('field');\n        var view = this.context.view;\n        var scale = getScaleByField(view, field);\n        var value = getElementValue(element, field);\n        var text = scale.getText(value);\n        this.setItemsState(component, text, enable);\n    };\n    // 设置状态\n    ListState.prototype.setStateEnable = function (enable) {\n        var _this = this;\n        var element = getCurrentElement(this.context);\n        if (element) {\n            // trigger by element\n            var components = this.getAllowComponents();\n            each(components, function (component) {\n                _this.setStateByElement(component, element, enable);\n            });\n        }\n        else {\n            // 被组件触发\n            var delegateObject = getDelegationObject(this.context);\n            if (isList(delegateObject)) {\n                var item = delegateObject.item, component = delegateObject.component;\n                if (this.allowSetStateByElement(component) && this.allowSetStateByItem(item, component)) {\n                    this.setItemState(component, item, enable);\n                }\n            }\n        }\n    };\n    // 多个 item 设置状态\n    ListState.prototype.setItemsState = function (list, name, enable) {\n        var _this = this;\n        var items = list.getItems();\n        each(items, function (item) {\n            if (item.name === name) {\n                _this.setItemState(list, item, enable);\n            }\n        });\n    };\n    // 单个 item 设置状态\n    ListState.prototype.setItemState = function (list, item, enable) {\n        list.setItemState(item, this.stateName, enable);\n    };\n    /**\n     * 设置状态\n     */\n    ListState.prototype.setState = function () {\n        this.setStateEnable(true);\n    };\n    /**\n     * 取消状态\n     */\n    ListState.prototype.reset = function () {\n        this.setStateEnable(false);\n    };\n    /**\n     * 切换状态\n     */\n    ListState.prototype.toggle = function () {\n        var triggerInfo = this.getTriggerListInfo();\n        if (triggerInfo && triggerInfo.item) {\n            var list = triggerInfo.list, item = triggerInfo.item;\n            var enable = this.hasState(list, item);\n            this.setItemState(list, item, !enable);\n        }\n    };\n    /**\n     * 取消状态\n     */\n    ListState.prototype.clear = function () {\n        var triggerInfo = this.getTriggerListInfo();\n        if (triggerInfo) {\n            triggerInfo.list.clearItemsState(this.stateName);\n        }\n        else {\n            this.clearAllComponentsState();\n        }\n    };\n    return ListState;\n}(Action));\nexport default ListState;\n//# sourceMappingURL=list-state.js.map","import { __extends } from \"tslib\";\nimport ListState from './list-state';\n/**\n * 列表项（图例项、坐标轴文本）激活的 Action\n * @class\n * @ignore\n */\nvar ListActive = /** @class */ (function (_super) {\n    __extends(ListActive, _super);\n    function ListActive() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.stateName = 'active';\n        return _this;\n    }\n    /**\n     * 激活选项\n     */\n    ListActive.prototype.active = function () {\n        this.setState();\n    };\n    return ListActive;\n}(ListState));\nexport default ListActive;\n//# sourceMappingURL=list-active.js.map","import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport { clearList } from './list-highlight-util';\nimport ListState from './list-state';\nvar STATUS_UNACTIVE = 'inactive';\nvar STATUS_ACTIVE = 'active';\n/**\n * highlight Action 的效果是 active 和 inactive 两个状态的组合\n * @class\n * @ignore\n */\nvar ListHighlight = /** @class */ (function (_super) {\n    __extends(ListHighlight, _super);\n    function ListHighlight() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.stateName = STATUS_ACTIVE;\n        _this.ignoreItemStates = ['unchecked']; // 当存在 unchecked 状态时不触发\n        return _this;\n    }\n    // 如果 item.name 匹配，则设置 highlight 以及取消\n    ListHighlight.prototype.setItemsState = function (list, name, enable) {\n        this.setHighlightBy(list, function (item) { return item.name === name; }, enable);\n    };\n    // 单个 item 设置状态\n    ListHighlight.prototype.setItemState = function (list, item, enable) {\n        var items = list.getItems();\n        this.setHighlightBy(list, function (el) { return el === item; }, enable);\n    };\n    // 根据条件设置 highlight\n    ListHighlight.prototype.setHighlightBy = function (list, callback, enable) {\n        var items = list.getItems();\n        if (enable) {\n            // 设置 highlight 时，保留之前已经 Highlight 的项\n            each(items, function (item) {\n                if (callback(item)) {\n                    if (list.hasState(item, STATUS_UNACTIVE)) {\n                        list.setItemState(item, STATUS_UNACTIVE, false);\n                    }\n                    list.setItemState(item, STATUS_ACTIVE, true);\n                }\n                else if (!list.hasState(item, STATUS_ACTIVE)) {\n                    list.setItemState(item, STATUS_UNACTIVE, true);\n                }\n            });\n        }\n        else {\n            var activeItems = list.getItemsByState(STATUS_ACTIVE);\n            var allCancel_1 = true;\n            // 检测 activeItems 是否要全部取消\n            each(activeItems, function (item) {\n                if (!callback(item)) {\n                    allCancel_1 = false;\n                    return false;\n                }\n            });\n            if (allCancel_1) {\n                this.clear();\n            }\n            else {\n                // 如果不是都要取消 highlight, 则设置匹配的 element 的状态为 unactive\n                // 其他 element 状态不变\n                each(items, function (item) {\n                    if (callback(item)) {\n                        if (list.hasState(item, STATUS_ACTIVE)) {\n                            list.setItemState(item, STATUS_ACTIVE, false);\n                        }\n                        list.setItemState(item, STATUS_UNACTIVE, true);\n                    }\n                });\n            }\n        }\n    };\n    /**\n     * highlight 图例项（坐标轴文本）\n     */\n    ListHighlight.prototype.highlight = function () {\n        this.setState();\n    };\n    // 需要全部清理 active 和 unactive\n    ListHighlight.prototype.clear = function () {\n        var triggerInfo = this.getTriggerListInfo();\n        if (triggerInfo) {\n            clearList(triggerInfo.list);\n        }\n        else {\n            // 如果不是 component 的事件触发，则所有满足触发条件的组件都清除该状态\n            var components = this.getAllowComponents();\n            each(components, function (component) {\n                component.clearItemsState(STATUS_ACTIVE);\n                component.clearItemsState(STATUS_UNACTIVE);\n            });\n        }\n    };\n    return ListHighlight;\n}(ListState));\nexport default ListHighlight;\n//# sourceMappingURL=list-highlight.js.map","import { each } from '@antv/util';\nvar STATUS_UNACTIVE = 'inactive';\nvar STATUS_ACTIVE = 'active';\n/**\n * 清理图例的 Highlight 效果\n * @param list 列表组件，图例或者坐标轴\n * @ignore\n */\nexport function clearList(list) {\n    var items = list.getItems();\n    each(items, function (item) {\n        if (list.hasState(item, STATUS_ACTIVE)) {\n            list.setItemState(item, STATUS_ACTIVE, false);\n        }\n        if (list.hasState(item, STATUS_UNACTIVE)) {\n            list.setItemState(item, STATUS_UNACTIVE, false);\n        }\n    });\n}\n//# sourceMappingURL=list-highlight-util.js.map","import { __extends } from \"tslib\";\nimport ListState from './list-state';\n/**\n * 图例项和坐标轴文本选中的 Action\n * @ignore\n */\nvar ListSelected = /** @class */ (function (_super) {\n    __extends(ListSelected, _super);\n    function ListSelected() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.stateName = 'selected';\n        return _this;\n    }\n    ListSelected.prototype.selected = function () {\n        this.setState();\n    };\n    return ListSelected;\n}(ListState));\nexport default ListSelected;\n//# sourceMappingURL=list-selected.js.map","import { __extends } from \"tslib\";\nimport ListState from './list-state';\n/**\n * 图例项取消勾选的 Action\n * @ignore\n */\nvar ListUnchecked = /** @class */ (function (_super) {\n    __extends(ListUnchecked, _super);\n    function ListUnchecked() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.stateName = 'unchecked';\n        return _this;\n    }\n    /**\n     * 取消勾选\n     */\n    ListUnchecked.prototype.unchecked = function () {\n        this.setState();\n    };\n    return ListUnchecked;\n}(ListState));\nexport default ListUnchecked;\n//# sourceMappingURL=list-unchecked.js.map","import { __assign, __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport Action from '../base';\n/**\n * @ignore\n * 辅助框 Action 的基类\n */\nvar MaskBase = /** @class */ (function (_super) {\n    __extends(MaskBase, _super);\n    function MaskBase() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // mask 图形\n        _this.maskShape = null;\n        // 组成 mask 的各个点\n        _this.points = [];\n        // 开始 mask 的标记\n        _this.starting = false;\n        // 开始移动的标记\n        _this.moving = false;\n        _this.preMovePoint = null;\n        _this.shapeType = 'path';\n        return _this;\n    }\n    // 获取当前的位置\n    MaskBase.prototype.getCurrentPoint = function () {\n        var event = this.context.event;\n        return {\n            x: event.x,\n            y: event.y,\n        };\n    };\n    // 触发 mask 的事件\n    MaskBase.prototype.emitEvent = function (type) {\n        var eventName = \"mask:\" + type;\n        var view = this.context.view;\n        var event = this.context.event;\n        view.emit(eventName, {\n            target: this.maskShape,\n            shape: this.maskShape,\n            points: this.points,\n            x: event.x,\n            y: event.y,\n        });\n    };\n    // 创建 mask\n    MaskBase.prototype.createMask = function () {\n        var view = this.context.view;\n        var maskAttrs = this.getMaskAttrs();\n        var maskShape = view.foregroundGroup.addShape({\n            type: this.shapeType,\n            name: 'mask',\n            draggable: true,\n            attrs: __assign({ fill: '#C5D4EB', opacity: 0.3 }, maskAttrs),\n        });\n        return maskShape;\n    };\n    // 生成 mask 的路径\n    MaskBase.prototype.getMaskPath = function () {\n        return [];\n    };\n    /**\n     * 显示\n     */\n    MaskBase.prototype.show = function () {\n        if (this.maskShape) {\n            this.maskShape.show();\n            this.emitEvent('show');\n        }\n    };\n    /**\n     * 开始\n     */\n    MaskBase.prototype.start = function () {\n        this.starting = true;\n        // 开始时，保证移动结束\n        this.moving = false;\n        this.points = [this.getCurrentPoint()];\n        if (!this.maskShape) {\n            this.maskShape = this.createMask();\n            // 开始时设置 capture: false，可以避免创建、resize 时触发事件\n            this.maskShape.set('capture', false);\n        }\n        this.updateMask();\n        this.emitEvent('start');\n    };\n    /**\n     * 开始移动\n     */\n    MaskBase.prototype.moveStart = function () {\n        this.moving = true;\n        this.preMovePoint = this.getCurrentPoint();\n    };\n    /**\n     * 移动 mask\n     */\n    MaskBase.prototype.move = function () {\n        if (!this.moving || !this.maskShape) {\n            return;\n        }\n        var currentPoint = this.getCurrentPoint();\n        var preMovePoint = this.preMovePoint;\n        var dx = currentPoint.x - preMovePoint.x;\n        var dy = currentPoint.y - preMovePoint.y;\n        var points = this.points;\n        each(points, function (point) {\n            point.x += dx;\n            point.y += dy;\n        });\n        this.updateMask();\n        this.emitEvent('change');\n        this.preMovePoint = currentPoint;\n    };\n    MaskBase.prototype.updateMask = function () {\n        var attrs = this.getMaskAttrs();\n        this.maskShape.attr(attrs);\n    };\n    /**\n     * 结束移动\n     */\n    MaskBase.prototype.moveEnd = function () {\n        this.moving = false;\n        this.preMovePoint = null;\n    };\n    /**\n     * 结束\n     */\n    MaskBase.prototype.end = function () {\n        this.starting = false;\n        this.emitEvent('end');\n        if (this.maskShape) {\n            this.maskShape.set('capture', true);\n        }\n    };\n    /**\n     * 隐藏\n     */\n    MaskBase.prototype.hide = function () {\n        if (this.maskShape) {\n            this.maskShape.hide();\n            this.emitEvent('hide');\n        }\n    };\n    /**\n     * 大小变化\n     */\n    MaskBase.prototype.resize = function () {\n        // 只有进行中，才会允许大小变化\n        if (this.starting && this.maskShape) {\n            this.points.push(this.getCurrentPoint());\n            this.updateMask();\n            this.emitEvent('change');\n        }\n    };\n    /**\n     * 销毁\n     */\n    MaskBase.prototype.destroy = function () {\n        this.points = [];\n        if (this.maskShape) {\n            this.maskShape.remove();\n        }\n        this.maskShape = null;\n        this.preMovePoint = null;\n        _super.prototype.destroy.call(this);\n    };\n    return MaskBase;\n}(Action));\nexport default MaskBase;\n//# sourceMappingURL=base.js.map","import { __extends } from \"tslib\";\nimport { last } from '@antv/util';\nimport { distance } from '../util';\nimport MaskBase from './base';\n/**\n * @ignore\n * 圆形辅助框 Action\n */\nvar CircleMask = /** @class */ (function (_super) {\n    __extends(CircleMask, _super);\n    function CircleMask() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.shapeType = 'circle';\n        return _this;\n    }\n    CircleMask.prototype.getMaskAttrs = function () {\n        var points = this.points;\n        var currentPoint = last(this.points);\n        var r = 0;\n        var x = 0;\n        var y = 0;\n        if (points.length) {\n            var first = points[0];\n            r = distance(first, currentPoint) / 2;\n            x = (currentPoint.x + first.x) / 2;\n            y = (currentPoint.y + first.y) / 2;\n        }\n        return {\n            x: x,\n            y: y,\n            r: r,\n        };\n    };\n    return CircleMask;\n}(MaskBase));\nexport default CircleMask;\n//# sourceMappingURL=circle.js.map","import { __extends } from \"tslib\";\nimport { head, last } from '@antv/util';\nimport MaskBase from './base';\n/**\n * @ignore\n * 矩形的辅助框 Action\n */\nvar RectMask = /** @class */ (function (_super) {\n    __extends(RectMask, _super);\n    function RectMask() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.shapeType = 'rect';\n        return _this;\n    }\n    RectMask.prototype.getRegion = function () {\n        var points = this.points;\n        return {\n            start: head(points),\n            end: last(points),\n        };\n    };\n    // 添加图形\n    RectMask.prototype.getMaskAttrs = function () {\n        var _a = this.getRegion(), start = _a.start, end = _a.end;\n        var x = Math.min(start.x, end.x);\n        var y = Math.min(start.y, end.y);\n        var width = Math.abs(end.x - start.x);\n        var height = Math.abs(end.y - start.y);\n        return {\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n        };\n    };\n    return RectMask;\n}(MaskBase));\nexport default RectMask;\n//# sourceMappingURL=rect.js.map","import { __extends } from \"tslib\";\nimport { clamp, head, last } from '@antv/util';\nimport RectMask from './rect';\nfunction clampPoint(point) {\n    point.x = clamp(point.x, 0, 1);\n    point.y = clamp(point.y, 0, 1);\n}\n/**\n * @ignore\n */\nvar DimRect = /** @class */ (function (_super) {\n    __extends(DimRect, _super);\n    function DimRect() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.dim = 'x';\n        _this.inPlot = true;\n        return _this;\n    }\n    DimRect.prototype.getRegion = function () {\n        var start = null;\n        var end = null;\n        var points = this.points;\n        var dim = this.dim;\n        var coord = this.context.view.getCoordinate();\n        var normalStart = coord.invert(head(points));\n        var normalEnd = coord.invert(last(points));\n        if (this.inPlot) {\n            // 约束到 0 - 1 范围内\n            clampPoint(normalStart);\n            clampPoint(normalEnd);\n        }\n        if (dim === 'x') {\n            // x 轴方向扩展, y 轴方向占满全部\n            start = coord.convert({\n                x: normalStart.x,\n                y: 0,\n            });\n            end = coord.convert({\n                x: normalEnd.x,\n                y: 1,\n            });\n        }\n        else {\n            // y 轴方向扩展, x 轴方向占满全部\n            start = coord.convert({\n                x: 0,\n                y: normalStart.y,\n            });\n            end = coord.convert({\n                x: 1,\n                y: normalEnd.y,\n            });\n        }\n        return {\n            start: start,\n            end: end,\n        };\n    };\n    return DimRect;\n}(RectMask));\nexport default DimRect;\n//# sourceMappingURL=dim-rect.js.map","import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport MaskBase from './base';\n/**\n * @ignore\n * 多个点构成的 Path 辅助框 Action\n */\nvar PathMask = /** @class */ (function (_super) {\n    __extends(PathMask, _super);\n    function PathMask() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // 生成 mask 的路径\n    PathMask.prototype.getMaskPath = function () {\n        var points = this.points;\n        var path = [];\n        if (points.length) {\n            each(points, function (point, index) {\n                if (index === 0) {\n                    path.push(['M', point.x, point.y]);\n                }\n                else {\n                    path.push(['L', point.x, point.y]);\n                }\n            });\n            path.push(['L', points[0].x, points[0].y]);\n        }\n        return path;\n    };\n    PathMask.prototype.getMaskAttrs = function () {\n        return {\n            path: this.getMaskPath(),\n        };\n    };\n    /**\n     * 添加一个点\n     */\n    PathMask.prototype.addPoint = function () {\n        this.resize();\n    };\n    return PathMask;\n}(MaskBase));\nexport default PathMask;\n//# sourceMappingURL=path.js.map","import { __extends } from \"tslib\";\nimport { getSpline } from '../util';\nimport PathMask from './path';\n/**\n * Smooth path mask\n * @ignore\n */\nvar SmoothPathMask = /** @class */ (function (_super) {\n    __extends(SmoothPathMask, _super);\n    function SmoothPathMask() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // 生成 mask 的路径\n    SmoothPathMask.prototype.getMaskPath = function () {\n        var points = this.points;\n        return getSpline(points, true);\n    };\n    return SmoothPathMask;\n}(PathMask));\nexport default SmoothPathMask;\n//# sourceMappingURL=smooth-path.js.map","import { __extends } from \"tslib\";\n/**\n * @fileoverview 设置画布的箭头，参看：https://www.w3school.com.cn/jsref/prop_style_cursor.asp\n * @author dxq613\n */\nimport Action from './base';\n/**\n * 鼠标形状的 Action\n * @ignore\n */\nvar CursorAction = /** @class */ (function (_super) {\n    __extends(CursorAction, _super);\n    function CursorAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CursorAction.prototype.setCursor = function (cursor) {\n        var view = this.context.view;\n        view.getCanvas().setCursor(cursor);\n    };\n    /**\n     * 默认光标（通常是一个箭头）\n     */\n    CursorAction.prototype.default = function () {\n        this.setCursor('default');\n    };\n    /** 光标呈现为指示链接的指针（一只手） */\n    CursorAction.prototype.pointer = function () {\n        this.setCursor('pointer');\n    };\n    /** 此光标指示某对象可被移动。 */\n    CursorAction.prototype.move = function () {\n        this.setCursor('move');\n    };\n    /** 光标呈现为十字线。 */\n    CursorAction.prototype.crosshair = function () {\n        this.setCursor('crosshair');\n    };\n    /** 此光标指示程序正忙（通常是一只表或沙漏）。 */\n    CursorAction.prototype.wait = function () {\n        this.setCursor('wait');\n    };\n    /** 此光标指示可用的帮助（通常是一个问号或一个气球）。 */\n    CursorAction.prototype.help = function () {\n        this.setCursor('help');\n    };\n    /** 此光标指示文本。 */\n    CursorAction.prototype.text = function () {\n        this.setCursor('text');\n    };\n    /**\n     * 此光标指示矩形框的边缘可被向右（东）移动。\n     */\n    CursorAction.prototype.eResize = function () {\n        this.setCursor('e-resize');\n    };\n    /**\n     * 此光标指示矩形框的边缘可被向左（西）移动。\n     */\n    CursorAction.prototype.wResize = function () {\n        this.setCursor('w-resize');\n    };\n    /**\n     * 此光标指示矩形框的边缘可被向上（北）移动。\n     */\n    CursorAction.prototype.nResize = function () {\n        this.setCursor('n-resize');\n    };\n    /**\n     * 此光标指示矩形框的边缘可被向下（南）移动。\n     */\n    CursorAction.prototype.sResize = function () {\n        this.setCursor('s-resize');\n    };\n    /**\n     * 光标指示可移动的方向 右上方（东北）\n     */\n    CursorAction.prototype.neResize = function () {\n        this.setCursor('ne-resize');\n    };\n    /**\n     * 光标指示可移动的方向 左上方（西北）\n     */\n    CursorAction.prototype.nwResize = function () {\n        this.setCursor('nw-resize');\n    };\n    /**\n     * 光标指示可移动的方向右下方（东南）\n     */\n    CursorAction.prototype.seResize = function () {\n        this.setCursor('se-resize');\n    };\n    /**\n     * 光标指示可移动的方向左下方（西南）\n     */\n    CursorAction.prototype.swResize = function () {\n        this.setCursor('sw-resize');\n    };\n    /**\n     * 光标指示可以在上下方向移动\n     */\n    CursorAction.prototype.nsResize = function () {\n        this.setCursor('ns-resize');\n    };\n    /**\n     * 光标指示可以在左右方向移动\n     */\n    CursorAction.prototype.ewResize = function () {\n        this.setCursor('ew-resize');\n    };\n    return CursorAction;\n}(Action));\nexport default CursorAction;\n//# sourceMappingURL=cursor.js.map","import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport Action from '../base';\nimport { getDelegationObject, getScaleByField, isList, isSlider } from '../util';\n/**\n * 数据过滤。\n * @ignore\n */\nvar DataFilter = /** @class */ (function (_super) {\n    __extends(DataFilter, _super);\n    function DataFilter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DataFilter.prototype.filterView = function (view, field, filter) {\n        var _this = this;\n        // 只有存在这个 scale 时才生效\n        if (view.getScaleByField(field)) {\n            view.filter(field, filter);\n        }\n        if (view.views && view.views.length) {\n            each(view.views, function (subView) {\n                _this.filterView(subView, field, filter);\n            });\n        }\n    };\n    /**\n     * 过滤数据\n     */\n    DataFilter.prototype.filter = function () {\n        var delegateObject = getDelegationObject(this.context);\n        if (delegateObject) {\n            var view = this.context.view;\n            var component = delegateObject.component;\n            var field = component.get('field');\n            // 列表类的组件能够触发\n            if (isList(delegateObject)) {\n                if (field) {\n                    var unCheckedItems = component.getItemsByState('unchecked');\n                    var scale_1 = getScaleByField(view, field);\n                    var names_1 = unCheckedItems.map(function (item) { return item.name; });\n                    if (names_1.length) {\n                        this.filterView(view, field, function (value) {\n                            var text = scale_1.getText(value);\n                            return !names_1.includes(text);\n                        });\n                    }\n                    else {\n                        this.filterView(view, field, null);\n                    }\n                    view.render(true);\n                }\n            }\n            else if (isSlider(delegateObject)) {\n                var range = component.getValue();\n                var min_1 = range[0], max_1 = range[1];\n                this.filterView(view, field, function (value) {\n                    return value >= min_1 && value <= max_1;\n                });\n                view.render(true);\n            }\n        }\n    };\n    return DataFilter;\n}(Action));\nexport default DataFilter;\n//# sourceMappingURL=filter.js.map","import { __extends } from \"tslib\";\nimport Action from '../base';\nimport { isMask } from '../util';\n// 获取对应的 scale\nfunction getFilter(scale, dim, point1, point2) {\n    var min = Math.min(point1[dim], point2[dim]);\n    var max = Math.max(point1[dim], point2[dim]);\n    var _a = scale.range, rangeMin = _a[0], rangeMax = _a[1];\n    // 约束值在 scale 的 range 之间\n    if (min < rangeMin) {\n        min = rangeMin;\n    }\n    if (max > rangeMax) {\n        max = rangeMax;\n    }\n    // 范围大于整个 view 的范围，则返回 null\n    if (min === rangeMax && max === rangeMax) {\n        return null;\n    }\n    var minValue = scale.invert(min);\n    var maxValue = scale.invert(max);\n    if (scale.isCategory) {\n        var minIndex = scale.values.indexOf(minValue);\n        var maxIndex = scale.values.indexOf(maxValue);\n        var arr_1 = scale.values.slice(minIndex, maxIndex + 1);\n        return function (value) {\n            return arr_1.includes(value);\n        };\n    }\n    else {\n        return function (value) {\n            return value >= minValue && value <= maxValue;\n        };\n    }\n}\n/**\n * 范围过滤的 Action\n * @ignore\n */\nvar RangeFilter = /** @class */ (function (_super) {\n    __extends(RangeFilter, _super);\n    function RangeFilter() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * 范围过滤生效的字段/维度，可以是 x, y\n         */\n        _this.dims = ['x', 'y'];\n        /** 起始点 */\n        _this.startPoint = null;\n        _this.isStarted = false;\n        return _this;\n    }\n    // x,y 是否生效\n    RangeFilter.prototype.hasDim = function (dim) {\n        return this.dims.includes(dim);\n    };\n    /**\n     * 开始范围过滤，记录范围过滤的起点\n     */\n    RangeFilter.prototype.start = function () {\n        var context = this.context;\n        this.isStarted = true;\n        this.startPoint = context.getCurrentPoint();\n    };\n    /**\n     * 过滤，以开始的点和当前点对数据进行过滤\n     */\n    RangeFilter.prototype.filter = function () {\n        var startPoint;\n        var currentPoint;\n        if (isMask(this.context)) {\n            var maskShape = this.context.event.target;\n            var bbox = maskShape.getCanvasBBox();\n            startPoint = { x: bbox.x, y: bbox.y };\n            currentPoint = { x: bbox.maxX, y: bbox.maxY };\n        }\n        else {\n            if (!this.isStarted) {\n                // 如果没有开始，则不执行过滤\n                return;\n            }\n            startPoint = this.startPoint;\n            currentPoint = this.context.getCurrentPoint();\n        }\n        if (Math.abs(startPoint.x - currentPoint.x) < 5 || Math.abs(startPoint.x - currentPoint.y) < 5) {\n            // 距离过小也不生效\n            return;\n        }\n        var view = this.context.view;\n        var coord = view.getCoordinate();\n        var normalCurrent = coord.invert(currentPoint);\n        var normalStart = coord.invert(startPoint);\n        // 设置 x 方向的 filter\n        if (this.hasDim('x')) {\n            var xScale = view.getXScale();\n            var filter = getFilter(xScale, 'x', normalCurrent, normalStart);\n            this.filterView(view, xScale.field, filter);\n        }\n        // 设置 y 方向的 filter\n        if (this.hasDim('y')) {\n            var yScale = view.getYScales()[0];\n            var filter = getFilter(yScale, 'y', normalCurrent, normalStart);\n            this.filterView(view, yScale.field, filter);\n        }\n        this.reRender(view);\n    };\n    /**\n     * 结束\n     */\n    RangeFilter.prototype.end = function () {\n        this.isStarted = false;\n    };\n    /**\n     * 取消同当前 Action 相关的过滤，指定的 x,y\n     */\n    RangeFilter.prototype.reset = function () {\n        var view = this.context.view;\n        this.isStarted = false;\n        if (this.hasDim('x')) {\n            var xScale = view.getXScale();\n            this.filterView(view, xScale.field, null); // 取消过滤\n        }\n        if (this.hasDim('y')) {\n            // y 轴过滤仅取第一个 yScale\n            var yScale = view.getYScales()[0];\n            this.filterView(view, yScale.field, null); // 取消过滤\n        }\n        this.reRender(view);\n    };\n    /**\n     * 对 view 进行过滤\n     */\n    RangeFilter.prototype.filterView = function (view, field, filter) {\n        view.filter(field, filter);\n    };\n    /**\n     * 重新渲染\n     * @param view\n     */\n    RangeFilter.prototype.reRender = function (view) {\n        view.render(true);\n    };\n    return RangeFilter;\n}(Action));\nexport default RangeFilter;\n//# sourceMappingURL=range-filter.js.map","import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport RangeFilter from './range-filter';\nimport { getSilbings } from '../util';\n/**\n * 数据范围过滤，但不在当前的 view 上生效，而在当前的 view 同一层级的其他 views 上生效，用于实现联动过滤。\n * @ignore\n */\nvar SiblingFilter = /** @class */ (function (_super) {\n    __extends(SiblingFilter, _super);\n    function SiblingFilter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * 对 view 进行过滤\n     * @param view\n     * @param field\n     * @param filter\n     */\n    SiblingFilter.prototype.filterView = function (view, field, filter) {\n        var siblings = getSilbings(view);\n        each(siblings, function (sibling) {\n            sibling.filter(field, filter);\n        });\n    };\n    /**\n     * 重新渲染\n     * @param view\n     */\n    SiblingFilter.prototype.reRender = function (view) {\n        var siblings = getSilbings(view);\n        each(siblings, function (sibling) {\n            sibling.render(true);\n        });\n    };\n    return SiblingFilter;\n}(RangeFilter));\nexport default SiblingFilter;\n//# sourceMappingURL=sibling-filter.js.map","import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport Action from '../base';\nimport { getDelegationObject, getElements, getElementValue, getScaleByField, isList, isSlider, isMask, getMaskedElements, } from '../util';\n/**\n * 元素过滤的 Action，控制元素的显示隐藏\n * @ignore\n */\nvar ElementFilter = /** @class */ (function (_super) {\n    __extends(ElementFilter, _super);\n    function ElementFilter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * 过滤\n     */\n    ElementFilter.prototype.filter = function () {\n        var delegateObject = getDelegationObject(this.context);\n        var view = this.context.view;\n        var elements = getElements(view);\n        if (isMask(this.context)) {\n            var maskElements_1 = getMaskedElements(this.context, 10);\n            if (maskElements_1) {\n                each(elements, function (el) {\n                    if (maskElements_1.includes(el)) {\n                        el.show();\n                    }\n                    else {\n                        el.hide();\n                    }\n                });\n            }\n        }\n        else if (delegateObject) {\n            var component = delegateObject.component;\n            var field_1 = component.get('field');\n            // 列表类的组件能够触发\n            if (isList(delegateObject)) {\n                if (field_1) {\n                    var unCheckedItems = component.getItemsByState('unchecked');\n                    var scale_1 = getScaleByField(view, field_1);\n                    var names_1 = unCheckedItems.map(function (item) { return item.name; });\n                    // 直接控制显示、隐藏\n                    each(elements, function (el) {\n                        var value = getElementValue(el, field_1);\n                        var text = scale_1.getText(value);\n                        if (names_1.indexOf(text) >= 0) {\n                            el.hide();\n                        }\n                        else {\n                            el.show();\n                        }\n                    });\n                }\n            }\n            else if (isSlider(delegateObject)) {\n                var range = component.getValue();\n                var min_1 = range[0], max_1 = range[1];\n                each(elements, function (el) {\n                    var value = getElementValue(el, field_1);\n                    if (value >= min_1 && value <= max_1) {\n                        el.show();\n                    }\n                    else {\n                        el.hide();\n                    }\n                });\n            }\n        }\n    };\n    /**\n     * 清除过滤\n     */\n    ElementFilter.prototype.clear = function () {\n        var elements = getElements(this.context.view);\n        each(elements, function (el) {\n            el.show();\n        });\n    };\n    /**\n     * 恢复发生的过滤，保持同 data-filter 命名的一致\n     */\n    ElementFilter.prototype.reset = function () {\n        this.clear();\n    };\n    return ElementFilter;\n}(Action));\nexport default ElementFilter;\n//# sourceMappingURL=filter.js.map","import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport Action from '../base';\nimport { getElements, getMaskedElements, getSiblingMaskElements, getSilbings, isInRecords, isMask } from '../util';\n/**\n * Sibling filter\n * @ignore\n */\nvar SiblingFilter = /** @class */ (function (_super) {\n    __extends(SiblingFilter, _super);\n    function SiblingFilter() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.byRecord = false;\n        return _this;\n    }\n    /**\n     * 过滤隐藏图形\n     */\n    SiblingFilter.prototype.filter = function () {\n        // 仅考虑 mask 导致的过滤\n        if (isMask(this.context)) {\n            if (this.byRecord) {\n                this.filterByRecord();\n            }\n            else {\n                this.filterByBBox();\n            }\n        }\n    };\n    // 根据框选的记录来做过滤\n    SiblingFilter.prototype.filterByRecord = function () {\n        var view = this.context.view;\n        var maskElements = getMaskedElements(this.context, 10);\n        if (!maskElements) {\n            return;\n        }\n        var xFiled = view.getXScale().field;\n        var yField = view.getYScales()[0].field;\n        var records = maskElements.map(function (el) {\n            return el.getModel().data;\n        });\n        var siblings = getSilbings(view);\n        each(siblings, function (sibling) {\n            var elements = getElements(sibling);\n            each(elements, function (el) {\n                var record = el.getModel().data;\n                // records.includes(record) 不生效，应该是数据的引用被改了\n                if (isInRecords(records, record, xFiled, yField)) {\n                    el.show();\n                }\n                else {\n                    el.hide();\n                }\n            });\n        });\n    };\n    // 根据被框选的包围盒做过滤\n    SiblingFilter.prototype.filterByBBox = function () {\n        var _this = this;\n        var view = this.context.view;\n        var siblings = getSilbings(view);\n        each(siblings, function (sibling) {\n            var maskElements = getSiblingMaskElements(_this.context, sibling, 10);\n            var elements = getElements(sibling);\n            if (maskElements) {\n                // mask 过小时返回为 null，不能是空数组，否则同未框选到混淆\n                each(elements, function (el) {\n                    if (maskElements.includes(el)) {\n                        el.show();\n                    }\n                    else {\n                        el.hide();\n                    }\n                });\n            }\n        });\n    };\n    /**\n     * 清理所有隐藏的图形\n     */\n    SiblingFilter.prototype.reset = function () {\n        var siblings = getSilbings(this.context.view);\n        each(siblings, function (sibling) {\n            var elements = getElements(sibling);\n            each(elements, function (el) {\n                el.show();\n            });\n        });\n    };\n    return SiblingFilter;\n}(Action));\nexport default SiblingFilter;\n//# sourceMappingURL=sibling-filter.js.map","import { __assign, __extends } from \"tslib\";\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport { parsePadding } from '../../../util/padding';\nimport Action from '../base';\nvar PADDING_RIGHT = 10;\nvar PADDING_TOP = 5;\n/**\n * Button action\n * @ignore\n */\nvar ButtonAction = /** @class */ (function (_super) {\n    __extends(ButtonAction, _super);\n    function ButtonAction() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buttonGroup = null;\n        _this.buttonCfg = {\n            name: 'button',\n            text: 'button',\n            textStyle: {\n                x: 0,\n                y: 0,\n                fontSize: 12,\n                fill: '#333333',\n                cursor: 'pointer',\n            },\n            padding: [8, 10],\n            style: {\n                fill: '#f7f7f7',\n                stroke: '#cccccc',\n                cursor: 'pointer',\n            },\n            activeStyle: {\n                fill: '#e6e6e6',\n            },\n        };\n        return _this;\n    }\n    // mix 默认的配置和用户配置\n    ButtonAction.prototype.getButtonCfg = function () {\n        return deepMix(this.buttonCfg, this.cfg);\n    };\n    // 绘制 Button 和 文本\n    ButtonAction.prototype.drawButton = function () {\n        var config = this.getButtonCfg();\n        var group = this.context.view.foregroundGroup.addGroup({\n            name: config.name,\n        });\n        // 添加文本\n        var textShape = group.addShape({\n            type: 'text',\n            name: 'button-text',\n            attrs: __assign({ text: config.text }, config.textStyle),\n        });\n        var textBBox = textShape.getBBox();\n        var padding = parsePadding(config.padding);\n        // 添加背景按钮\n        var buttonShape = group.addShape({\n            type: 'rect',\n            name: 'button-rect',\n            attrs: __assign({ x: textBBox.x - padding[3], y: textBBox.y - padding[0], width: textBBox.width + padding[1] + padding[3], height: textBBox.height + padding[0] + padding[2] }, config.style),\n        });\n        buttonShape.toBack(); // 在后面\n        // active 效果内置\n        group.on('mouseenter', function () {\n            buttonShape.attr(config.activeStyle);\n        });\n        group.on('mouseleave', function () {\n            buttonShape.attr(config.style);\n        });\n        this.buttonGroup = group;\n    };\n    // 重置位置\n    ButtonAction.prototype.resetPosition = function () {\n        var view = this.context.view;\n        var coord = view.getCoordinate();\n        var point = coord.convert({ x: 1, y: 1 }); // 后面直接改成左上角\n        var buttonGroup = this.buttonGroup;\n        var bbox = buttonGroup.getBBox();\n        var matrix = ext.transform(null, [\n            ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n        ]);\n        buttonGroup.setMatrix(matrix);\n    };\n    /**\n     * 显示\n     */\n    ButtonAction.prototype.show = function () {\n        if (!this.buttonGroup) {\n            this.drawButton();\n        }\n        this.resetPosition();\n        this.buttonGroup.show();\n    };\n    /**\n     * 隐藏\n     */\n    ButtonAction.prototype.hide = function () {\n        if (this.buttonGroup) {\n            this.buttonGroup.hide();\n        }\n    };\n    /**\n     * 销毁\n     */\n    ButtonAction.prototype.destroy = function () {\n        var buttonGroup = this.buttonGroup;\n        if (buttonGroup) {\n            buttonGroup.remove();\n        }\n        _super.prototype.destroy.call(this);\n    };\n    return ButtonAction;\n}(Action));\nexport default ButtonAction;\n//# sourceMappingURL=button.js.map","import { __extends } from \"tslib\";\nimport Action from '../base';\nimport { distance } from '../util';\nvar DISTANCE = 4; // 移动的最小距离\n/**\n * @ignore\n * View 支持 Drag 的 Action\n */\nvar Drag = /** @class */ (function (_super) {\n    __extends(Drag, _super);\n    function Drag() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // Action 开始，不等同于 拖拽开始，需要判定移动的范围\n        _this.starting = false;\n        // 拖拽开始\n        _this.dragStart = false;\n        return _this;\n    }\n    /**\n     * 开始\n     */\n    Drag.prototype.start = function () {\n        this.starting = true;\n        this.startPoint = this.context.getCurrentPoint();\n    };\n    /**\n     * 拖拽\n     */\n    Drag.prototype.drag = function () {\n        if (!this.startPoint) {\n            return;\n        }\n        var current = this.context.getCurrentPoint();\n        var view = this.context.view;\n        var event = this.context.event;\n        if (!this.dragStart) {\n            if (distance(current, this.startPoint) > DISTANCE) {\n                view.emit('dragstart', {\n                    target: event.target,\n                    x: event.x,\n                    y: event.y,\n                });\n                this.dragStart = true;\n            }\n        }\n        else {\n            view.emit('drag', {\n                target: event.target,\n                x: event.x,\n                y: event.y,\n            });\n        }\n    };\n    /**\n     * 结束\n     */\n    Drag.prototype.end = function () {\n        if (this.dragStart) {\n            var view = this.context.view;\n            var event_1 = this.context.event;\n            view.emit('dragend', {\n                target: event_1.target,\n                x: event_1.x,\n                y: event_1.y,\n            });\n        }\n        this.starting = false;\n        this.dragStart = false;\n    };\n    return Drag;\n}(Action));\nexport default Drag;\n//# sourceMappingURL=drag.js.map","import { __extends } from \"tslib\";\nimport { ext } from '@antv/matrix-util';\nimport { Action } from '..';\nimport { distance } from '../util';\nvar MIN_DISTANCE = 5;\n/**\n * @ignore\n * View 移动的 Action\n */\nvar Move = /** @class */ (function (_super) {\n    __extends(Move, _super);\n    function Move() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.starting = false;\n        _this.isMoving = false;\n        // private cacheRange = null;\n        _this.startPoint = null;\n        _this.startMatrix = null;\n        return _this;\n    }\n    /**\n     * 开始移动\n     */\n    Move.prototype.start = function () {\n        this.starting = true;\n        this.startPoint = this.context.getCurrentPoint();\n        // 缓存开始时的矩阵，防止反复拖拽\n        this.startMatrix = this.context.view.middleGroup.getMatrix();\n    };\n    /**\n     * 移动\n     */\n    Move.prototype.move = function () {\n        if (!this.starting) {\n            return;\n        }\n        var startPoint = this.startPoint;\n        var currentPoint = this.context.getCurrentPoint();\n        var d = distance(startPoint, currentPoint);\n        if (d > MIN_DISTANCE && !this.isMoving) {\n            this.isMoving = true;\n        }\n        if (this.isMoving) {\n            var view = this.context.view;\n            var matrix = ext.transform(this.startMatrix, [\n                ['t', currentPoint.x - startPoint.x, currentPoint.y - startPoint.y],\n            ]);\n            view.backgroundGroup.setMatrix(matrix);\n            view.foregroundGroup.setMatrix(matrix);\n            view.middleGroup.setMatrix(matrix);\n        }\n    };\n    /**\n     * 结束移动\n     */\n    Move.prototype.end = function () {\n        if (this.isMoving) {\n            this.isMoving = false;\n        }\n        this.startMatrix = null;\n        this.starting = false;\n        this.startPoint = null;\n    };\n    /**\n     * 回滚\n     */\n    Move.prototype.reset = function () {\n        this.starting = false;\n        this.startPoint = null;\n        this.isMoving = false;\n        var view = this.context.view;\n        view.backgroundGroup.resetMatrix();\n        view.foregroundGroup.resetMatrix();\n        view.middleGroup.resetMatrix();\n        this.isMoving = false;\n    };\n    return Move;\n}(Action));\nexport default Move;\n//# sourceMappingURL=move.js.map","import { __extends } from \"tslib\";\nimport { Action } from '..';\nvar DIM_X = 'x';\nvar DIM_Y = 'y';\n/**\n * Scale translate\n * @ignore\n */\nvar ScaleTranslate = /** @class */ (function (_super) {\n    __extends(ScaleTranslate, _super);\n    function ScaleTranslate() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.dims = [DIM_X, DIM_Y];\n        _this.cfgFields = ['dims'];\n        _this.cacheScaleDefs = {};\n        return _this;\n    }\n    // 是否支持对应字段的平移\n    ScaleTranslate.prototype.hasDim = function (dim) {\n        return this.dims.includes(dim);\n    };\n    ScaleTranslate.prototype.getScale = function (dim) {\n        var view = this.context.view;\n        if (dim === 'x') {\n            return view.getXScale();\n        }\n        else {\n            return view.getYScales()[0];\n        }\n    };\n    ScaleTranslate.prototype.resetDim = function (dim) {\n        var view = this.context.view;\n        if (this.hasDim(dim) && this.cacheScaleDefs[dim]) {\n            var scale = this.getScale(dim);\n            view.scale(scale.field, this.cacheScaleDefs[dim]);\n            this.cacheScaleDefs[dim] = null;\n        }\n    };\n    /**\n     * 回滚\n     */\n    ScaleTranslate.prototype.reset = function () {\n        this.resetDim(DIM_X);\n        this.resetDim(DIM_Y);\n        var view = this.context.view;\n        view.render(true);\n    };\n    return ScaleTranslate;\n}(Action));\nexport default ScaleTranslate;\n//# sourceMappingURL=scale-transform.js.map","import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport TransformAction from './scale-transform';\n/**\n * 拖拽 Scale 的 Action\n * @ignore\n */\nvar ScaleTranslate = /** @class */ (function (_super) {\n    __extends(ScaleTranslate, _super);\n    function ScaleTranslate() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.startPoint = null;\n        _this.starting = false;\n        _this.startCache = {};\n        return _this;\n    }\n    /**\n     * 开始\n     */\n    ScaleTranslate.prototype.start = function () {\n        var _this = this;\n        this.startPoint = this.context.getCurrentPoint();\n        this.starting = true;\n        var dims = this.dims;\n        each(dims, function (dim) {\n            var scale = _this.getScale(dim);\n            var min = scale.min, max = scale.max, values = scale.values;\n            _this.startCache[dim] = { min: min, max: max, values: values };\n        });\n    };\n    // 平移分类的度量\n    // private translateCategory(dim, scale, normalPoint) {\n    // }\n    /**\n     * 结束\n     */\n    ScaleTranslate.prototype.end = function () {\n        this.startPoint = null;\n        this.starting = false;\n        this.startCache = {};\n    };\n    /**\n     * 平移\n     */\n    ScaleTranslate.prototype.translate = function () {\n        var _this = this;\n        if (!this.starting) {\n            return;\n        }\n        var startPoint = this.startPoint;\n        var coord = this.context.view.getCoordinate();\n        var currentPoint = this.context.getCurrentPoint();\n        var normalStart = coord.invert(startPoint);\n        var noramlCurrent = coord.invert(currentPoint);\n        var dx = noramlCurrent.x - normalStart.x;\n        var dy = noramlCurrent.y - normalStart.y;\n        var view = this.context.view;\n        var dims = this.dims;\n        each(dims, function (dim) {\n            _this.translateDim(dim, { x: dx * -1, y: dy * -1 });\n        });\n        view.render(true);\n    };\n    // 平移度量\n    ScaleTranslate.prototype.translateDim = function (dim, normalPoint) {\n        if (this.hasDim(dim)) {\n            var scale = this.getScale(dim);\n            if (scale.isLinear) {\n                this.translateLinear(dim, scale, normalPoint);\n            }\n            //  else { // 暂时仅处理连续字段\n            // this.translateCategory(dim, scale, normalPoint);\n            // }\n        }\n    };\n    // linear 度量平移\n    ScaleTranslate.prototype.translateLinear = function (dim, scale, normalPoint) {\n        var view = this.context.view;\n        var _a = this.startCache[dim], min = _a.min, max = _a.max;\n        var range = max - min;\n        var d = normalPoint[dim] * range;\n        // 只有第一次缓存，否则无法回滚\n        if (!this.cacheScaleDefs[dim]) {\n            this.cacheScaleDefs[dim] = {\n                // @ts-ignore\n                nice: scale.nice,\n                min: min,\n                max: max,\n            };\n        }\n        view.scale(scale.field, {\n            // @ts-ignore\n            nice: false,\n            min: min + d,\n            max: max + d,\n        });\n    };\n    // 平移分类的度量\n    // private translateCategory(dim, scale, normalPoint) {\n    // }\n    /**\n     * 回滚\n     */\n    ScaleTranslate.prototype.reset = function () {\n        _super.prototype.reset.call(this);\n        this.startPoint = null;\n        this.starting = false;\n    };\n    return ScaleTranslate;\n}(TransformAction));\nexport default ScaleTranslate;\n//# sourceMappingURL=scale-translate.js.map","import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport TransformAction from './scale-transform';\n/**\n * 缩放 Scale 的 Action\n * @ignore\n */\nvar ScaleTranslate = /** @class */ (function (_super) {\n    __extends(ScaleTranslate, _super);\n    function ScaleTranslate() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.zoomRatio = 0.05;\n        return _this;\n        // 平移分类的度量\n        // private translateCategory(dim, scale, normalPoint) {\n        // }\n    }\n    /**\n     * 缩小\n     */\n    ScaleTranslate.prototype.zoomIn = function () {\n        this.zoom(this.zoomRatio);\n    };\n    ScaleTranslate.prototype.zoom = function (scale) {\n        var _this = this;\n        var dims = this.dims;\n        each(dims, function (dim) {\n            _this.zoomDim(dim, scale);\n        });\n        this.context.view.render(true);\n    };\n    /**\n     * 放大\n     */\n    ScaleTranslate.prototype.zoomOut = function () {\n        this.zoom(-1 * this.zoomRatio);\n    };\n    // 缩放度量\n    ScaleTranslate.prototype.zoomDim = function (dim, dRatio) {\n        if (this.hasDim(dim)) {\n            var scale = this.getScale(dim);\n            if (scale.isLinear) {\n                this.zoomLinear(dim, scale, dRatio);\n            }\n            //  else { // 暂时仅处理连续字段\n            // this.zoomCategory(dim, scale, normalPoint);\n            // }\n        }\n    };\n    // linear 度量平移\n    ScaleTranslate.prototype.zoomLinear = function (dim, scale, dRatio) {\n        var view = this.context.view;\n        // 只有第一次缓存，否则无法回滚\n        if (!this.cacheScaleDefs[dim]) {\n            this.cacheScaleDefs[dim] = {\n                // @ts-ignore\n                nice: scale.nice,\n                min: scale.min,\n                max: scale.max,\n            };\n        }\n        // 使用使用原始度量作为缩放标准\n        var scaleDef = this.cacheScaleDefs[dim];\n        var range = scaleDef.max - scaleDef.min;\n        var min = scale.min, max = scale.max;\n        var d = dRatio * range;\n        var toMin = min - d;\n        var toMax = max + d;\n        var curRange = toMax - toMin;\n        var scaled = curRange / range;\n        if (toMax > toMin && scaled < 100 && scaled > 0.01) {\n            view.scale(scale.field, {\n                // @ts-ignore\n                nice: false,\n                min: min - d,\n                max: max + d,\n            });\n        }\n    };\n    return ScaleTranslate;\n}(TransformAction));\nexport default ScaleTranslate;\n//# sourceMappingURL=scale-zoom.js.map","// 注册黑暗主题\nimport { registerTheme } from './core';\nimport { antvDark } from './theme/style-sheet/dark';\nimport { createThemeByStylesheet } from './util/theme';\nregisterTheme('dark', createThemeByStylesheet(antvDark));\n// 注册 G 渲染引擎\nimport * as CanvasEngine from '@antv/g-canvas';\nimport * as SVGEngine from '@antv/g-svg';\nimport { registerEngine } from './core';\nregisterEngine('canvas', CanvasEngine);\nregisterEngine('svg', SVGEngine);\n// 注册 G2 内置的 geometry\nimport { registerGeometry } from './core';\nimport Area from './geometry/area';\nimport Edge from './geometry/edge';\nimport Heatmap from './geometry/heatmap';\nimport Interval from './geometry/interval';\nimport Line from './geometry/line';\nimport Path from './geometry/path';\nimport Point from './geometry/point';\nimport Polygon from './geometry/polygon';\nimport Schema from './geometry/schema';\nregisterGeometry('Polygon', Polygon);\nregisterGeometry('Interval', Interval);\nregisterGeometry('Schema', Schema);\nregisterGeometry('Path', Path);\nregisterGeometry('Point', Point);\nregisterGeometry('Line', Line);\nregisterGeometry('Area', Area);\nregisterGeometry('Edge', Edge);\nregisterGeometry('Heatmap', Heatmap);\n// 引入所有内置的 shapes\nimport './geometry/shape/area/line';\nimport './geometry/shape/area/smooth';\nimport './geometry/shape/area/smooth-line';\nimport './geometry/shape/edge/arc';\nimport './geometry/shape/edge/smooth';\nimport './geometry/shape/edge/vhv';\nimport './geometry/shape/interval/funnel';\nimport './geometry/shape/interval/hollow-rect';\nimport './geometry/shape/interval/line';\nimport './geometry/shape/interval/pyramid';\nimport './geometry/shape/interval/tick';\nimport './geometry/shape/line/step';\nimport './geometry/shape/point/hollow';\nimport './geometry/shape/point/image';\nimport './geometry/shape/point/solid';\nimport './geometry/shape/schema/box';\nimport './geometry/shape/schema/candle';\nimport './geometry/shape/polygon/square';\n// 注册 Geometry 内置的 label\nimport { registerGeometryLabel } from './core';\nimport GeometryLabel from './geometry/label/base';\nimport IntervalLabel from './geometry/label/interval';\nimport PieLabel from './geometry/label/pie';\nimport PolarLabel from './geometry/label/polar';\nregisterGeometryLabel('base', GeometryLabel);\nregisterGeometryLabel('interval', IntervalLabel);\nregisterGeometryLabel('pie', PieLabel);\nregisterGeometryLabel('polar', PolarLabel);\n// 注册 Geometry label 内置的布局函数\nimport { registerGeometryLabelLayout } from './core';\nimport { distribute } from './geometry/label/layout/pie/distribute';\nimport { pieOuterLabelLayout } from './geometry/label/layout/pie/outer';\nimport { pieSpiderLabelLayout } from './geometry/label/layout/pie/spider';\nimport { limitInCanvas } from './geometry/label/layout/limit-in-canvas';\nimport { limitInShape } from './geometry/label/layout/limit-in-shape';\nimport { fixedOverlap, overlap } from './geometry/label/layout/overlap';\nimport { hideOverlap } from './geometry/label/layout/hide-overlap';\nimport { adjustColor } from './geometry/label/layout/adjust-color';\nimport { intervalAdjustPosition } from './geometry/label/layout/interval/adjust-position';\nimport { pointAdjustPosition } from './geometry/label/layout/point/adjust-position';\nregisterGeometryLabelLayout('overlap', overlap);\nregisterGeometryLabelLayout('distribute', distribute);\nregisterGeometryLabelLayout('fixed-overlap', fixedOverlap);\nregisterGeometryLabelLayout('hide-overlap', hideOverlap);\nregisterGeometryLabelLayout('limit-in-shape', limitInShape);\nregisterGeometryLabelLayout('limit-in-canvas', limitInCanvas);\nregisterGeometryLabelLayout('pie-outer', pieOuterLabelLayout);\nregisterGeometryLabelLayout('adjust-color', adjustColor);\nregisterGeometryLabelLayout('interval-adjust-position', intervalAdjustPosition);\nregisterGeometryLabelLayout('point-adjust-position', pointAdjustPosition);\nregisterGeometryLabelLayout('pie-spider', pieSpiderLabelLayout);\n// 注册需要的动画执行函数\nimport { fadeIn, fadeOut } from './animate/animation/fade';\nimport { growInX, growInXY, growInY } from './animate/animation/grow-in';\nimport { pathIn } from './animate/animation/path-in';\nimport { positionUpdate } from './animate/animation/position-update';\nimport { scaleInX, scaleInY } from './animate/animation/scale-in';\nimport { sectorPathUpdate } from './animate/animation/sector-path-update';\nimport { waveIn } from './animate/animation/wave-in';\nimport { zoomIn, zoomOut } from './animate/animation/zoom';\nimport { registerAnimation } from './core';\nregisterAnimation('fade-in', fadeIn);\nregisterAnimation('fade-out', fadeOut);\nregisterAnimation('grow-in-x', growInX);\nregisterAnimation('grow-in-xy', growInXY);\nregisterAnimation('grow-in-y', growInY);\nregisterAnimation('scale-in-x', scaleInX);\nregisterAnimation('scale-in-y', scaleInY);\nregisterAnimation('wave-in', waveIn);\nregisterAnimation('zoom-in', zoomIn);\nregisterAnimation('zoom-out', zoomOut);\nregisterAnimation('position-update', positionUpdate);\nregisterAnimation('sector-path-update', sectorPathUpdate);\nregisterAnimation('path-in', pathIn);\n// 注册内置的 Facet\nimport { registerFacet } from './core';\nimport Circle from './facet/circle';\nimport List from './facet/list';\nimport Matrix from './facet/matrix';\nimport Mirror from './facet/mirror';\nimport Rect from './facet/rect';\nimport Tree from './facet/tree';\nregisterFacet('rect', Rect);\nregisterFacet('mirror', Mirror);\nregisterFacet('list', List);\nregisterFacet('matrix', Matrix);\nregisterFacet('circle', Circle);\nregisterFacet('tree', Tree);\n// 注册内置的 Component\nimport { registerComponentController } from './core';\nimport Annotation from './chart/controller/annotation';\nimport Axis from './chart/controller/axis';\nimport Legend from './chart/controller/legend';\nimport Slider from './chart/controller/slider';\nimport Tooltip from './chart/controller/tooltip';\nimport Scrollbar from './chart/controller/scrollbar';\n// register build-in components\nregisterComponentController('axis', Axis);\nregisterComponentController('legend', Legend);\nregisterComponentController('tooltip', Tooltip);\nregisterComponentController('annotation', Annotation);\nregisterComponentController('slider', Slider);\nregisterComponentController('scrollbar', Scrollbar);\n// 注册 Interaction Action\nimport { registerAction } from './core';\nimport ActiveRegion from './interaction/action/active-region';\nimport SiblingTooltip from './interaction/action/component/tooltip/sibling';\nimport TooltipAction from './interaction/action/component/tooltip/geometry';\nimport EllipsisTextAction from './interaction/action/component/tooltip/ellipsis-text';\nimport ElmentActive from './interaction/action/element/active';\nimport ElementLinkByColor from './interaction/action/element/link-by-color';\nimport ElmentRangeActive from './interaction/action/element/range-active';\nimport ElmentSingleActive from './interaction/action/element/single-active';\nimport ElmentHighlight from './interaction/action/element/highlight';\nimport ElmentHighlightByColor from './interaction/action/element/highlight-by-color';\nimport ElmentHighlightByX from './interaction/action/element/highlight-by-x';\nimport ElmentRangeHighlight from './interaction/action/element/range-highlight';\nimport ElmentSingleHighlight from './interaction/action/element/single-highlight';\nimport ElementRangeSelected from './interaction/action/element/range-selected';\nimport ElementSelected from './interaction/action/element/selected';\nimport ElementSingleSelected from './interaction/action/element/single-selected';\nimport ListActive from './interaction/action/component/list-active';\nimport ListHighlight from './interaction/action/component/list-highlight';\nimport ListSelected from './interaction/action/component/list-selected';\nimport ListUnchecked from './interaction/action/component/list-unchecked';\nimport CircleMask from './interaction/action/mask/circle';\nimport DimMask from './interaction/action/mask/dim-rect';\nimport PathMask from './interaction/action/mask/path';\nimport RectMask from './interaction/action/mask/rect';\nimport SmoothPathMask from './interaction/action/mask/smooth-path';\nimport CursorAction from './interaction/action/cursor';\nimport DataFilter from './interaction/action/data/filter';\nimport DataRangeFilter from './interaction/action/data/range-filter';\nimport SiblingFilter from './interaction/action/data/sibling-filter';\nimport ElementFilter from './interaction/action/element/filter';\nimport ElementSiblingFilter from './interaction/action/element/sibling-filter';\nimport ButtonAction from './interaction/action/view/button';\nimport ViewDrag from './interaction/action/view/drag';\nimport ViewMove from './interaction/action/view/move';\nimport ScaleTranslate from './interaction/action/view/scale-translate';\nimport ScaleZoom from './interaction/action/view/scale-zoom';\nregisterAction('tooltip', TooltipAction);\nregisterAction('sibling-tooltip', SiblingTooltip);\nregisterAction('ellipsis-text', EllipsisTextAction);\nregisterAction('element-active', ElmentActive);\nregisterAction('element-single-active', ElmentSingleActive);\nregisterAction('element-range-active', ElmentRangeActive);\nregisterAction('element-highlight', ElmentHighlight);\nregisterAction('element-highlight-by-x', ElmentHighlightByX);\nregisterAction('element-highlight-by-color', ElmentHighlightByColor);\nregisterAction('element-single-highlight', ElmentSingleHighlight);\nregisterAction('element-range-highlight', ElmentRangeHighlight);\nregisterAction('element-sibling-highlight', ElmentRangeHighlight, {\n    effectSiblings: true,\n    effectByRecord: true,\n});\nregisterAction('element-selected', ElementSelected);\nregisterAction('element-single-selected', ElementSingleSelected);\nregisterAction('element-range-selected', ElementRangeSelected);\nregisterAction('element-link-by-color', ElementLinkByColor);\nregisterAction('active-region', ActiveRegion);\nregisterAction('list-active', ListActive);\nregisterAction('list-selected', ListSelected);\nregisterAction('list-highlight', ListHighlight);\nregisterAction('list-unchecked', ListUnchecked);\nregisterAction('legend-item-highlight', ListHighlight, {\n    componentNames: ['legend'],\n});\nregisterAction('axis-label-highlight', ListHighlight, {\n    componentNames: ['axis'],\n});\nregisterAction('rect-mask', RectMask);\nregisterAction('x-rect-mask', DimMask, { dim: 'x' });\nregisterAction('y-rect-mask', DimMask, { dim: 'y' });\nregisterAction('circle-mask', CircleMask);\nregisterAction('path-mask', PathMask);\nregisterAction('smooth-path-mask', SmoothPathMask);\nregisterAction('cursor', CursorAction);\nregisterAction('data-filter', DataFilter);\nregisterAction('brush', DataRangeFilter);\nregisterAction('brush-x', DataRangeFilter, { dims: ['x'] });\nregisterAction('brush-y', DataRangeFilter, { dims: ['y'] });\nregisterAction('sibling-filter', SiblingFilter);\nregisterAction('sibling-x-filter', SiblingFilter);\nregisterAction('sibling-y-filter', SiblingFilter);\nregisterAction('element-filter', ElementFilter);\nregisterAction('element-sibling-filter', ElementSiblingFilter);\nregisterAction('element-sibling-filter-record', ElementSiblingFilter, { byRecord: true });\nregisterAction('view-drag', ViewDrag);\nregisterAction('view-move', ViewMove);\nregisterAction('scale-translate', ScaleTranslate);\nregisterAction('scale-zoom', ScaleZoom);\nregisterAction('reset-button', ButtonAction, {\n    name: 'reset-button',\n    text: 'reset',\n});\n// 注册默认的 Interaction 交互行为\nimport { registerInteraction } from './core';\nfunction isPointInView(context) {\n    return context.isInPlot();\n}\n// 注册 tooltip 的 interaction\nregisterInteraction('tooltip', {\n    start: [\n        { trigger: 'plot:mousemove', action: 'tooltip:show', throttle: { wait: 50, leading: true, trailing: false } },\n        { trigger: 'plot:touchmove', action: 'tooltip:show', throttle: { wait: 50, leading: true, trailing: false } },\n    ],\n    end: [\n        { trigger: 'plot:mouseleave', action: 'tooltip:hide' },\n        { trigger: 'plot:leave', action: 'tooltip:hide' },\n        { trigger: 'plot:touchend', action: 'tooltip:hide' },\n    ],\n});\nregisterInteraction('ellipsis-text', {\n    start: [\n        {\n            trigger: 'legend-item-name:mousemove',\n            action: 'ellipsis-text:show',\n            throttle: { wait: 50, leading: true, trailing: false },\n        },\n        {\n            trigger: 'legend-item-name:touchstart',\n            action: 'ellipsis-text:show',\n            throttle: { wait: 50, leading: true, trailing: false },\n        },\n        {\n            trigger: 'axis-label:mousemove',\n            action: 'ellipsis-text:show',\n            throttle: { wait: 50, leading: true, trailing: false },\n        },\n        {\n            trigger: 'axis-label:touchstart',\n            action: 'ellipsis-text:show',\n            throttle: { wait: 50, leading: true, trailing: false },\n        },\n    ],\n    end: [\n        { trigger: 'legend-item-name:mouseleave', action: 'ellipsis-text:hide' },\n        { trigger: 'legend-item-name:touchend', action: 'ellipsis-text:hide' },\n        { trigger: 'axis-label:mouseleave', action: 'ellipsis-text:hide' },\n        { trigger: 'axis-label:touchend', action: 'ellipsis-text:hide' },\n    ],\n});\n// 移动到 element 上 active\nregisterInteraction('element-active', {\n    start: [{ trigger: 'element:mouseenter', action: 'element-active:active' }],\n    end: [{ trigger: 'element:mouseleave', action: 'element-active:reset' }],\n});\n// 点击选中，允许取消\nregisterInteraction('element-selected', {\n    start: [{ trigger: 'element:click', action: 'element-selected:toggle' }],\n});\n// hover highlight，允许取消\nregisterInteraction('element-highlight', {\n    start: [{ trigger: 'element:mouseenter', action: 'element-highlight:highlight' }],\n    end: [{ trigger: 'element:mouseleave', action: 'element-highlight:reset' }],\n});\n// hover highlight by x，允许取消\nregisterInteraction('element-highlight-by-x', {\n    start: [{ trigger: 'element:mouseenter', action: 'element-highlight-by-x:highlight' }],\n    end: [{ trigger: 'element:mouseleave', action: 'element-highlight-by-x:reset' }],\n});\n// hover highlight by y，允许取消\nregisterInteraction('element-highlight-by-color', {\n    start: [{ trigger: 'element:mouseenter', action: 'element-highlight-by-color:highlight' }],\n    end: [{ trigger: 'element:mouseleave', action: 'element-highlight-by-color:reset' }],\n});\n// legend hover，element active\nregisterInteraction('legend-active', {\n    start: [{ trigger: 'legend-item:mouseenter', action: ['list-active:active', 'element-active:active'] }],\n    end: [{ trigger: 'legend-item:mouseleave', action: ['list-active:reset', 'element-active:reset'] }],\n});\n// legend hover，element active\nregisterInteraction('legend-highlight', {\n    start: [\n        { trigger: 'legend-item:mouseenter', action: ['legend-item-highlight:highlight', 'element-highlight:highlight'] },\n    ],\n    end: [{ trigger: 'legend-item:mouseleave', action: ['legend-item-highlight:reset', 'element-highlight:reset'] }],\n});\n// legend hover，element active\nregisterInteraction('axis-label-highlight', {\n    start: [\n        { trigger: 'axis-label:mouseenter', action: ['axis-label-highlight:highlight', 'element-highlight:highlight'] },\n    ],\n    end: [{ trigger: 'axis-label:mouseleave', action: ['axis-label-highlight:reset', 'element-highlight:reset'] }],\n});\n// legend hover，element active\nregisterInteraction('element-list-highlight', {\n    start: [{ trigger: 'element:mouseenter', action: ['list-highlight:highlight', 'element-highlight:highlight'] }],\n    end: [{ trigger: 'element:mouseleave', action: ['list-highlight:reset', 'element-highlight:reset'] }],\n});\n// 框选\nregisterInteraction('element-range-highlight', {\n    showEnable: [\n        { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n        { trigger: 'mask:mouseenter', action: 'cursor:move' },\n        { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n    ],\n    start: [\n        {\n            trigger: 'plot:mousedown',\n            isEnable: function (context) {\n                // 不要点击在 mask 上重新开始\n                return !context.isInShape('mask');\n            },\n            action: ['rect-mask:start', 'rect-mask:show'],\n        },\n        {\n            trigger: 'mask:dragstart',\n            action: ['rect-mask:moveStart'],\n        },\n    ],\n    processing: [\n        {\n            trigger: 'plot:mousemove',\n            action: ['rect-mask:resize'],\n        },\n        {\n            trigger: 'mask:drag',\n            action: ['rect-mask:move'],\n        },\n        {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n        },\n    ],\n    end: [\n        { trigger: 'plot:mouseup', action: ['rect-mask:end'] },\n        { trigger: 'mask:dragend', action: ['rect-mask:moveEnd'] },\n        {\n            trigger: 'document:mouseup',\n            isEnable: function (context) {\n                return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', 'rect-mask:end', 'rect-mask:hide'],\n        },\n    ],\n    rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', 'rect-mask:hide'] }],\n});\nregisterInteraction('brush', {\n    showEnable: [\n        { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n        { trigger: 'plot:mouseleave', action: 'cursor:default' },\n    ],\n    start: [\n        {\n            trigger: 'mousedown',\n            isEnable: isPointInView,\n            action: ['brush:start', 'rect-mask:start', 'rect-mask:show'],\n        },\n    ],\n    processing: [\n        {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: ['rect-mask:resize'],\n        },\n    ],\n    end: [\n        {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: ['brush:filter', 'brush:end', 'rect-mask:end', 'rect-mask:hide', 'reset-button:show'],\n        },\n    ],\n    rollback: [{ trigger: 'reset-button:click', action: ['brush:reset', 'reset-button:hide', 'cursor:crosshair'] }],\n});\nregisterInteraction('brush-visible', {\n    showEnable: [\n        { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n        { trigger: 'plot:mouseleave', action: 'cursor:default' },\n    ],\n    start: [\n        {\n            trigger: 'plot:mousedown',\n            action: ['rect-mask:start', 'rect-mask:show'],\n        },\n    ],\n    processing: [\n        {\n            trigger: 'plot:mousemove',\n            action: ['rect-mask:resize'],\n        },\n        { trigger: 'mask:change', action: ['element-range-highlight:highlight'] },\n    ],\n    end: [\n        {\n            trigger: 'plot:mouseup',\n            action: ['rect-mask:end', 'rect-mask:hide', 'element-filter:filter', 'element-range-highlight:clear'],\n        },\n    ],\n    rollback: [\n        {\n            trigger: 'dblclick',\n            action: ['element-filter:clear'],\n        },\n    ],\n});\nregisterInteraction('brush-x', {\n    showEnable: [\n        { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n        { trigger: 'plot:mouseleave', action: 'cursor:default' },\n    ],\n    start: [\n        {\n            trigger: 'mousedown',\n            isEnable: isPointInView,\n            action: ['brush-x:start', 'x-rect-mask:start', 'x-rect-mask:show'],\n        },\n    ],\n    processing: [\n        {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: ['x-rect-mask:resize'],\n        },\n    ],\n    end: [\n        {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: ['brush-x:filter', 'brush-x:end', 'x-rect-mask:end', 'x-rect-mask:hide'],\n        },\n    ],\n    rollback: [{ trigger: 'dblclick', action: ['brush-x:reset'] }],\n});\nregisterInteraction('element-path-highlight', {\n    showEnable: [\n        { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n        { trigger: 'plot:mouseleave', action: 'cursor:default' },\n    ],\n    start: [\n        { trigger: 'mousedown', isEnable: isPointInView, action: 'path-mask:start' },\n        { trigger: 'mousedown', isEnable: isPointInView, action: 'path-mask:show' },\n    ],\n    processing: [{ trigger: 'mousemove', action: 'path-mask:addPoint' }],\n    end: [{ trigger: 'mouseup', action: 'path-mask:end' }],\n    rollback: [{ trigger: 'dblclick', action: 'path-mask:hide' }],\n});\n// 点击选中，允许取消\nregisterInteraction('element-single-selected', {\n    start: [{ trigger: 'element:click', action: 'element-single-selected:toggle' }],\n});\n// 筛选数据\nregisterInteraction('legend-filter', {\n    showEnable: [\n        { trigger: 'legend-item:mouseenter', action: 'cursor:pointer' },\n        { trigger: 'legend-item:mouseleave', action: 'cursor:default' },\n    ],\n    start: [{ trigger: 'legend-item:click', action: ['list-unchecked:toggle', 'data-filter:filter'] }],\n});\n// 筛选数据\nregisterInteraction('continuous-filter', {\n    start: [{ trigger: 'legend:valuechanged', action: 'data-filter:filter' }],\n});\n// 筛选数据\nregisterInteraction('continuous-visible-filter', {\n    start: [{ trigger: 'legend:valuechanged', action: 'element-filter:filter' }],\n});\n// 筛选图形\nregisterInteraction('legend-visible-filter', {\n    showEnable: [\n        { trigger: 'legend-item:mouseenter', action: 'cursor:pointer' },\n        { trigger: 'legend-item:mouseleave', action: 'cursor:default' },\n    ],\n    start: [{ trigger: 'legend-item:click', action: ['list-unchecked:toggle', 'element-filter:filter'] }],\n});\n// 出现背景框\nregisterInteraction('active-region', {\n    start: [{ trigger: 'plot:mousemove', action: 'active-region:show' }],\n    end: [{ trigger: 'plot:mouseleave', action: 'active-region:hide' }],\n});\nfunction isWheelDown(event) {\n    event.gEvent.preventDefault();\n    return event.gEvent.originalEvent.deltaY > 0;\n}\nregisterInteraction('view-zoom', {\n    start: [\n        {\n            trigger: 'plot:mousewheel',\n            isEnable: function (context) {\n                return isWheelDown(context.event);\n            },\n            action: 'scale-zoom:zoomOut',\n            throttle: { wait: 100, leading: true, trailing: false },\n        },\n        {\n            trigger: 'plot:mousewheel',\n            isEnable: function (context) {\n                return !isWheelDown(context.event);\n            },\n            action: 'scale-zoom:zoomIn',\n            throttle: { wait: 100, leading: true, trailing: false },\n        },\n    ],\n});\nregisterInteraction('sibling-tooltip', {\n    start: [{ trigger: 'plot:mousemove', action: 'sibling-tooltip:show' }],\n    end: [{ trigger: 'plot:mouseleave', action: 'sibling-tooltip:hide' }],\n});\nexport * from './core';\n// 一些工具方法导出\nimport { getAngle, polarToCartesian } from './util/graphics';\nimport { rotate, transform, translate, zoom } from './util/transform';\nexport var Util = {\n    translate: translate,\n    rotate: rotate,\n    zoom: zoom,\n    transform: transform,\n    getAngle: getAngle,\n    polarToCartesian: polarToCartesian,\n};\n//# sourceMappingURL=index.js.map","import { isObject, each, find, get } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\n/** label text和line距离 4px */\nvar MARGIN = 4;\nfunction antiCollision(labelShapes, labels, lineHeight, plotRange, center, isRight) {\n    // adjust y position of labels to avoid overlapping\n    var overlapping = true;\n    var start = plotRange.start;\n    var end = plotRange.end;\n    var startY = Math.min(start.y, end.y);\n    var totalHeight = Math.abs(start.y - end.y);\n    var i;\n    var maxY = 0;\n    var minY = Number.MIN_VALUE;\n    var boxes = labels.map(function (label) {\n        if (label.y > maxY) {\n            maxY = label.y;\n        }\n        if (label.y < minY) {\n            minY = label.y;\n        }\n        return {\n            size: lineHeight,\n            targets: [label.y - startY],\n        };\n    });\n    minY -= startY;\n    if (maxY - startY > totalHeight) {\n        totalHeight = maxY - startY;\n    }\n    while (overlapping) {\n        /* eslint no-loop-func: 0 */\n        boxes.forEach(function (box) {\n            var target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n            box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n            // box.pos = Math.max(0, target - box.size / 2);\n        });\n        // detect overlapping and join boxes\n        overlapping = false;\n        i = boxes.length;\n        while (i--) {\n            if (i > 0) {\n                var previousBox = boxes[i - 1];\n                var box = boxes[i];\n                if (previousBox.pos + previousBox.size > box.pos) {\n                    // overlapping\n                    previousBox.size += box.size;\n                    previousBox.targets = previousBox.targets.concat(box.targets);\n                    // overflow, shift up\n                    if (previousBox.pos + previousBox.size > totalHeight) {\n                        previousBox.pos = totalHeight - previousBox.size;\n                    }\n                    boxes.splice(i, 1); // removing box\n                    overlapping = true;\n                }\n            }\n        }\n    }\n    i = 0;\n    // step 4: normalize y and adjust x\n    boxes.forEach(function (b) {\n        var posInCompositeBox = startY + lineHeight / 2; // middle of the label\n        b.targets.forEach(function () {\n            labels[i].y = b.pos + posInCompositeBox;\n            posInCompositeBox += lineHeight;\n            i++;\n        });\n    });\n    var labelsMap = {};\n    for (var _i = 0, labelShapes_1 = labelShapes; _i < labelShapes_1.length; _i++) {\n        var labelShape = labelShapes_1[_i];\n        labelsMap[labelShape.get('id')] = labelShape;\n    }\n    // (x - cx)^2 + (y - cy)^2 = totalR^2\n    labels.forEach(function (label) {\n        var rPow2 = label.r * label.r;\n        var dyPow2 = Math.pow(Math.abs(label.y - center.y), 2);\n        if (rPow2 < dyPow2) {\n            label.x = center.x;\n        }\n        else {\n            var dx = Math.sqrt(rPow2 - dyPow2);\n            if (!isRight) {\n                // left\n                label.x = center.x - dx;\n            }\n            else {\n                // right\n                label.x = center.x + dx;\n            }\n        }\n        // adjust labelShape\n        var labelShape = labelsMap[label.id];\n        labelShape.attr('x', label.x);\n        labelShape.attr('y', label.y);\n        // because group could not effect text-shape, should set text-shape position manually\n        var textShape = find(labelShape.getChildren(), function (ele) { return ele.get('type') === 'text'; });\n        // @ts-ignore\n        if (textShape) {\n            textShape.attr('y', label.y);\n            textShape.attr('x', label.x);\n        }\n    });\n}\nexport function distribute(items, labels, shapes, region) {\n    var offset = items[0] ? items[0].offset : 0;\n    var coordinate = labels[0].get('coordinate');\n    var radius = coordinate.getRadius();\n    var center = coordinate.getCenter();\n    if (offset > 0) {\n        // const lineHeight = get(this.geometry.theme, ['pieLabels', 'labelHeight'], 14);\n        var lineHeight_1 = 14; // TODO\n        var totalR = radius + offset;\n        var totalHeight_1 = totalR * 2 + lineHeight_1 * 2;\n        var plotRange_1 = {\n            start: coordinate.start,\n            end: coordinate.end,\n        };\n        // step 1: separate labels\n        var halves_1 = [\n            [],\n            [],\n        ];\n        items.forEach(function (labelItem) {\n            if (!labelItem) {\n                return;\n            }\n            if (labelItem.textAlign === 'right') {\n                // left\n                halves_1[0].push(labelItem);\n            }\n            else {\n                // right or center will be put on the right side\n                halves_1[1].push(labelItem);\n            }\n        });\n        halves_1.forEach(function (half, index) {\n            // step 2: reduce labels\n            var maxLabelsCountForOneSide = totalHeight_1 / lineHeight_1;\n            if (half.length > maxLabelsCountForOneSide) {\n                half.sort(function (a, b) {\n                    // sort by percentage DESC\n                    return b['..percent'] - a['..percent'];\n                });\n                half.splice(maxLabelsCountForOneSide, half.length - maxLabelsCountForOneSide);\n            }\n            // step 3: distribute position (x and y)\n            half.sort(function (a, b) {\n                // sort by y ASC\n                return a.y - b.y;\n            });\n            antiCollision(labels, half, lineHeight_1, plotRange_1, center, index);\n        });\n    }\n    // 配置 labelLine\n    each(items, function (item) {\n        if (item && item.labelLine) {\n            var distance = item.offset;\n            var angle = item.angle;\n            // 贴近圆周\n            var startPoint = polarToCartesian(center.x, center.y, radius, angle);\n            var innerPoint = polarToCartesian(center.x, center.y, radius + distance / 2, angle);\n            var itemX = item.x + get(item, 'offsetX', 0);\n            var itemY = item.y + get(item, 'offsetY', 0);\n            var endPoint = {\n                x: itemX - Math.cos(angle) * MARGIN,\n                y: itemY - Math.sin(angle) * MARGIN,\n            };\n            if (!isObject(item.labelLine)) {\n                // labelLine: true\n                item.labelLine = {};\n            }\n            item.labelLine.path = [\n                \"M \" + startPoint.x,\n                startPoint.y + \" Q\" + innerPoint.x,\n                innerPoint.y + \" \" + endPoint.x,\n                endPoint.y,\n            ].join(',');\n        }\n    });\n}\n//# sourceMappingURL=distribute.js.map","import { get } from '@antv/util';\nimport { isIntersect } from '../../../util/collision-detect';\nimport { getlLabelBackgroundInfo } from '../util';\n/**\n * label 防遮挡布局：在不改变 label 位置的情况下对相互重叠的 label 进行隐藏（非移除）\n * 不同于 'overlap' 类型的布局，该布局不会对 label 的位置进行偏移调整。\n * @param labels 参与布局调整的 label 数组集合\n */\nexport function hideOverlap(items, labels, shapes, region) {\n    // todo 添加 labelrank\n    // each label will hide the next one because the next one always has lower rank.\n    // Detect overlapping labels\n    for (var i = 0; i < labels.length; i++) {\n        var label1 = labels[i];\n        if (labels[i].get('visible')) {\n            for (var j = i + 1; j < labels.length; j++) {\n                var label2 = labels[j];\n                if (label1 && label2 && label1 !== label2 && label2.get('visible')) {\n                    var box1 = getlLabelBackgroundInfo(label1, items[i], get(items[i], 'background.padding'));\n                    var box2 = getlLabelBackgroundInfo(label2, items[j], get(items[j], 'background.padding'));\n                    if (isIntersect(box1, box2)) {\n                        labels[j].set('visible', false);\n                    }\n                }\n            }\n        }\n    }\n}\n//# sourceMappingURL=hide-overlap.js.map","import { each } from '@antv/util';\n/**\n * @ignore\n * 根据图形元素以及 label 的 bbox 进行调整，如果 label 超出了 shape 的 bbox 则不展示\n */\nexport function limitInShape(items, labels, shapes, region) {\n    each(labels, function (label, index) {\n        var labelBBox = label.getCanvasBBox(); // 文本有可能发生旋转\n        var shapeBBox = shapes[index].getBBox();\n        if (labelBBox.minX < shapeBBox.minX ||\n            labelBBox.minY < shapeBBox.minY ||\n            labelBBox.maxX > shapeBBox.maxX ||\n            labelBBox.maxY > shapeBBox.maxY) {\n            label.remove(true); // 超出则不展示\n        }\n    });\n}\n//# sourceMappingURL=limit-in-shape.js.map","import { each } from '@antv/util';\nimport { translate } from '../../../util/transform';\n/**\n * @ignore\n * 将 label 限制在画布范围内，简单得将超出画布的 label 往画布内调整\n * @param labels\n * @param cfg\n */\nexport function limitInCanvas(items, labels, shapes, region) {\n    each(labels, function (label) {\n        var regionMinX = region.minX, regionMinY = region.minY, regionMaxX = region.maxX, regionMaxY = region.maxY;\n        var _a = label.getCanvasBBox(), minX = _a.minX, minY = _a.minY, maxX = _a.maxX, maxY = _a.maxY, x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n        var finalX = x;\n        var finalY = y;\n        if (minX < regionMinX || maxX < regionMinX) {\n            // 超出左侧\n            finalX = regionMinX;\n        }\n        if (minY < regionMinY || maxY < regionMinY) {\n            // 超出顶部\n            finalY = regionMinY;\n        }\n        if (minX > regionMaxX) {\n            // 整体超出右侧\n            finalX = regionMaxX - width;\n        }\n        else if (maxX > regionMaxX) {\n            // 超出右侧\n            finalX = finalX - (maxX - regionMaxX);\n        }\n        if (minY > regionMaxY) {\n            // 整体超出顶部\n            finalY = regionMaxY - height;\n        }\n        else if (maxY > regionMaxY) {\n            // 超出底部\n            finalY = finalY - (maxY - regionMaxY);\n        }\n        if (finalX !== x || finalY !== y) {\n            translate(label, finalX - x, finalY - y);\n        }\n    });\n}\n//# sourceMappingURL=limit-in-canvas.js.map","import { isObject, each, get, groupBy } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { antiCollision } from './util';\n/** label text和line距离 4px */\nvar MARGIN = 4;\n/**\n * 配置 labelline\n * @param item PolarLabelItem\n */\nfunction drawLabelline(item /** PolarLabelItem */, coordinate) {\n    /** 坐标圆心 */\n    var center = coordinate.getCenter();\n    /** 圆半径 */\n    var radius = coordinate.getRadius();\n    if (item && item.labelLine) {\n        var angle = item.angle, labelOffset = item.offset;\n        // 贴近圆周\n        var startPoint = polarToCartesian(center.x, center.y, radius, angle);\n        var itemX = item.x + get(item, 'offsetX', 0) * (Math.cos(angle) > 0 ? 1 : -1);\n        var itemY = item.y + get(item, 'offsetY', 0) * (Math.sin(angle) > 0 ? 1 : -1);\n        var endPoint = {\n            x: itemX - Math.cos(angle) * MARGIN,\n            y: itemY - Math.sin(angle) * MARGIN,\n        };\n        var smoothConnector = item.labelLine.smooth;\n        var path = [];\n        var dx = endPoint.x - center.x;\n        var dy = endPoint.y - center.y;\n        var endAngle = Math.atan(dy / dx);\n        // 第三象限 & 第四象限\n        if (dx < 0) {\n            endAngle += Math.PI;\n        }\n        // 默认 smooth, undefined 也为 smooth\n        if (smoothConnector === false) {\n            if (!isObject(item.labelLine)) {\n                // labelLine: true\n                item.labelLine = {};\n            }\n            // 表示弧线的方向，0 表示从起点到终点沿逆时针画弧, 1 表示顺时针\n            var sweepFlag = 0;\n            // 第一象限\n            if ((angle < 0 && angle > -Math.PI / 2) || angle > Math.PI * 1.5) {\n                if (endPoint.y > startPoint.y) {\n                    sweepFlag = 1;\n                }\n            }\n            // 第二象限\n            if (angle >= 0 && angle < Math.PI / 2) {\n                if (endPoint.y > startPoint.y) {\n                    sweepFlag = 1;\n                }\n            }\n            // 第三象限\n            if (angle >= Math.PI / 2 && angle < Math.PI) {\n                if (startPoint.y > endPoint.y) {\n                    sweepFlag = 1;\n                }\n            }\n            // 第四象限\n            if (angle < -Math.PI / 2 || (angle >= Math.PI && angle < Math.PI * 1.5)) {\n                if (startPoint.y > endPoint.y) {\n                    sweepFlag = 1;\n                }\n            }\n            var distance = labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0);\n            var breakPoint = polarToCartesian(center.x, center.y, radius + distance, angle);\n            // 圆弧的结束点\n            var breakPoint3 = polarToCartesian(center.x, center.y, radius + labelOffset / 2, endAngle);\n            /**\n             * @example\n             * M 100 100 L100 90 A 50 50 0 0 0 150 50\n             * 移动至 (100, 100), 连接到 (100, 90), 以 (50, 50) 为圆心，绘制圆弧至 (150, 50);\n             * A 命令的第 4 个参数 large-arc-flag, 决定弧线是大于还是小于 180 度: 0 表示小角度弧，1 表示大角\n             * 第 5 个参数: 是否顺时针绘制\n             */\n            // 默认小弧\n            var largeArcFlag = 0;\n            // step1: 移动至起点\n            path.push(\"M \" + startPoint.x + \" \" + startPoint.y);\n            // step2: 连接拐点\n            path.push(\"L \" + breakPoint.x + \" \" + breakPoint.y);\n            // step3: 绘制圆弧 至 结束点\n            path.push(\"A \" + center.x + \" \" + center.y + \" 0 \" + largeArcFlag + \" \" + sweepFlag + \" \" + breakPoint3.x + \" \" + breakPoint3.y);\n            // step4: 连接结束点\n            path.push(\"L \" + endPoint.x + \" \" + endPoint.y);\n        }\n        else {\n            var breakPoint = polarToCartesian(center.x, center.y, radius + (labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0)), angle);\n            // G2 旧的拉线\n            // path.push('Q', `${breakPoint.x}`, `${breakPoint.y}`, `${endPoint.x}`, `${endPoint.y}`);\n            var xSign = startPoint.x < center.x ? 1 : -1;\n            // step1: 连接结束点\n            path.push(\"M \" + endPoint.x + \" \" + endPoint.y);\n            var slope1 = (startPoint.y - center.y) / (startPoint.x - center.x);\n            var slope2 = (endPoint.y - center.y) / (endPoint.x - center.x);\n            if (Math.abs(slope1 - slope2) > Math.pow(Math.E, -16)) {\n                // step2: 绘制 curve line (起点 & 结合点与圆心的斜率不等时, 由于存在误差, 使用近似处理)\n                path.push.apply(path, [\n                    'C',\n                    endPoint.x + xSign * 4,\n                    endPoint.y,\n                    2 * breakPoint.x - startPoint.x,\n                    2 * breakPoint.y - startPoint.y,\n                    startPoint.x,\n                    startPoint.y,\n                ]);\n            }\n            // step3: 连接至起点\n            path.push(\"L \" + startPoint.x + \" \" + startPoint.y);\n        }\n        item.labelLine.path = path.join(' ');\n    }\n}\n/**\n * 饼图 outer-label 布局, 适用于 type = pie 且 label offset > 0 的标签\n */\nexport function pieOuterLabelLayout(items, labels, shapes, region) {\n    /** 坐标系 */\n    var coordinate = labels[0] && labels[0].get('coordinate');\n    if (!coordinate) {\n        return;\n    }\n    /** 坐标圆心 */\n    var center = coordinate.getCenter();\n    /** 圆半径 */\n    var radius = coordinate.getRadius();\n    /** label shapes */\n    var labelsMap = {};\n    for (var _i = 0, labels_1 = labels; _i < labels_1.length; _i++) {\n        var labelShape = labels_1[_i];\n        labelsMap[labelShape.get('id')] = labelShape;\n    }\n    // note labelHeight 可以控制 label 的行高\n    var labelHeight = get(items[0], 'labelHeight', 14);\n    var labelOffset = get(items[0], 'offset', 0);\n    if (labelOffset <= 0) {\n        return;\n    }\n    var LEFT_HALF_KEY = 'left';\n    var RIGHT_HALF_KEY = 'right';\n    // step 1: separate labels\n    var separateLabels = groupBy(items, function (item) { return (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY); });\n    var start = coordinate.start, end = coordinate.end;\n    // step2: calculate totalHeight\n    var totalHeight = (radius + labelOffset + labelHeight) * 2;\n    var totalR = totalHeight / 2;\n    /** labels 容器的范围(后续根据组件的布局设计进行调整) */\n    var labelsContainerRange = {\n        minX: start.x,\n        maxX: end.x,\n        minY: center.y - totalR,\n        maxY: center.y + totalR,\n    };\n    // step 3: antiCollision\n    each(separateLabels, function (half, key) {\n        var maxLabelsCountForOneSide = totalHeight / labelHeight;\n        if (half.length > maxLabelsCountForOneSide) {\n            half.sort(function (a, b) {\n                // sort by percentage DESC\n                return b.percent - a.percent;\n            });\n            each(half, function (labelItem, idx) {\n                if (idx > maxLabelsCountForOneSide) {\n                    labelsMap[labelItem.id].set('visible', false);\n                    labelItem.invisible = true;\n                }\n            });\n        }\n        antiCollision(half, labelHeight, labelsContainerRange);\n    });\n    each(separateLabels, function (half, key) {\n        each(half, function (item) {\n            var isRight = key === RIGHT_HALF_KEY;\n            var labelShape = labelsMap[item.id];\n            // because group could not effect content-shape, should set content-shape position manually\n            var content = labelShape.getChildByIndex(0);\n            // textShape 发生过调整\n            if (content) {\n                var r = radius + labelOffset;\n                // (x - cx)^2 + (y - cy)^2 = totalR^2\n                var dy = item.y - center.y;\n                var rPow2 = Math.pow(r, 2);\n                var dyPow2 = Math.pow(dy, 2);\n                var dxPow2 = rPow2 - dyPow2 > 0 ? rPow2 - dyPow2 : 0;\n                var dx = Math.sqrt(dxPow2);\n                var dx_offset = Math.abs(Math.cos(item.angle) * r);\n                if (!isRight) {\n                    // left\n                    item.x = center.x - Math.max(dx, dx_offset);\n                }\n                else {\n                    // right\n                    item.x = center.x + Math.max(dx, dx_offset);\n                }\n            }\n            // adjust labelShape\n            if (content) {\n                content.attr('y', item.y);\n                content.attr('x', item.x);\n            }\n            drawLabelline(item, coordinate);\n        });\n    });\n}\n//# sourceMappingURL=outer.js.map","import { BBox } from '../../../util/bbox';\nimport { isContrastColorWhite } from '../../../util/color';\nexport function adjustColor(items, labels, shapes) {\n    if (shapes.length === 0) {\n        return;\n    }\n    var element = shapes[0].get('element');\n    var theme = element.geometry.theme;\n    var _a = theme.labels || {}, fillColorLight = _a.fillColorLight, fillColorDark = _a.fillColorDark;\n    shapes.forEach(function (shape, index) {\n        var label = labels[index];\n        var textShape = label.find(function (el) { return el.get('type') === 'text'; });\n        var shapeBBox = BBox.fromObject(shape.getBBox());\n        var textBBox = BBox.fromObject(textShape.getCanvasBBox());\n        // 如果文本包围图在图形内部\n        if (shapeBBox.contains(textBBox)) {\n            var bgColor = shape.attr('fill');\n            var fillWhite = isContrastColorWhite(bgColor);\n            if (fillWhite) {\n                if (fillColorLight) {\n                    textShape.attr('fill', fillColorLight);\n                }\n            }\n            else {\n                if (fillColorDark) {\n                    textShape.attr('fill', fillColorDark);\n                }\n            }\n        }\n    });\n}\n//# sourceMappingURL=adjust-color.js.map","import colorUtil from '@antv/color-util';\n// 根据YIQ亮度判断指定颜色取反色是不是白色\n// http://24ways.org/2010/calculating-color-contrast\nexport var isContrastColorWhite = function (color) {\n    var _a = colorUtil.rgb2arr(colorUtil.toRGB(color)), r = _a[0], g = _a[1], b = _a[2];\n    var isDark = (r * 299 + g * 587 + b * 114) / 1000 < 128;\n    return isDark;\n};\n//# sourceMappingURL=color.js.map","import { each, get, isNil, deepMix, groupBy } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { antiCollision } from './util';\nimport { translate } from '../../../../util/transform';\n/** 拐点偏移量, 暂不可配置 */\nvar INFLECTION_OFFSET = 4;\n/** 标签偏移量, distance between label and edge: offsetX */\nvar LABEL_OFFSET_X = 4;\n/** 标签与牵引线的偏移量 */\nvar LABEL_TEXT_LINE_OFFSET = 4;\nfunction drawLabelline(item, coordinate, inRight) {\n    /** 坐标圆心 */\n    var center = coordinate.getCenter();\n    /** 圆半径 */\n    var radius = coordinate.getRadius();\n    var startPoint = {\n        x: item.x - (inRight ? LABEL_TEXT_LINE_OFFSET : -LABEL_TEXT_LINE_OFFSET),\n        y: item.y,\n    };\n    var inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n    var p1 = { x: startPoint.x, y: startPoint.y };\n    var p2 = { x: inflectionPoint.x, y: inflectionPoint.y };\n    var endPoint = polarToCartesian(center.x, center.y, radius, item.angle);\n    var path = '';\n    // 文本被调整下去了，则添加拐点连接线\n    if (startPoint.y !== inflectionPoint.y) {\n        var offset = inRight ? 4 : -4;\n        p1.y = startPoint.y;\n        /** 是否在第一象限 */\n        if (item.angle < 0 && item.angle >= -Math.PI / 2) {\n            p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n            if (startPoint.y < inflectionPoint.y) {\n                p2.y = p1.y;\n            }\n            else {\n                p2.y = inflectionPoint.y;\n                p2.x = Math.max(p2.x, p1.x - offset);\n            }\n        }\n        /** 是否在 第二象限 */\n        if (item.angle > 0 && item.angle < Math.PI / 2) {\n            p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n            if (startPoint.y > inflectionPoint.y) {\n                p2.y = p1.y;\n            }\n            else {\n                p2.y = inflectionPoint.y;\n                p2.x = Math.max(p2.x, p1.x - offset);\n            }\n        }\n        /** 是否在 第三象限 */\n        if (item.angle > Math.PI / 2) {\n            p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n            if (startPoint.y > inflectionPoint.y) {\n                p2.y = p1.y;\n            }\n            else {\n                p2.y = inflectionPoint.y;\n                p2.x = Math.min(p2.x, p1.x - offset);\n            }\n        }\n        /** 是否在 第四象限 */\n        if (item.angle < -Math.PI / 2) {\n            p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n            if (startPoint.y < inflectionPoint.y) {\n                p2.y = p1.y;\n            }\n            else {\n                p2.y = inflectionPoint.y;\n                p2.x = Math.min(p2.x, p1.x - offset);\n            }\n        }\n    }\n    path = [\n        \"M \" + startPoint.x + \",\" + startPoint.y,\n        \"L \" + p1.x + \",\" + p1.y,\n        \"L \" + p2.x + \",\" + p2.y,\n        \"L \" + inflectionPoint.x + \",\" + inflectionPoint.y,\n        \"L \" + endPoint.x + \",\" + endPoint.y,\n    ].join(' ');\n    item.labelLine = deepMix({}, item.labelLine, { path: path });\n}\n/**\n * 饼图标签 spider 布局, 只适用于 pie-spider 的标签类型\n * region 应该是 labelsRenderer 容器的范围限制(便于后续组件间布局)\n */\nexport function pieSpiderLabelLayout(items, labels, shapes, region) {\n    /** 坐标系 */\n    var coordinate = labels[0] && labels[0].get('coordinate');\n    if (!coordinate) {\n        return;\n    }\n    /** 坐标圆心 */\n    var center = coordinate.getCenter();\n    /** 圆半径 */\n    var radius = coordinate.getRadius();\n    /** label shapes */\n    var labelsMap = {};\n    for (var _i = 0, labels_1 = labels; _i < labels_1.length; _i++) {\n        var labelShape = labels_1[_i];\n        labelsMap[labelShape.get('id')] = labelShape;\n    }\n    var labelHeight = get(items[0], 'labelHeight', 14);\n    var labelOffset = Math.max(get(items[0], 'offset', 0), INFLECTION_OFFSET);\n    // step 1: adjust items to spider\n    each(items, function (item) {\n        var label = get(labelsMap, item.id);\n        if (!label) {\n            return;\n        }\n        var inRight = item.x > center.x || (item.x === center.x && item.y > center.y);\n        var offsetX = !isNil(item.offsetX) ? item.offsetX : LABEL_OFFSET_X;\n        var inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n        var totalOffset = labelOffset + offsetX;\n        item.x = center.x + (inRight ? 1 : -1) * (radius + totalOffset);\n        item.y = inflectionPoint.y;\n    });\n    var start = coordinate.start, end = coordinate.end;\n    var LEFT_HALF_KEY = 'left';\n    var RIGHT_HALF_KEY = 'right';\n    // step 1: separate labels\n    var seperateLabels = groupBy(items, function (item) { return (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY); });\n    // step2: calculate totalHeight\n    var totalHeight = (radius + labelOffset) * 2 + labelHeight;\n    each(seperateLabels, function (half) {\n        var halfHeight = half.length * labelHeight;\n        if (halfHeight > totalHeight) {\n            totalHeight = Math.min(halfHeight, Math.abs(start.y - end.y));\n        }\n    });\n    /** labels 容器的范围(后续根据组件的布局设计进行调整) */\n    var labelsContainerRange = {\n        minX: start.x,\n        maxX: end.x,\n        minY: center.y - totalHeight / 2,\n        maxY: center.y + totalHeight / 2,\n    };\n    // step 3: antiCollision\n    each(seperateLabels, function (half, key) {\n        var maxLabelsCountForOneSide = totalHeight / labelHeight;\n        if (half.length > maxLabelsCountForOneSide) {\n            half.sort(function (a, b) {\n                // sort by percentage DESC\n                return b.percent - a.percent;\n            });\n            each(half, function (labelItem, idx) {\n                if (idx > maxLabelsCountForOneSide) {\n                    labelsMap[labelItem.id].set('visible', false);\n                    labelItem.invisible = true;\n                }\n            });\n        }\n        antiCollision(half, labelHeight, labelsContainerRange);\n    });\n    var startY = labelsContainerRange.minY;\n    var endY = labelsContainerRange.maxY;\n    // step4: applyTo labels and adjust labelLines\n    each(seperateLabels, function (half, key) {\n        var inRight = key === RIGHT_HALF_KEY;\n        each(half, function (item) {\n            var label = get(labelsMap, item && item.id);\n            if (!label) {\n                return;\n            }\n            // out of range, hidden\n            if (item.y < startY || item.y > endY) {\n                label.set('visible', false);\n                return;\n            }\n            var labelContent = label.getChildByIndex(0);\n            var box = labelContent.getCanvasBBox();\n            var originalPos = { x: inRight ? box.x : box.maxX, y: box.y + box.height / 2 /** vertical-align: middle */ };\n            translate(labelContent, item.x - originalPos.x /** 从 pos.x 移动到 item.x */, item.y - originalPos.y);\n            // adjust labelLines\n            if (item.labelLine) {\n                drawLabelline(item, coordinate, inRight);\n            }\n        });\n    });\n}\n//# sourceMappingURL=spider.js.map","import { isNil } from '@antv/util';\n/**\n * @ignore\n * 单个 shape 动画\n * 渐现动画\n * @param shape 执行动画的图形元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\nexport function fadeIn(shape, animateCfg, cfg) {\n    var endState = {\n        fillOpacity: isNil(shape.attr('fillOpacity')) ? 1 : shape.attr('fillOpacity'),\n        strokeOpacity: isNil(shape.attr('strokeOpacity')) ? 1 : shape.attr('strokeOpacity'),\n        opacity: isNil(shape.attr('opacity')) ? 1 : shape.attr('opacity'),\n    };\n    shape.attr({\n        fillOpacity: 0,\n        strokeOpacity: 0,\n        opacity: 0,\n    });\n    shape.animate(endState, animateCfg);\n}\n/**\n * @ignore\n * 单个 shape 动画\n * 渐隐动画\n * @param shape 执行动画的图形元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\nexport function fadeOut(shape, animateCfg, cfg) {\n    var endState = {\n        fillOpacity: 0,\n        strokeOpacity: 0,\n        opacity: 0,\n    };\n    var easing = animateCfg.easing, duration = animateCfg.duration, delay = animateCfg.delay;\n    shape.animate(endState, duration, easing, function () {\n        shape.remove(true);\n    }, delay);\n}\n//# sourceMappingURL=fade.js.map","import { doScaleAnimate } from './util';\n/**\n * @ignore\n * 入场动画\n * x 方向的生长\n * @param element 执行动画的元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\nexport function growInX(element, animateCfg, cfg) {\n    var coordinate = cfg.coordinate, minYPoint = cfg.minYPoint;\n    doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'x');\n}\n/**\n * @ignore\n * 入场动画\n * y 轴方向上的生长\n * @param element 执行动画的元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\nexport function growInY(element, animateCfg, cfg) {\n    var coordinate = cfg.coordinate, minYPoint = cfg.minYPoint;\n    doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'y');\n}\n/**\n * @ignore\n * 入场\n * 中心点的向四周的生长动画\n * @param element 执行动画的元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\nexport function growInXY(element, animateCfg, cfg) {\n    var coordinate = cfg.coordinate, minYPoint = cfg.minYPoint;\n    doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'xy');\n}\n//# sourceMappingURL=grow-in.js.map","import { ext } from '@antv/matrix-util';\n/**\n * @ignore\n * 沿着 x 方向放大的动画\n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInX(shape, animateCfg, cfg) {\n    var box = shape.getBBox();\n    var mappingData = shape.get('origin').mappingData;\n    var points = mappingData.points;\n    // x 数值如果为负值，那么应该从右往左生长\n    var x = points[0].y - points[1].y > 0 ? box.maxX : box.minX;\n    var y = (box.minY + box.maxY) / 2;\n    shape.applyToMatrix([x, y, 1]);\n    var matrix = ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 1],\n        ['t', x, y],\n    ]);\n    shape.setMatrix(matrix);\n    shape.animate({\n        matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 100, 1],\n            ['t', x, y],\n        ]),\n    }, animateCfg);\n}\n/**\n * @ignore\n * 沿着 y 方向放大的动画\n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInY(shape, animateCfg, cfg) {\n    var box = shape.getBBox();\n    var mappingData = shape.get('origin').mappingData;\n    var x = (box.minX + box.maxX) / 2;\n    var points = mappingData.points;\n    // 数值如果为负值，那么应该从上往下生长，通过 shape 的关键点进行判断\n    var y = points[0].y - points[1].y <= 0 ? box.maxY : box.minY;\n    shape.applyToMatrix([x, y, 1]);\n    var matrix = ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 0.01],\n        ['t', x, y],\n    ]);\n    shape.setMatrix(matrix);\n    shape.animate({\n        matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 1, 100],\n            ['t', x, y],\n        ]),\n    }, animateCfg);\n}\n//# sourceMappingURL=scale-in.js.map","import { __assign } from \"tslib\";\nimport { getCoordinateClipCfg } from '../../util/coordinate';\n/**\n * @ignore\n * 整体动画\n * 划入入场动画效果\n * @todo 放两张直角坐标系和极坐标系的图\n * @param element 参与动画的图形元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\nexport function waveIn(element, animateCfg, cfg) {\n    var _a = getCoordinateClipCfg(cfg.coordinate, 20), type = _a.type, startState = _a.startState, endState = _a.endState; // 根据坐标系类型获取整体的剪切区域配置信息\n    var clipShape = element.setClip({\n        type: type,\n        attrs: startState,\n    }); // 为 shape 设置剪切区域\n    // \b对剪切图形做动画\n    clipShape.animate(endState, __assign(__assign({}, animateCfg), { callback: function () {\n            if (element && !element.get('destroyed')) {\n                element.set('clipShape', null);\n            }\n            clipShape.remove(true); // 动画结束需要将剪切图形销毁\n        } }));\n}\n//# sourceMappingURL=wave-in.js.map","/**\n * @ignore\n * 坐标移动动画\n * @param shape 图形\n * @param animateCfg\n * @param cfg\n */\nexport function positionUpdate(shape, animateCfg, cfg) {\n    var toAttrs = cfg.toAttrs;\n    // @ts-ignore\n    var x = toAttrs.x;\n    // @ts-ignore\n    var y = toAttrs.y;\n    // @ts-ignore\n    delete toAttrs.x;\n    // @ts-ignore\n    delete toAttrs.y;\n    shape.attr(toAttrs);\n    shape.animate({\n        x: x,\n        y: y,\n    }, animateCfg);\n}\n//# sourceMappingURL=position-update.js.map","/**\n * @ignore\n * 入场动画\n * path 的入场动画\n * @param element 执行动画的元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\nexport function pathIn(element, animateCfg, cfg) {\n    // @ts-ignore\n    var length = element.getTotalLength();\n    // 设置虚线样式\n    element.attr('lineDash', [length]);\n    element.animate(function (ratio) {\n        return {\n            // 对虚线偏移量做动画\n            lineDashOffset: (1 - ratio) * length,\n        };\n    }, animateCfg);\n}\n//# sourceMappingURL=path-in.js.map","export function removeFromArray(arr, obj) {\n    var index = arr.indexOf(obj);\n    if (index !== -1) {\n        arr.splice(index, 1);\n    }\n}\nexport var isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined';\nexport { default as isNil } from '@antv/util/lib/is-nil';\nexport { default as isFunction } from '@antv/util/lib/is-function';\nexport { default as isString } from '@antv/util/lib/is-string';\nexport { default as isObject } from '@antv/util/lib/is-object';\nexport { default as isArray } from '@antv/util/lib/is-array';\nexport { default as mix } from '@antv/util/lib/mix';\nexport { default as each } from '@antv/util/lib/each';\nexport { default as upperFirst } from '@antv/util/lib/upper-first';\n// 是否元素的父容器\nexport function isParent(container, shape) {\n    // 所有 shape 都是 canvas 的子元素\n    if (container.isCanvas()) {\n        return true;\n    }\n    var parent = shape.getParent();\n    var isParent = false;\n    while (parent) {\n        if (parent === container) {\n            isParent = true;\n            break;\n        }\n        parent = parent.getParent();\n    }\n    return isParent;\n}\nexport function isAllowCapture(element) {\n    // @ts-ignore\n    return element.cfg.visible && element.cfg.capture;\n}\n//# sourceMappingURL=util.js.map","import { toArray } from '@antv/util';\nimport { SHAPE_TO_TAGS } from '../constant';\n/**\n * 创建并返回图形的 svg 元素\n * @param type svg类型\n */\nexport function createSVGElement(type) {\n    return document.createElementNS('http://www.w3.org/2000/svg', type);\n}\n/**\n * 创建并返回图形的 dom 元素\n * @param  {IShape} shape 图形\n * @return {SVGElement}\n */\nexport function createDom(shape) {\n    var type = SHAPE_TO_TAGS[shape.type];\n    var parent = shape.getParent();\n    if (!type) {\n        throw new Error(\"the type \" + shape.type + \" is not supported by svg\");\n    }\n    var element = createSVGElement(type);\n    if (shape.get('id')) {\n        element.id = shape.get('id');\n    }\n    shape.set('el', element);\n    shape.set('attrs', {});\n    // 对于 defs 下的 dom 节点，parent 为空，通过 context 统一挂载到 defs 节点下\n    if (parent) {\n        var parentNode = parent.get('el');\n        if (parentNode) {\n            parentNode.appendChild(element);\n        }\n        else {\n            // parentNode maybe null for group\n            parentNode = parent.createDom();\n            parent.set('el', parentNode);\n            parentNode.appendChild(element);\n        }\n    }\n    return element;\n}\n/**\n * 对 dom 元素进行排序\n * @param {IElement} element  元素\n * @param {sorter}   function 排序函数\n */\nexport function sortDom(element, sorter) {\n    var el = element.get('el');\n    var childList = toArray(el.children).sort(sorter);\n    // create empty fragment\n    var fragment = document.createDocumentFragment();\n    childList.forEach(function (child) {\n        fragment.appendChild(child);\n    });\n    el.appendChild(fragment);\n}\n/**\n * 将 dom 元素移动到父元素下的指定位置\n * @param {SVGElement} element     dom 元素\n * @param {number}     targetIndex 目标位置(从 0 开始)\n */\nexport function moveTo(element, targetIndex) {\n    var parentNode = element.parentNode;\n    var siblings = Array.from(parentNode.childNodes).filter(\n    // 要求为元素节点，且不能为 defs 节点\n    function (node) { return node.nodeType === 1 && node.nodeName.toLowerCase() !== 'defs'; });\n    // 获取目标节点\n    var target = siblings[targetIndex];\n    var currentIndex = siblings.indexOf(element);\n    // 如果目标节点存在\n    if (target) {\n        // 当前索引 > 目标索引，直接插入到目标节点之前即可\n        if (currentIndex > targetIndex) {\n            parentNode.insertBefore(element, target);\n        }\n        else if (currentIndex < targetIndex) {\n            // 当前索引 < 目标索引\n            // 获取目标节点的下一个节点\n            var targetNext = siblings[targetIndex + 1];\n            // 如果目标节点的下一个节点存在，插入到该节点之前\n            if (targetNext) {\n                parentNode.insertBefore(element, targetNext);\n            }\n            else {\n                // 如果该节点不存在，则追加到末尾\n                parentNode.appendChild(element);\n            }\n        }\n    }\n    else {\n        parentNode.appendChild(element);\n    }\n}\n//# sourceMappingURL=dom.js.map","/**\n * @fileoverview G 的基础接口定义和所有的抽象类\n * @author dxq613@gmail.com\n */\nimport * as PathUtil from './util/path';\nvar pkg = require('../package.json');\nexport var version = pkg.version;\nexport * from './types';\nexport * from './interfaces';\nexport { default as Event } from './event/graph-event';\nexport { default as Base } from './abstract/base';\nexport { default as AbstractCanvas } from './abstract/canvas';\nexport { default as AbstractGroup } from './abstract/group';\nexport { default as AbstractShape } from './abstract/shape';\nexport { PathUtil };\n//# sourceMappingURL=index.js.map","import { mod, toRadian, isSamePoint } from './util';\n// 向量长度\nfunction vMag(v) {\n    return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n}\n// u.v/|u||v|，计算夹角的余弦值\nfunction vRatio(u, v) {\n    // 当存在一个向量的长度为 0 时，夹角也为 0，即夹角的余弦值为 1\n    return vMag(u) * vMag(v) ? (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v)) : 1;\n}\n// 向量角度\nfunction vAngle(u, v) {\n    return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n}\n// A 0:rx 1:ry 2:x-axis-rotation 3:large-arc-flag 4:sweep-flag 5: x 6: y\nexport default function getArcParams(startPoint, params) {\n    var rx = params[1];\n    var ry = params[2];\n    var xRotation = mod(toRadian(params[3]), Math.PI * 2);\n    var arcFlag = params[4];\n    var sweepFlag = params[5];\n    // 弧形起点坐标\n    var x1 = startPoint[0];\n    var y1 = startPoint[1];\n    // 弧形终点坐标\n    var x2 = params[6];\n    var y2 = params[7];\n    var xp = (Math.cos(xRotation) * (x1 - x2)) / 2.0 + (Math.sin(xRotation) * (y1 - y2)) / 2.0;\n    var yp = (-1 * Math.sin(xRotation) * (x1 - x2)) / 2.0 + (Math.cos(xRotation) * (y1 - y2)) / 2.0;\n    var lambda = (xp * xp) / (rx * rx) + (yp * yp) / (ry * ry);\n    if (lambda > 1) {\n        rx *= Math.sqrt(lambda);\n        ry *= Math.sqrt(lambda);\n    }\n    var diff = rx * rx * (yp * yp) + ry * ry * (xp * xp);\n    var f = diff ? Math.sqrt((rx * rx * (ry * ry) - diff) / diff) : 1;\n    if (arcFlag === sweepFlag) {\n        f *= -1;\n    }\n    if (isNaN(f)) {\n        f = 0;\n    }\n    // 旋转前的起点坐标，且当长半轴和短半轴的长度为 0 时，坐标按 (0, 0) 处理\n    var cxp = ry ? (f * rx * yp) / ry : 0;\n    var cyp = rx ? (f * -ry * xp) / rx : 0;\n    // 椭圆圆心坐标\n    var cx = (x1 + x2) / 2.0 + Math.cos(xRotation) * cxp - Math.sin(xRotation) * cyp;\n    var cy = (y1 + y2) / 2.0 + Math.sin(xRotation) * cxp + Math.cos(xRotation) * cyp;\n    // 起始点的单位向量\n    var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n    // 终止点的单位向量\n    var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n    // 计算起始点和圆心的连线，与 x 轴正方向的夹角\n    var theta = vAngle([1, 0], u);\n    // 计算圆弧起始点和终止点与椭圆圆心连线的夹角\n    var dTheta = vAngle(u, v);\n    if (vRatio(u, v) <= -1) {\n        dTheta = Math.PI;\n    }\n    if (vRatio(u, v) >= 1) {\n        dTheta = 0;\n    }\n    if (sweepFlag === 0 && dTheta > 0) {\n        dTheta = dTheta - 2 * Math.PI;\n    }\n    if (sweepFlag === 1 && dTheta < 0) {\n        dTheta = dTheta + 2 * Math.PI;\n    }\n    return {\n        cx: cx,\n        cy: cy,\n        // 弧形的起点和终点相同时，长轴和短轴的长度按 0 处理\n        rx: isSamePoint(startPoint, [x2, y2]) ? 0 : rx,\n        ry: isSamePoint(startPoint, [x2, y2]) ? 0 : ry,\n        startAngle: theta,\n        endAngle: theta + dTheta,\n        xRotation: xRotation,\n        arcFlag: arcFlag,\n        sweepFlag: sweepFlag,\n    };\n}\n//# sourceMappingURL=arc-params.js.map","import { each, isArray } from '@antv/util';\nimport { parseStyle } from './parse';\nimport getArcParams from './arc-params';\nimport { mergeRegion, intersectRect } from './util';\nimport * as ArrowUtil from '../util/arrow';\nvar SHAPE_ATTRS_MAP = {\n    fill: 'fillStyle',\n    stroke: 'strokeStyle',\n    opacity: 'globalAlpha',\n};\nexport function applyAttrsToContext(context, element) {\n    var attrs = element.attr();\n    for (var k in attrs) {\n        var v = attrs[k];\n        // 转换一下不与 canvas 兼容的属性名\n        var name_1 = SHAPE_ATTRS_MAP[k] ? SHAPE_ATTRS_MAP[k] : k;\n        if (name_1 === 'matrix' && v) {\n            // 设置矩阵\n            context.transform(v[0], v[1], v[3], v[4], v[6], v[7]);\n        }\n        else if (name_1 === 'lineDash' && context.setLineDash) {\n            // 设置虚线，只支持数组形式，非数组形式不做任何操作\n            isArray(v) && context.setLineDash(v);\n        }\n        else {\n            if (name_1 === 'strokeStyle' || name_1 === 'fillStyle') {\n                // 如果存在渐变、pattern 这个开销有些大\n                // 可以考虑缓存机制，通过 hasUpdate 来避免一些运算\n                v = parseStyle(context, element, v);\n            }\n            else if (name_1 === 'globalAlpha') {\n                // opacity 效果可以叠加，子元素的 opacity 需要与父元素 opacity 相乘\n                v = v * context.globalAlpha;\n            }\n            context[name_1] = v;\n        }\n    }\n}\nexport function drawChildren(context, children, region) {\n    for (var i = 0; i < children.length; i++) {\n        var child = children[i];\n        if (child.cfg.visible) {\n            child.draw(context, region);\n        }\n        else {\n            child.skipDraw();\n        }\n    }\n}\n// 这个地方的逻辑比较复杂，简单画了一张图：https://www.yuque.com/antv/ou292n/pcgt5g#OW1QE\nexport function checkRefresh(canvas, children, region) {\n    var refreshElements = canvas.get('refreshElements');\n    // 先遍历需要刷新的元素，将这些元素的父元素也设置 refresh\n    each(refreshElements, function (el) {\n        if (el !== canvas) {\n            var parent_1 = el.cfg.parent;\n            while (parent_1 && parent_1 !== canvas && !parent_1.cfg.refresh) {\n                parent_1.cfg.refresh = true;\n                parent_1 = parent_1.cfg.parent;\n            }\n        }\n    });\n    if (refreshElements[0] === canvas) {\n        setChildrenRefresh(children, region);\n    }\n    else {\n        // 检查所有子元素是否可以刷新\n        checkChildrenRefresh(children, region);\n    }\n}\n// 检查所有的子元素是否应该更新\nexport function checkChildrenRefresh(children, region) {\n    for (var i = 0; i < children.length; i++) {\n        var child = children[i];\n        if (child.cfg.visible) {\n            // 先判断 hasChanged，因为它的优先级判断应该高于 refresh\n            if (child.cfg.hasChanged) {\n                // 如果节点发生了 change，则需要级联设置子元素的 refresh\n                child.cfg.refresh = true;\n                if (child.isGroup()) {\n                    setChildrenRefresh(child.cfg.children, region);\n                }\n            }\n            else if (child.cfg.refresh) {\n                // 如果当前图形/分组 refresh = true，说明其子节点存在 changed\n                if (child.isGroup()) {\n                    checkChildrenRefresh(child.cfg.children, region);\n                }\n            }\n            else {\n                // 这个分支说明此次局部刷新，所有的节点和父元素没有发生变化，仅需要检查包围盒（缓存）是否相交即可\n                var refresh = checkElementRefresh(child, region);\n                child.cfg.refresh = refresh;\n                if (refresh && child.isGroup()) {\n                    // 如果需要刷新，说明子元素也需要刷新，继续进行判定\n                    checkChildrenRefresh(child.cfg.children, region);\n                }\n            }\n        }\n    }\n}\n// 由于对改变的图形放入 refreshElements 时做了优化，判定父元素 changed 时不加入\n// 那么有可能会出现 elements 都为空，所以最终 group\nexport function clearChanged(elements) {\n    for (var i = 0; i < elements.length; i++) {\n        var el = elements[i];\n        el.cfg.hasChanged = false;\n        // 级联清理\n        if (el.isGroup() && !el.destroyed) {\n            clearChanged(el.cfg.children);\n        }\n    }\n}\n// 当某个父元素发生改变时，调用这个方法级联设置 refresh\nfunction setChildrenRefresh(children, region) {\n    for (var i = 0; i < children.length; i++) {\n        var child = children[i];\n        // let refresh = true;\n        // 获取缓存的 bbox，如果这个 bbox 还存在则说明父元素不是矩阵发生了改变\n        // const bbox = child.cfg.canvasBBox;\n        // if (bbox) {\n        //   // 如果这时候\n        //   refresh = intersectRect(bbox, region);\n        // }\n        child.cfg.refresh = true;\n        // 如果需要刷新当前节点，所有的子元素设置 refresh\n        if (child.isGroup()) {\n            setChildrenRefresh(child.get('children'), region);\n        }\n    }\n}\nfunction checkElementRefresh(shape, region) {\n    var bbox = shape.cfg.cacheCanvasBBox;\n    var isAllow = shape.cfg.isInView && bbox && intersectRect(bbox, region);\n    return isAllow;\n}\n// 绘制 path\nexport function drawPath(shape, context, attrs, arcParamsCache) {\n    var path = attrs.path, startArrow = attrs.startArrow, endArrow = attrs.endArrow;\n    var currentPoint = [0, 0]; // 当前图形\n    var startMovePoint = [0, 0]; // 开始 M 的点，可能会有多个\n    var distance = {\n        dx: 0,\n        dy: 0,\n    };\n    context.beginPath();\n    for (var i = 0; i < path.length; i++) {\n        var params = path[i];\n        var command = params[0];\n        if (i === 0 && startArrow && startArrow.d) {\n            var tangent = shape.getStartTangent();\n            distance = ArrowUtil.getShortenOffset(tangent[0][0], tangent[0][1], tangent[1][0], tangent[1][1], startArrow.d);\n        }\n        else if (i === path.length - 2 && path[i + 1][0] === 'Z' && endArrow && endArrow.d) {\n            // 为了防止结尾为 Z 的 segment 缩短不起效，需要取最后两个 segment 特殊处理\n            var lastPath = path[i + 1];\n            if (lastPath[0] === 'Z') {\n                var tangent = shape.getEndTangent();\n                distance = ArrowUtil.getShortenOffset(tangent[0][0], tangent[0][1], tangent[1][0], tangent[1][1], endArrow.d);\n            }\n        }\n        else if (i === path.length - 1 && endArrow && endArrow.d) {\n            if (path[0] !== 'Z') {\n                var tangent = shape.getEndTangent();\n                distance = ArrowUtil.getShortenOffset(tangent[0][0], tangent[0][1], tangent[1][0], tangent[1][1], endArrow.d);\n            }\n        }\n        var dx = distance.dx, dy = distance.dy;\n        // V,H,S,T 都在前面被转换成标准形式\n        switch (command) {\n            case 'M':\n                context.moveTo(params[1] - dx, params[2] - dy);\n                startMovePoint = [params[1], params[2]];\n                break;\n            case 'L':\n                context.lineTo(params[1] - dx, params[2] - dy);\n                break;\n            case 'Q':\n                context.quadraticCurveTo(params[1], params[2], params[3] - dx, params[4] - dy);\n                break;\n            case 'C':\n                context.bezierCurveTo(params[1], params[2], params[3], params[4], params[5] - dx, params[6] - dy);\n                break;\n            case 'A': {\n                var arcParams = void 0;\n                // 为了加速绘制，可以提供参数的缓存，各个图形自己缓存\n                if (arcParamsCache) {\n                    arcParams = arcParamsCache[i];\n                    if (!arcParams) {\n                        arcParams = getArcParams(currentPoint, params);\n                        arcParamsCache[i] = arcParams;\n                    }\n                }\n                else {\n                    arcParams = getArcParams(currentPoint, params);\n                }\n                var cx = arcParams.cx, cy = arcParams.cy, rx = arcParams.rx, ry = arcParams.ry, startAngle = arcParams.startAngle, endAngle = arcParams.endAngle, xRotation = arcParams.xRotation, sweepFlag = arcParams.sweepFlag;\n                // 直接使用椭圆的 api\n                if (context.ellipse) {\n                    context.ellipse(cx, cy, rx, ry, xRotation, startAngle, endAngle, 1 - sweepFlag);\n                }\n                else {\n                    var r = rx > ry ? rx : ry;\n                    var scaleX = rx > ry ? 1 : rx / ry;\n                    var scaleY = rx > ry ? ry / rx : 1;\n                    context.translate(cx, cy);\n                    context.rotate(xRotation);\n                    context.scale(scaleX, scaleY);\n                    context.arc(0, 0, r, startAngle, endAngle, 1 - sweepFlag);\n                    context.scale(1 / scaleX, 1 / scaleY);\n                    context.rotate(-xRotation);\n                    context.translate(-cx, -cy);\n                }\n                break;\n            }\n            case 'Z':\n                context.closePath();\n                break;\n            default:\n                break;\n        }\n        // 有了 Z 后，当前节点从开始 M 的点开始\n        if (command === 'Z') {\n            currentPoint = startMovePoint;\n        }\n        else {\n            var len = params.length;\n            currentPoint = [params[len - 2], params[len - 1]];\n        }\n    }\n}\n// 刷新图形元素(Shape 或者 Group)\nexport function refreshElement(element, changeType) {\n    var canvas = element.get('canvas');\n    // 只有存在于 canvas 上时生效\n    if (canvas) {\n        if (changeType === 'remove') {\n            // 一旦 remove，则无法在 element 上拿到包围盒\n            // destroy 后所有属性都拿不到，所以需要暂存一下\n            // 这是一段 hack 的代码\n            element._cacheCanvasBBox = element.get('cacheCanvasBBox');\n        }\n        // 防止反复刷新\n        if (!element.get('hasChanged')) {\n            // 但是始终要标记为 hasChanged，便于后面进行局部渲染\n            element.set('hasChanged', true);\n            // 本来只有局部渲染模式下，才需要记录更新的元素队列\n            // if (canvas.get('localRefresh')) {\n            //   canvas.refreshElement(element, changeType, canvas);\n            // }\n            // 但对于 https://github.com/antvis/g/issues/422 的场景，全局渲染的模式下也需要记录更新的元素队列\n            // 如果当前元素的父元素发生了改变，可以不放入队列，这句话大概能够提升 15% 的初次渲染性能\n            if (!(element.cfg.parent && element.cfg.parent.get('hasChanged'))) {\n                canvas.refreshElement(element, changeType, canvas);\n                if (canvas.get('autoDraw')) {\n                    canvas.draw();\n                }\n            }\n        }\n    }\n}\nexport function getRefreshRegion(element) {\n    var region;\n    if (!element.destroyed) {\n        var cacheBox = element.get('cacheCanvasBBox');\n        var validCache = cacheBox && !!(cacheBox.width && cacheBox.height);\n        var bbox = element.getCanvasBBox();\n        var validBBox = bbox && !!(bbox.width && bbox.height);\n        // 是否是有效 bbox 判定，一些 NaN 或者 宽高为 0 的情况过滤掉\n        if (validCache && validBBox) {\n            region = mergeRegion(cacheBox, bbox);\n        }\n        else if (validCache) {\n            region = cacheBox;\n        }\n        else if (validBBox) {\n            region = bbox;\n        }\n    }\n    else {\n        // 因为元素已经销毁所以无法获取到缓存的包围盒\n        region = element['_cacheCanvasBBox'];\n    }\n    return region;\n}\nexport function getMergedRegion(elements) {\n    if (!elements.length) {\n        return null;\n    }\n    var minXArr = [];\n    var minYArr = [];\n    var maxXArr = [];\n    var maxYArr = [];\n    each(elements, function (el) {\n        var region = getRefreshRegion(el);\n        if (region) {\n            minXArr.push(region.minX);\n            minYArr.push(region.minY);\n            maxXArr.push(region.maxX);\n            maxYArr.push(region.maxY);\n        }\n    });\n    return {\n        minX: Math.min.apply(null, minXArr),\n        minY: Math.min.apply(null, minYArr),\n        maxX: Math.max.apply(null, maxXArr),\n        maxY: Math.max.apply(null, maxYArr),\n    };\n}\nexport function mergeView(region, viewRegion) {\n    if (!region || !viewRegion) {\n        return null;\n    }\n    // 不相交，则直接返回 null\n    if (!intersectRect(region, viewRegion)) {\n        return null;\n    }\n    return {\n        minX: Math.max(region.minX, viewRegion.minX),\n        minY: Math.max(region.minY, viewRegion.minY),\n        maxX: Math.min(region.maxX, viewRegion.maxX),\n        maxY: Math.min(region.maxY, viewRegion.maxY),\n    };\n}\n//# sourceMappingURL=draw.js.map","/**\n * 在 Chart 中查找特定 id 的子 View\n * @param chart\n * @param id\n */\nexport function findViewById(chart, id) {\n    return chart.views.find(function (view) { return view.id === id; });\n}\n//# sourceMappingURL=view.js.map","import { __assign, __rest } from \"tslib\";\nimport { Path } from '../shape';\nvar sin = Math.sin, cos = Math.cos, atan2 = Math.atan2, PI = Math.PI;\nfunction _addDefaultArrow(shape, attrs, x1, y1, x2, y2, isStart) {\n    var stroke = attrs.stroke, lineWidth = attrs.lineWidth;\n    var x = x1 - x2;\n    var y = y1 - y2;\n    var rad = atan2(y, x);\n    var arrowShape = new Path({\n        type: 'path',\n        canvas: shape.get('canvas'),\n        isArrowShape: true,\n        attrs: {\n            // 默认箭头的边长为 10，夹角为 60 度\n            path: \"M\" + 10 * cos(PI / 6) + \",\" + 10 * sin(PI / 6) + \" L0,0 L\" + 10 * cos(PI / 6) + \",-\" + 10 * sin(PI / 6),\n            // 使用 shape stroke 值\n            stroke: stroke,\n            lineWidth: lineWidth,\n        },\n    });\n    arrowShape.translate(x2, y2);\n    arrowShape.rotateAtPoint(x2, y2, rad);\n    shape.set(isStart ? 'startArrowShape' : 'endArrowShape', arrowShape);\n}\n/**\n * 箭头 path 的设置要求\n * 1. 箭头顶点坐标需要为 (0, 0)\n * 2. 箭头夹角的中心分割线需要与 X 轴正方向对齐\n */\nfunction _addCustomizedArrow(shape, attrs, x1, y1, x2, y2, isStart) {\n    var startArrow = attrs.startArrow, endArrow = attrs.endArrow, stroke = attrs.stroke, lineWidth = attrs.lineWidth;\n    var arrowAttrs = isStart ? startArrow : endArrow;\n    var d = arrowAttrs.d, arrowFill = arrowAttrs.fill, arrowStroke = arrowAttrs.stroke, arrowLineWidth = arrowAttrs.lineWidth, restAttrs = __rest(arrowAttrs, [\"d\", \"fill\", \"stroke\", \"lineWidth\"]);\n    var x = x1 - x2;\n    var y = y1 - y2;\n    var rad = atan2(y, x);\n    if (d) {\n        x2 = x2 - cos(rad) * d;\n        y2 = y2 - sin(rad) * d;\n    }\n    var arrowShape = new Path({\n        type: 'path',\n        canvas: shape.get('canvas'),\n        isArrowShape: true,\n        attrs: __assign(__assign({}, restAttrs), { \n            // 支持单独设置箭头的 stroke 和 lineWidth，若为空则使用 shape 的值\n            stroke: arrowStroke || stroke, lineWidth: arrowLineWidth || lineWidth, \n            // 箭头是否填充需要手动设置，不会继承自 shape 的值\n            fill: arrowFill }),\n    });\n    arrowShape.translate(x2, y2);\n    arrowShape.rotateAtPoint(x2, y2, rad);\n    shape.set(isStart ? 'startArrowShape' : 'endArrowShape', arrowShape);\n}\n/**\n * 如果自定义箭头并且有 d 需要做偏移，如果直接画，线条会超出箭头尖端，因此需要根据箭头偏移 d, 返回线需要缩短的距离\n * |----------------\n * |<|--------------\n * |\n * @param {number} x1 起始点 x\n * @param {number} y1 起始点 y\n * @param {number} x2 箭头作用点 x\n * @param {number} y2 箭头作用点 y\n * @param {number} d  箭头沿线条方向的偏移距离\n * @return {{dx: number, dy: number}} 返回线条偏移距离\n */\nexport function getShortenOffset(x1, y1, x2, y2, d) {\n    var rad = atan2(y2 - y1, x2 - x1);\n    return {\n        dx: cos(rad) * d,\n        dy: sin(rad) * d,\n    };\n}\n/**\n * 绘制起始箭头\n * @param {IShape} shape 图形\n * @param {ShapeAttrs} attrs shape 的绘图属性\n * @param {number} x1 起始点 x\n * @param {number} y1 起始点 y\n * @param {number} x2 箭头作用点 x\n * @param {number} y2 箭头作用点 y\n */\nexport function addStartArrow(shape, attrs, x1, y1, x2, y2) {\n    if (typeof attrs.startArrow === 'object') {\n        _addCustomizedArrow(shape, attrs, x1, y1, x2, y2, true);\n    }\n    else if (attrs.startArrow) {\n        _addDefaultArrow(shape, attrs, x1, y1, x2, y2, true);\n    }\n    else {\n        shape.set('startArrowShape', null);\n    }\n}\n/**\n * 绘制结束箭头\n * @param {IShape} shape 图形\n * @param {ShapeAttrs} attrs shape 的绘图属性\n * @param {number} x1 起始点 x\n * @param {number} y1 起始点 y\n * @param {number} x2 箭头作用点 x\n * @param {number} y2 箭头作用点 y\n */\nexport function addEndArrow(shape, attrs, x1, y1, x2, y2) {\n    if (typeof attrs.endArrow === 'object') {\n        _addCustomizedArrow(shape, attrs, x1, y1, x2, y2, false);\n    }\n    else if (attrs.endArrow) {\n        _addDefaultArrow(shape, attrs, x1, y1, x2, y2, false);\n    }\n    else {\n        shape.set('startArrowShape', null);\n    }\n}\n//# sourceMappingURL=arrow.js.map","import { ext, vec2, vec3 } from '@antv/matrix-util';\nvar identityMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\nexport function getMatrixByAngle(point, angle, matrix) {\n    if (matrix === void 0) { matrix = identityMatrix; }\n    if (!angle) {\n        // 角度为 0 或者 null 时返回 null\n        return null;\n    }\n    var m = ext.transform(matrix, [\n        ['t', -point.x, -point.y],\n        ['r', angle],\n        ['t', point.x, point.y],\n    ]);\n    return m;\n}\nexport function getMatrixByTranslate(point, currentMatrix) {\n    if (!point.x && !point.y) {\n        // 0，0 或者 nan 的情况下返回 null\n        return null;\n    }\n    return ext.transform(currentMatrix || identityMatrix, [['t', point.x, point.y]]);\n}\n// 从矩阵获取旋转的角度\nexport function getAngleByMatrix(matrix) {\n    var xVector = [1, 0, 0];\n    var out = [0, 0, 0];\n    vec3.transformMat3(out, xVector, matrix);\n    return Math.atan2(out[1], out[0]);\n}\n// 矩阵 * 向量\nfunction multiplyVec2(matrix, v) {\n    var out = [0, 0];\n    vec2.transformMat3(out, v, matrix);\n    return out;\n}\nexport function applyMatrix2BBox(matrix, bbox) {\n    var topLeft = multiplyVec2(matrix, [bbox.minX, bbox.minY]);\n    var topRight = multiplyVec2(matrix, [bbox.maxX, bbox.minY]);\n    var bottomLeft = multiplyVec2(matrix, [bbox.minX, bbox.maxY]);\n    var bottomRight = multiplyVec2(matrix, [bbox.maxX, bbox.maxY]);\n    var minX = Math.min(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]);\n    var maxX = Math.max(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]);\n    var minY = Math.min(topLeft[1], topRight[1], bottomLeft[1], bottomRight[1]);\n    var maxY = Math.max(topLeft[1], topRight[1], bottomLeft[1], bottomRight[1]);\n    return {\n        x: minX,\n        y: minY,\n        minX: minX,\n        minY: minY,\n        maxX: maxX,\n        maxY: maxY,\n        width: maxX - minX,\n        height: maxY - minY,\n    };\n}\nexport function applyRotate(shape, rotate, x, y) {\n    if (rotate) {\n        var matrix = getMatrixByAngle({ x: x, y: y }, rotate, shape.getMatrix());\n        shape.setMatrix(matrix);\n    }\n}\nexport function applyTranslate(shape, x, y) {\n    var translateMatrix = getMatrixByTranslate({ x: x, y: y });\n    shape.attr('matrix', translateMatrix);\n}\n//# sourceMappingURL=matrix.js.map","import { each, isArray, isNil, isNumber } from '@antv/util';\nexport function formatPadding(padding) {\n    var top = 0;\n    var left = 0;\n    var right = 0;\n    var bottom = 0;\n    if (isNumber(padding)) {\n        top = left = right = bottom = padding;\n    }\n    else if (isArray(padding)) {\n        top = padding[0];\n        right = !isNil(padding[1]) ? padding[1] : padding[0];\n        bottom = !isNil(padding[2]) ? padding[2] : padding[0];\n        left = !isNil(padding[3]) ? padding[3] : right;\n    }\n    return [top, right, bottom, left];\n}\nexport function clearDom(container) {\n    var children = container.childNodes;\n    var length = children.length;\n    for (var i = length - 1; i >= 0; i--) {\n        container.removeChild(children[i]);\n    }\n}\nexport function hasClass(elements, cName) {\n    return !!elements.className.match(new RegExp(\"(\\\\s|^)\" + cName + \"(\\\\s|$)\"));\n}\nexport function regionToBBox(region) {\n    var start = region.start, end = region.end;\n    var minX = Math.min(start.x, end.x);\n    var minY = Math.min(start.y, end.y);\n    var maxX = Math.max(start.x, end.x);\n    var maxY = Math.max(start.y, end.y);\n    return {\n        x: minX,\n        y: minY,\n        minX: minX,\n        minY: minY,\n        maxX: maxX,\n        maxY: maxY,\n        width: maxX - minX,\n        height: maxY - minY,\n    };\n}\nexport function pointsToBBox(points) {\n    var xs = points.map(function (point) { return point.x; });\n    var ys = points.map(function (point) { return point.y; });\n    var minX = Math.min.apply(Math, xs);\n    var minY = Math.min.apply(Math, ys);\n    var maxX = Math.max.apply(Math, xs);\n    var maxY = Math.max.apply(Math, ys);\n    return {\n        x: minX,\n        y: minY,\n        minX: minX,\n        minY: minY,\n        maxX: maxX,\n        maxY: maxY,\n        width: maxX - minX,\n        height: maxY - minY,\n    };\n}\nexport function createBBox(x, y, width, height) {\n    var maxX = x + width;\n    var maxY = y + height;\n    return {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        minX: x,\n        minY: y,\n        // 非常奇葩的 js 特性\n        // Infinity + Infinity = Infinity\n        // Infinity - Infinity = NaN\n        // fixed https://github.com/antvis/G2Plot/issues/1243\n        maxX: isNaN(maxX) ? 0 : maxX,\n        maxY: isNaN(maxY) ? 0 : maxY,\n    };\n}\nexport function getValueByPercent(min, max, percent) {\n    return (1 - percent) * min + max * percent;\n}\nexport function getCirclePoint(center, radius, angle) {\n    return {\n        x: center.x + Math.cos(angle) * radius,\n        y: center.y + Math.sin(angle) * radius,\n    };\n}\nexport function distance(p1, p2) {\n    var dx = p2.x - p1.x;\n    var dy = p2.y - p1.y;\n    return Math.sqrt(dx * dx + dy * dy);\n}\nexport var wait = function (interval) {\n    return new Promise(function (resolve) {\n        setTimeout(resolve, interval);\n    });\n};\nexport var near = function (x, y) {\n    return [x, y].includes(Infinity) ? Math.abs(x) === Math.abs(y) : Math.abs(x - y) < Math.pow(Number.EPSILON, 0.5);\n};\nexport function intersectBBox(box1, box2) {\n    var minX = Math.max(box1.minX, box2.minX);\n    var minY = Math.max(box1.minY, box2.minY);\n    var maxX = Math.min(box1.maxX, box2.maxX);\n    var maxY = Math.min(box1.maxY, box2.maxY);\n    return createBBox(minX, minY, maxX - minX, maxY - minY);\n}\nexport function mergeBBox(box1, box2) {\n    var minX = Math.min(box1.minX, box2.minX);\n    var minY = Math.min(box1.minY, box2.minY);\n    var maxX = Math.max(box1.maxX, box2.maxX);\n    var maxY = Math.max(box1.maxY, box2.maxY);\n    return createBBox(minX, minY, maxX - minX, maxY - minY);\n}\nexport function getBBoxWithClip(element) {\n    var clipShape = element.getClip();\n    var clipBBox = clipShape && clipShape.getBBox();\n    var bbox;\n    if (!element.isGroup()) {\n        // 如果是普通的图形\n        bbox = element.getBBox();\n    }\n    else {\n        var minX_1 = Infinity;\n        var maxX_1 = -Infinity;\n        var minY_1 = Infinity;\n        var maxY_1 = -Infinity;\n        var children = element.getChildren();\n        if (children.length > 0) {\n            each(children, function (child) {\n                if (child.get('visible')) {\n                    // 如果分组没有子元素，则直接跳过\n                    if (child.isGroup() && child.get('children').length === 0) {\n                        return true;\n                    }\n                    var box = getBBoxWithClip(child);\n                    // 计算 4 个顶点\n                    var leftTop = child.applyToMatrix([box.minX, box.minY, 1]);\n                    var leftBottom = child.applyToMatrix([box.minX, box.maxY, 1]);\n                    var rightTop = child.applyToMatrix([box.maxX, box.minY, 1]);\n                    var rightBottom = child.applyToMatrix([box.maxX, box.maxY, 1]);\n                    // 从中取最小的范围\n                    var boxMinX = Math.min(leftTop[0], leftBottom[0], rightTop[0], rightBottom[0]);\n                    var boxMaxX = Math.max(leftTop[0], leftBottom[0], rightTop[0], rightBottom[0]);\n                    var boxMinY = Math.min(leftTop[1], leftBottom[1], rightTop[1], rightBottom[1]);\n                    var boxMaxY = Math.max(leftTop[1], leftBottom[1], rightTop[1], rightBottom[1]);\n                    if (boxMinX < minX_1) {\n                        minX_1 = boxMinX;\n                    }\n                    if (boxMaxX > maxX_1) {\n                        maxX_1 = boxMaxX;\n                    }\n                    if (boxMinY < minY_1) {\n                        minY_1 = boxMinY;\n                    }\n                    if (boxMaxY > maxY_1) {\n                        maxY_1 = boxMaxY;\n                    }\n                }\n            });\n        }\n        else {\n            minX_1 = 0;\n            maxX_1 = 0;\n            minY_1 = 0;\n            maxY_1 = 0;\n        }\n        bbox = createBBox(minX_1, minY_1, maxX_1 - minX_1, maxY_1 - minY_1);\n    }\n    if (clipBBox) {\n        return intersectBBox(bbox, clipBBox);\n    }\n    else {\n        return bbox;\n    }\n}\nexport function updateClip(element, newElement) {\n    if (!element.getClip() && !newElement.getClip()) {\n        // 两者都没有 clip\n        return;\n    }\n    var newClipShape = newElement.getClip();\n    if (!newClipShape) {\n        // 新的 element 没有 clip\n        element.setClip(null); // 移除 clip\n        return;\n    }\n    var clipCfg = {\n        type: newClipShape.get('type'),\n        attrs: newClipShape.attr(),\n    };\n    element.setClip(clipCfg);\n}\nexport function toPx(number) {\n    return number + \"px\";\n}\nexport function getTextPoint(start, end, position, offset) {\n    var lineLength = distance(start, end);\n    var offsetPercent = offset / lineLength; // 计算间距同线的比例，用于计算最终的位置\n    var percent = 0;\n    if (position === 'start') {\n        percent = 0 - offsetPercent;\n    }\n    else if (position === 'end') {\n        percent = 1 + offsetPercent;\n    }\n    return {\n        x: getValueByPercent(start.x, end.x, percent),\n        y: getValueByPercent(start.y, end.y, percent),\n    };\n}\n//# sourceMappingURL=util.js.map","import { __assign, __extends } from \"tslib\";\nimport { Base } from '@antv/g-base';\nimport { deepMix, each, hasKey, isObject } from '@antv/util';\nvar LOCATION_FIELD_MAP = {\n    none: [],\n    point: ['x', 'y'],\n    region: ['start', 'end'],\n    points: ['points'],\n    circle: ['center', 'radius', 'startAngle', 'endAngle'],\n};\nvar Component = /** @class */ (function (_super) {\n    __extends(Component, _super);\n    function Component(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.initCfg();\n        return _this;\n    }\n    /**\n     * @protected\n     * 默认的配置项\n     * @returns {object} 默认的配置项\n     */\n    Component.prototype.getDefaultCfg = function () {\n        return {\n            id: '',\n            name: '',\n            type: '',\n            locationType: 'none',\n            offsetX: 0,\n            offsetY: 0,\n            animate: false,\n            capture: true,\n            updateAutoRender: false,\n            animateOption: {\n                appear: null,\n                update: {\n                    duration: 400,\n                    easing: 'easeQuadInOut',\n                },\n                enter: {\n                    duration: 400,\n                    easing: 'easeQuadInOut',\n                },\n                leave: {\n                    duration: 350,\n                    easing: 'easeQuadIn',\n                },\n            },\n            events: null,\n            defaultCfg: {},\n            visible: true,\n        };\n    };\n    /**\n     * 清理组件的内容，一般配合 render 使用\n     * @example\n     * axis.clear();\n     * axis.render();\n     */\n    Component.prototype.clear = function () { };\n    /**\n     * 更新组件\n     * @param {object} cfg 更新属性\n     */\n    Component.prototype.update = function (cfg) {\n        var _this = this;\n        var defaultCfg = this.get('defaultCfg');\n        each(cfg, function (value, name) {\n            var originCfg = _this.get(name);\n            var newCfg = value;\n            if (originCfg !== value) {\n                // 判断两者是否相等，主要是进行 null 的判定\n                if (isObject(value) && defaultCfg[name]) {\n                    // 新设置的属性与默认值进行合并\n                    newCfg = deepMix({}, defaultCfg[name], value);\n                }\n                _this.set(name, newCfg);\n            }\n        });\n        this.updateInner(cfg);\n        this.afterUpdate(cfg);\n    };\n    // 更新内部\n    Component.prototype.updateInner = function (cfg) {\n    };\n    Component.prototype.afterUpdate = function (cfg) {\n        // 更新时考虑显示、隐藏\n        if (hasKey(cfg, 'visible')) {\n            if (cfg.visible) {\n                this.show();\n            }\n            else {\n                this.hide();\n            }\n        }\n        // 更新时考虑capture\n        if (hasKey(cfg, 'capture')) {\n            this.setCapture(cfg.capture);\n        }\n    };\n    Component.prototype.getLayoutBBox = function () {\n        return this.getBBox(); // 默认返回 getBBox，不同的组件内部单独实现\n    };\n    Component.prototype.getLocationType = function () {\n        return this.get('locationType');\n    };\n    Component.prototype.getOffset = function () {\n        return {\n            offsetX: this.get('offsetX'),\n            offsetY: this.get('offsetY'),\n        };\n    };\n    // 默认使用 update\n    Component.prototype.setOffset = function (offsetX, offsetY) {\n        this.update({\n            offsetX: offsetX,\n            offsetY: offsetY,\n        });\n    };\n    Component.prototype.setLocation = function (cfg) {\n        var location = __assign({}, cfg);\n        this.update(location);\n    };\n    // 实现 ILocation 接口的 getLocation\n    Component.prototype.getLocation = function () {\n        var _this = this;\n        var location = {};\n        var locationType = this.get('locationType');\n        var fields = LOCATION_FIELD_MAP[locationType];\n        each(fields, function (field) {\n            location[field] = _this.get(field);\n        });\n        return location;\n    };\n    Component.prototype.isList = function () {\n        return false;\n    };\n    Component.prototype.isSlider = function () {\n        return false;\n    };\n    /**\n     * @protected\n     * 初始化，用于具体的组件继承\n     */\n    Component.prototype.init = function () { };\n    // 将组件默认的配置项设置合并到传入的配置项\n    Component.prototype.initCfg = function () {\n        var _this = this;\n        var defaultCfg = this.get('defaultCfg');\n        each(defaultCfg, function (value, name) {\n            var cfg = _this.get(name);\n            if (isObject(cfg)) {\n                var newCfg = deepMix({}, value, cfg);\n                _this.set(name, newCfg);\n            }\n        });\n    };\n    return Component;\n}(Base));\nexport default Component;\n//# sourceMappingURL=component.js.map","import { __assign, __extends, __rest } from \"tslib\";\nimport { difference, each, isNil, keys, mix, pick } from '@antv/util';\nimport { propagationDelegate } from '../util/event';\nimport { applyMatrix2BBox, getMatrixByTranslate } from '../util/matrix';\nimport { getBBoxWithClip, updateClip } from '../util/util';\nimport Component from './component';\nvar STATUS_UPDATE = 'update_status';\nvar COPY_PROPERTIES = ['visible', 'tip', 'delegateObject']; // 更新对象时需要复制的属性\nvar COPY_PROPERTIES_EXCLUDES = ['container', 'group', 'shapesMap', 'isRegister', 'isUpdating', 'destroyed']; // 更新子组件时排除的属性\nvar GroupComponent = /** @class */ (function (_super) {\n    __extends(GroupComponent, _super);\n    function GroupComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GroupComponent.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { container: null, \n            /**\n             * @private\n             * 缓存图形的 Map\n             */\n            shapesMap: {}, group: null, capture: true, \n            /**\n             * @private 组件或者图形是否允许注册\n             * @type {false}\n             */\n            isRegister: false, \n            /**\n             * @private 是否正在更新\n             * @type {false}\n             */\n            isUpdating: false, \n            /**\n             * @private\n             * 是否初始状态，一旦 render，update 后，这个状态就变成 false, clear 后恢复\n             */\n            isInit: true });\n    };\n    GroupComponent.prototype.remove = function () {\n        this.clear();\n        var group = this.get('group');\n        group.remove();\n    };\n    GroupComponent.prototype.clear = function () {\n        var group = this.get('group');\n        group.clear();\n        this.set('shapesMap', {});\n        this.clearOffScreenCache();\n        this.set('isInit', true);\n    };\n    GroupComponent.prototype.getChildComponentById = function (id) {\n        var group = this.getElementById(id);\n        var inst = group && group.get('component');\n        return inst;\n    };\n    GroupComponent.prototype.getElementById = function (id) {\n        return this.get('shapesMap')[id];\n    };\n    GroupComponent.prototype.getElementByLocalId = function (localId) {\n        var id = this.getElementId(localId);\n        return this.getElementById(id);\n    };\n    GroupComponent.prototype.getElementsByName = function (name) {\n        var rst = [];\n        each(this.get('shapesMap'), function (elem) {\n            if (elem.get('name') === name) {\n                rst.push(elem);\n            }\n        });\n        return rst;\n    };\n    GroupComponent.prototype.getContainer = function () {\n        return this.get('container');\n    };\n    GroupComponent.prototype.updateInner = function (cfg) {\n        // this.updateInner();\n        // this.set('isUpdating', false);\n        this.offScreenRender();\n        if (this.get('updateAutoRender')) {\n            this.render();\n        }\n    };\n    GroupComponent.prototype.render = function () {\n        var offScreenGroup = this.get('offScreenGroup');\n        if (!offScreenGroup) {\n            offScreenGroup = this.offScreenRender();\n        }\n        var group = this.get('group');\n        this.updateElements(offScreenGroup, group);\n        this.deleteElements();\n        this.applyOffset();\n        if (!this.get('eventInitted')) {\n            this.initEvent();\n            this.set('eventInitted', true);\n        }\n        this.set('isInit', false);\n    };\n    GroupComponent.prototype.show = function () {\n        var group = this.get('group');\n        group.show();\n        this.set('visible', true);\n    };\n    GroupComponent.prototype.hide = function () {\n        var group = this.get('group');\n        group.hide();\n        this.set('visible', false);\n    };\n    GroupComponent.prototype.setCapture = function (capture) {\n        var group = this.get('group');\n        group.set('capture', capture);\n        this.set('capture', capture);\n    };\n    GroupComponent.prototype.destroy = function () {\n        this.removeEvent();\n        this.remove();\n        _super.prototype.destroy.call(this);\n    };\n    GroupComponent.prototype.getBBox = function () {\n        return this.get('group').getCanvasBBox();\n    };\n    GroupComponent.prototype.getLayoutBBox = function () {\n        var group = this.get('group');\n        // 防止被 clear 了，offScreenBBox 不存在\n        var bbox = this.getInnerLayoutBBox();\n        var matrix = group.getTotalMatrix();\n        if (matrix) {\n            bbox = applyMatrix2BBox(matrix, bbox);\n        }\n        return bbox; // 默认返回 getBBox，不同的组件内部单独实现\n    };\n    // 复写 on, off, emit 透传到 group\n    GroupComponent.prototype.on = function (evt, callback, once) {\n        var group = this.get('group');\n        group.on(evt, callback, once);\n        return this;\n    };\n    GroupComponent.prototype.off = function (evt, callback) {\n        var group = this.get('group');\n        group && group.off(evt, callback);\n        return this;\n    };\n    GroupComponent.prototype.emit = function (eventName, eventObject) {\n        var group = this.get('group');\n        group.emit(eventName, eventObject);\n    };\n    GroupComponent.prototype.init = function () {\n        _super.prototype.init.call(this);\n        if (!this.get('group')) {\n            this.initGroup();\n        }\n        this.offScreenRender(); // 绘制离屏 group\n    };\n    // 获取组件内部布局占的包围盒\n    GroupComponent.prototype.getInnerLayoutBBox = function () {\n        return this.get('offScreenBBox') || this.get('group').getBBox();\n    };\n    // 抛出委托对象\n    GroupComponent.prototype.delegateEmit = function (eventName, eventObject) {\n        var group = this.get('group');\n        eventObject.target = group;\n        group.emit(eventName, eventObject);\n        propagationDelegate(group, eventName, eventObject);\n    };\n    // 创建离屏的 group ,不添加在 canvas 中\n    GroupComponent.prototype.createOffScreenGroup = function () {\n        var group = this.get('group');\n        var GroupClass = group.getGroupBase(); // 获取分组的构造函数\n        var newGroup = new GroupClass({\n            delegateObject: this.getDelegateObject(),\n        });\n        return newGroup;\n    };\n    // 应用 offset\n    GroupComponent.prototype.applyOffset = function () {\n        var offsetX = this.get('offsetX');\n        var offsetY = this.get('offsetY');\n        this.moveElementTo(this.get('group'), {\n            x: offsetX,\n            y: offsetY,\n        });\n    };\n    GroupComponent.prototype.initGroup = function () {\n        var container = this.get('container');\n        this.set('group', container.addGroup({\n            id: this.get('id'),\n            name: this.get('name'),\n            capture: this.get('capture'),\n            visible: this.get('visible'),\n            isComponent: true,\n            component: this,\n            delegateObject: this.getDelegateObject(),\n        }));\n    };\n    // 离屏渲染\n    GroupComponent.prototype.offScreenRender = function () {\n        this.clearOffScreenCache();\n        var offScreenGroup = this.createOffScreenGroup();\n        this.renderInner(offScreenGroup);\n        this.set('offScreenGroup', offScreenGroup);\n        // 包含包围盒的 bbox\n        this.set('offScreenBBox', getBBoxWithClip(offScreenGroup));\n        return offScreenGroup;\n    };\n    /**\n     * @protected\n     * 在组件上添加分组，主要解决 isReigeter 的问题\n     * @param {IGroup} parent 父元素\n     * @param {object} cfg    分组的配置项\n     */\n    GroupComponent.prototype.addGroup = function (parent, cfg) {\n        this.appendDelegateObject(parent, cfg);\n        var group = parent.addGroup(cfg);\n        if (this.get('isRegister')) {\n            this.registerElement(group);\n        }\n        return group;\n    };\n    /**\n     * @protected\n     * 在组件上添加图形，主要解决 isReigeter 的问题\n     * @param {IGroup} parent 父元素\n     * @param {object} cfg    分组的配置项\n     */\n    GroupComponent.prototype.addShape = function (parent, cfg) {\n        this.appendDelegateObject(parent, cfg);\n        var shape = parent.addShape(cfg);\n        if (this.get('isRegister')) {\n            this.registerElement(shape);\n        }\n        return shape;\n    };\n    /**\n     * 在组件上添加子组件\n     *\n     * @param parent 父元素\n     * @param cfg 子组件配置项\n     */\n    GroupComponent.prototype.addComponent = function (parent, cfg) {\n        var id = cfg.id, Ctor = cfg.component, restCfg = __rest(cfg, [\"id\", \"component\"]);\n        // @ts-ignore\n        var inst = new Ctor(__assign(__assign({}, restCfg), { id: id, container: parent, updateAutoRender: this.get('updateAutoRender') }));\n        inst.init();\n        inst.render();\n        if (this.get('isRegister')) {\n            this.registerElement(inst.get('group'));\n        }\n        return inst;\n    };\n    GroupComponent.prototype.initEvent = function () { };\n    GroupComponent.prototype.removeEvent = function () {\n        var group = this.get('group');\n        group.off();\n    };\n    GroupComponent.prototype.getElementId = function (localId) {\n        var id = this.get('id'); // 组件的 Id\n        var name = this.get('name'); // 组件的名称\n        return id + \"-\" + name + \"-\" + localId;\n    };\n    GroupComponent.prototype.registerElement = function (element) {\n        var id = element.get('id');\n        this.get('shapesMap')[id] = element;\n    };\n    GroupComponent.prototype.unregisterElement = function (element) {\n        var id = element.get('id');\n        delete this.get('shapesMap')[id];\n    };\n    // 移动元素\n    GroupComponent.prototype.moveElementTo = function (element, point) {\n        var matrix = getMatrixByTranslate(point);\n        element.attr('matrix', matrix);\n    };\n    /**\n     * 图形元素新出现时的动画，默认图形从透明度 0 到当前透明度\n     * @protected\n     * @param {string} elmentName 图形元素名称\n     * @param {IElement} newElement  新的图形元素\n     * @param {object} animateCfg 动画的配置项\n     */\n    GroupComponent.prototype.addAnimation = function (elmentName, newElement, animateCfg) {\n        // 缓存透明度\n        var originOpacity = newElement.attr('opacity');\n        if (isNil(originOpacity)) {\n            originOpacity = 1;\n        }\n        newElement.attr('opacity', 0);\n        newElement.animate({ opacity: originOpacity }, animateCfg);\n    };\n    /**\n     * 图形元素新出现时的动画，默认图形从透明度 0 到当前透明度\n     * @protected\n     * @param {string} elmentName 图形元素名称\n     * @param {IElement} originElement 要删除的图形元素\n     * @param {object} animateCfg 动画的配置项\n     */\n    GroupComponent.prototype.removeAnimation = function (elementName, originElement, animateCfg) {\n        originElement.animate({ opacity: 0 }, animateCfg);\n    };\n    /**\n     * 图形元素的更新动画\n     * @param {string} elmentName 图形元素名称\n     * @param {IElement} originElement 现有的图形元素\n     * @param {object} newAttrs  新的图形元素\n     * @param {object} animateCfg 动画的配置项\n     */\n    GroupComponent.prototype.updateAnimation = function (elementName, originElement, newAttrs, animateCfg) {\n        originElement.animate(newAttrs, animateCfg);\n    };\n    // 更新组件的图形\n    GroupComponent.prototype.updateElements = function (newGroup, originGroup) {\n        var _this = this;\n        var animate = this.get('animate');\n        var animateOption = this.get('animateOption');\n        var children = newGroup.getChildren().slice(0); // 创建一个新数组，防止添加到 originGroup 时， children 变动\n        var preElement; // 前面已经匹配到的图形元素，用于\n        each(children, function (element) {\n            var elementId = element.get('id');\n            var originElement = _this.getElementById(elementId);\n            var elementName = element.get('name');\n            if (originElement) {\n                if (element.get('isComponent')) {\n                    // 嵌套子组件更新\n                    var childComponent = element.get('component');\n                    var origChildComponent = originElement.get('component');\n                    var newCfg = pick(childComponent.cfg, difference(keys(childComponent.cfg), COPY_PROPERTIES_EXCLUDES));\n                    origChildComponent.update(newCfg);\n                    originElement.set(STATUS_UPDATE, 'update');\n                }\n                else {\n                    var replaceAttrs = _this.getReplaceAttrs(originElement, element);\n                    // 更新\n                    if (animate && animateOption.update) {\n                        // 没有动画\n                        _this.updateAnimation(elementName, originElement, replaceAttrs, animateOption.update);\n                    }\n                    else {\n                        // originElement.attrs = replaceAttrs; // 直接替换\n                        originElement.attr(replaceAttrs);\n                    }\n                    // 如果是分组，则继续执行\n                    if (element.isGroup()) {\n                        _this.updateElements(element, originElement);\n                    }\n                    // 复制属性\n                    each(COPY_PROPERTIES, function (name) {\n                        originElement.set(name, element.get(name));\n                    });\n                    updateClip(originElement, element);\n                    preElement = originElement;\n                    // 执行完更新后设置状态位为更新\n                    originElement.set(STATUS_UPDATE, 'update');\n                }\n            }\n            else {\n                // 没有对应的图形，则插入当前图形\n                originGroup.add(element); // 应该在 group 加个 insertAt 的方法\n                var siblings = originGroup.getChildren(); // 兄弟节点\n                siblings.splice(siblings.length - 1, 1); // 先从数组中移除，然后放到合适的位置\n                if (preElement) {\n                    // 前面已经有更新的图形或者插入的图形，则在这个图形后面插入\n                    var index = siblings.indexOf(preElement);\n                    siblings.splice(index + 1, 0, element); // 在已经更新的图形元素后面插入\n                }\n                else {\n                    siblings.unshift(element);\n                }\n                _this.registerElement(element); // 注册节点\n                element.set(STATUS_UPDATE, 'add'); // 执行完更新后设置状态位为添加\n                if (element.get('isComponent')) {\n                    // 直接新增子组件container属性，实例不变\n                    var childComponent = element.get('component');\n                    childComponent.set('container', originGroup);\n                }\n                else if (element.isGroup()) {\n                    // 如果元素是新增加的元素，则遍历注册所有的子节点\n                    _this.registerNewGroup(element);\n                }\n                preElement = element;\n                if (animate) {\n                    var animateCfg = _this.get('isInit') ? animateOption.appear : animateOption.enter;\n                    if (animateCfg) {\n                        _this.addAnimation(elementName, element, animateCfg);\n                    }\n                }\n            }\n        });\n    };\n    GroupComponent.prototype.clearUpdateStatus = function (group) {\n        var children = group.getChildren();\n        each(children, function (el) {\n            el.set(STATUS_UPDATE, null); // 清理掉更新状态\n        });\n    };\n    // 清理离屏缓存\n    GroupComponent.prototype.clearOffScreenCache = function () {\n        var offScreenGroup = this.get('offScreenGroup');\n        if (offScreenGroup) {\n            // 销毁原先的离线 Group\n            offScreenGroup.destroy();\n        }\n        this.set('offScreenGroup', null);\n        this.set('offScreenBBox', null);\n    };\n    // private updateInner() {\n    //   const group = this.get('group');\n    //   const newGroup = this.createOffScreenGroup();\n    //   this.renderInner(newGroup);\n    //   this.applyOffset();\n    //   this.updateElements(newGroup, group);\n    //   this.deleteElements();\n    //   newGroup.destroy(); // 销毁虚拟分组\n    // }\n    // 获取发生委托时的对象，在事件中抛出\n    GroupComponent.prototype.getDelegateObject = function () {\n        var _a;\n        var name = this.get('name');\n        var delegateObject = (_a = {},\n            _a[name] = this,\n            _a.component = this,\n            _a);\n        return delegateObject;\n    };\n    // 附加委托信息，用于事件\n    GroupComponent.prototype.appendDelegateObject = function (parent, cfg) {\n        var parentObject = parent.get('delegateObject');\n        if (!cfg.delegateObject) {\n            cfg.delegateObject = {};\n        }\n        mix(cfg.delegateObject, parentObject); // 将父元素上的委托信息复制到自身\n    };\n    // 获取需要替换的属性，如果原先图形元素存在，而新图形不存在，则设置 undefined\n    GroupComponent.prototype.getReplaceAttrs = function (originElement, newElement) {\n        var originAttrs = originElement.attr();\n        var newAttrs = newElement.attr();\n        each(originAttrs, function (v, k) {\n            if (newAttrs[k] === undefined) {\n                newAttrs[k] = undefined;\n            }\n        });\n        return newAttrs;\n    };\n    GroupComponent.prototype.registerNewGroup = function (group) {\n        var _this = this;\n        var children = group.getChildren();\n        each(children, function (element) {\n            _this.registerElement(element); // 注册节点\n            element.set(STATUS_UPDATE, 'add'); // 执行完更新后设置状态位为添加\n            if (element.isGroup()) {\n                _this.registerNewGroup(element);\n            }\n        });\n    };\n    // 移除多余的元素\n    GroupComponent.prototype.deleteElements = function () {\n        var _this = this;\n        var shapesMap = this.get('shapesMap');\n        var deleteArray = [];\n        // 遍历获取需要删除的图形元素\n        each(shapesMap, function (element, id) {\n            if (!element.get(STATUS_UPDATE) || element.destroyed) {\n                deleteArray.push([id, element]);\n            }\n            else {\n                element.set(STATUS_UPDATE, null); // 清理掉更新状态\n            }\n        });\n        var animate = this.get('animate');\n        var animateOption = this.get('animateOption');\n        // 删除图形元素\n        each(deleteArray, function (item) {\n            var id = item[0], element = item[1];\n            if (!element.destroyed) {\n                var elementName = element.get('name');\n                if (animate && animateOption.leave) {\n                    // 需要动画结束时移除图形\n                    var callbackAnimCfg = mix({\n                        callback: function () {\n                            _this.removeElement(element);\n                        },\n                    }, animateOption.leave);\n                    _this.removeAnimation(elementName, element, callbackAnimCfg);\n                }\n                else {\n                    _this.removeElement(element);\n                }\n            }\n            delete shapesMap[id]; // 从缓存中移除\n        });\n    };\n    GroupComponent.prototype.removeElement = function (element) {\n        if (element.get('isGroup')) {\n            var component = element.get('component');\n            if (component) {\n                component.destroy();\n            }\n        }\n        element.remove();\n    };\n    return GroupComponent;\n}(Component));\nexport default GroupComponent;\n//# sourceMappingURL=group-component.js.map","import GraphEvent from '@antv/g-base/lib/event/graph-event';\n/**\n *\n * @param group 分组\n * @param eventName 事件名\n * @param eventObject 事件对象\n */\nexport function propagationDelegate(group, eventName, eventObject) {\n    var event = new GraphEvent(eventName, eventObject);\n    event.target = group;\n    event.propagationPath.push(group); // 从当前 group 开始触发 delegation\n    group.emitDelegation(eventName, event);\n    var parent = group.getParent();\n    // 执行冒泡\n    while (parent) {\n        // 委托事件要先触发\n        parent.emitDelegation(eventName, event);\n        event.propagationPath.push(parent);\n        parent = parent.getParent();\n    }\n}\n//# sourceMappingURL=event.js.map","var ELLIPSIS_CODE = '\\u2026';\n/** 获取字符串长度 */\nexport function strLen(str) {\n    var len = 0;\n    for (var i = 0; i < str.length; i++) {\n        len += charAtLength(str, i);\n    }\n    return len;\n}\n/** 是否属于ASCII编码范畴 */\nexport function charAtLength(str, i) {\n    if (str.charCodeAt(i) > 0 && str.charCodeAt(i) < 128) {\n        return 1;\n    }\n    else {\n        return 2;\n    }\n}\n/** 文本省略 */\nexport function ellipsisString(str, reseveLength, position) {\n    if (position === void 0) { position = 'tail'; }\n    var count = str.length;\n    var rst = '';\n    if (position === 'tail') {\n        for (var i = 0, index = 0; i < reseveLength;) {\n            var charLength = charAtLength(str, index);\n            if (i + charLength <= reseveLength) {\n                rst += str[index];\n                i += charAtLength(str, index);\n                index++;\n            }\n            else {\n                break;\n            }\n        }\n        rst += ELLIPSIS_CODE;\n    }\n    else if (position === 'head') {\n        for (var i = 0, index = count - 1; i < reseveLength;) {\n            var charLength = charAtLength(str, index);\n            if (i + charLength <= reseveLength) {\n                rst += str[index];\n                i += charAtLength(str, index);\n                index--;\n            }\n            else {\n                break;\n            }\n        }\n        rst = ELLIPSIS_CODE + rst;\n    }\n    else {\n        var startStr = '';\n        var endStr = '';\n        for (var i = 0, startIndex = 0, endIndex = count - 1; i < reseveLength;) {\n            var startCodeLen = charAtLength(str, startIndex);\n            var hasAdd = false; // 设置标志位，防止头尾都没有附加字符\n            if (startCodeLen + i <= reseveLength) {\n                startStr += str[startIndex];\n                startIndex++;\n                i += startCodeLen;\n                hasAdd = true;\n            }\n            var endCodeLen = charAtLength(str, endIndex);\n            if (endCodeLen + i <= reseveLength) {\n                endStr = str[endIndex] + endStr;\n                i += endCodeLen;\n                endIndex--;\n                hasAdd = true;\n            }\n            if (!hasAdd) {\n                // 如果都没有增加字符，说明都不适合则中断\n                break;\n            }\n        }\n        rst = startStr + ELLIPSIS_CODE + endStr;\n    }\n    return rst;\n}\n//# sourceMappingURL=text.js.map","import { each } from '@antv/util';\nimport { ellipsisString, strLen } from './text';\nvar ELLIPSIS_CODE = '\\u2026';\nvar ELLIPSIS_CODE_LENGTH = 2; // 省略号的长度\n/** 获取最长的 label */\nexport function getMaxLabelWidth(labels) {\n    var max = 0;\n    each(labels, function (label) {\n        var bbox = label.getBBox();\n        var width = bbox.width;\n        if (max < width) {\n            max = width;\n        }\n    });\n    return max;\n}\n/** 获取label长度 */\nexport function getLabelLength(isVertical, label) {\n    var bbox = label.getCanvasBBox();\n    return isVertical ? bbox.width : bbox.height;\n}\n/* label长度是否超过约束值 */\nexport function testLabel(label, limitLength) {\n    return label.getBBox().width < limitLength;\n}\n/** 处理 text shape 的自动省略 */\nexport function ellipsisLabel(isVertical, label, limitLength, position) {\n    if (position === void 0) { position = 'tail'; }\n    var text = label.attr('text');\n    var labelLength = getLabelLength(isVertical, label);\n    var codeLength = strLen(text);\n    var ellipsised = false;\n    if (limitLength < labelLength) {\n        var reseveLength = Math.floor((limitLength / labelLength) * codeLength) - ELLIPSIS_CODE_LENGTH; // 计算出来的应该保存的长度\n        var newText = void 0;\n        if (reseveLength >= 0) {\n            newText = ellipsisString(text, reseveLength, position);\n        }\n        else {\n            newText = ELLIPSIS_CODE;\n        }\n        if (newText) {\n            label.attr('text', newText);\n            ellipsised = true;\n        }\n    }\n    if (ellipsised) {\n        label.set('tip', text);\n    }\n    else {\n        label.set('tip', null);\n    }\n    return ellipsised;\n}\n//# sourceMappingURL=label.js.map","import { __assign } from \"tslib\";\nimport { get } from '@antv/util';\nimport { ellipsisLabel } from './label';\nimport { applyRotate, applyTranslate } from './matrix';\nimport { formatPadding } from './util';\nexport function renderTag(container, tagCfg) {\n    var x = tagCfg.x, y = tagCfg.y, content = tagCfg.content, style = tagCfg.style, id = tagCfg.id, name = tagCfg.name, rotate = tagCfg.rotate, maxLength = tagCfg.maxLength, autoEllipsis = tagCfg.autoEllipsis, isVertical = tagCfg.isVertical, ellipsisPosition = tagCfg.ellipsisPosition, background = tagCfg.background;\n    var tagGroup = container.addGroup({\n        id: id + \"-group\",\n        name: name + \"-group\",\n        attrs: {\n            x: x,\n            y: y,\n        }\n    });\n    // Text shape\n    var text = tagGroup.addShape({\n        type: 'text',\n        id: id,\n        name: name,\n        attrs: __assign({ x: 0, y: 0, text: content }, style),\n    });\n    // maxLength 应包含 background 中的 padding 值\n    var padding = formatPadding(get(background, 'padding', 0));\n    if (maxLength && autoEllipsis) {\n        var maxTextLength = maxLength - (padding[1] + padding[3]);\n        // 超出自动省略\n        ellipsisLabel(!isVertical, text, maxTextLength, ellipsisPosition);\n    }\n    if (background) {\n        // 渲染文本背景\n        var backgroundStyle = get(background, 'style', {});\n        var _a = text.getCanvasBBox(), minX = _a.minX, minY = _a.minY, width = _a.width, height = _a.height;\n        var tagBg = tagGroup.addShape('rect', {\n            id: id + \"-bg\",\n            name: id + \"-bg\",\n            attrs: __assign({ x: minX - padding[3], y: minY - padding[0], width: width + padding[1] + padding[3], height: height + padding[0] + padding[2] }, backgroundStyle),\n        });\n        tagBg.toBack();\n    }\n    applyTranslate(tagGroup, x, y);\n    applyRotate(tagGroup, rotate, x, y);\n}\n//# sourceMappingURL=graphic.js.map","export default {\n    fontFamily: \"\\n  \\\"-apple-system\\\", BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto,\\\"Helvetica Neue\\\",\\n  Helvetica, \\\"PingFang SC\\\", \\\"Hiragino Sans GB\\\", \\\"Microsoft YaHei\\\",\\n  SimSun, \\\"sans-serif\\\"\",\n    textColor: '#2C3542',\n    activeTextColor: '#333333',\n    uncheckedColor: '#D8D8D8',\n    lineColor: '#416180',\n    regionColor: '#CCD7EB',\n    verticalAxisRotate: -Math.PI / 4,\n    horizontalAxisRotate: Math.PI / 4,\n};\n//# sourceMappingURL=theme.js.map","import { __assign, __extends } from \"tslib\";\nimport { isNumber, isString } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport { renderTag } from '../util/graphic';\nimport Theme from '../util/theme';\nimport { getValueByPercent } from '../util/util';\nvar LineAnnotation = /** @class */ (function (_super) {\n    __extends(LineAnnotation, _super);\n    function LineAnnotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @protected\n     * 默认的配置项\n     * @returns {object} 默认的配置项\n     */\n    LineAnnotation.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'annotation', type: 'line', locationType: 'region', start: null, end: null, style: {}, text: null, defaultCfg: {\n                style: {\n                    fill: Theme.textColor,\n                    fontSize: 12,\n                    textAlign: 'center',\n                    textBaseline: 'bottom',\n                    fontFamily: Theme.fontFamily,\n                },\n                text: {\n                    position: 'center',\n                    autoRotate: true,\n                    content: null,\n                    offsetX: 0,\n                    offsetY: 0,\n                    style: {\n                        stroke: Theme.lineColor,\n                        lineWidth: 1,\n                    },\n                },\n            } });\n    };\n    LineAnnotation.prototype.renderInner = function (group) {\n        this.renderLine(group);\n        if (this.get('text')) {\n            this.renderLabel(group);\n        }\n    };\n    // 绘制线\n    LineAnnotation.prototype.renderLine = function (group) {\n        var start = this.get('start');\n        var end = this.get('end');\n        var style = this.get('style');\n        this.addShape(group, {\n            type: 'line',\n            id: this.getElementId('line'),\n            name: 'annotation-line',\n            attrs: __assign({ x1: start.x, y1: start.y, x2: end.x, y2: end.y }, style),\n        });\n    };\n    // 获取 label 的位置\n    LineAnnotation.prototype.getLabelPoint = function (start, end, position) {\n        var percent;\n        if (position === 'start') {\n            percent = 0;\n        }\n        else if (position === 'center') {\n            percent = 0.5;\n        }\n        else if (isString(position) && position.indexOf('%') !== -1) {\n            percent = parseInt(position, 10) / 100;\n        }\n        else if (isNumber(position)) {\n            percent = position;\n        }\n        else {\n            percent = 1;\n        }\n        if (percent > 1 || percent < 0) {\n            percent = 1;\n        }\n        return {\n            x: getValueByPercent(start.x, end.x, percent),\n            y: getValueByPercent(start.y, end.y, percent),\n        };\n    };\n    // 绘制 label\n    LineAnnotation.prototype.renderLabel = function (group) {\n        var text = this.get('text');\n        var start = this.get('start');\n        var end = this.get('end');\n        var position = text.position, content = text.content, style = text.style, offsetX = text.offsetX, offsetY = text.offsetY, autoRotate = text.autoRotate, maxLength = text.maxLength, autoEllipsis = text.autoEllipsis, ellipsisPosition = text.ellipsisPosition, background = text.background, _a = text.isVertical, isVertical = _a === void 0 ? false : _a;\n        var point = this.getLabelPoint(start, end, position);\n        var x = point.x + offsetX;\n        var y = point.y + offsetY;\n        var cfg = {\n            id: this.getElementId('line-text'),\n            name: 'annotation-line-text',\n            x: x,\n            y: y,\n            content: content,\n            style: style,\n            maxLength: maxLength,\n            autoEllipsis: autoEllipsis,\n            ellipsisPosition: ellipsisPosition,\n            background: background,\n            isVertical: isVertical,\n        };\n        // 如果自动旋转\n        if (autoRotate) {\n            var vector = [end.x - start.x, end.y - start.y];\n            cfg.rotate = Math.atan2(vector[1], vector[0]);\n        }\n        renderTag(group, cfg);\n    };\n    return LineAnnotation;\n}(GroupComponent));\nexport default LineAnnotation;\n//# sourceMappingURL=line.js.map","import { __assign, __extends } from \"tslib\";\nimport GroupComponent from '../abstract/group-component';\nimport { renderTag } from '../util/graphic';\nimport { applyRotate, applyTranslate } from '../util/matrix';\nimport Theme from '../util/theme';\nvar TextAnnotation = /** @class */ (function (_super) {\n    __extends(TextAnnotation, _super);\n    function TextAnnotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @protected\n     * 默认的配置项\n     * @returns {object} 默认的配置项\n     */\n    TextAnnotation.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'annotation', type: 'text', locationType: 'point', x: 0, y: 0, content: '', rotate: null, style: {}, background: null, maxLength: null, autoEllipsis: true, isVertical: false, ellipsisPosition: 'tail', defaultCfg: {\n                style: {\n                    fill: Theme.textColor,\n                    fontSize: 12,\n                    textAlign: 'center',\n                    textBaseline: 'middle',\n                    fontFamily: Theme.fontFamily,\n                },\n            } });\n    };\n    // 复写 setLocation 方法，不需要重新创建 text\n    TextAnnotation.prototype.setLocation = function (location) {\n        this.set('x', location.x);\n        this.set('y', location.y);\n        this.resetLocation();\n    };\n    TextAnnotation.prototype.renderInner = function (group) {\n        var _a = this.getLocation(), x = _a.x, y = _a.y;\n        var content = this.get('content');\n        var style = this.get('style');\n        var id = this.getElementId('text');\n        var name = this.get('name') + \"-text\";\n        var maxLength = this.get('maxLength');\n        var autoEllipsis = this.get('autoEllipsis');\n        var isVertical = this.get('isVertical');\n        var ellipsisPosition = this.get('ellipsisPosition');\n        var background = this.get('background');\n        var rotate = this.get('rotate');\n        var cfg = {\n            id: id,\n            name: name,\n            x: x,\n            y: y,\n            content: content,\n            style: style,\n            maxLength: maxLength,\n            autoEllipsis: autoEllipsis,\n            isVertical: isVertical,\n            ellipsisPosition: ellipsisPosition,\n            background: background,\n            rotate: rotate,\n        };\n        renderTag(group, cfg);\n    };\n    TextAnnotation.prototype.resetLocation = function () {\n        var textGroup = this.getElementByLocalId('text-group');\n        if (textGroup) {\n            var _a = this.getLocation(), x = _a.x, y = _a.y;\n            var rotate = this.get('rotate');\n            applyTranslate(textGroup, x, y);\n            applyRotate(textGroup, rotate, x, y);\n        }\n    };\n    return TextAnnotation;\n}(GroupComponent));\nexport default TextAnnotation;\n//# sourceMappingURL=text.js.map","import { __assign, __extends } from \"tslib\";\nimport GroupComponent from '../abstract/group-component';\nimport { getCirclePoint } from '../util/util';\nvar ArcAnnotation = /** @class */ (function (_super) {\n    __extends(ArcAnnotation, _super);\n    function ArcAnnotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @protected\n     * 默认的配置项\n     * @returns {object} 默认的配置项\n     */\n    ArcAnnotation.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'annotation', type: 'arc', locationType: 'circle', center: null, radius: 100, startAngle: -Math.PI / 2, endAngle: (Math.PI * 3) / 2, style: {\n                stroke: '#999',\n                lineWidth: 1,\n            } });\n    };\n    ArcAnnotation.prototype.renderInner = function (group) {\n        this.renderArc(group);\n    };\n    ArcAnnotation.prototype.getArcPath = function () {\n        var _a = this.getLocation(), center = _a.center, radius = _a.radius, startAngle = _a.startAngle, endAngle = _a.endAngle;\n        var startPoint = getCirclePoint(center, radius, startAngle);\n        var endPoint = getCirclePoint(center, radius, endAngle);\n        var largeFlag = endAngle - startAngle > Math.PI ? 1 : 0;\n        var path = [['M', startPoint.x, startPoint.y]];\n        if (endAngle - startAngle === Math.PI * 2) {\n            // 整个圆是分割成两个圆\n            var middlePoint = getCirclePoint(center, radius, startAngle + Math.PI);\n            path.push(['A', radius, radius, 0, largeFlag, 1, middlePoint.x, middlePoint.y]);\n            path.push(['A', radius, radius, 0, largeFlag, 1, endPoint.x, endPoint.y]);\n        }\n        else {\n            path.push(['A', radius, radius, 0, largeFlag, 1, endPoint.x, endPoint.y]);\n        }\n        return path;\n    };\n    // 绘制 arc\n    ArcAnnotation.prototype.renderArc = function (group) {\n        // 也可以 通过 get('center') 类似的方式逐个获取\n        var path = this.getArcPath();\n        var style = this.get('style');\n        this.addShape(group, {\n            type: 'path',\n            id: this.getElementId('arc'),\n            name: 'annotation-arc',\n            attrs: __assign({ path: path }, style),\n        });\n    };\n    return ArcAnnotation;\n}(GroupComponent));\nexport default ArcAnnotation;\n//# sourceMappingURL=arc.js.map","import { __assign, __extends } from \"tslib\";\nimport GroupComponent from '../abstract/group-component';\nimport Theme from '../util/theme';\nimport { regionToBBox } from '../util/util';\nvar RegionAnnotation = /** @class */ (function (_super) {\n    __extends(RegionAnnotation, _super);\n    function RegionAnnotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @protected\n     * 默认的配置项\n     * @returns {object} 默认的配置项\n     */\n    RegionAnnotation.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'annotation', type: 'region', locationType: 'region', start: null, end: null, style: {}, defaultCfg: {\n                style: {\n                    lineWidth: 0,\n                    fill: Theme.regionColor,\n                    opacity: 0.4,\n                },\n            } });\n    };\n    RegionAnnotation.prototype.renderInner = function (group) {\n        this.renderRegion(group);\n    };\n    RegionAnnotation.prototype.renderRegion = function (group) {\n        var start = this.get('start');\n        var end = this.get('end');\n        var style = this.get('style');\n        var bbox = regionToBBox({ start: start, end: end });\n        this.addShape(group, {\n            type: 'rect',\n            id: this.getElementId('region'),\n            name: 'annotation-region',\n            attrs: __assign({ x: bbox.x, y: bbox.y, width: bbox.width, height: bbox.height }, style),\n        });\n    };\n    return RegionAnnotation;\n}(GroupComponent));\nexport default RegionAnnotation;\n//# sourceMappingURL=region.js.map","import { __assign, __extends } from \"tslib\";\nimport GroupComponent from '../abstract/group-component';\nimport { regionToBBox } from '../util/util';\nvar ImageAnnotation = /** @class */ (function (_super) {\n    __extends(ImageAnnotation, _super);\n    function ImageAnnotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @protected\n     * 默认的配置项\n     * @returns {object} 默认的配置项\n     */\n    ImageAnnotation.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'annotation', type: 'image', locationType: 'region', start: null, end: null, src: null, style: {} });\n    };\n    ImageAnnotation.prototype.renderInner = function (group) {\n        this.renderImage(group);\n    };\n    ImageAnnotation.prototype.getImageAttrs = function () {\n        var start = this.get('start');\n        var end = this.get('end');\n        var style = this.get('style');\n        var bbox = regionToBBox({ start: start, end: end });\n        var src = this.get('src');\n        return __assign({ x: bbox.x, y: bbox.y, img: src, width: bbox.width, height: bbox.height }, style);\n    };\n    // 绘制图片\n    ImageAnnotation.prototype.renderImage = function (group) {\n        this.addShape(group, {\n            type: 'image',\n            id: this.getElementId('image'),\n            name: 'annotation-image',\n            attrs: this.getImageAttrs(),\n        });\n    };\n    return ImageAnnotation;\n}(GroupComponent));\nexport default ImageAnnotation;\n//# sourceMappingURL=image.js.map","import { __assign, __extends, __rest } from \"tslib\";\nimport { get } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport { renderTag } from '../util/graphic';\nimport { applyTranslate } from '../util/matrix';\nimport Theme from '../util/theme';\nvar DataMarkerAnnotation = /** @class */ (function (_super) {\n    __extends(DataMarkerAnnotation, _super);\n    function DataMarkerAnnotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * 默认的配置项\n     * @returns {object} 默认的配置项\n     */\n    DataMarkerAnnotation.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'annotation', type: 'dataMarker', locationType: 'point', x: 0, y: 0, point: {}, line: {}, text: {}, direction: 'upward', autoAdjust: true, coordinateBBox: null, defaultCfg: {\n                point: {\n                    display: true,\n                    style: {\n                        r: 3,\n                        fill: '#FFFFFF',\n                        stroke: '#1890FF',\n                        lineWidth: 2,\n                    },\n                },\n                line: {\n                    display: true,\n                    length: 20,\n                    style: {\n                        stroke: Theme.lineColor,\n                        lineWidth: 1,\n                    },\n                },\n                text: {\n                    content: '',\n                    display: true,\n                    style: {\n                        fill: Theme.textColor,\n                        opacity: 0.65,\n                        fontSize: 12,\n                        textAlign: 'start',\n                        fontFamily: Theme.fontFamily,\n                    },\n                },\n            } });\n    };\n    DataMarkerAnnotation.prototype.renderInner = function (group) {\n        if (get(this.get('line'), 'display')) {\n            this.renderLine(group);\n        }\n        if (get(this.get('text'), 'display')) {\n            this.renderText(group);\n        }\n        if (get(this.get('point'), 'display')) {\n            this.renderPoint(group);\n        }\n        if (this.get('autoAdjust')) {\n            this.autoAdjust(group);\n        }\n    };\n    DataMarkerAnnotation.prototype.applyOffset = function () {\n        this.moveElementTo(this.get('group'), {\n            x: this.get('x') + this.get('offsetX'),\n            y: this.get('y') + this.get('offsetY'),\n        });\n    };\n    DataMarkerAnnotation.prototype.renderPoint = function (group) {\n        var point = this.getShapeAttrs().point;\n        this.addShape(group, {\n            type: 'circle',\n            id: this.getElementId('point'),\n            name: 'annotation-point',\n            attrs: point,\n        });\n    };\n    DataMarkerAnnotation.prototype.renderLine = function (group) {\n        var line = this.getShapeAttrs().line;\n        this.addShape(group, {\n            type: 'path',\n            id: this.getElementId('line'),\n            name: 'annotation-line',\n            attrs: line,\n        });\n    };\n    DataMarkerAnnotation.prototype.renderText = function (group) {\n        var textAttrs = this.getShapeAttrs().text;\n        var x = textAttrs.x, y = textAttrs.y, text = textAttrs.text, style = __rest(textAttrs, [\"x\", \"y\", \"text\"]);\n        var _a = this.get('text'), background = _a.background, maxLength = _a.maxLength, autoEllipsis = _a.autoEllipsis, isVertival = _a.isVertival, ellipsisPosition = _a.ellipsisPosition;\n        var tagCfg = {\n            x: x,\n            y: y,\n            id: this.getElementId('text'),\n            name: 'annotation-text',\n            content: text,\n            style: style,\n            background: background,\n            maxLength: maxLength,\n            autoEllipsis: autoEllipsis,\n            isVertival: isVertival,\n            ellipsisPosition: ellipsisPosition,\n        };\n        renderTag(group, tagCfg);\n    };\n    DataMarkerAnnotation.prototype.autoAdjust = function (group) {\n        var direction = this.get('direction');\n        var x = this.get('x');\n        var y = this.get('y');\n        var lineLength = get(this.get('line'), 'length', 0);\n        var coordinateBBox = this.get('coordinateBBox');\n        var _a = group.getBBox(), minX = _a.minX, maxX = _a.maxX, minY = _a.minY, maxY = _a.maxY;\n        var textGroup = group.findById(this.getElementId('text-group'));\n        var textShape = group.findById(this.getElementId('text'));\n        var lineShape = group.findById(this.getElementId('line'));\n        if (!coordinateBBox) {\n            return;\n        }\n        if (textGroup) {\n            if (x + minX <= coordinateBBox.minX) {\n                // 左侧超出\n                var overflow = coordinateBBox.minX - (x + minX);\n                applyTranslate(textGroup, textGroup.attr('x') + overflow, textGroup.attr('y'));\n            }\n            if (x + maxX >= coordinateBBox.maxX) {\n                // 右侧超出\n                var overflow = x + maxX - coordinateBBox.maxX;\n                applyTranslate(textGroup, textGroup.attr('x') - overflow, textGroup.attr('y'));\n            }\n        }\n        if ((direction === 'upward' && y + minY <= coordinateBBox.minY) ||\n            (direction !== 'upward' && y + maxY >= coordinateBBox.maxY)) {\n            // 上方或者下方超出\n            var textBaseline = void 0;\n            var factor = void 0;\n            if (direction === 'upward' && y + minY <= coordinateBBox.minY) {\n                textBaseline = 'top';\n                factor = 1;\n            }\n            else {\n                textBaseline = 'bottom';\n                factor = -1;\n            }\n            textShape.attr('textBaseline', textBaseline);\n            if (lineShape) {\n                lineShape.attr('path', [\n                    ['M', 0, 0],\n                    ['L', 0, lineLength * factor],\n                ]);\n            }\n            applyTranslate(textGroup, textGroup.attr('x'), (lineLength + 2) * factor);\n        }\n    };\n    DataMarkerAnnotation.prototype.getShapeAttrs = function () {\n        var lineDisplay = get(this.get('line'), 'display');\n        var pointStyle = get(this.get('point'), 'style', {});\n        var lineStyle = get(this.get('line'), 'style', {});\n        var textStyle = get(this.get('text'), 'style', {});\n        var direction = this.get('direction');\n        var lineLength = lineDisplay ? get(this.get('line'), 'length', 0) : 0;\n        var factor = direction === 'upward' ? -1 : 1;\n        return {\n            point: __assign({ x: 0, y: 0 }, pointStyle),\n            line: __assign({ path: [\n                    ['M', 0, 0],\n                    ['L', 0, lineLength * factor],\n                ] }, lineStyle),\n            text: __assign({ x: 0, y: (lineLength + 2) * factor, text: get(this.get('text'), 'content', ''), textBaseline: direction === 'upward' ? 'bottom' : 'top' }, textStyle),\n        };\n    };\n    return DataMarkerAnnotation;\n}(GroupComponent));\nexport default DataMarkerAnnotation;\n//# sourceMappingURL=data-marker.js.map","import { __assign, __extends } from \"tslib\";\nimport { get } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport Theme from '../util/theme';\nimport { pointsToBBox } from '../util/util';\nimport { renderTag } from '../util/graphic';\nvar DataRegionAnnotation = /** @class */ (function (_super) {\n    __extends(DataRegionAnnotation, _super);\n    function DataRegionAnnotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * 默认的配置项\n     * @returns {object} 默认的配置项\n     */\n    DataRegionAnnotation.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'annotation', type: 'dataRegion', locationType: 'points', points: [], lineLength: 0, region: {}, text: {}, defaultCfg: {\n                region: {\n                    style: {\n                        lineWidth: 0,\n                        fill: Theme.regionColor,\n                        opacity: 0.4,\n                    },\n                },\n                text: {\n                    content: '',\n                    style: {\n                        textAlign: 'center',\n                        textBaseline: 'bottom',\n                        fontSize: 12,\n                        fill: Theme.textColor,\n                        fontFamily: Theme.fontFamily,\n                    },\n                },\n            } });\n    };\n    DataRegionAnnotation.prototype.renderInner = function (group) {\n        var regionStyle = get(this.get('region'), 'style', {});\n        var textStyle = get(this.get('text'), 'style', {});\n        var lineLength = this.get('lineLength') || 0;\n        var points = this.get('points');\n        if (!points.length) {\n            return;\n        }\n        var bbox = pointsToBBox(points);\n        // render region\n        var path = [];\n        path.push(['M', points[0].x, bbox.minY - lineLength]);\n        points.forEach(function (point) {\n            path.push(['L', point.x, point.y]);\n        });\n        path.push(['L', points[points.length - 1].x, points[points.length - 1].y - lineLength]);\n        this.addShape(group, {\n            type: 'path',\n            id: this.getElementId('region'),\n            name: 'annotation-region',\n            attrs: __assign({ path: path }, regionStyle),\n        });\n        // render text\n        var textCfg = __assign({ id: this.getElementId('text'), name: 'annotation-text', x: (bbox.minX + bbox.maxX) / 2, y: bbox.minY - lineLength }, this.get('text'));\n        renderTag(group, textCfg);\n    };\n    return DataRegionAnnotation;\n}(GroupComponent));\nexport default DataRegionAnnotation;\n//# sourceMappingURL=data-region.js.map","import { __assign, __extends } from \"tslib\";\nimport { clone, each } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport { regionToBBox } from '../util/util';\nvar RegionFilterAnnotation = /** @class */ (function (_super) {\n    __extends(RegionFilterAnnotation, _super);\n    function RegionFilterAnnotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * 默认的配置项\n     * @returns {object} 默认的配置项\n     */\n    RegionFilterAnnotation.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'annotation', type: 'regionFilter', locationType: 'region', start: null, end: null, color: null, shape: [] });\n    };\n    RegionFilterAnnotation.prototype.renderInner = function (group) {\n        var _this = this;\n        var start = this.get('start');\n        var end = this.get('end');\n        // 1. add region layer\n        var layer = this.addGroup(group, {\n            id: this.getElementId('region-filter'),\n            capture: false,\n        });\n        // 2. clone shape & color it\n        each(this.get('shapes'), function (shape, shapeIdx) {\n            var type = shape.get('type');\n            var attrs = clone(shape.attr());\n            _this.adjustShapeAttrs(attrs);\n            _this.addShape(layer, {\n                id: _this.getElementId(\"shape-\" + type + \"-\" + shapeIdx),\n                capture: false,\n                type: type,\n                attrs: attrs,\n            });\n        });\n        // 3. clip\n        var clipBBox = regionToBBox({ start: start, end: end });\n        layer.setClip({\n            type: 'rect',\n            attrs: {\n                x: clipBBox.minX,\n                y: clipBBox.minY,\n                width: clipBBox.width,\n                height: clipBBox.height,\n            },\n        });\n    };\n    RegionFilterAnnotation.prototype.adjustShapeAttrs = function (attr) {\n        var color = this.get('color');\n        if (attr.fill) {\n            attr.fill = attr.fillStyle = color;\n        }\n        attr.stroke = attr.strokeStyle = color;\n    };\n    return RegionFilterAnnotation;\n}(GroupComponent));\nexport default RegionFilterAnnotation;\n//# sourceMappingURL=region-filter.js.map","import { __assign, __extends } from \"tslib\";\nimport { isFunction, noop } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nvar ShapeAnnotation = /** @class */ (function (_super) {\n    __extends(ShapeAnnotation, _super);\n    function ShapeAnnotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ShapeAnnotation.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'annotation', type: 'shape', draw: noop });\n    };\n    ShapeAnnotation.prototype.renderInner = function (group) {\n        var render = this.get('render');\n        if (isFunction(render)) {\n            render(group);\n        }\n    };\n    return ShapeAnnotation;\n}(GroupComponent));\nexport default ShapeAnnotation;\n//# sourceMappingURL=shape.js.map","import { __assign, __extends } from \"tslib\";\nimport { createDom, modifyCSS } from '@antv/dom-util';\nimport { isNil, isString, deepMix, each, hasKey } from '@antv/util';\nimport { clearDom, createBBox, hasClass } from '../util/util';\nimport Component from './component';\nvar HtmlComponent = /** @class */ (function (_super) {\n    __extends(HtmlComponent, _super);\n    function HtmlComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    HtmlComponent.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { container: null, containerTpl: '<div></div>', updateAutoRender: true, containerClassName: '', parent: null });\n        return cfg;\n    };\n    HtmlComponent.prototype.getContainer = function () {\n        return this.get('container');\n    };\n    /**\n     * 显示组件\n     */\n    HtmlComponent.prototype.show = function () {\n        var container = this.get('container');\n        container.style.display = '';\n        this.set('visible', true);\n    };\n    /**\n     * 隐藏组件\n     */\n    HtmlComponent.prototype.hide = function () {\n        var container = this.get('container');\n        container.style.display = 'none';\n        this.set('visible', false);\n    };\n    /**\n     * 是否允许捕捉事件\n     * @param capture 事件捕捉\n     */\n    HtmlComponent.prototype.setCapture = function (capture) {\n        var container = this.getContainer();\n        var value = capture ? 'auto' : 'none';\n        container.style.pointerEvents = value;\n        this.set('capture', capture);\n    };\n    HtmlComponent.prototype.getBBox = function () {\n        var container = this.getContainer();\n        var x = parseFloat(container.style.left) || 0;\n        var y = parseFloat(container.style.top) || 0;\n        return createBBox(x, y, container.clientWidth, container.clientHeight);\n    };\n    HtmlComponent.prototype.clear = function () {\n        var container = this.get('container');\n        clearDom(container);\n    };\n    HtmlComponent.prototype.destroy = function () {\n        this.removeEvent();\n        this.removeDom();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * 复写 init，主要是初始化 DOM 和事件\n     */\n    HtmlComponent.prototype.init = function () {\n        _super.prototype.init.call(this);\n        this.initContainer();\n        this.initDom();\n        this.resetStyles(); // 初始化样式\n        this.applyStyles(); // 应用样式\n        this.initEvent();\n        this.initCapture();\n        this.initVisible();\n    };\n    HtmlComponent.prototype.initCapture = function () {\n        this.setCapture(this.get('capture'));\n    };\n    HtmlComponent.prototype.initVisible = function () {\n        if (!this.get('visible')) {\n            // 设置初始显示状态\n            this.hide();\n        }\n        else {\n            this.show();\n        }\n    };\n    HtmlComponent.prototype.initDom = function () {\n    };\n    HtmlComponent.prototype.initContainer = function () {\n        var container = this.get('container');\n        if (isNil(container)) {\n            // 未指定 container 则创建\n            container = this.createDom();\n            var parent_1 = this.get('parent');\n            if (isString(parent_1)) {\n                parent_1 = document.getElementById(parent_1);\n                this.set('parent', parent_1);\n            }\n            parent_1.appendChild(container);\n            this.set('container', container);\n        }\n        else if (isString(container)) {\n            // 用户传入的 id, 作为 container\n            container = document.getElementById(container);\n            this.set('container', container);\n        } // else container 是 DOM\n        if (!this.get('parent')) {\n            this.set('parent', container.parentNode);\n        }\n    };\n    // 样式需要进行合并，不能单纯的替换，否则使用非常不方便\n    HtmlComponent.prototype.resetStyles = function () {\n        var style = this.get('domStyles');\n        var defaultStyles = this.get('defaultStyles');\n        if (!style) {\n            style = defaultStyles;\n        }\n        else {\n            style = deepMix({}, defaultStyles, style);\n        }\n        this.set('domStyles', style);\n    };\n    // 应用所有的样式\n    HtmlComponent.prototype.applyStyles = function () {\n        var domStyles = this.get('domStyles');\n        if (!domStyles) {\n            return;\n        }\n        var container = this.getContainer();\n        this.applyChildrenStyles(container, domStyles);\n        var containerClassName = this.get('containerClassName');\n        if (containerClassName && hasClass(container, containerClassName)) {\n            var containerCss = domStyles[containerClassName];\n            modifyCSS(container, containerCss);\n        }\n    };\n    HtmlComponent.prototype.applyChildrenStyles = function (element, styles) {\n        each(styles, function (style, name) {\n            var elements = element.getElementsByClassName(name);\n            each(elements, function (el) {\n                modifyCSS(el, style);\n            });\n        });\n    };\n    // 应用到单个 DOM\n    HtmlComponent.prototype.applyStyle = function (cssName, dom) {\n        var domStyles = this.get('domStyles');\n        modifyCSS(dom, domStyles[cssName]);\n    };\n    /**\n     * @protected\n     */\n    HtmlComponent.prototype.createDom = function () {\n        var containerTpl = this.get('containerTpl');\n        return createDom(containerTpl);\n    };\n    /**\n     * @protected\n     * 初始化事件\n     */\n    HtmlComponent.prototype.initEvent = function () { };\n    /**\n     * @protected\n     * 清理 DOM\n     */\n    HtmlComponent.prototype.removeDom = function () {\n        var container = this.get('container');\n        // 节点不一定有parentNode\n        container && container.parentNode && container.parentNode.removeChild(container);\n    };\n    /**\n     * @protected\n     * 清理事件\n     */\n    HtmlComponent.prototype.removeEvent = function () { };\n    HtmlComponent.prototype.updateInner = function (cfg) {\n        // 更新样式\n        if (hasKey(cfg, 'domStyles')) {\n            this.resetStyles();\n            this.applyStyles();\n        }\n        // 只要属性发生变化，都调整一些位置\n        this.resetPosition();\n    };\n    HtmlComponent.prototype.resetPosition = function () { };\n    ;\n    return HtmlComponent;\n}(Component));\nexport default HtmlComponent;\n//# sourceMappingURL=html-component.js.map","import { __assign, __extends } from \"tslib\";\nimport { createDom, getOuterHeight, getOuterWidth, modifyCSS } from '@antv/dom-util';\nimport { isElement, isFunction, isString } from '@antv/util';\nimport HtmlComponent from '../abstract/html-component';\nimport { clearDom } from '../util/util';\nvar HtmlAnnotation = /** @class */ (function (_super) {\n    __extends(HtmlAnnotation, _super);\n    function HtmlAnnotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    HtmlAnnotation.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'annotation', type: 'html', locationType: 'point', x: 0, y: 0, containerTpl: \"<div class=\\\"g2-html-annotation\\\"></div>\", alignX: 'left', alignY: 'top', html: '', zIndex: 7 });\n    };\n    HtmlAnnotation.prototype.render = function () {\n        var container = this.getContainer();\n        var html = this.get('html');\n        clearDom(container);\n        var rst = isFunction(html) ? html(container) : html;\n        if (isElement(rst)) {\n            container.appendChild(rst);\n        }\n        else if (isString(rst)) {\n            container.appendChild(createDom(rst));\n        }\n        this.resetPosition();\n    };\n    HtmlAnnotation.prototype.resetPosition = function () {\n        var container = this.getContainer();\n        var _a = this.getLocation(), x = _a.x, y = _a.y;\n        var alignX = this.get('alignX');\n        var alignY = this.get('alignY');\n        var offsetX = this.get('offsetX');\n        var offsetY = this.get('offsetY');\n        var domWidth = getOuterWidth(container);\n        var domHeight = getOuterHeight(container);\n        var position = {\n            x: x,\n            y: y,\n        };\n        if (alignX === 'middle') {\n            position.x -= Math.round(domWidth / 2);\n        }\n        else if (alignX === 'right') {\n            position.x -= Math.round(domWidth);\n        }\n        if (alignY === 'middle') {\n            position.y -= Math.round(domHeight / 2);\n        }\n        else if (alignY === 'bottom') {\n            position.y -= Math.round(domHeight);\n        }\n        if (offsetX) {\n            position.x += offsetX;\n        }\n        if (offsetY) {\n            position.y += offsetY;\n        }\n        modifyCSS(container, {\n            position: 'absolute',\n            left: position.x + \"px\",\n            top: position.y + \"px\",\n            zIndex: this.get('zIndex'),\n        });\n    };\n    return HtmlAnnotation;\n}(HtmlComponent));\nexport default HtmlAnnotation;\n//# sourceMappingURL=html.js.map","import { each, mix } from '@antv/util';\n// 获取多个状态量的合并值\nexport function getStatesStyle(item, elementName, stateStyles) {\n    var styleName = elementName + \"Style\"; // activeStyle\n    var styles = null;\n    each(stateStyles, function (v, state) {\n        if (item[state] && v[styleName]) {\n            if (!styles) {\n                styles = {};\n            }\n            mix(styles, v[styleName]); // 合并样式\n        }\n    });\n    return styles;\n}\n//# sourceMappingURL=state.js.map","import { __assign, __extends } from \"tslib\";\nimport { ext } from '@antv/matrix-util';\nimport { each, filter, get, isFunction, isNil, isNumberEqual, mix } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport { getMatrixByAngle } from '../util/matrix';\nimport { getStatesStyle } from '../util/state';\nimport Theme from '../util/theme';\nvar AxisBase = /** @class */ (function (_super) {\n    __extends(AxisBase, _super);\n    function AxisBase() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AxisBase.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'axis', ticks: [], line: {}, tickLine: {}, subTickLine: null, title: null, \n            /**\n             * 文本标签的配置项\n             */\n            label: {}, \n            /**\n             * 垂直于坐标轴方向的因子，决定文本、title、tickLine 在坐标轴的哪一侧\n             */\n            verticalFactor: 1, \n            // 垂直方向限制的长度，对文本自适应有很大影响\n            verticalLimitLength: null, overlapOrder: ['autoRotate', 'autoEllipsis', 'autoHide'], tickStates: {}, defaultCfg: {\n                line: {\n                    // @type {Attrs} 坐标轴线的图形属性,如果设置成null，则不显示轴线\n                    style: {\n                        lineWidth: 1,\n                        stroke: Theme.lineColor,\n                    },\n                },\n                tickLine: {\n                    // @type {Attrs} 标注坐标线的图形属性\n                    style: {\n                        lineWidth: 1,\n                        stroke: Theme.lineColor,\n                    },\n                    alignTick: true,\n                    length: 5,\n                    displayWithLabel: true,\n                },\n                subTickLine: {\n                    // @type {Attrs} 标注坐标线的图形属性\n                    style: {\n                        lineWidth: 1,\n                        stroke: Theme.lineColor,\n                    },\n                    count: 4,\n                    length: 2,\n                },\n                label: {\n                    autoRotate: true,\n                    autoHide: false,\n                    autoEllipsis: false,\n                    style: {\n                        fontSize: 12,\n                        fill: Theme.textColor,\n                        fontFamily: Theme.fontFamily,\n                        fontWeight: 'normal',\n                    },\n                    offset: 10,\n                },\n                title: {\n                    autoRotate: true,\n                    spacing: 5,\n                    position: 'center',\n                    style: {\n                        fontSize: 12,\n                        fill: Theme.textColor,\n                        textBaseline: 'middle',\n                        fontFamily: Theme.fontFamily,\n                        textAlign: 'center',\n                    },\n                },\n                tickStates: {\n                    active: {\n                        labelStyle: {\n                            fontWeight: 500,\n                        },\n                        tickLineStyle: {\n                            lineWidth: 2,\n                        },\n                    },\n                    inactive: {\n                        labelStyle: {\n                            fill: Theme.uncheckedColor,\n                        },\n                    },\n                },\n            }, theme: {} });\n    };\n    /**\n     * 绘制组件\n     */\n    AxisBase.prototype.renderInner = function (group) {\n        if (this.get('line')) {\n            this.drawLine(group);\n        }\n        // drawTicks 包括 drawLabels 和 drawTickLines\n        this.drawTicks(group);\n        if (this.get('title')) {\n            this.drawTitle(group);\n        }\n    };\n    // 实现 IList 接口\n    AxisBase.prototype.isList = function () {\n        return true;\n    };\n    /**\n     * 获取图例项\n     * @return {ListItem[]} 列表项集合\n     */\n    AxisBase.prototype.getItems = function () {\n        return this.get('ticks');\n    };\n    /**\n     * 设置列表项\n     * @param {ListItem[]} items 列表项集合\n     */\n    AxisBase.prototype.setItems = function (items) {\n        this.update({\n            ticks: items,\n        });\n    };\n    /**\n     * 更新列表项\n     * @param {ListItem} item 列表项\n     * @param {object}   cfg  列表项\n     */\n    AxisBase.prototype.updateItem = function (item, cfg) {\n        mix(item, cfg);\n        this.clear(); // 由于单个图例项变化，会引起全局变化，所以全部更新\n        this.render();\n    };\n    /**\n     * 清空列表\n     */\n    AxisBase.prototype.clearItems = function () {\n        var itemGroup = this.getElementByLocalId('label-group');\n        itemGroup && itemGroup.clear();\n    };\n    /**\n     * 设置列表项的状态\n     * @param {ListItem} item  列表项\n     * @param {string}   state 状态名\n     * @param {boolean}  value 状态值, true, false\n     */\n    AxisBase.prototype.setItemState = function (item, state, value) {\n        item[state] = value;\n        this.updateTickStates(item); // 应用状态样式\n    };\n    /**\n     * 是否存在指定的状态\n     * @param {ListItem} item  列表项\n     * @param {boolean} state 状态名\n     */\n    AxisBase.prototype.hasState = function (item, state) {\n        return !!item[state];\n    };\n    AxisBase.prototype.getItemStates = function (item) {\n        var tickStates = this.get('tickStates');\n        var rst = [];\n        each(tickStates, function (v, k) {\n            if (item[k]) {\n                // item.selected\n                rst.push(k);\n            }\n        });\n        return rst;\n    };\n    /**\n     * 清楚所有列表项的状态\n     * @param {string} state 状态值\n     */\n    AxisBase.prototype.clearItemsState = function (state) {\n        var _this = this;\n        var items = this.getItemsByState(state);\n        each(items, function (item) {\n            _this.setItemState(item, state, false);\n        });\n    };\n    /**\n     * 根据状态获取图例项\n     * @param  {string}     state [description]\n     * @return {ListItem[]}       [description]\n     */\n    AxisBase.prototype.getItemsByState = function (state) {\n        var _this = this;\n        var items = this.getItems();\n        return filter(items, function (item) {\n            return _this.hasState(item, state);\n        });\n    };\n    AxisBase.prototype.getSidePoint = function (point, offset) {\n        var self = this;\n        var vector = self.getSideVector(offset, point);\n        return {\n            x: point.x + vector[0],\n            y: point.y + vector[1],\n        };\n    };\n    AxisBase.prototype.getTextAnchor = function (vector) {\n        var align;\n        if (isNumberEqual(vector[0], 0)) {\n            align = 'center';\n        }\n        else if (vector[0] > 0) {\n            align = 'start';\n        }\n        else if (vector[0] < 0) {\n            align = 'end';\n        }\n        return align;\n    };\n    AxisBase.prototype.getTextBaseline = function (vector) {\n        var base;\n        if (isNumberEqual(vector[1], 0)) {\n            base = 'middle';\n        }\n        else if (vector[1] > 0) {\n            base = 'top';\n        }\n        else if (vector[1] < 0) {\n            base = 'bottom';\n        }\n        return base;\n    };\n    AxisBase.prototype.processOverlap = function (labelGroup) { };\n    // 绘制坐标轴线\n    AxisBase.prototype.drawLine = function (group) {\n        var path = this.getLinePath();\n        var line = this.get('line'); // line 的判空在调用 drawLine 之前，不在这里判定\n        this.addShape(group, {\n            type: 'path',\n            id: this.getElementId('line'),\n            name: 'axis-line',\n            attrs: mix({\n                path: path,\n            }, line.style),\n        });\n    };\n    AxisBase.prototype.getTickLineItems = function (ticks) {\n        var _this = this;\n        var tickLineItems = [];\n        var tickLine = this.get('tickLine');\n        var alignTick = tickLine.alignTick;\n        var tickLineLength = tickLine.length;\n        var tickSegment = 1;\n        var tickCount = ticks.length;\n        if (tickCount >= 2) {\n            tickSegment = ticks[1].value - ticks[0].value;\n        }\n        each(ticks, function (tick) {\n            var point = tick.point;\n            if (!alignTick) {\n                // tickLine 不同 tick 对齐时需要调整 point\n                point = _this.getTickPoint(tick.value - tickSegment / 2);\n            }\n            var endPoint = _this.getSidePoint(point, tickLineLength);\n            tickLineItems.push({\n                startPoint: point,\n                tickValue: tick.value,\n                endPoint: endPoint,\n                tickId: tick.id,\n                id: \"tickline-\" + tick.id,\n            });\n        });\n        // 如果 tickLine 不居中对齐，则需要在最后面补充一个 tickLine\n        // if (!alignTick && tickCount > 0) {\n        //   const tick = ticks[tickCount - 1];\n        //   const point = this.getTickPoint(tick.value + tickSegment / 2);\n        // }\n        return tickLineItems;\n    };\n    AxisBase.prototype.getSubTickLineItems = function (tickLineItems) {\n        var subTickLineItems = [];\n        var subTickLine = this.get('subTickLine');\n        var subCount = subTickLine.count;\n        var tickLineCount = tickLineItems.length;\n        // 刻度线的数量大于 2 时，才绘制子刻度\n        if (tickLineCount >= 2) {\n            for (var i = 0; i < tickLineCount - 1; i++) {\n                var pre = tickLineItems[i];\n                var next = tickLineItems[i + 1];\n                for (var j = 0; j < subCount; j++) {\n                    var percent = (j + 1) / (subCount + 1);\n                    var tickValue = (1 - percent) * pre.tickValue + percent * next.tickValue;\n                    var point = this.getTickPoint(tickValue);\n                    var endPoint = this.getSidePoint(point, subTickLine.length);\n                    subTickLineItems.push({\n                        startPoint: point,\n                        endPoint: endPoint,\n                        tickValue: tickValue,\n                        id: \"sub-\" + pre.id + \"-\" + j,\n                    });\n                }\n            }\n        }\n        return subTickLineItems;\n    };\n    AxisBase.prototype.getTickLineAttrs = function (tickItem, type, index, tickItems) {\n        var style = this.get(type).style;\n        // 保持和 grid 相同的数据结构\n        var item = {\n            points: [tickItem.startPoint, tickItem.endPoint],\n        };\n        var defaultTickLineStyle = get(this.get('theme'), ['tickLine', 'style'], {});\n        style = isFunction(style) ? mix({}, defaultTickLineStyle, style(item, index, tickItems)) : style;\n        var startPoint = tickItem.startPoint, endPoint = tickItem.endPoint;\n        return __assign({ x1: startPoint.x, y1: startPoint.y, x2: endPoint.x, y2: endPoint.y }, style);\n    };\n    // 绘制坐标轴刻度线\n    AxisBase.prototype.drawTick = function (tickItem, tickLineGroup, type, index, tickItems) {\n        this.addShape(tickLineGroup, {\n            type: 'line',\n            id: this.getElementId(tickItem.id),\n            name: \"axis-\" + type,\n            attrs: this.getTickLineAttrs(tickItem, type, index, tickItems),\n        });\n    };\n    // 绘制坐标轴刻度线，包括子刻度线\n    AxisBase.prototype.drawTickLines = function (group) {\n        var _this = this;\n        var ticks = this.get('ticks');\n        var subTickLine = this.get('subTickLine');\n        var tickLineItems = this.getTickLineItems(ticks);\n        var tickLineGroup = this.addGroup(group, {\n            name: 'axis-tickline-group',\n            id: this.getElementId('tickline-group'),\n        });\n        var tickCfg = this.get('tickLine');\n        each(tickLineItems, function (item, index) {\n            if (tickCfg.displayWithLabel) {\n                // 如果跟随 label 显示，则检测是否存在对应的 label\n                var labelId = _this.getElementId(\"label-\" + item.tickId);\n                if (group.findById(labelId)) {\n                    _this.drawTick(item, tickLineGroup, 'tickLine', index, tickLineItems);\n                }\n            }\n            else {\n                _this.drawTick(item, tickLineGroup, 'tickLine', index, tickLineItems);\n            }\n        });\n        if (subTickLine) {\n            var subTickLineItems_1 = this.getSubTickLineItems(tickLineItems);\n            each(subTickLineItems_1, function (item, index) {\n                _this.drawTick(item, tickLineGroup, 'subTickLine', index, subTickLineItems_1);\n            });\n        }\n    };\n    // 预处理 ticks 确定位置和补充 id\n    AxisBase.prototype.processTicks = function () {\n        var _this = this;\n        var ticks = this.get('ticks');\n        each(ticks, function (tick) {\n            tick.point = _this.getTickPoint(tick.value);\n            // 补充 tick 的 id，为动画和更新做准备\n            if (isNil(tick.id)) {\n                // 默认使用 tick.name 作为id\n                tick.id = tick.name;\n            }\n        });\n    };\n    // 绘制 ticks 包括文本和 tickLine\n    AxisBase.prototype.drawTicks = function (group) {\n        var _this = this;\n        this.processTicks();\n        if (this.get('label')) {\n            this.drawLabels(group);\n        }\n        if (this.get('tickLine')) {\n            this.drawTickLines(group);\n        }\n        var ticks = this.get('ticks');\n        each(ticks, function (tick) {\n            _this.applyTickStates(tick, group);\n        });\n    };\n    // 获取 label 的配置项\n    AxisBase.prototype.getLabelAttrs = function (tick, index, ticks) {\n        var labelCfg = this.get('label');\n        var offset = labelCfg.offset, rotate = labelCfg.rotate, formatter = labelCfg.formatter;\n        var point = this.getSidePoint(tick.point, offset);\n        var vector = this.getSideVector(offset, point);\n        var text = formatter ? formatter(tick.name, tick, index) : tick.name;\n        var style = labelCfg.style;\n        style = isFunction(style) ? get(this.get('theme'), ['label', 'style'], {}) : style;\n        var attrs = mix({\n            x: point.x,\n            y: point.y,\n            text: text,\n            textAlign: this.getTextAnchor(vector),\n            textBaseline: this.getTextBaseline(vector),\n        }, style);\n        if (rotate) {\n            attrs.matrix = getMatrixByAngle(point, rotate);\n        }\n        return attrs;\n    };\n    // 绘制文本\n    AxisBase.prototype.drawLabels = function (group) {\n        var _this = this;\n        var ticks = this.get('ticks');\n        var labelGroup = this.addGroup(group, {\n            name: 'axis-label-group',\n            id: this.getElementId('label-group'),\n        });\n        each(ticks, function (tick, index) {\n            _this.addShape(labelGroup, {\n                type: 'text',\n                name: 'axis-label',\n                id: _this.getElementId(\"label-\" + tick.id),\n                attrs: _this.getLabelAttrs(tick, index, ticks),\n                delegateObject: {\n                    tick: tick,\n                    item: tick,\n                    index: index,\n                },\n            });\n        });\n        this.processOverlap(labelGroup);\n        // 处理完后再进行 style 回调处理\n        var labels = labelGroup.getChildren();\n        var defaultLabelStyle = get(this.get('theme'), ['label', 'style'], {});\n        var _a = this.get('label'), style = _a.style, formatter = _a.formatter;\n        if (isFunction(style)) {\n            var afterProcessTicks_1 = labels.map(function (label) { return get(label.get('delegateObject'), 'tick'); });\n            each(labels, function (label, index) {\n                var tick = label.get('delegateObject').tick;\n                var text = formatter ? formatter(tick.name, tick, index) : tick.name;\n                var newStyle = mix({}, defaultLabelStyle, style(text, index, afterProcessTicks_1));\n                label.attr(newStyle);\n            });\n        }\n    };\n    // 标题的属性\n    AxisBase.prototype.getTitleAttrs = function () {\n        var titleCfg = this.get('title');\n        var style = titleCfg.style, position = titleCfg.position, offset = titleCfg.offset, _a = titleCfg.spacing, spacing = _a === void 0 ? 0 : _a, autoRotate = titleCfg.autoRotate;\n        var titleHeight = style.fontSize;\n        var percent = 0.5;\n        if (position === 'start') {\n            percent = 0;\n        }\n        else if (position === 'end') {\n            percent = 1;\n        }\n        var point = this.getTickPoint(percent); // 标题对应的坐标轴上的点\n        // 如果没有指定 titleOffset 也没有渲染 label，这里需要自动计算 offset\n        var titlePoint = this.getSidePoint(point, offset || spacing + titleHeight / 2); // 标题的点\n        var attrs = mix({\n            x: titlePoint.x,\n            y: titlePoint.y,\n            text: titleCfg.text,\n        }, style);\n        var rotate = titleCfg.rotate; // rotate 是角度值\n        var angle = rotate;\n        if (isNil(rotate) && autoRotate) {\n            // 用户没有设定旋转角度，同时设置自动旋转\n            var vector = this.getAxisVector(point);\n            var v1 = [1, 0]; // 水平方向的向量\n            angle = ext.angleTo(vector, v1, true);\n        }\n        if (angle) {\n            var matrix = getMatrixByAngle(titlePoint, angle);\n            attrs.matrix = matrix;\n        }\n        return attrs;\n    };\n    // 绘制标题\n    AxisBase.prototype.drawTitle = function (group) {\n        this.addShape(group, {\n            type: 'text',\n            id: this.getElementId('title'),\n            name: 'axis-title',\n            attrs: this.getTitleAttrs(),\n        });\n    };\n    AxisBase.prototype.applyTickStates = function (tick, group) {\n        var states = this.getItemStates(tick);\n        if (states.length) {\n            var tickStates = this.get('tickStates');\n            // 分别更新 label 和 tickLine\n            var labelId = this.getElementId(\"label-\" + tick.id);\n            var labelShape = group.findById(labelId);\n            if (labelShape) {\n                var labelStateStyle = getStatesStyle(tick, 'label', tickStates);\n                labelStateStyle && labelShape.attr(labelStateStyle);\n            }\n            var tickLineId = this.getElementId(\"tickline-\" + tick.id);\n            var tickLineShape = group.findById(tickLineId);\n            if (tickLineShape) {\n                var tickLineStateStyle = getStatesStyle(tick, 'tickLine', tickStates);\n                tickLineStateStyle && tickLineShape.attr(tickLineStateStyle);\n            }\n        }\n    };\n    AxisBase.prototype.updateTickStates = function (tick) {\n        var states = this.getItemStates(tick);\n        var tickStates = this.get('tickStates');\n        var labelCfg = this.get('label');\n        var labelShape = this.getElementByLocalId(\"label-\" + tick.id);\n        var tickLineCfg = this.get('tickLine');\n        var tickLineShape = this.getElementByLocalId(\"tickline-\" + tick.id);\n        if (states.length) {\n            if (labelShape) {\n                var labelStateStyle = getStatesStyle(tick, 'label', tickStates);\n                labelStateStyle && labelShape.attr(labelStateStyle);\n            }\n            if (tickLineShape) {\n                var tickLineStateStyle = getStatesStyle(tick, 'tickLine', tickStates);\n                tickLineStateStyle && tickLineShape.attr(tickLineStateStyle);\n            }\n        }\n        else {\n            if (labelShape) {\n                labelShape.attr(labelCfg.style);\n            }\n            if (tickLineShape) {\n                tickLineShape.attr(tickLineCfg.style);\n            }\n        }\n    };\n    return AxisBase;\n}(GroupComponent));\nexport default AxisBase;\n//# sourceMappingURL=base.js.map","import { each } from '@antv/util';\nimport { ellipsisLabel } from '../../util/label';\nfunction ellipseLabels(isVertical, labelGroup, limitLength, position) {\n    var children = labelGroup.getChildren();\n    var ellipsised = false;\n    each(children, function (label) {\n        var rst = ellipsisLabel(isVertical, label, limitLength, position);\n        ellipsised = ellipsised || rst;\n    });\n    return ellipsised;\n}\nexport function getDefault() {\n    return ellipsisTail;\n}\nexport function ellipsisHead(isVertical, labelGroup, limitLength) {\n    return ellipseLabels(isVertical, labelGroup, limitLength, 'head');\n}\nexport function ellipsisTail(isVertical, labelGroup, limitLength) {\n    return ellipseLabels(isVertical, labelGroup, limitLength, 'tail');\n}\nexport function ellipsisMiddle(isVertical, labelGroup, limitLength) {\n    return ellipseLabels(isVertical, labelGroup, limitLength, 'middle');\n}\n//# sourceMappingURL=auto-ellipsis.js.map","import { getMaxLabelWidth } from '../../util/label';\n// 文本是否旋转\nfunction isRotate(label) {\n    var matrix = label.attr('matrix');\n    return matrix && matrix[0] !== 1; // 仅在这个场景下判定\n}\n// autohide 不再考虑超出限制\n// function isOutLimit(isVertical: boolean, label: IElement, limitLength: number) {\n//   if (!limitLength) {\n//     // 如果没限制 limitLength 则直接返回 false\n//     return false;\n//   }\n//   const canvasBBox = label.getCanvasBBox();\n//   let isOut = false;\n//   if (isVertical) {\n//     isOut = canvasBBox.width > limitLength;\n//   } else {\n//     isOut = canvasBBox.height > limitLength;\n//   }\n//   return isOut;\n// }\n// 是否重叠\nfunction isOverlap(isVertical, rotated, preBox, curBox, reversed) {\n    if (reversed === void 0) { reversed = false; }\n    var overlap = false;\n    if (isVertical) {\n        // 垂直时检测边高\n        overlap = Math.abs(preBox.y - curBox.y) < preBox.height;\n    }\n    else {\n        // 水平时检测\n        if (rotated) {\n            // 如果旋转了，则检测两者 x 之间的间距是否小于前一个的高度\n            var height = reversed ? curBox.height : preBox.height;\n            overlap = Math.abs(preBox.x - curBox.x) < height;\n        }\n        else {\n            // 检测两者是否 x 方向重合\n            var width = reversed ? curBox.width : preBox.width;\n            overlap = Math.abs(preBox.x - curBox.x) < width;\n        }\n    }\n    return overlap;\n}\n// 保留第一个或者最后一个\nfunction reserveOne(isVertical, labelsGroup, reversed) {\n    var labels = labelsGroup.getChildren().slice(); // 复制数组\n    if (!labels.length) {\n        return false;\n    }\n    var hasHide = false;\n    if (reversed) {\n        // 翻转\n        labels.reverse();\n    }\n    var count = labels.length;\n    var first = labels[0];\n    var rotated = isRotate(first);\n    var preBox = first.getBBox();\n    for (var i = 1; i < count; i++) {\n        var label = labels[i];\n        var curBBox = label.getBBox();\n        // 不再考虑超出限制，而仅仅根据是否重叠进行隐藏 isOutLimit(isVertical, label, limitLength) ||\n        var isHide = isOverlap(isVertical, rotated, preBox, curBBox, reversed);\n        if (isHide) {\n            label.hide();\n            hasHide = true;\n        }\n        else {\n            preBox = curBBox;\n        }\n    }\n    return hasHide;\n}\nexport function getDefault() {\n    return equidistance;\n}\n/**\n * 保证首个 label 可见，即使超过 limitLength 也不隐藏\n * @param {boolean} isVertical  是否垂直\n * @param {IGroup}  labelsGroup label 的分组\n */\nexport function reserveFirst(isVertical, labelsGroup) {\n    return reserveOne(isVertical, labelsGroup, false);\n}\n/**\n * 保证最后一个 label 可见，即使超过 limitLength 也不隐藏\n * @param {boolean} isVertical  是否垂直\n * @param {IGroup}  labelsGroup label 的分组\n */\nexport function reserveLast(isVertical, labelsGroup) {\n    return reserveOne(isVertical, labelsGroup, true);\n}\n/**\n * 保证第一个最后一个 label 可见，即使超过 limitLength 也不隐藏\n * @param {boolean} isVertical  是否垂直\n * @param {IGroup}  labelsGroup label 的分组\n */\nexport function reserveBoth(isVertical, labelsGroup) {\n    var labels = labelsGroup.getChildren().slice(); // 复制数组\n    if (labels.length <= 2) {\n        // 如果数量小于或等于 2 则直接返回\n        return false;\n    }\n    var hasHide = false;\n    var count = labels.length;\n    var first = labels[0];\n    var last = labels[count - 1];\n    var rotated = isRotate(first);\n    var preBox = first.getBBox();\n    var preLabel = first;\n    // 按照先保存第一个的逻辑循环一遍，最后一个不参与循环\n    for (var i = 1; i < count - 1; i++) {\n        var label = labels[i];\n        var curBBox = label.getBBox();\n        // 废弃 isOutLimit(isVertical, label, limitLength) ||\n        var isHide = isOverlap(isVertical, rotated, preBox, curBBox);\n        if (isHide) {\n            label.hide();\n            hasHide = true;\n        }\n        else {\n            preBox = curBBox;\n            preLabel = label;\n        }\n    }\n    var lastBBox = last.getBBox();\n    var overlap = isOverlap(isVertical, rotated, preBox, lastBBox); // 不检测超出 limit\n    if (overlap) {\n        // 发生冲突，则隐藏前一个保留后一个\n        preLabel.hide();\n        hasHide = true;\n    }\n    return hasHide;\n}\n/**\n * 保证 label 均匀显示，主要解决文本层叠的问题，对于 limitLength 不处理\n * @param {boolean} isVertical  是否垂直\n * @param {IGroup}  labelsGroup label 的分组\n */\nexport function equidistance(isVertical, labelsGroup) {\n    var labels = labelsGroup.getChildren().slice(); // 复制数组\n    if (labels.length < 2) {\n        // 如果数量小于 2 则直接返回，等于 2 时可能也会重合\n        return false;\n    }\n    var hasHide = false;\n    var first = labels[0];\n    var firstBBox = first.getBBox();\n    var second = labels[1];\n    var rotated = isRotate(first);\n    var count = labels.length;\n    var interval = 0; // 不重叠的坐标文本间距个数\n    if (isVertical) {\n        // 垂直的坐标轴计算垂直方向的间距\n        var distance = Math.abs(second.attr('y') - first.attr('y'));\n        interval = firstBBox.height / distance;\n    }\n    else {\n        // 水平坐标轴\n        if (rotated) {\n            var distance = Math.abs(second.attr('x') - first.attr('x'));\n            interval = firstBBox.width / distance;\n        }\n        else {\n            var maxWidth = getMaxLabelWidth(labels);\n            var distance = Math.abs(second.attr('x') - first.attr('x'));\n            interval = maxWidth / distance;\n        }\n    }\n    // interval > 1 时需要对 label 进行隐藏\n    if (interval > 1) {\n        interval = Math.ceil(interval);\n        for (var i = 0; i < count; i++) {\n            if (i % interval !== 0) {\n                // 仅保留被整除的 label\n                labels[i].hide();\n                hasHide = true;\n            }\n        }\n    }\n    return hasHide;\n}\n//# sourceMappingURL=auto-hide.js.map","import { each } from '@antv/util';\nimport { getMaxLabelWidth } from '../../util/label';\nimport { getMatrixByAngle } from '../../util/matrix';\nimport Theme from '../../util/theme';\n// 统一设置文本的角度\nfunction setLabelsAngle(labels, angle) {\n    each(labels, function (label) {\n        var x = label.attr('x');\n        var y = label.attr('y');\n        var matrix = getMatrixByAngle({ x: x, y: y }, angle);\n        label.attr('matrix', matrix);\n    });\n}\n// 旋转文本\nfunction labelRotate(isVertical, labelsGroup, limitLength, getAngle) {\n    var labels = labelsGroup.getChildren();\n    if (!labels.length) {\n        return false;\n    }\n    if (!isVertical && labels.length < 2) {\n        // 水平时至少有两个时才旋转\n        return false;\n    }\n    var maxWidth = getMaxLabelWidth(labels);\n    var isOverlap = false;\n    if (isVertical) {\n        // limitLength 为 0 或者 null 时不生效\n        isOverlap = !!limitLength && maxWidth > limitLength;\n    }\n    else {\n        // 同 limitLength 无关\n        var tickWidth = Math.abs(labels[1].attr('x') - labels[0].attr('x'));\n        isOverlap = maxWidth > tickWidth;\n    }\n    if (isOverlap) {\n        var angle = getAngle(limitLength, maxWidth);\n        setLabelsAngle(labels, angle);\n    }\n    return isOverlap;\n}\nexport function getDefault() {\n    return fixedAngle;\n}\n/**\n * 固定角度旋转文本\n * @param  {boolean} isVertical  是否垂直方向\n * @param  {IGroup}  labelsGroup 文本的 group\n * @param  {number}  limitLength 限定长度\n * @return {boolean}             是否发生了旋转\n */\nexport function fixedAngle(isVertical, labelsGroup, limitLength) {\n    return labelRotate(isVertical, labelsGroup, limitLength, function () {\n        return isVertical ? Theme.verticalAxisRotate : Theme.horizontalAxisRotate;\n    });\n}\n/**\n * 非固定角度旋转文本\n * @param  {boolean} isVertical  是否垂直方向\n * @param  {IGroup}  labelsGroup 文本的 group\n * @param  {number}  limitLength 限定长度\n * @return {boolean}             是否发生了旋转\n */\nexport function unfixedAngle(isVertical, labelsGroup, limitLength) {\n    return labelRotate(isVertical, labelsGroup, limitLength, function (length, maxWidth) {\n        if (!length) {\n            // 如果没有设置 limitLength，则使用固定的角度旋转\n            return isVertical ? Theme.verticalAxisRotate : Theme.horizontalAxisRotate;\n        }\n        if (isVertical) {\n            // 垂直时不需要判定 limitLength > maxWidth ，因为此时不会 overlap\n            return -Math.acos(length / maxWidth);\n        }\n        else {\n            var angle = 0;\n            if (length > maxWidth) {\n                // 需要判定，asin 的参数 -1， 1\n                angle = Math.PI / 4;\n            }\n            else {\n                angle = Math.asin(length / maxWidth);\n                if (angle > Math.PI / 4) {\n                    // 大于 Math.PI / 4 时没意义\n                    angle = Math.PI / 4;\n                }\n            }\n            return angle;\n        }\n    });\n}\n//# sourceMappingURL=auto-rotate.js.map","import { __assign, __extends } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nimport { each, isFunction, isNil, isNumberEqual } from '@antv/util';\nimport AxisBase from './base';\nimport * as OverlapUtil from './overlap';\nvar Line = /** @class */ (function (_super) {\n    __extends(Line, _super);\n    function Line() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Line.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { type: 'line', locationType: 'region', \n            /**\n             * 起始点, x, y\n             * @type {object}\n             */\n            start: null, \n            /**\n             * 结束点, x, y\n             * @type {object}\n             */\n            end: null });\n    };\n    // 获取坐标轴线的 path\n    Line.prototype.getLinePath = function () {\n        var start = this.get('start');\n        var end = this.get('end');\n        var path = [];\n        path.push(['M', start.x, start.y]);\n        path.push(['L', end.x, end.y]);\n        return path;\n    };\n    // 重新计算 layout bbox，考虑到 line 不显示\n    Line.prototype.getInnerLayoutBBox = function () {\n        var start = this.get('start');\n        var end = this.get('end');\n        var bbox = _super.prototype.getInnerLayoutBBox.call(this);\n        var minX = Math.min(start.x, end.x, bbox.x);\n        var minY = Math.min(start.y, end.y, bbox.y);\n        var maxX = Math.max(start.x, end.x, bbox.maxX);\n        var maxY = Math.max(start.y, end.y, bbox.maxY);\n        return {\n            x: minX,\n            y: minY,\n            minX: minX,\n            minY: minY,\n            maxX: maxX,\n            maxY: maxY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    };\n    Line.prototype.isVertical = function () {\n        var start = this.get('start');\n        var end = this.get('end');\n        return isNumberEqual(start.x, end.x);\n    };\n    Line.prototype.isHorizontal = function () {\n        var start = this.get('start');\n        var end = this.get('end');\n        return isNumberEqual(start.y, end.y);\n    };\n    Line.prototype.getTickPoint = function (tickValue) {\n        var self = this;\n        var start = self.get('start');\n        var end = self.get('end');\n        var regionX = end.x - start.x;\n        var regionY = end.y - start.y;\n        return {\n            x: start.x + regionX * tickValue,\n            y: start.y + regionY * tickValue,\n        };\n    };\n    // 直线坐标轴下任一点的向量方向都相同\n    Line.prototype.getSideVector = function (offset) {\n        var axisVector = this.getAxisVector();\n        var normal = vec2.normalize([0, 0], axisVector);\n        var factor = this.get('verticalFactor');\n        var verticalVector = [normal[1], normal[0] * -1]; // 垂直方向，逆时针方向\n        return vec2.scale([0, 0], verticalVector, offset * factor);\n    };\n    // 获取坐标轴的向量\n    Line.prototype.getAxisVector = function () {\n        var start = this.get('start');\n        var end = this.get('end');\n        return [end.x - start.x, end.y - start.y];\n    };\n    Line.prototype.processOverlap = function (labelGroup) {\n        var _this = this;\n        var isVertical = this.isVertical();\n        var isHorizontal = this.isHorizontal();\n        // 非垂直，或者非水平时不处理遮挡问题\n        if (!isVertical && !isHorizontal) {\n            return;\n        }\n        var labelCfg = this.get('label');\n        var titleCfg = this.get('title');\n        var verticalLimitLength = this.get('verticalLimitLength');\n        var labelOffset = labelCfg.offset;\n        var limitLength = verticalLimitLength;\n        var titleHeight = 0;\n        var titleSpacing = 0;\n        if (titleCfg) {\n            titleHeight = titleCfg.style.fontSize;\n            titleSpacing = titleCfg.spacing;\n        }\n        if (limitLength) {\n            limitLength = limitLength - labelOffset - titleSpacing - titleHeight;\n        }\n        var overlapOrder = this.get('overlapOrder');\n        each(overlapOrder, function (name) {\n            if (labelCfg[name]) {\n                _this.autoProcessOverlap(name, labelCfg[name], labelGroup, limitLength);\n            }\n        });\n        if (titleCfg) {\n            // 调整 title 的 offset\n            var bbox = labelGroup.getBBox();\n            var length_1 = isVertical ? bbox.width : bbox.height;\n            if (isNil(titleCfg.offset)) {\n                // 如果用户没有设置 offset，则自动计算\n                titleCfg.offset = labelOffset + length_1 + titleSpacing + titleHeight / 2;\n            }\n        }\n    };\n    Line.prototype.autoProcessOverlap = function (name, value, labelGroup, limitLength) {\n        var _this = this;\n        var isVertical = this.isVertical();\n        var hasAdjusted = false;\n        var util = OverlapUtil[name];\n        if (value === true) {\n            // 默认使用固定角度的旋转方案\n            hasAdjusted = util.getDefault()(isVertical, labelGroup, limitLength);\n        }\n        else if (isFunction(value)) {\n            // 用户可以传入回调函数\n            hasAdjusted = value(isVertical, labelGroup, limitLength);\n        }\n        else if (util[value]) {\n            // 按照名称执行旋转函数\n            hasAdjusted = util[value](isVertical, labelGroup, limitLength);\n        }\n        if (name === 'autoRotate') {\n            // 文本旋转后，文本的对齐方式可能就不合适了\n            if (hasAdjusted) {\n                var labels = labelGroup.getChildren();\n                var verticalFactor_1 = this.get('verticalFactor');\n                each(labels, function (label) {\n                    var textAlign = label.attr('textAlign');\n                    if (textAlign === 'center') {\n                        // 居中的文本需要调整旋转度\n                        var newAlign = verticalFactor_1 > 0 ? 'end' : 'start';\n                        label.attr('textAlign', newAlign);\n                    }\n                });\n            }\n        }\n        else if (name === 'autoHide') {\n            var children = labelGroup.getChildren().slice(0); // 复制数组，删除时不会出错\n            each(children, function (label) {\n                if (!label.get('visible')) {\n                    if (_this.get('isRegister')) {\n                        // 已经注册过了，则删除\n                        _this.unregisterElement(label);\n                    }\n                    label.remove(); // 防止 label 数量太多，所以统一删除\n                }\n            });\n        }\n    };\n    return Line;\n}(AxisBase));\nexport default Line;\n//# sourceMappingURL=line.js.map","var _a;\nimport Theme from '../util/theme';\n// tooltip 相关 dom 的 css 类名\nimport * as CssConst from './css-const';\nexport default (_a = {},\n    // css style for tooltip\n    _a[\"\" + CssConst.CONTAINER_CLASS] = {\n        position: 'relative'\n    },\n    _a[\"\" + CssConst.CROSSHAIR_LINE] = {\n        position: 'absolute',\n        backgroundColor: 'rgba(0, 0, 0, 0.25)',\n    },\n    _a[\"\" + CssConst.CROSSHAIR_TEXT] = {\n        position: 'absolute',\n        color: Theme.textColor,\n        fontFamily: Theme.fontFamily,\n    },\n    _a);\n//# sourceMappingURL=html-theme.js.map","import { __assign, __extends } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nimport AxisBase from './base';\nvar Circle = /** @class */ (function (_super) {\n    __extends(Circle, _super);\n    function Circle() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Circle.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { type: 'circle', locationType: 'circle', center: null, radius: null, startAngle: -Math.PI / 2, endAngle: (Math.PI * 3) / 2 });\n    };\n    Circle.prototype.getLinePath = function () {\n        var center = this.get('center');\n        var x = center.x;\n        var y = center.y;\n        var rx = this.get('radius');\n        var ry = rx;\n        var startAngle = this.get('startAngle');\n        var endAngle = this.get('endAngle');\n        var path = [];\n        if (Math.abs(endAngle - startAngle) === Math.PI * 2) {\n            path = [['M', x, y - ry], ['A', rx, ry, 0, 1, 1, x, y + ry], ['A', rx, ry, 0, 1, 1, x, y - ry], ['Z']];\n        }\n        else {\n            var startPoint = this.getCirclePoint(startAngle);\n            var endPoint = this.getCirclePoint(endAngle);\n            var large = Math.abs(endAngle - startAngle) > Math.PI ? 1 : 0;\n            var sweep = startAngle > endAngle ? 0 : 1;\n            path = [\n                ['M', x, y],\n                ['L', startPoint.x, startPoint.y],\n                ['A', rx, ry, 0, large, sweep, endPoint.x, endPoint.y],\n                ['L', x, y],\n            ];\n        }\n        return path;\n    };\n    Circle.prototype.getTickPoint = function (tickValue) {\n        var startAngle = this.get('startAngle');\n        var endAngle = this.get('endAngle');\n        var angle = startAngle + (endAngle - startAngle) * tickValue;\n        return this.getCirclePoint(angle);\n    };\n    // 获取垂直于坐标轴的向量\n    Circle.prototype.getSideVector = function (offset, point) {\n        var center = this.get('center');\n        var vector = [point.x - center.x, point.y - center.y];\n        var factor = this.get('verticalFactor');\n        var vecLen = vec2.length(vector);\n        vec2.scale(vector, vector, (factor * offset) / vecLen);\n        return vector;\n    };\n    // 获取沿坐标轴方向的向量\n    Circle.prototype.getAxisVector = function (point) {\n        var center = this.get('center');\n        var vector = [point.x - center.x, point.y - center.y];\n        return [vector[1], -1 * vector[0]]; // 获取顺时针方向的向量\n    };\n    // 根据圆心和半径获取点\n    Circle.prototype.getCirclePoint = function (angle, radius) {\n        var center = this.get('center');\n        radius = radius || this.get('radius');\n        return {\n            x: center.x + Math.cos(angle) * radius,\n            y: center.y + Math.sin(angle) * radius,\n        };\n    };\n    return Circle;\n}(AxisBase));\nexport default Circle;\n//# sourceMappingURL=circle.js.map","import { __assign, __extends } from \"tslib\";\nimport { isNil } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport { getMatrixByAngle } from '../util/matrix';\nimport Theme from '../util/theme';\nimport { formatPadding } from '../util/util';\nvar CrosshairBase = /** @class */ (function (_super) {\n    __extends(CrosshairBase, _super);\n    function CrosshairBase() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CrosshairBase.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'crosshair', type: 'base', line: {}, text: null, textBackground: {}, capture: false, defaultCfg: {\n                line: {\n                    style: {\n                        lineWidth: 1,\n                        stroke: Theme.lineColor,\n                    },\n                },\n                text: {\n                    position: 'start',\n                    offset: 10,\n                    autoRotate: false,\n                    content: null,\n                    style: {\n                        fill: Theme.textColor,\n                        textAlign: 'center',\n                        textBaseline: 'middle',\n                        fontFamily: Theme.fontFamily,\n                    },\n                },\n                textBackground: {\n                    padding: 5,\n                    style: {\n                        stroke: Theme.lineColor,\n                    },\n                },\n            } });\n    };\n    CrosshairBase.prototype.renderInner = function (group) {\n        if (this.get('line')) {\n            this.renderLine(group);\n        }\n        if (this.get('text')) {\n            this.renderText(group);\n            this.renderBackground(group);\n        }\n    };\n    CrosshairBase.prototype.renderText = function (group) {\n        var text = this.get('text');\n        var style = text.style, autoRotate = text.autoRotate, content = text.content;\n        if (!isNil(content)) {\n            var textPoint = this.getTextPoint();\n            var matrix = null;\n            if (autoRotate) {\n                var angle = this.getRotateAngle();\n                matrix = getMatrixByAngle(textPoint, angle);\n            }\n            this.addShape(group, {\n                type: 'text',\n                name: 'crosshair-text',\n                id: this.getElementId('text'),\n                attrs: __assign(__assign(__assign({}, textPoint), { text: content, matrix: matrix }), style),\n            });\n        }\n    };\n    CrosshairBase.prototype.renderLine = function (group) {\n        var path = this.getLinePath();\n        var line = this.get('line');\n        var style = line.style;\n        this.addShape(group, {\n            type: 'path',\n            name: 'crosshair-line',\n            id: this.getElementId('line'),\n            attrs: __assign({ path: path }, style),\n        });\n    };\n    // 绘制文本的背景\n    CrosshairBase.prototype.renderBackground = function (group) {\n        var textId = this.getElementId('text');\n        var textShape = group.findById(textId); // 查找文本\n        var textBackground = this.get('textBackground');\n        if (textBackground && textShape) {\n            var textBBox = textShape.getBBox();\n            var padding = formatPadding(textBackground.padding); // 用户传入的 padding 格式不定\n            var style = textBackground.style;\n            var backgroundShape = this.addShape(group, {\n                type: 'rect',\n                name: 'crosshair-text-background',\n                id: this.getElementId('text-background'),\n                attrs: __assign({ x: textBBox.x - padding[3], y: textBBox.y - padding[0], width: textBBox.width + padding[1] + padding[3], height: textBBox.height + padding[0] + padding[2], matrix: textShape.attr('matrix') }, style),\n            });\n            backgroundShape.toBack();\n        }\n    };\n    return CrosshairBase;\n}(GroupComponent));\nexport default CrosshairBase;\n//# sourceMappingURL=base.js.map","import { __assign, __extends } from \"tslib\";\nimport { getTextPoint } from '../util/util';\nimport CrosshairBase from './base';\nvar LineCrosshair = /** @class */ (function (_super) {\n    __extends(LineCrosshair, _super);\n    function LineCrosshair() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LineCrosshair.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { type: 'line', locationType: 'region', start: null, end: null });\n    };\n    // 直线的文本需要同直线垂直\n    LineCrosshair.prototype.getRotateAngle = function () {\n        var _a = this.getLocation(), start = _a.start, end = _a.end;\n        var position = this.get('text').position;\n        var angle = Math.atan2(end.y - start.y, end.x - start.x);\n        var tangentAngle = position === 'start' ? angle - Math.PI / 2 : angle + Math.PI / 2;\n        return tangentAngle;\n    };\n    LineCrosshair.prototype.getTextPoint = function () {\n        var _a = this.getLocation(), start = _a.start, end = _a.end;\n        var _b = this.get('text'), position = _b.position, offset = _b.offset;\n        return getTextPoint(start, end, position, offset);\n    };\n    LineCrosshair.prototype.getLinePath = function () {\n        var _a = this.getLocation(), start = _a.start, end = _a.end;\n        return [\n            ['M', start.x, start.y],\n            ['L', end.x, end.y],\n        ];\n    };\n    return LineCrosshair;\n}(CrosshairBase));\nexport default LineCrosshair;\n//# sourceMappingURL=line.js.map","import { __assign, __extends } from \"tslib\";\nimport { getCirclePoint } from '../util/util';\nimport CrosshairBase from './base';\nvar LineCrosshair = /** @class */ (function (_super) {\n    __extends(LineCrosshair, _super);\n    function LineCrosshair() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LineCrosshair.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { type: 'circle', locationType: 'circle', center: null, radius: 100, startAngle: -Math.PI / 2, endAngle: (Math.PI * 3) / 2 });\n    };\n    LineCrosshair.prototype.getRotateAngle = function () {\n        var _a = this.getLocation(), startAngle = _a.startAngle, endAngle = _a.endAngle;\n        var position = this.get('text').position;\n        var tangentAngle = position === 'start' ? startAngle + Math.PI / 2 : endAngle - Math.PI / 2;\n        return tangentAngle;\n    };\n    LineCrosshair.prototype.getTextPoint = function () {\n        var text = this.get('text');\n        var position = text.position, offset = text.offset;\n        var _a = this.getLocation(), center = _a.center, radius = _a.radius, startAngle = _a.startAngle, endAngle = _a.endAngle;\n        var angle = position === 'start' ? startAngle : endAngle;\n        var tangentAngle = this.getRotateAngle() - Math.PI;\n        var point = getCirclePoint(center, radius, angle);\n        // 这个地方其实应该求切线向量然后在乘以 offset，但是太啰嗦了，直接给出结果\n        // const tangent = [Math.cos(tangentAngle), Math.sin(tangentAngle)];\n        // const offsetVector = vec2.scale([], tangent, offset);\n        var offsetX = Math.cos(tangentAngle) * offset;\n        var offsetY = Math.sin(tangentAngle) * offset;\n        return {\n            x: point.x + offsetX,\n            y: point.y + offsetY,\n        };\n    };\n    LineCrosshair.prototype.getLinePath = function () {\n        var _a = this.getLocation(), center = _a.center, radius = _a.radius, startAngle = _a.startAngle, endAngle = _a.endAngle;\n        var path = null;\n        if (endAngle - startAngle === Math.PI * 2) {\n            // 整圆\n            var x = center.x, y = center.y;\n            path = [\n                ['M', x, y - radius],\n                ['A', radius, radius, 0, 1, 1, x, y + radius],\n                ['A', radius, radius, 0, 1, 1, x, y - radius],\n                ['Z'],\n            ];\n        }\n        else {\n            var startPoint = getCirclePoint(center, radius, startAngle);\n            var endPoint = getCirclePoint(center, radius, endAngle);\n            var large = Math.abs(endAngle - startAngle) > Math.PI ? 1 : 0;\n            var sweep = startAngle > endAngle ? 0 : 1;\n            path = [\n                ['M', startPoint.x, startPoint.y],\n                ['A', radius, radius, 0, large, sweep, endPoint.x, endPoint.y],\n            ];\n        }\n        return path;\n    };\n    return LineCrosshair;\n}(CrosshairBase));\nexport default LineCrosshair;\n//# sourceMappingURL=circle.js.map","export var CONTAINER_CLASS = 'g2-crosshair';\nexport var CROSSHAIR_LINE = CONTAINER_CLASS + \"-line\";\nexport var CROSSHAIR_TEXT = CONTAINER_CLASS + \"-text\";\n//# sourceMappingURL=css-const.js.map","import { __assign, __extends } from \"tslib\";\nimport { createDom, modifyCSS } from '@antv/dom-util';\nimport { substitute, hasKey } from '@antv/util';\nimport { toPx, getTextPoint } from '../util/util';\nimport HtmlComponent from '../abstract/html-component';\nimport * as CssConst from './css-const';\nimport HtmlTheme from './html-theme';\nvar HtmlCrosshair = /** @class */ (function (_super) {\n    __extends(HtmlCrosshair, _super);\n    function HtmlCrosshair() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    HtmlCrosshair.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'crosshair', type: 'html', locationType: 'region', start: { x: 0, y: 0 }, end: { x: 0, y: 0 }, capture: false, text: null, containerTpl: \"<div class=\\\"\" + CssConst.CONTAINER_CLASS + \"\\\"></div>\", crosshairTpl: \"<div class=\\\"\" + CssConst.CROSSHAIR_LINE + \"\\\"></div>\", textTpl: \"<span class=\\\"\" + CssConst.CROSSHAIR_TEXT + \"\\\">{content}</span>\", domStyles: null, containerClassName: CssConst.CONTAINER_CLASS, defaultStyles: HtmlTheme, defaultCfg: {\n                text: {\n                    position: 'start',\n                    content: null,\n                    align: 'center',\n                    offset: 10\n                }\n            } });\n    };\n    HtmlCrosshair.prototype.render = function () {\n        this.resetText();\n        this.resetPosition();\n    };\n    // 绘制 crosshair\n    HtmlCrosshair.prototype.initCrossHair = function () {\n        var container = this.getContainer();\n        var crosshairTpl = this.get('crosshairTpl');\n        var crosshairEl = createDom(crosshairTpl);\n        container.appendChild(crosshairEl);\n        this.applyStyle(CssConst.CROSSHAIR_LINE, crosshairEl);\n        this.set('crosshairEl', crosshairEl);\n    };\n    // 获取文本的位置\n    HtmlCrosshair.prototype.getTextPoint = function () {\n        var _a = this.getLocation(), start = _a.start, end = _a.end;\n        var _b = this.get('text'), position = _b.position, offset = _b.offset;\n        return getTextPoint(start, end, position, offset);\n    };\n    // 设置 text\n    HtmlCrosshair.prototype.resetText = function () {\n        var text = this.get('text');\n        var textEl = this.get('textEl');\n        if (text) {\n            var content = text.content;\n            if (!textEl) {\n                var container = this.getContainer();\n                var textTpl = substitute(this.get('textTpl'), text);\n                textEl = createDom(textTpl);\n                container.appendChild(textEl);\n                this.applyStyle(CssConst.CROSSHAIR_TEXT, textEl);\n                this.set('textEl', textEl);\n            }\n            textEl.innerHTML = content;\n        }\n        else if (textEl) {\n            textEl.remove();\n        }\n    };\n    // 是否垂直\n    HtmlCrosshair.prototype.isVertical = function (start, end) {\n        return start.x === end.x;\n    };\n    // 重新调整位置\n    HtmlCrosshair.prototype.resetPosition = function () {\n        var crosshairEl = this.get('crosshairEl');\n        if (!crosshairEl) {\n            this.initCrossHair();\n            crosshairEl = this.get('crosshairEl');\n        }\n        var start = this.get('start');\n        var end = this.get('end');\n        var minX = Math.min(start.x, end.x);\n        var minY = Math.min(start.y, end.y);\n        if (this.isVertical(start, end)) {\n            modifyCSS(crosshairEl, {\n                width: '1px',\n                height: toPx(Math.abs(end.y - start.y))\n            });\n        }\n        else {\n            modifyCSS(crosshairEl, {\n                height: '1px',\n                width: toPx(Math.abs(end.x - start.x))\n            });\n        }\n        modifyCSS(crosshairEl, {\n            top: toPx(minY),\n            left: toPx(minX)\n        });\n        this.alignText();\n    };\n    HtmlCrosshair.prototype.alignText = function () {\n        // 重新设置 text 位置\n        var textEl = this.get('textEl');\n        if (textEl) {\n            var align = this.get('text').align;\n            var clientWidth = textEl.clientWidth;\n            var point = this.getTextPoint();\n            switch (align) {\n                case 'center':\n                    point.x = point.x - clientWidth / 2;\n                    break;\n                case 'right':\n                    point.x = point.x - clientWidth;\n                case 'left':\n                    break;\n            }\n            modifyCSS(textEl, {\n                top: toPx(point.y),\n                left: toPx(point.x)\n            });\n        }\n    };\n    HtmlCrosshair.prototype.updateInner = function (cfg) {\n        if (hasKey(cfg, 'text')) {\n            this.resetText();\n        }\n        _super.prototype.updateInner.call(this, cfg);\n    };\n    return HtmlCrosshair;\n}(HtmlComponent));\nexport default HtmlCrosshair;\n//# sourceMappingURL=html.js.map","import { __assign, __extends } from \"tslib\";\nimport { each, isString, mix, isFunction } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport Theme from '../util/theme';\nvar GridBase = /** @class */ (function (_super) {\n    __extends(GridBase, _super);\n    function GridBase() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GridBase.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'grid', line: {}, alternateColor: null, capture: false, items: [], closed: false, defaultCfg: {\n                line: {\n                    type: 'line',\n                    style: {\n                        lineWidth: 1,\n                        stroke: Theme.lineColor,\n                    },\n                },\n            } });\n    };\n    /**\n     * 获取栅格线的类型\n     * @return {string} 栅格线类型\n     */\n    GridBase.prototype.getLineType = function () {\n        var line = this.get('line') || this.get('defaultCfg').line;\n        return line.type;\n    };\n    GridBase.prototype.renderInner = function (group) {\n        this.drawGrid(group);\n    };\n    GridBase.prototype.getAlternatePath = function (prePoints, points) {\n        var regionPath = this.getGridPath(prePoints);\n        var reversePoints = points.slice(0).reverse();\n        var nextPath = this.getGridPath(reversePoints, true);\n        var closed = this.get('closed');\n        if (closed) {\n            regionPath = regionPath.concat(nextPath);\n        }\n        else {\n            nextPath[0][0] = 'L'; // 更新第一个节点\n            regionPath = regionPath.concat(nextPath);\n            regionPath.push(['Z']);\n        }\n        return regionPath;\n    };\n    // 获取路径的配置项\n    GridBase.prototype.getPathStyle = function () {\n        return this.get('line').style;\n    };\n    // 绘制栅格\n    GridBase.prototype.drawGrid = function (group) {\n        var _this = this;\n        var line = this.get('line');\n        var items = this.get('items');\n        var alternateColor = this.get('alternateColor');\n        var preItem = null;\n        each(items, function (item, index) {\n            var id = item.id || index;\n            // 绘制栅格线\n            if (line) {\n                var style = _this.getPathStyle();\n                style = isFunction(style) ? style(item, index, items) : style;\n                var lineId = _this.getElementId(\"line-\" + id);\n                var gridPath = _this.getGridPath(item.points);\n                _this.addShape(group, {\n                    type: 'path',\n                    name: 'grid-line',\n                    id: lineId,\n                    attrs: mix({\n                        path: gridPath,\n                    }, style),\n                });\n            }\n            // 如果存在 alternateColor 则绘制矩形\n            // 从第二个栅格线开始绘制\n            if (alternateColor && index > 0) {\n                var regionId = _this.getElementId(\"region-\" + id);\n                var isEven = index % 2 === 0;\n                if (isString(alternateColor)) {\n                    // 如果颜色是单值，则是仅绘制偶数时的区域\n                    if (isEven) {\n                        _this.drawAlternateRegion(regionId, group, preItem.points, item.points, alternateColor);\n                    }\n                }\n                else {\n                    var color = isEven ? alternateColor[1] : alternateColor[0];\n                    _this.drawAlternateRegion(regionId, group, preItem.points, item.points, color);\n                }\n            }\n            preItem = item;\n        });\n    };\n    // 绘制栅格线间的间隔\n    GridBase.prototype.drawAlternateRegion = function (id, group, prePoints, points, color) {\n        var regionPath = this.getAlternatePath(prePoints, points);\n        this.addShape(group, {\n            type: 'path',\n            id: id,\n            name: 'grid-region',\n            attrs: {\n                path: regionPath,\n                fill: color,\n            },\n        });\n    };\n    return GridBase;\n}(GroupComponent));\nexport default GridBase;\n//# sourceMappingURL=base.js.map","import { __assign, __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport GridBase from './base';\nfunction distance(x1, y1, x2, y2) {\n    var dx = x2 - x1;\n    var dy = y2 - y1;\n    return Math.sqrt(dx * dx + dy * dy);\n}\nvar Circle = /** @class */ (function (_super) {\n    __extends(Circle, _super);\n    function Circle() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Circle.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { type: 'circle', \n            /**\n             * 中心点\n             * @type {object}\n             */\n            center: null, \n            /**\n             * 栅格线是否封闭\n             * @type {true}\n             */\n            closed: true });\n    };\n    Circle.prototype.getGridPath = function (points, reversed) {\n        var lineType = this.getLineType();\n        var closed = this.get('closed');\n        var path = [];\n        if (points.length) {\n            // 防止出错\n            if (lineType === 'circle') {\n                var center = this.get('center');\n                var firstPoint = points[0];\n                var radius_1 = distance(center.x, center.y, firstPoint.x, firstPoint.y);\n                var sweepFlag_1 = reversed ? 0 : 1; // 顺时针还是逆时针\n                if (closed) {\n                    // 封闭时，绘制整个圆\n                    path.push(['M', center.x, center.y - radius_1]);\n                    path.push(['A', radius_1, radius_1, 0, 0, sweepFlag_1, center.x, center.y + radius_1]);\n                    path.push(['A', radius_1, radius_1, 0, 0, sweepFlag_1, center.x, center.y - radius_1]);\n                    path.push(['Z']);\n                }\n                else {\n                    each(points, function (point, index) {\n                        if (index === 0) {\n                            path.push(['M', point.x, point.y]);\n                        }\n                        else {\n                            path.push(['A', radius_1, radius_1, 0, 0, sweepFlag_1, point.x, point.y]);\n                        }\n                    });\n                }\n            }\n            else {\n                each(points, function (point, index) {\n                    if (index === 0) {\n                        path.push(['M', point.x, point.y]);\n                    }\n                    else {\n                        path.push(['L', point.x, point.y]);\n                    }\n                });\n                if (closed) {\n                    path.push(['Z']);\n                }\n            }\n        }\n        return path;\n    };\n    return Circle;\n}(GridBase));\nexport default Circle;\n//# sourceMappingURL=circle.js.map","var _a;\nimport Theme from '../util/theme';\n// tooltip 相关 dom 的 css 类名\nimport * as CssConst from './css-const';\nexport default (_a = {},\n    // css style for tooltip\n    _a[\"\" + CssConst.CONTAINER_CLASS] = {\n        position: 'absolute',\n        visibility: 'visible',\n        // @2018-07-25 by blue.lb 这里去掉浮动，火狐上存在样式错位\n        // whiteSpace: 'nowrap',\n        zIndex: 8,\n        transition: 'visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), ' +\n            'left 0.4s cubic-bezier(0.23, 1, 0.32, 1), ' +\n            'top 0.4s cubic-bezier(0.23, 1, 0.32, 1)',\n        backgroundColor: 'rgba(255, 255, 255, 0.9)',\n        boxShadow: '0px 0px 10px #aeaeae',\n        borderRadius: '3px',\n        color: 'rgb(87, 87, 87)',\n        fontSize: '12px',\n        fontFamily: Theme.fontFamily,\n        lineHeight: '20px',\n        padding: '10px 10px 6px 10px',\n    },\n    _a[\"\" + CssConst.TITLE_CLASS] = {\n        marginBottom: '4px',\n    },\n    _a[\"\" + CssConst.LIST_CLASS] = {\n        margin: '0px',\n        listStyleType: 'none',\n        padding: '0px',\n    },\n    _a[\"\" + CssConst.LIST_ITEM_CLASS] = {\n        listStyleType: 'none',\n        marginBottom: '4px',\n    },\n    _a[\"\" + CssConst.MARKER_CLASS] = {\n        width: '8px',\n        height: '8px',\n        borderRadius: '50%',\n        display: 'inline-block',\n        marginRight: '8px',\n    },\n    _a[\"\" + CssConst.VALUE_CLASS] = {\n        display: 'inline-block',\n        float: 'right',\n        marginLeft: '30px',\n    },\n    _a[\"\" + CssConst.CROSSHAIR_X] = {\n        position: 'absolute',\n        width: '1px',\n        backgroundColor: 'rgba(0, 0, 0, 0.25)',\n    },\n    _a[\"\" + CssConst.CROSSHAIR_Y] = {\n        position: 'absolute',\n        height: '1px',\n        backgroundColor: 'rgba(0, 0, 0, 0.25)',\n    },\n    _a);\n//# sourceMappingURL=html-theme.js.map","import { __assign, __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport GridBase from './base';\nvar Line = /** @class */ (function (_super) {\n    __extends(Line, _super);\n    function Line() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Line.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { type: 'line' });\n    };\n    Line.prototype.getGridPath = function (points) {\n        var path = [];\n        each(points, function (point, index) {\n            if (index === 0) {\n                path.push(['M', point.x, point.y]);\n            }\n            else {\n                path.push(['L', point.x, point.y]);\n            }\n        });\n        return path;\n    };\n    return Line;\n}(GridBase));\nexport default Line;\n//# sourceMappingURL=line.js.map","import { __assign, __extends } from \"tslib\";\nimport GroupComponent from '../abstract/group-component';\nimport { createBBox, formatPadding } from '../util/util';\nvar LegendBase = /** @class */ (function (_super) {\n    __extends(LegendBase, _super);\n    function LegendBase() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LegendBase.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'legend', \n            /**\n             * 布局方式： horizontal，vertical\n             * @type {String}\n             */\n            layout: 'horizontal', locationType: 'point', x: 0, y: 0, offsetX: 0, offsetY: 0, title: null, background: null });\n    };\n    LegendBase.prototype.getLayoutBBox = function () {\n        var bbox = _super.prototype.getLayoutBBox.call(this);\n        var minX = this.get('x');\n        var minY = this.get('y');\n        var maxWidth = this.get('maxWidth');\n        var maxHeight = this.get('maxHeight');\n        var width = bbox.maxX - minX;\n        var height = bbox.maxY - minY;\n        if (maxWidth) {\n            width = Math.min(width, maxWidth);\n        }\n        if (maxHeight) {\n            height = Math.min(height, maxHeight);\n        }\n        return createBBox(minX, minY, width, height);\n    };\n    LegendBase.prototype.setLocation = function (cfg) {\n        this.set('x', cfg.x);\n        this.set('y', cfg.y);\n        this.resetLocation();\n    };\n    LegendBase.prototype.resetLocation = function () {\n        var x = this.get('x');\n        var y = this.get('y');\n        var offsetX = this.get('offsetX');\n        var offsetY = this.get('offsetY');\n        this.moveElementTo(this.get('group'), {\n            x: x + offsetX,\n            y: y + offsetY,\n        });\n    };\n    LegendBase.prototype.applyOffset = function () {\n        this.resetLocation();\n    };\n    // 获取当前绘制的点\n    LegendBase.prototype.getDrawPoint = function () {\n        return this.get('currentPoint');\n    };\n    LegendBase.prototype.setDrawPoint = function (point) {\n        return this.set('currentPoint', point);\n    };\n    // 复写父类定义的绘制方法\n    LegendBase.prototype.renderInner = function (group) {\n        this.resetDraw();\n        if (this.get('title')) {\n            this.drawTitle(group);\n        }\n        this.drawLegendContent(group);\n        if (this.get('background')) {\n            this.drawBackground(group);\n        }\n        // this.resetLocation(); // 在顶层已经在处理偏移时一起处理了\n    };\n    // 绘制背景\n    LegendBase.prototype.drawBackground = function (group) {\n        var background = this.get('background');\n        var bbox = group.getBBox();\n        var padding = formatPadding(background.padding);\n        var attrs = __assign({ \n            // 背景从 (0,0) 开始绘制\n            x: 0, y: 0, width: bbox.width + padding[1] + padding[3], height: bbox.height + padding[0] + padding[2] }, background.style);\n        var backgroundShape = this.addShape(group, {\n            type: 'rect',\n            id: this.getElementId('background'),\n            name: 'legend-background',\n            attrs: attrs,\n        });\n        backgroundShape.toBack();\n    };\n    // 绘制标题，标题在图例项的上面\n    LegendBase.prototype.drawTitle = function (group) {\n        var currentPoint = this.get('currentPoint');\n        var titleCfg = this.get('title');\n        var spacing = titleCfg.spacing, style = titleCfg.style, text = titleCfg.text;\n        var shape = this.addShape(group, {\n            type: 'text',\n            id: this.getElementId('title'),\n            name: 'legend-title',\n            attrs: __assign({ text: text, x: currentPoint.x, y: currentPoint.y }, style),\n        });\n        var bbox = shape.getBBox();\n        // 标题单独在一行\n        this.set('currentPoint', { x: currentPoint.x, y: bbox.maxY + spacing });\n    };\n    // 重置绘制时开始的位置，如果绘制边框，考虑边框的 padding\n    LegendBase.prototype.resetDraw = function () {\n        var background = this.get('background');\n        var currentPoint = { x: 0, y: 0 };\n        if (background) {\n            var padding = formatPadding(background.padding);\n            currentPoint.x = padding[3]; // 左边 padding\n            currentPoint.y = padding[0]; // 上面 padding\n        }\n        this.set('currentPoint', currentPoint); // 设置绘制的初始位置\n    };\n    return LegendBase;\n}(GroupComponent));\nexport default LegendBase;\n//# sourceMappingURL=base.js.map","import { __assign, __extends } from \"tslib\";\nimport { clamp, each, filter, get, mix } from '@antv/util';\nimport { ellipsisLabel } from '../util/label';\nimport { getMatrixByAngle, getMatrixByTranslate } from '../util/matrix';\nimport { getStatesStyle } from '../util/state';\nimport Theme from '../util/theme';\nimport LegendBase from './base';\nvar Category = /** @class */ (function (_super) {\n    __extends(Category, _super);\n    function Category() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.currentPageIndex = 1;\n        _this.totalPagesCnt = 1;\n        _this.pageWidth = 0;\n        _this.pageHeight = 0;\n        _this.startX = 0;\n        _this.startY = 0;\n        _this.onNavigationBack = function () {\n            var itemGroup = _this.getElementByLocalId('item-group');\n            if (_this.currentPageIndex > 1) {\n                _this.currentPageIndex -= 1;\n                _this.updateNavigation();\n                var matrix = _this.getCurrentNavigationMatrix();\n                if (_this.get('animate')) {\n                    itemGroup.animate({\n                        matrix: matrix,\n                    }, 100);\n                }\n                else {\n                    itemGroup.attr({ matrix: matrix });\n                }\n            }\n        };\n        _this.onNavigationAfter = function () {\n            var itemGroup = _this.getElementByLocalId('item-group');\n            if (_this.currentPageIndex < _this.totalPagesCnt) {\n                _this.currentPageIndex += 1;\n                _this.updateNavigation();\n                var matrix = _this.getCurrentNavigationMatrix();\n                if (_this.get('animate')) {\n                    itemGroup.animate({\n                        matrix: matrix,\n                    }, 100);\n                }\n                else {\n                    itemGroup.attr({ matrix: matrix });\n                }\n            }\n        };\n        return _this;\n    }\n    Category.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'legend', type: 'category', itemSpacing: 24, itemMarginBottom: 8, maxItemWidth: null, itemWidth: null, itemHeight: null, itemName: {}, itemValue: null, maxWidth: null, maxHeight: null, marker: {}, items: [], itemStates: {}, itemBackground: {}, defaultCfg: {\n                title: {\n                    spacing: 5,\n                    style: {\n                        fill: Theme.textColor,\n                        fontSize: 12,\n                        textAlign: 'start',\n                        textBaseline: 'top',\n                    },\n                },\n                background: {\n                    padding: 5,\n                    style: {\n                        stroke: Theme.lineColor,\n                    },\n                },\n                itemBackground: {\n                    style: {\n                        opacity: 0,\n                        fill: '#fff',\n                    },\n                },\n                itemName: {\n                    spacing: 16,\n                    style: {\n                        fill: Theme.textColor,\n                        fontSize: 12,\n                        textAlign: 'start',\n                        textBaseline: 'middle',\n                    },\n                },\n                marker: {\n                    spacing: 8,\n                    style: {\n                        r: 6,\n                        symbol: 'circle',\n                    },\n                },\n                itemValue: {\n                    alignRight: false,\n                    formatter: null,\n                    style: {\n                        fill: Theme.textColor,\n                        fontSize: 12,\n                        textAlign: 'start',\n                        textBaseline: 'middle',\n                    },\n                },\n                itemStates: {\n                    active: {\n                        nameStyle: {\n                            opacity: 0.8,\n                        },\n                    },\n                    unchecked: {\n                        nameStyle: {\n                            fill: Theme.uncheckedColor,\n                        },\n                        markerStyle: {\n                            fill: Theme.uncheckedColor,\n                            stroke: Theme.uncheckedColor,\n                        },\n                    },\n                    inactive: {\n                        nameStyle: {\n                            fill: Theme.uncheckedColor,\n                        },\n                        markerStyle: {\n                            opacity: 0.2,\n                        },\n                    },\n                },\n            } });\n    };\n    // 实现 IList 接口\n    Category.prototype.isList = function () {\n        return true;\n    };\n    /**\n     * 获取图例项\n     * @return {ListItem[]} 列表项集合\n     */\n    Category.prototype.getItems = function () {\n        return this.get('items');\n    };\n    /**\n     * 设置列表项\n     * @param {ListItem[]} items 列表项集合\n     */\n    Category.prototype.setItems = function (items) {\n        this.update({\n            items: items,\n        });\n    };\n    /**\n     * 更新列表项\n     * @param {ListItem} item 列表项\n     * @param {object}   cfg  列表项\n     */\n    Category.prototype.updateItem = function (item, cfg) {\n        mix(item, cfg);\n        this.clear(); // 由于单个图例项变化，会引起全局变化，所以全部更新\n        this.render();\n    };\n    /**\n     * 清空列表\n     */\n    Category.prototype.clearItems = function () {\n        var itemGroup = this.getElementByLocalId('item-group');\n        itemGroup && itemGroup.clear();\n    };\n    /**\n     * 设置列表项的状态\n     * @param {ListItem} item  列表项\n     * @param {string}   state 状态名\n     * @param {boolean}  value 状态值, true, false\n     */\n    Category.prototype.setItemState = function (item, state, value) {\n        item[state] = value;\n        var itemElement = this.getElementByLocalId(\"item-\" + item.id);\n        if (itemElement) {\n            var items = this.getItems();\n            var index = items.indexOf(item);\n            var offsetGroup = this.createOffScreenGroup(); // 离屏的 group\n            var newElement = this.drawItem(item, index, this.getItemHeight(), offsetGroup);\n            this.updateElements(newElement, itemElement); // 更新整个分组\n            this.clearUpdateStatus(itemElement); // 清理更新状态，防止出现 bug\n        }\n    };\n    /**\n     * 是否存在指定的状态\n     * @param {ListItem} item  列表项\n     * @param {boolean} state 状态名\n     */\n    Category.prototype.hasState = function (item, state) {\n        return !!item[state];\n    };\n    Category.prototype.getItemStates = function (item) {\n        var itemStates = this.get('itemStates');\n        var rst = [];\n        each(itemStates, function (v, k) {\n            if (item[k]) {\n                // item.selected\n                rst.push(k);\n            }\n        });\n        return rst;\n    };\n    /**\n     * 清楚所有列表项的状态\n     * @param {string} state 状态值\n     */\n    Category.prototype.clearItemsState = function (state) {\n        var _this = this;\n        var items = this.getItemsByState(state);\n        each(items, function (item) {\n            _this.setItemState(item, state, false);\n        });\n    };\n    /**\n     * 根据状态获取图例项\n     * @param  {string}     state [description]\n     * @return {ListItem[]}       [description]\n     */\n    Category.prototype.getItemsByState = function (state) {\n        var _this = this;\n        var items = this.getItems();\n        return filter(items, function (item) {\n            return _this.hasState(item, state);\n        });\n    };\n    // 绘制 legend 的选项\n    Category.prototype.drawLegendContent = function (group) {\n        this.processItems();\n        this.drawItems(group);\n    };\n    // 防止未设置 id\n    Category.prototype.processItems = function () {\n        var items = this.get('items');\n        each(items, function (item) {\n            if (!item.id) {\n                // 如果没有设置 id，默认使用 name\n                item.id = item.name;\n            }\n        });\n    };\n    // 绘制所有的图例选项\n    Category.prototype.drawItems = function (group) {\n        var _this = this;\n        var itemContainerGroup = this.addGroup(group, {\n            id: this.getElementId('item-container-group'),\n            name: 'legend-item-container-group',\n        });\n        var itemGroup = this.addGroup(itemContainerGroup, {\n            id: this.getElementId('item-group'),\n            name: 'legend-item-group',\n        });\n        var itemHeight = this.getItemHeight();\n        var itemWidth = this.get('itemWidth');\n        var itemSpacing = this.get('itemSpacing');\n        var itemMarginBottom = this.get('itemMarginBottom');\n        var currentPoint = this.get('currentPoint');\n        var startX = currentPoint.x;\n        var startY = currentPoint.y;\n        var layout = this.get('layout');\n        var items = this.get('items');\n        var wrapped = false;\n        var pageWidth = 0;\n        var maxWidth = this.get('maxWidth'); // 最大宽度，会导致 layout : 'horizontal' 时自动换行\n        var maxHeight = this.get('maxHeight'); // 最大高度，会导致出现分页\n        // 暂时不考虑分页\n        each(items, function (item, index) {\n            var subGroup = _this.drawItem(item, index, itemHeight, itemGroup);\n            var bbox = subGroup.getBBox();\n            var width = itemWidth || bbox.width;\n            if (width > pageWidth) {\n                pageWidth = width;\n            }\n            if (layout === 'horizontal') {\n                // 如果水平布局\n                if (maxWidth && maxWidth < currentPoint.x + width - startX) {\n                    // 检测是否换行\n                    wrapped = true;\n                    currentPoint.x = startX;\n                    currentPoint.y += itemHeight + itemMarginBottom;\n                }\n                _this.moveElementTo(subGroup, currentPoint);\n                currentPoint.x += width + itemSpacing;\n            }\n            else {\n                // 如果垂直布局\n                if (maxHeight && maxHeight < currentPoint.y + itemHeight + itemMarginBottom - startY) {\n                    // 换行\n                    wrapped = true;\n                    currentPoint.x += pageWidth + itemSpacing;\n                    currentPoint.y = startY;\n                    pageWidth = 0;\n                }\n                _this.moveElementTo(subGroup, currentPoint);\n                currentPoint.y += itemHeight + itemMarginBottom; // itemSpacing 仅影响水平间距\n            }\n        });\n        if (wrapped && this.get('flipPage')) {\n            this.pageHeight = 0;\n            this.pageWidth = 0;\n            this.totalPagesCnt = 1;\n            this.startX = startX;\n            this.startY = startY;\n            this.adjustNavigation(group, itemGroup);\n        }\n    };\n    // 获取图例项的高度，如果未定义，则按照 name 的高度计算\n    Category.prototype.getItemHeight = function () {\n        var itemHeight = this.get('itemHeight');\n        if (!itemHeight) {\n            var nameCfg = this.get('itemName');\n            if (nameCfg) {\n                itemHeight = nameCfg.style.fontSize;\n            }\n        }\n        return itemHeight;\n    };\n    // 绘制 marker\n    Category.prototype.drawMarker = function (container, markerCfg, item, itemHeight) {\n        var markerAttrs = __assign(__assign(__assign({ x: 0, y: itemHeight / 2 }, markerCfg.style), { symbol: get(item.marker, 'symbol', 'circle') }), get(item.marker, 'style', {}));\n        var shape = this.addShape(container, {\n            type: 'marker',\n            id: this.getElementId(\"item-\" + item.id + \"-marker\"),\n            name: 'legend-item-marker',\n            attrs: markerAttrs,\n        });\n        var bbox = shape.getBBox();\n        shape.attr('x', bbox.width / 2); // marker 需要左对齐，所以不能占用左侧的空间\n        var _a = shape.attr(), stroke = _a.stroke, fill = _a.fill;\n        if (stroke) {\n            shape.set('isStroke', true);\n        }\n        if (fill) {\n            shape.set('isFill', true);\n        }\n        return shape;\n    };\n    // 绘制文本\n    Category.prototype.drawItemText = function (container, textName, cfg, item, itemHeight, xPosition, index) {\n        var formatter = cfg.formatter;\n        var attrs = __assign({ x: xPosition, y: itemHeight / 2, text: formatter ? formatter(item[textName], item, index) : item[textName] }, cfg.style);\n        return this.addShape(container, {\n            type: 'text',\n            id: this.getElementId(\"item-\" + item.id + \"-\" + textName),\n            name: \"legend-item-\" + textName,\n            attrs: attrs,\n        });\n    };\n    // 绘制图例项\n    Category.prototype.drawItem = function (item, index, itemHeight, itemGroup) {\n        var groupId = \"item-\" + item.id;\n        // 设置单独的 Group 用于 setClip\n        var subContainer = this.addGroup(itemGroup, {\n            name: 'legend-item-container',\n            id: this.getElementId(\"item-container-\" + groupId),\n            delegateObject: {\n                item: item,\n                index: index,\n            },\n        });\n        var subGroup = this.addGroup(subContainer, {\n            name: 'legend-item',\n            id: this.getElementId(groupId),\n            delegateObject: {\n                item: item,\n                index: index,\n            },\n        });\n        var marker = this.get('marker');\n        var itemName = this.get('itemName');\n        var itemValue = this.get('itemValue');\n        var itemBackground = this.get('itemBackground');\n        var itemWidth = this.getLimitItemWidth();\n        var curX = 0; // 记录当前 x 的位置\n        if (marker) {\n            var markerShape = this.drawMarker(subGroup, marker, item, itemHeight);\n            curX = markerShape.getBBox().maxX + marker.spacing;\n        }\n        if (itemName) {\n            var nameShape = this.drawItemText(subGroup, 'name', itemName, item, itemHeight, curX, index);\n            if (itemWidth) {\n                // 设置了 item 的最大宽度限制，并且超出了，进行省略处理\n                ellipsisLabel(true, nameShape, clamp(itemWidth - curX, 0, itemWidth));\n            }\n            curX = nameShape.getBBox().maxX + itemName.spacing;\n        }\n        if (itemValue) {\n            var valueShape = this.drawItemText(subGroup, 'value', itemValue, item, itemHeight, curX, index);\n            if (itemWidth) {\n                if (itemValue.alignRight) {\n                    valueShape.attr({\n                        textAlign: 'right',\n                        x: itemWidth,\n                    });\n                    ellipsisLabel(true, valueShape, clamp(itemWidth - curX, 0, itemWidth), 'head');\n                }\n                else {\n                    ellipsisLabel(true, valueShape, clamp(itemWidth - curX, 0, itemWidth));\n                }\n            }\n        }\n        // 添加透明的背景，便于拾取和包围盒计算\n        if (itemBackground) {\n            var bbox = subGroup.getBBox();\n            var backShape = this.addShape(subGroup, {\n                type: 'rect',\n                name: 'legend-item-background',\n                id: this.getElementId(groupId + \"-background\"),\n                attrs: __assign({ x: 0, y: 0, width: bbox.width, height: itemHeight }, itemBackground.style),\n            });\n            backShape.toBack();\n        }\n        this.applyItemStates(item, subGroup);\n        return subGroup;\n    };\n    // 加上分页器并重新排序 items\n    Category.prototype.adjustNavigation = function (container, itemGroup) {\n        var _this = this;\n        var startX = this.startX;\n        var startY = this.startY;\n        var layout = this.get('layout');\n        var subGroups = itemGroup.findAll(function (item) { return item.get('name') === 'legend-item'; });\n        var maxWidth = this.get('maxWidth');\n        var maxHeight = this.get('maxHeight');\n        var itemWidth = this.get('itemWidth');\n        var itemSpacing = this.get('itemSpacing');\n        var itemHeight = this.getItemHeight();\n        var navigation = this.drawNavigation(container, layout, '00/00', 12);\n        var navigationBBox = navigation.getBBox();\n        var currentPoint = { x: startX, y: startY };\n        var pages = 1;\n        var widthLimit = 0;\n        var pageWidth = 0;\n        var maxItemWidth = 0;\n        if (layout === 'horizontal') {\n            this.pageHeight = itemHeight;\n            each(subGroups, function (item) {\n                var bbox = item.getBBox();\n                var width = itemWidth || bbox.width;\n                if ((widthLimit && widthLimit < currentPoint.x + width + itemSpacing) ||\n                    maxWidth < currentPoint.x + width + itemSpacing + navigationBBox.width) {\n                    if (pages === 1) {\n                        widthLimit = currentPoint.x + itemSpacing;\n                        _this.pageWidth = widthLimit;\n                        _this.moveElementTo(navigation, {\n                            x: maxWidth - itemSpacing - navigationBBox.width - navigationBBox.minX,\n                            y: currentPoint.y + itemHeight / 2 - navigationBBox.height / 2 - navigationBBox.minY,\n                        });\n                    }\n                    pages += 1;\n                    currentPoint.x = startX;\n                    currentPoint.y += itemHeight;\n                }\n                _this.moveElementTo(item, currentPoint);\n                item.getParent().setClip({\n                    type: 'rect',\n                    attrs: {\n                        x: currentPoint.x,\n                        y: currentPoint.y,\n                        width: width + itemSpacing,\n                        height: itemHeight,\n                    },\n                });\n                currentPoint.x += width + itemSpacing;\n            });\n        }\n        else {\n            var itemMarginBottom_1 = this.get('itemMarginBottom');\n            each(subGroups, function (item) {\n                var bbox = item.getBBox();\n                if (bbox.width > pageWidth) {\n                    pageWidth = bbox.width;\n                }\n            });\n            maxItemWidth = pageWidth;\n            pageWidth += itemSpacing;\n            if (maxWidth) {\n                // maxWidth 限制加上\n                pageWidth = Math.min(maxWidth, pageWidth);\n                maxItemWidth = Math.min(maxWidth, maxItemWidth);\n            }\n            this.pageWidth = pageWidth;\n            this.pageHeight = maxHeight - Math.max(navigationBBox.height, (itemHeight + itemMarginBottom_1));\n            var cntPerPage_1 = Math.floor(this.pageHeight / (itemHeight + itemMarginBottom_1));\n            each(subGroups, function (item, index) {\n                if (index !== 0 && index % cntPerPage_1 === 0) {\n                    pages += 1;\n                    currentPoint.x += pageWidth;\n                    currentPoint.y = startY;\n                }\n                _this.moveElementTo(item, currentPoint);\n                item.getParent().setClip({\n                    type: 'rect',\n                    attrs: {\n                        x: currentPoint.x,\n                        y: currentPoint.y,\n                        width: pageWidth,\n                        height: itemHeight,\n                    },\n                });\n                currentPoint.y += itemHeight + itemMarginBottom_1;\n            });\n            this.totalPagesCnt = pages;\n            this.moveElementTo(navigation, {\n                x: startX + maxItemWidth / 2 - navigationBBox.width / 2 - navigationBBox.minX,\n                y: maxHeight - navigationBBox.height - navigationBBox.minY,\n            });\n        }\n        if (this.pageHeight && this.pageWidth) {\n            // 为了使固定的 clip 生效，clip 设置在 itemContainerGroup 上，itemGroup 需要在翻页时会设置 matrix\n            itemGroup.getParent().setClip({\n                type: 'rect',\n                attrs: {\n                    x: this.startX,\n                    y: this.startY,\n                    width: this.pageWidth,\n                    height: this.pageHeight,\n                },\n            });\n        }\n        this.totalPagesCnt = pages;\n        if (this.currentPageIndex > this.totalPagesCnt) {\n            this.currentPageIndex = 1;\n        }\n        this.updateNavigation(navigation);\n        // update initial matrix\n        itemGroup.attr('matrix', this.getCurrentNavigationMatrix());\n    };\n    Category.prototype.drawNavigation = function (group, layout, text, size) {\n        var currentPoint = { x: 0, y: 0 };\n        var subGroup = this.addGroup(group, {\n            id: this.getElementId('navigation-group'),\n            name: 'legend-navigation',\n        });\n        var leftArrow = this.drawArrow(subGroup, currentPoint, 'navigation-arrow-left', layout === 'horizontal' ? 'up' : 'left', size);\n        leftArrow.on('click', this.onNavigationBack);\n        var leftArrowBBox = leftArrow.getBBox();\n        currentPoint.x += leftArrowBBox.width + 2;\n        var textShape = this.addShape(subGroup, {\n            type: 'text',\n            id: this.getElementId('navigation-text'),\n            name: 'navigation-text',\n            attrs: {\n                x: currentPoint.x,\n                y: currentPoint.y + size / 2,\n                text: text,\n                fontSize: 12,\n                fill: '#ccc',\n                textBaseline: 'middle',\n            },\n        });\n        var textBBox = textShape.getBBox();\n        currentPoint.x += textBBox.width + 2;\n        var rightArrow = this.drawArrow(subGroup, currentPoint, 'navigation-arrow-right', layout === 'horizontal' ? 'down' : 'right', size);\n        rightArrow.on('click', this.onNavigationAfter);\n        return subGroup;\n    };\n    Category.prototype.updateNavigation = function (navigation) {\n        var text = this.currentPageIndex + \"/\" + this.totalPagesCnt;\n        var textShape = navigation ? navigation.getChildren()[1] : this.getElementByLocalId('navigation-text');\n        var leftArrow = navigation\n            ? navigation.findById(this.getElementId('navigation-arrow-left'))\n            : this.getElementByLocalId('navigation-arrow-left');\n        var rightArrow = navigation\n            ? navigation.findById(this.getElementId('navigation-arrow-right'))\n            : this.getElementByLocalId('navigation-arrow-right');\n        var origBBox = textShape.getBBox();\n        textShape.attr('text', text);\n        var newBBox = textShape.getBBox();\n        textShape.attr('x', textShape.attr('x') - (newBBox.width - origBBox.width) / 2);\n        leftArrow.attr('opacity', this.currentPageIndex === 1 ? 0.45 : 1);\n        leftArrow.attr('cursor', this.currentPageIndex === 1 ? 'not-allowed' : 'pointer');\n        rightArrow.attr('opacity', this.currentPageIndex === this.totalPagesCnt ? 0.45 : 1);\n        rightArrow.attr('cursor', this.currentPageIndex === this.totalPagesCnt ? 'not-allowed' : 'pointer');\n    };\n    Category.prototype.drawArrow = function (group, currentPoint, name, direction, size) {\n        var x = currentPoint.x, y = currentPoint.y;\n        var rotateMap = {\n            right: (90 * Math.PI) / 180,\n            left: ((360 - 90) * Math.PI) / 180,\n            up: 0,\n            down: (180 * Math.PI) / 180,\n        };\n        var shape = this.addShape(group, {\n            type: 'path',\n            id: this.getElementId(name),\n            name: name,\n            attrs: {\n                path: [['M', x + size / 2, y], ['L', x, y + size], ['L', x + size, y + size], ['Z']],\n                fill: '#000',\n                cursor: 'pointer',\n            },\n        });\n        shape.attr('matrix', getMatrixByAngle({ x: x + size / 2, y: y + size / 2 }, rotateMap[direction]));\n        return shape;\n    };\n    Category.prototype.getCurrentNavigationMatrix = function () {\n        var _a = this, currentPageIndex = _a.currentPageIndex, pageWidth = _a.pageWidth, pageHeight = _a.pageHeight;\n        var layout = this.get('layout');\n        var translate = layout === 'horizontal'\n            ? {\n                x: 0,\n                y: pageHeight * (1 - currentPageIndex),\n            }\n            : {\n                x: pageWidth * (1 - currentPageIndex),\n                y: 0,\n            };\n        return getMatrixByTranslate(translate);\n    };\n    // 附加状态对应的样式\n    Category.prototype.applyItemStates = function (item, subGroup) {\n        var states = this.getItemStates(item);\n        var hasStates = states.length > 0;\n        if (hasStates) {\n            var children = subGroup.getChildren();\n            var itemStates_1 = this.get('itemStates');\n            each(children, function (element) {\n                var name = element.get('name');\n                var elName = name.split('-')[2]; // marker, name, value\n                var statesStyle = getStatesStyle(item, elName, itemStates_1);\n                if (statesStyle) {\n                    element.attr(statesStyle);\n                    if (elName === 'marker' && !(element.get('isStroke') && element.get('isFill'))) {\n                        // 如果 marker 是单填充或者单描边的话，就不要额外添加 stroke 或这 fill 属性，否则会影响 unchecked 后的显示\n                        if (element.get('isStroke')) {\n                            element.attr('fill', null);\n                        }\n                        if (element.get('isFill')) {\n                            element.attr('stroke', null);\n                        }\n                    }\n                }\n            });\n        }\n    };\n    // 获取 itemWidth 的最终设置\n    Category.prototype.getLimitItemWidth = function () {\n        var itemWidth = this.get('itemWidth');\n        var maxItemWidth = this.get('maxItemWidth');\n        if (maxItemWidth) {\n            // 设置了最大宽度\n            if (itemWidth) {\n                maxItemWidth = itemWidth <= maxItemWidth ? itemWidth : maxItemWidth;\n            }\n        }\n        else if (itemWidth) {\n            maxItemWidth = itemWidth;\n        }\n        return maxItemWidth;\n    };\n    return Category;\n}(LegendBase));\nexport default Category;\n//# sourceMappingURL=category.js.map","import { __assign, __extends } from \"tslib\";\nimport { clone, mix, upperFirst } from '@antv/util';\nimport Theme from '../util/theme';\nimport { getValueByPercent } from '../util/util';\nimport LegendBase from './base';\nvar HANDLER_HEIGHT_RATIO = 1.4;\nvar HANDLER_TRIANGLE_RATIO = 0.4;\nvar ContinueLegend = /** @class */ (function (_super) {\n    __extends(ContinueLegend, _super);\n    function ContinueLegend() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ContinueLegend.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { type: 'continue', min: 0, max: 100, value: null, colors: [], track: {}, rail: {}, label: {}, handler: {}, slidable: true, tip: null, step: null, maxWidth: null, maxHeight: null, defaultCfg: {\n                label: {\n                    align: 'rail',\n                    spacing: 5,\n                    formatter: null,\n                    style: {\n                        fontSize: 12,\n                        fill: Theme.textColor,\n                        textBaseline: 'middle',\n                        fontFamily: Theme.fontFamily,\n                    },\n                },\n                handler: {\n                    size: 10,\n                    style: {\n                        fill: '#fff',\n                        stroke: '#333',\n                    },\n                },\n                track: {},\n                rail: {\n                    type: 'color',\n                    size: 20,\n                    defaultLength: 100,\n                    style: {\n                        fill: '#DCDEE2',\n                    },\n                },\n                title: {\n                    spacing: 5,\n                    style: {\n                        fill: Theme.textColor,\n                        fontSize: 12,\n                        textAlign: 'start',\n                        textBaseline: 'top',\n                    },\n                },\n            } });\n    };\n    ContinueLegend.prototype.isSlider = function () {\n        return true;\n    };\n    // 实现 IList 接口\n    ContinueLegend.prototype.getValue = function () {\n        return this.getCurrentValue();\n    };\n    ContinueLegend.prototype.getRange = function () {\n        return {\n            min: this.get('min'),\n            max: this.get('max'),\n        };\n    };\n    // 改变 range\n    ContinueLegend.prototype.setRange = function (min, max) {\n        this.update({\n            min: min,\n            max: max,\n        });\n    };\n    ContinueLegend.prototype.setValue = function (value) {\n        var originValue = this.getValue();\n        this.set('value', value);\n        var group = this.get('group');\n        this.resetTrackClip();\n        if (this.get('slidable')) {\n            this.resetHandlers(group);\n        }\n        this.delegateEmit('valuechanged', {\n            originValue: originValue,\n            value: value,\n        });\n    };\n    ContinueLegend.prototype.initEvent = function () {\n        var group = this.get('group');\n        this.bindSliderEvent(group);\n        this.bindRailEvent(group);\n        this.bindTrackEvent(group);\n    };\n    ContinueLegend.prototype.drawLegendContent = function (group) {\n        this.drawRail(group);\n        this.drawLabels(group);\n        this.fixedElements(group); // 调整各个图形位置，适应宽高的限制\n        this.resetTrack(group);\n        this.resetTrackClip(group);\n        if (this.get('slidable')) {\n            this.resetHandlers(group);\n        }\n    };\n    ContinueLegend.prototype.bindSliderEvent = function (group) {\n        this.bindHandlersEvent(group);\n    };\n    ContinueLegend.prototype.bindHandlersEvent = function (group) {\n        var _this = this;\n        group.on('legend-handler-min:drag', function (ev) {\n            var minValue = _this.getValueByCanvasPoint(ev.x, ev.y);\n            var currentValue = _this.getCurrentValue();\n            var maxValue = currentValue[1];\n            if (maxValue < minValue) {\n                // 如果小于最小值，则调整最小值\n                maxValue = minValue;\n            }\n            _this.setValue([minValue, maxValue]);\n        });\n        group.on('legend-handler-max:drag', function (ev) {\n            var maxValue = _this.getValueByCanvasPoint(ev.x, ev.y);\n            var currentValue = _this.getCurrentValue();\n            var minValue = currentValue[0];\n            if (minValue > maxValue) {\n                // 如果小于最小值，则调整最小值\n                minValue = maxValue;\n            }\n            _this.setValue([minValue, maxValue]);\n        });\n    };\n    ContinueLegend.prototype.bindRailEvent = function (group) { };\n    ContinueLegend.prototype.bindTrackEvent = function (group) {\n        var _this = this;\n        var prePoint = null;\n        group.on('legend-track:dragstart', function (ev) {\n            prePoint = {\n                x: ev.x,\n                y: ev.y,\n            };\n        });\n        group.on('legend-track:drag', function (ev) {\n            if (!prePoint) {\n                return;\n            }\n            var preValue = _this.getValueByCanvasPoint(prePoint.x, prePoint.y);\n            var curValue = _this.getValueByCanvasPoint(ev.x, ev.y);\n            var currentValue = _this.getCurrentValue();\n            var curDiff = currentValue[1] - currentValue[0];\n            var range = _this.getRange();\n            var dValue = curValue - preValue;\n            if (dValue < 0) {\n                // 减小, 同时未出边界\n                if (currentValue[0] + dValue > range.min) {\n                    _this.setValue([currentValue[0] + dValue, currentValue[1] + dValue]);\n                }\n                else {\n                    _this.setValue([range.min, range.min + curDiff]);\n                }\n                //  && ||\n            }\n            else if (dValue > 0) {\n                if (dValue > 0 && currentValue[1] + dValue < range.max) {\n                    _this.setValue([currentValue[0] + dValue, currentValue[1] + dValue]);\n                }\n                else {\n                    _this.setValue([range.max - curDiff, range.max]);\n                }\n            }\n            prePoint = {\n                x: ev.x,\n                y: ev.y,\n            };\n        });\n        group.on('legend-track:dragend', function (ev) {\n            prePoint = null;\n        });\n    };\n    ContinueLegend.prototype.drawLabels = function (group) {\n        this.drawLabel('min', group);\n        this.drawLabel('max', group);\n    };\n    ContinueLegend.prototype.drawLabel = function (name, group) {\n        var labelCfg = this.get('label');\n        var style = labelCfg.style;\n        var labelAlign = labelCfg.align;\n        var value = this.get(name);\n        var alignAttrs = this.getLabelAlignAttrs(name, labelAlign);\n        var localId = \"label-\" + name;\n        this.addShape(group, {\n            type: 'text',\n            id: this.getElementId(localId),\n            name: \"legend-label-\" + name,\n            attrs: __assign(__assign({ x: 0, y: 0, text: value }, style), alignAttrs),\n        });\n    };\n    // 获取文本的对齐方式，为了自适应真实操碎了心\n    ContinueLegend.prototype.getLabelAlignAttrs = function (name, align) {\n        var isVertical = this.isVertical();\n        var textAlign = 'center';\n        var textBaseline = 'middle';\n        if (isVertical) {\n            // 垂直布局的所有的文本都左对齐\n            textAlign = 'start';\n            if (align !== 'rail') {\n                if (name === 'min') {\n                    textBaseline = 'top';\n                }\n                else {\n                    textBaseline = 'bottom';\n                }\n            }\n            else {\n                textBaseline = 'top';\n            }\n        }\n        else {\n            if (align !== 'rail') {\n                textBaseline = 'top';\n                if (name === 'min') {\n                    textAlign = 'start';\n                }\n                else {\n                    textAlign = 'end';\n                }\n            }\n            else {\n                textAlign = 'start';\n                textBaseline = 'middle';\n            }\n        }\n        return {\n            textAlign: textAlign,\n            textBaseline: textBaseline,\n        };\n    };\n    ContinueLegend.prototype.getRailPath = function (x, y, w, h) {\n        var railCfg = this.get('rail');\n        var size = railCfg.size, defaultLength = railCfg.defaultLength, type = railCfg.type;\n        var isVertical = this.isVertical();\n        var length = defaultLength;\n        var width = w;\n        var height = h;\n        if (!width) {\n            width = isVertical ? size : length;\n        }\n        if (!height) {\n            height = isVertical ? length : size;\n        }\n        var path = [];\n        if (type === 'color') {\n            path.push(['M', x, y]);\n            path.push(['L', x + width, y]);\n            path.push(['L', x + width, y + height]);\n            path.push(['L', x, y + height]);\n            path.push(['Z']);\n        }\n        else {\n            path.push(['M', x + width, y]);\n            path.push(['L', x + width, y + height]);\n            path.push(['L', x, y + height]);\n            path.push(['Z']);\n        }\n        return path;\n    };\n    ContinueLegend.prototype.drawRail = function (group) {\n        var railCfg = this.get('rail');\n        var style = railCfg.style;\n        this.addShape(group, {\n            type: 'path',\n            id: this.getElementId('rail'),\n            name: 'legend-rail',\n            attrs: __assign({ path: this.getRailPath(0, 0) }, style),\n        });\n    };\n    // 将传入的颜色转换成渐变色\n    ContinueLegend.prototype.getTrackColor = function (colors) {\n        var count = colors.length;\n        if (!count) {\n            return null;\n        }\n        if (count === 1) {\n            return colors[0];\n        }\n        var color; // 最终形态 l(0) 0:colors[0] 0.5:colors[1] 1:colors[2];\n        if (this.isVertical()) {\n            // 根据方向设置渐变方向\n            color = 'l(90)';\n        }\n        else {\n            color = 'l(0)';\n        }\n        for (var i = 0; i < count; i++) {\n            var percent = i / (count - 1);\n            color += \" \" + percent + \":\" + colors[i];\n        }\n        return color;\n    };\n    ContinueLegend.prototype.getTrackPath = function (group) {\n        var railShape = this.getRailShape(group);\n        var path = railShape.attr('path');\n        return clone(path);\n    };\n    ContinueLegend.prototype.getClipTrackAttrs = function (group) {\n        var value = this.getCurrentValue();\n        var min = value[0], max = value[1];\n        var railBBox = this.getRailBBox(group);\n        var startPoint = this.getPointByValue(min, group);\n        var endPoint = this.getPointByValue(max, group);\n        var isVertical = this.isVertical();\n        var x;\n        var y;\n        var width;\n        var height;\n        if (isVertical) {\n            x = railBBox.minX;\n            y = startPoint.y;\n            width = railBBox.width;\n            height = endPoint.y - startPoint.y;\n        }\n        else {\n            x = startPoint.x;\n            y = railBBox.minY;\n            width = endPoint.x - startPoint.x;\n            height = railBBox.height;\n        }\n        return {\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n        };\n    };\n    // 获取 track 的属性，由 path 和 颜色构成\n    ContinueLegend.prototype.getTrackAttrs = function (group) {\n        var trackCfg = this.get('track');\n        var colors = this.get('colors');\n        var path = this.getTrackPath(group);\n        return mix({\n            path: path,\n            fill: this.getTrackColor(colors),\n        }, trackCfg.style);\n    };\n    ContinueLegend.prototype.resetTrackClip = function (group) {\n        var container = group || this.get('group');\n        var trackId = this.getElementId('track');\n        var trackShape = container.findById(trackId);\n        var clipShape = trackShape.getClip();\n        var attrs = this.getClipTrackAttrs(group);\n        if (!clipShape) {\n            trackShape.setClip({\n                type: 'rect',\n                attrs: attrs,\n            });\n        }\n        else {\n            clipShape.attr(attrs);\n        }\n    };\n    ContinueLegend.prototype.resetTrack = function (group) {\n        var trackId = this.getElementId('track');\n        var trackShape = group.findById(trackId);\n        var trackAttrs = this.getTrackAttrs(group);\n        if (trackShape) {\n            trackShape.attr(trackAttrs);\n        }\n        else {\n            this.addShape(group, {\n                type: 'path',\n                id: trackId,\n                draggable: this.get('slidable'),\n                name: 'legend-track',\n                attrs: trackAttrs,\n            });\n        }\n    };\n    ContinueLegend.prototype.getPointByValue = function (value, group) {\n        var _a = this.getRange(), min = _a.min, max = _a.max;\n        var percent = (value - min) / (max - min);\n        var bbox = this.getRailBBox(group);\n        var isVertcal = this.isVertical();\n        var point = { x: 0, y: 0 };\n        if (isVertcal) {\n            point.x = bbox.minX + bbox.width / 2;\n            point.y = getValueByPercent(bbox.minY, bbox.maxY, percent);\n        }\n        else {\n            point.x = getValueByPercent(bbox.minX, bbox.maxX, percent);\n            point.y = bbox.minY + bbox.height / 2;\n        }\n        return point;\n    };\n    ContinueLegend.prototype.getRailShape = function (group) {\n        var container = group || this.get('group');\n        return container.findById(this.getElementId('rail'));\n    };\n    // 获取滑轨的宽高信息\n    ContinueLegend.prototype.getRailBBox = function (group) {\n        var railShape = this.getRailShape(group);\n        var bbox = railShape.getBBox();\n        return bbox;\n    };\n    ContinueLegend.prototype.getRailCanvasBBox = function () {\n        var container = this.get('group');\n        var railShape = container.findById(this.getElementId('rail'));\n        var bbox = railShape.getCanvasBBox();\n        return bbox;\n    };\n    // 是否垂直\n    ContinueLegend.prototype.isVertical = function () {\n        return this.get('layout') === 'vertical';\n    };\n    // 用于交互时\n    ContinueLegend.prototype.getValueByCanvasPoint = function (x, y) {\n        var _a = this.getRange(), min = _a.min, max = _a.max;\n        var bbox = this.getRailCanvasBBox(); // 因为 x, y 是画布坐标\n        var isVertcal = this.isVertical();\n        var step = this.get('step');\n        var percent;\n        if (isVertcal) {\n            // 垂直时计算 y\n            percent = (y - bbox.minY) / bbox.height;\n        }\n        else {\n            // 水平时计算 x\n            percent = (x - bbox.minX) / bbox.width;\n        }\n        var value = getValueByPercent(min, max, percent);\n        if (step) {\n            var count = Math.round((value - min) / step);\n            value = min + count * step; // 移动到最近的\n        }\n        if (value > max) {\n            value = max;\n        }\n        if (value < min) {\n            value = min;\n        }\n        return value;\n    };\n    // 当前选中的范围\n    ContinueLegend.prototype.getCurrentValue = function () {\n        var value = this.get('value');\n        if (!value) {\n            // 如果没有定义，取最大范围\n            value = [this.get('min'), this.get('max')];\n        }\n        return value;\n    };\n    // 重置滑块 handler\n    ContinueLegend.prototype.resetHandlers = function (group) {\n        var currentValue = this.getCurrentValue();\n        var min = currentValue[0], max = currentValue[1];\n        this.resetHandler(group, 'min', min);\n        this.resetHandler(group, 'max', max);\n    };\n    // 获取滑块的 path\n    ContinueLegend.prototype.getHandlerPath = function (handlerCfg, point) {\n        var isVertical = this.isVertical();\n        var path = [];\n        var width = handlerCfg.size;\n        var x = point.x, y = point.y;\n        var height = width * HANDLER_HEIGHT_RATIO;\n        var halfWidth = width / 2;\n        var oneSixthWidth = width / 6;\n        if (isVertical) {\n            /**\n             * 竖直情况下的滑块 handler，左侧顶点是 x,y\n             *  /----|\n             *    -- |\n             *    -- |\n             *  \\----|\n             */\n            var triangleX = x + height * HANDLER_TRIANGLE_RATIO;\n            path.push(['M', x, y]);\n            path.push(['L', triangleX, y + halfWidth]);\n            path.push(['L', x + height, y + halfWidth]);\n            path.push(['L', x + height, y - halfWidth]);\n            path.push(['L', triangleX, y - halfWidth]);\n            path.push(['Z']);\n            // 绘制两条横线\n            path.push(['M', triangleX, y + oneSixthWidth]);\n            path.push(['L', x + height - 2, y + oneSixthWidth]);\n            path.push(['M', triangleX, y - oneSixthWidth]);\n            path.push(['L', x + height - 2, y - oneSixthWidth]);\n        }\n        else {\n            /**\n             * 水平情况下的滑块，上面顶点处是 x,y\n             *  /   \\\n             * | | | |\n             * | | | |\n             *  -----\n             */\n            var triangleY = y + height * HANDLER_TRIANGLE_RATIO;\n            path.push(['M', x, y]);\n            path.push(['L', x - halfWidth, triangleY]);\n            path.push(['L', x - halfWidth, y + height]);\n            path.push(['L', x + halfWidth, y + height]);\n            path.push(['L', x + halfWidth, triangleY]);\n            path.push(['Z']);\n            // 绘制两条竖线\n            path.push(['M', x - oneSixthWidth, triangleY]);\n            path.push(['L', x - oneSixthWidth, y + height - 2]);\n            path.push(['M', x + oneSixthWidth, triangleY]);\n            path.push(['L', x + oneSixthWidth, y + height - 2]);\n        }\n        return path;\n    };\n    // 调整 handler 的位置，如果未存在则绘制\n    ContinueLegend.prototype.resetHandler = function (group, name, value) {\n        var point = this.getPointByValue(value, group);\n        var handlerCfg = this.get('handler');\n        var path = this.getHandlerPath(handlerCfg, point);\n        var id = this.getElementId(\"handler-\" + name);\n        var handlerShape = group.findById(id);\n        var isVertical = this.isVertical();\n        if (handlerShape) {\n            handlerShape.attr('path', path);\n        }\n        else {\n            this.addShape(group, {\n                type: 'path',\n                name: \"legend-handler-\" + name,\n                draggable: true,\n                id: id,\n                attrs: __assign(__assign({ path: path }, handlerCfg.style), { cursor: isVertical ? 'ns-resize' : 'ew-resize' }),\n            });\n        }\n    };\n    // 当设置了 maxWidth, maxHeight 时调整 rail 的宽度，\n    // 文本的位置\n    ContinueLegend.prototype.fixedElements = function (group) {\n        var railShape = group.findById(this.getElementId('rail'));\n        var minLabel = group.findById(this.getElementId('label-min'));\n        var maxLabel = group.findById(this.getElementId('label-max'));\n        var startPoint = this.getDrawPoint();\n        if (this.isVertical()) {\n            // 横向布局\n            this.fixedVertail(minLabel, maxLabel, railShape, startPoint);\n        }\n        else {\n            // 水平布局\n            this.fixedHorizontal(minLabel, maxLabel, railShape, startPoint);\n        }\n    };\n    ContinueLegend.prototype.fitRailLength = function (minLabelBBox, maxLabelBBox, railBBox, railShape) {\n        var isVertical = this.isVertical();\n        var lengthField = isVertical ? 'height' : 'width';\n        var labelCfg = this.get('label');\n        var labelAlign = labelCfg.align;\n        var spacing = labelCfg.spacing;\n        var maxLength = this.get(\"max\" + upperFirst(lengthField)); // get('maxWidth')\n        if (maxLength) {\n            var elementsLength = labelAlign === 'rail'\n                ? railBBox[lengthField] + minLabelBBox[lengthField] + maxLabelBBox[lengthField] + spacing * 2\n                : railBBox[lengthField];\n            var diff = elementsLength - maxLength;\n            if (diff > 0) {\n                // 大于限制的长度\n                this.changeRailLength(railShape, lengthField, railBBox[lengthField] - diff);\n            }\n        }\n    };\n    ContinueLegend.prototype.changeRailLength = function (railShape, lengthField, length) {\n        var bbox = railShape.getBBox();\n        var path;\n        if (lengthField === 'height') {\n            path = this.getRailPath(bbox.x, bbox.y, bbox.width, length);\n        }\n        else {\n            path = this.getRailPath(bbox.x, bbox.y, length, bbox.height);\n        }\n        railShape.attr('path', path);\n    };\n    ContinueLegend.prototype.changeRailPosition = function (railShape, x, y) {\n        var bbox = railShape.getBBox();\n        var path = this.getRailPath(x, y, bbox.width, bbox.height);\n        railShape.attr('path', path);\n    };\n    ContinueLegend.prototype.fixedHorizontal = function (minLabel, maxLabel, railShape, startPoint) {\n        var labelCfg = this.get('label');\n        var labelAlign = labelCfg.align;\n        var spacing = labelCfg.spacing;\n        var railBBox = railShape.getBBox();\n        var minLabelBBox = minLabel.getBBox();\n        var maxLabelBBox = maxLabel.getBBox();\n        var railHeight = railBBox.height; // 取 rail 的高度，作为高度\n        this.fitRailLength(minLabelBBox, maxLabelBBox, railBBox, railShape);\n        railBBox = railShape.getBBox();\n        if (labelAlign === 'rail') {\n            // 沿着 rail 方向\n            minLabel.attr({\n                x: startPoint.x,\n                y: startPoint.y + railHeight / 2,\n            });\n            this.changeRailPosition(railShape, startPoint.x + minLabelBBox.width + spacing, startPoint.y);\n            maxLabel.attr({\n                x: startPoint.x + minLabelBBox.width + railBBox.width + spacing * 2,\n                y: startPoint.y + railHeight / 2,\n            });\n        }\n        else if (labelAlign === 'top') {\n            minLabel.attr({\n                x: startPoint.x,\n                y: startPoint.y,\n            });\n            maxLabel.attr({\n                x: startPoint.x + railBBox.width,\n                y: startPoint.y,\n            });\n            this.changeRailPosition(railShape, startPoint.x, startPoint.y + minLabelBBox.height + spacing);\n        }\n        else {\n            this.changeRailPosition(railShape, startPoint.x, startPoint.y);\n            minLabel.attr({\n                x: startPoint.x,\n                y: startPoint.y + railBBox.height + spacing,\n            });\n            maxLabel.attr({\n                x: startPoint.x + railBBox.width,\n                y: startPoint.y + railBBox.height + spacing,\n            });\n        }\n    };\n    ContinueLegend.prototype.fixedVertail = function (minLabel, maxLabel, railShape, startPoint) {\n        var labelCfg = this.get('label');\n        var labelAlign = labelCfg.align;\n        var spacing = labelCfg.spacing;\n        var railBBox = railShape.getBBox();\n        var minLabelBBox = minLabel.getBBox();\n        var maxLabelBBox = maxLabel.getBBox();\n        this.fitRailLength(minLabelBBox, maxLabelBBox, railBBox, railShape);\n        railBBox = railShape.getBBox();\n        if (labelAlign === 'rail') {\n            // 沿着 rail 方向\n            minLabel.attr({\n                x: startPoint.x,\n                y: startPoint.y,\n            });\n            this.changeRailPosition(railShape, startPoint.x, startPoint.y + minLabelBBox.height + spacing);\n            maxLabel.attr({\n                x: startPoint.x,\n                y: startPoint.y + minLabelBBox.height + railBBox.height + spacing * 2,\n            });\n        }\n        else if (labelAlign === 'right') {\n            minLabel.attr({\n                x: startPoint.x + railBBox.width + spacing,\n                y: startPoint.y,\n            });\n            this.changeRailPosition(railShape, startPoint.x, startPoint.y);\n            maxLabel.attr({\n                x: startPoint.x + railBBox.width + spacing,\n                y: startPoint.y + railBBox.height,\n            });\n        }\n        else {\n            // left\n            var maxLabelWidth = Math.max(minLabelBBox.width, maxLabelBBox.width);\n            minLabel.attr({\n                x: startPoint.x,\n                y: startPoint.y,\n            });\n            this.changeRailPosition(railShape, startPoint.x + maxLabelWidth + spacing, startPoint.y);\n            maxLabel.attr({\n                x: startPoint.x,\n                y: startPoint.y + railBBox.height,\n            });\n        }\n    };\n    return ContinueLegend;\n}(LegendBase));\nexport default ContinueLegend;\n//# sourceMappingURL=continuous.js.map","export var CONTAINER_CLASS = 'g2-tooltip';\nexport var TITLE_CLASS = 'g2-tooltip-title';\nexport var LIST_CLASS = 'g2-tooltip-list';\nexport var LIST_ITEM_CLASS = 'g2-tooltip-list-item';\nexport var MARKER_CLASS = 'g2-tooltip-marker';\nexport var VALUE_CLASS = 'g2-tooltip-value';\nexport var NAME_CLASS = 'g2-tooltip-name';\nexport var CROSSHAIR_X = 'g2-tooltip-crosshair-x';\nexport var CROSSHAIR_Y = 'g2-tooltip-crosshair-y';\n//# sourceMappingURL=css-const.js.map","import { __assign, __extends } from \"tslib\";\nimport colorUtil from '@antv/color-util';\nimport { createDom, modifyCSS } from '@antv/dom-util';\nimport { each, hasKey, isElement, substitute } from '@antv/util';\nimport HtmlComponent from '../abstract/html-component';\nimport { clearDom, regionToBBox, toPx } from '../util/util';\nimport * as CssConst from './css-const';\nimport TooltipTheme from './html-theme';\nimport { getAlignPoint } from '../util/align';\nfunction hasOneKey(obj, keys) {\n    var result = false;\n    each(keys, function (key) {\n        if (hasKey(obj, key)) {\n            result = true;\n            return false;\n        }\n    });\n    return result;\n}\nvar Tooltip = /** @class */ (function (_super) {\n    __extends(Tooltip, _super);\n    function Tooltip() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Tooltip.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'tooltip', type: 'html', x: 0, y: 0, items: [], customContent: null, containerTpl: \"<div class=\\\"\" + CssConst.CONTAINER_CLASS + \"\\\"><div class=\\\"\" + CssConst.TITLE_CLASS + \"\\\"></div><ul class=\\\"\" + CssConst.LIST_CLASS + \"\\\"></ul></div>\", itemTpl: \"<li class=\\\"\" + CssConst.LIST_ITEM_CLASS + \"\\\" data-index={index}>\\n          <span class=\\\"\" + CssConst.MARKER_CLASS + \"\\\" style=\\\"background:{color}\\\"></span>\\n          <span class=\\\"\" + CssConst.NAME_CLASS + \"\\\">{name}</span>:\\n          <span class=\\\"\" + CssConst.VALUE_CLASS + \"\\\">{value}</span>\\n        </li>\", xCrosshairTpl: \"<div class=\\\"\" + CssConst.CROSSHAIR_X + \"\\\"></div>\", yCrosshairTpl: \"<div class=\\\"\" + CssConst.CROSSHAIR_Y + \"\\\"></div>\", title: null, showTitle: true, \n            /**\n             * tooltip 限制的区域\n             * @type {Region}\n             */\n            region: null, \n            // crosshair 的限制区域\n            crosshairsRegion: null, containerClassName: CssConst.CONTAINER_CLASS, \n            // x, y, xy\n            crosshairs: null, offset: 10, position: 'right', domStyles: null, defaultStyles: TooltipTheme });\n    };\n    // tooltip 渲染时，渲染 title，items 和 corosshairs\n    Tooltip.prototype.render = function () {\n        if (this.get('customContent')) {\n            this.renderCustomContent();\n        }\n        else {\n            this.resetTitle();\n            this.renderItems();\n        }\n        // 绘制完成后，再定位\n        this.resetPosition();\n    };\n    // 复写清空函数，因为有模板的存在，所以默认的写法不合适\n    Tooltip.prototype.clear = function () {\n        // 由于 crosshair 没有在 container 内，所以需要单独清理\n        this.clearCrosshairs();\n        this.setTitle(''); // 清空标题\n        this.clearItemDoms();\n    };\n    Tooltip.prototype.show = function () {\n        var container = this.getContainer();\n        if (!container || this.destroyed) {\n            // 防止容器不存在或者被销毁时报错\n            return;\n        }\n        this.set('visible', true);\n        modifyCSS(container, {\n            visibility: 'visible',\n        });\n        this.setCrossHairsVisible(true);\n    };\n    Tooltip.prototype.hide = function () {\n        var container = this.getContainer();\n        // relative: https://github.com/antvis/g2/issues/1221\n        if (!container || this.destroyed) {\n            return;\n        }\n        this.set('visible', false);\n        modifyCSS(container, {\n            visibility: 'hidden',\n        });\n        this.setCrossHairsVisible(false);\n    };\n    // 实现 IPointLocation 的接口\n    Tooltip.prototype.getLocation = function () {\n        return { x: this.get('x'), y: this.get('y') };\n    };\n    // 实现 IPointLocation 的接口\n    Tooltip.prototype.setLocation = function (point) {\n        this.set('x', point.x);\n        this.set('y', point.y);\n        this.resetPosition();\n    };\n    Tooltip.prototype.setCrossHairsVisible = function (visible) {\n        var display = visible ? '' : 'none';\n        var xCrosshairDom = this.get('xCrosshairDom');\n        var yCrosshairDom = this.get('yCrosshairDom');\n        xCrosshairDom &&\n            modifyCSS(xCrosshairDom, {\n                display: display,\n            });\n        yCrosshairDom &&\n            modifyCSS(yCrosshairDom, {\n                display: display,\n            });\n    };\n    // 如有 customContent 则根据 customContent 设置 container\n    Tooltip.prototype.initContainer = function () {\n        _super.prototype.initContainer.call(this);\n        if (this.get('customContent')) {\n            if (this.get('container')) {\n                this.get('container').remove();\n            }\n            var container = this.getHtmlContentNode();\n            this.get('parent').appendChild(container);\n            this.set('container', container);\n            this.resetStyles();\n            this.applyStyles();\n        }\n    };\n    // 更新属性的同时，可能会引起 DOM 的变化，这里对可能引起 DOM 变化的场景做了处理\n    Tooltip.prototype.updateInner = function (cfg) {\n        if (this.get('customContent')) {\n            this.renderCustomContent();\n        }\n        else {\n            // 更新标题\n            if (hasOneKey(cfg, ['title', 'showTitle'])) {\n                this.resetTitle();\n            }\n            // 更新内容\n            if (hasKey(cfg, 'items')) {\n                this.renderItems();\n            }\n        }\n        _super.prototype.updateInner.call(this, cfg);\n    };\n    Tooltip.prototype.initDom = function () {\n        this.cacheDoms();\n    };\n    // 清理 DOM\n    Tooltip.prototype.removeDom = function () {\n        _super.prototype.removeDom.call(this);\n        this.clearCrosshairs();\n    };\n    // 调整位置\n    Tooltip.prototype.resetPosition = function () {\n        var x = this.get('x');\n        var y = this.get('y');\n        var offset = this.get('offset');\n        var _a = this.getOffset(), offsetX = _a.offsetX, offsetY = _a.offsetY;\n        var position = this.get('position');\n        var region = this.get('region');\n        var container = this.getContainer();\n        var bbox = this.getBBox();\n        var width = bbox.width, height = bbox.height;\n        var limitBox;\n        if (region) {\n            // 不限制位置\n            limitBox = regionToBBox(region);\n        }\n        var point = getAlignPoint(x, y, offset, width, height, position, limitBox);\n        modifyCSS(container, {\n            left: toPx(point.x + offsetX),\n            top: toPx(point.y + offsetY),\n        });\n        this.resetCrosshairs();\n    };\n    // 根据 customContent 渲染\n    Tooltip.prototype.renderCustomContent = function () {\n        var node = this.getHtmlContentNode();\n        var parent = this.get('parent');\n        var curContainer = this.get('container');\n        if (curContainer && curContainer.parentNode === parent) {\n            parent.replaceChild(node, curContainer);\n        }\n        else {\n            parent.appendChild(node);\n        }\n        this.set('container', node);\n        this.resetStyles();\n        this.applyStyles();\n    };\n    Tooltip.prototype.getHtmlContentNode = function () {\n        var node;\n        var customContent = this.get('customContent');\n        if (customContent) {\n            var elem = customContent(this.get('title'), this.get('items'));\n            if (isElement(elem)) {\n                node = elem;\n            }\n            else {\n                node = createDom(elem);\n            }\n        }\n        return node;\n    };\n    // 缓存模板设置的各种 DOM\n    Tooltip.prototype.cacheDoms = function () {\n        var container = this.getContainer();\n        var titleDom = container.getElementsByClassName(CssConst.TITLE_CLASS)[0];\n        var listDom = container.getElementsByClassName(CssConst.LIST_CLASS)[0];\n        this.set('titleDom', titleDom);\n        this.set('listDom', listDom);\n    };\n    // 重置 title\n    Tooltip.prototype.resetTitle = function () {\n        var title = this.get('title');\n        var showTitle = this.get('showTitle');\n        if (showTitle && title) {\n            this.setTitle(title);\n        }\n        else {\n            this.setTitle('');\n        }\n    };\n    // 设置 title 文本\n    Tooltip.prototype.setTitle = function (text) {\n        var titleDom = this.get('titleDom');\n        if (titleDom) {\n            titleDom.innerText = text;\n        }\n    };\n    // 终止 crosshair\n    Tooltip.prototype.resetCrosshairs = function () {\n        var crosshairsRegion = this.get('crosshairsRegion');\n        var crosshairs = this.get('crosshairs');\n        if (!crosshairsRegion || !crosshairs) {\n            // 不显示 crosshair，都移除，没有设定 region 也都移除掉\n            this.clearCrosshairs();\n        }\n        else {\n            var crosshairBox = regionToBBox(crosshairsRegion);\n            var xCrosshairDom = this.get('xCrosshairDom');\n            var yCrosshairDom = this.get('yCrosshairDom');\n            if (crosshairs === 'x') {\n                this.resetCrosshair('x', crosshairBox);\n                // 仅显示 x 的 crosshair，y 移除\n                if (yCrosshairDom) {\n                    yCrosshairDom.remove();\n                    this.set('yCrosshairDom', null);\n                }\n            }\n            else if (crosshairs === 'y') {\n                this.resetCrosshair('y', crosshairBox);\n                // 仅显示 y 的 crosshair，x 移除\n                if (xCrosshairDom) {\n                    xCrosshairDom.remove();\n                    this.set('xCrosshairDom', null);\n                }\n            }\n            else {\n                this.resetCrosshair('x', crosshairBox);\n                this.resetCrosshair('y', crosshairBox);\n            }\n            this.setCrossHairsVisible(this.get('visible'));\n        }\n    };\n    // 设定 crosshair 的位置，需要区分 x,y\n    Tooltip.prototype.resetCrosshair = function (name, bbox) {\n        var croshairDom = this.checkCrosshair(name);\n        var value = this.get(name);\n        if (name === 'x') {\n            modifyCSS(croshairDom, {\n                left: toPx(value),\n                top: toPx(bbox.y),\n                height: toPx(bbox.height),\n            });\n        }\n        else {\n            modifyCSS(croshairDom, {\n                top: toPx(value),\n                left: toPx(bbox.x),\n                width: toPx(bbox.width),\n            });\n        }\n    };\n    // 如果 crosshair 对应的 dom 不存在，则创建\n    Tooltip.prototype.checkCrosshair = function (name) {\n        var domName = name + \"CrosshairDom\";\n        var tplName = name + \"CrosshairTpl\";\n        var constName = \"CROSSHAIR_\" + name.toUpperCase();\n        var styleName = CssConst[constName];\n        var croshairDom = this.get(domName);\n        var parent = this.get('parent');\n        if (!croshairDom) {\n            croshairDom = createDom(this.get(tplName)); // 创建\n            this.applyStyle(styleName, croshairDom); // 设置初始样式\n            parent.appendChild(croshairDom); // 添加到跟 tooltip 同级的目录下\n            this.set(domName, croshairDom);\n        }\n        return croshairDom;\n    };\n    Tooltip.prototype.renderItems = function () {\n        this.clearItemDoms();\n        var items = this.get('items');\n        var itemTpl = this.get('itemTpl');\n        var listDom = this.get('listDom');\n        if (listDom) {\n            each(items, function (item) {\n                var color = colorUtil.toCSSGradient(item.color);\n                var substituteObj = __assign(__assign({}, item), { color: color });\n                var domStr = substitute(itemTpl, substituteObj);\n                var itemDom = createDom(domStr);\n                listDom.appendChild(itemDom);\n            });\n            this.applyChildrenStyles(listDom, this.get('domStyles'));\n        }\n    };\n    Tooltip.prototype.clearItemDoms = function () {\n        if (this.get('listDom')) {\n            clearDom(this.get('listDom'));\n        }\n    };\n    Tooltip.prototype.clearCrosshairs = function () {\n        var xCrosshairDom = this.get('xCrosshairDom');\n        var yCrosshairDom = this.get('yCrosshairDom');\n        xCrosshairDom && xCrosshairDom.remove();\n        yCrosshairDom && yCrosshairDom.remove();\n        this.set('xCrosshairDom', null);\n        this.set('yCrosshairDom', null);\n    };\n    return Tooltip;\n}(HtmlComponent));\nexport default Tooltip;\n//# sourceMappingURL=html.js.map","// 检测各边是否超出\nexport function getOutSides(x, y, width, height, limitBox) {\n    var hits = {\n        left: x < limitBox.x,\n        right: x + width > limitBox.x + limitBox.width,\n        top: y < limitBox.y,\n        bottom: y + height > limitBox.y + limitBox.height,\n    };\n    return hits;\n}\nexport function getPointByPosition(x, y, offset, width, height, position) {\n    var px = x;\n    var py = y;\n    switch (position) {\n        case 'left': // left center\n            px = x - width - offset;\n            py = y - height / 2;\n            break;\n        case 'right':\n            px = x + offset;\n            py = y - height / 2;\n            break;\n        case 'top':\n            px = x - width / 2;\n            py = y - height - offset;\n            break;\n        case 'bottom':\n            // bottom\n            px = x - width / 2;\n            py = y + offset;\n            break;\n        default:\n            // auto, 在 top-right\n            px = x + offset;\n            py = y - height - offset;\n            break;\n    }\n    return {\n        x: px,\n        y: py,\n    };\n}\nexport function getAlignPoint(x, y, offset, width, height, position, limitBox) {\n    var point = getPointByPosition(x, y, offset, width, height, position);\n    if (limitBox) {\n        var outSides = getOutSides(point.x, point.y, width, height, limitBox);\n        if (position === 'auto') {\n            // 如果是 auto，默认 tooltip 在右上角，仅需要判定右侧和上测冲突即可\n            if (outSides.right) {\n                point.x = Math.max(0, x - width - offset);\n            }\n            if (outSides.top) {\n                point.y = Math.max(0, y - height - offset);\n            }\n        }\n        else if (position === 'top' || position === 'bottom') {\n            if (outSides.left) {\n                // 左侧躲避\n                point.x = limitBox.x;\n            }\n            if (outSides.right) {\n                // 右侧躲避\n                point.x = limitBox.x + limitBox.width - width;\n            }\n            if (position === 'top' && outSides.top) {\n                // 如果上面对齐检测上面，不检测下面\n                point.y = y + offset;\n            }\n            if (position === 'bottom' && outSides.bottom) {\n                point.y = y - height - offset;\n            }\n        }\n        else {\n            // 检测左右位置\n            if (outSides.top) {\n                point.y = limitBox.y;\n            }\n            if (outSides.bottom) {\n                point.y = limitBox.y + limitBox.height - height;\n            }\n            if (position === 'left' && outSides.left) {\n                point.x = x + offset;\n            }\n            if (position === 'right' && outSides.right) {\n                point.x = x - width - offset;\n            }\n        }\n    }\n    return point;\n}\n//# sourceMappingURL=align.js.map","export var BACKGROUND_STYLE = {\n    // fill: 'red',\n    opacity: 0,\n};\nexport var LINE_STYLE = {\n    stroke: '#C5C5C5',\n    strokeOpacity: 0.85,\n};\nexport var AREA_STYLE = {\n    fill: '#CACED4',\n    opacity: 0.85,\n};\n//# sourceMappingURL=constant.js.map","import { __spreadArrays } from \"tslib\";\nimport { catmullRom2Bezier } from '@antv/path-util';\nimport { Category, Linear } from '@antv/scale';\nimport { each, head, isEqual, map } from '@antv/util';\n/**\n * 点数组转 path\n * @param points\n */\nfunction pointsToPath(points) {\n    return map(points, function (p, idx) {\n        var command = idx === 0 ? 'M' : 'L';\n        var x = p[0], y = p[1];\n        return [command, x, y];\n    });\n}\n/**\n * 将点连接成路径 path\n * @param points\n */\nexport function getLinePath(points) {\n    return pointsToPath(points);\n}\n/**\n * 将点连成平滑的曲线\n * @param points\n */\nexport function getSmoothLinePath(points) {\n    if (points.length <= 2) {\n        // 两点以内直接绘制成路径\n        return getLinePath(points);\n    }\n    var data = [];\n    each(points, function (p) {\n        // 当前点和上一个点一样的时候，忽略掉\n        if (!isEqual(p, data.slice(data.length - 2))) {\n            data.push(p[0], p[1]);\n        }\n    });\n    // const constraint = [ // 范围\n    //   [ 0, 0 ],\n    //   [ 1, 1 ],\n    // ];\n    var path = catmullRom2Bezier(data, false);\n    var _a = head(points), x = _a[0], y = _a[1];\n    path.unshift(['M', x, y]);\n    return path;\n}\n/**\n * 将数据转成 path，利用 scale 的归一化能力\n * @param data\n * @param width\n * @param height\n * @param smooth\n */\nexport function dataToPath(data, width, height, smooth) {\n    if (smooth === void 0) { smooth = true; }\n    // 利用 scale 来获取 y 上的映射\n    var y = new Linear({\n        values: data,\n    });\n    var x = new Category({\n        values: map(data, function (v, idx) { return idx; }),\n    });\n    var points = map(data, function (v, idx) {\n        return [x.scale(idx) * width, height - y.scale(v) * height];\n    });\n    return smooth ? getSmoothLinePath(points) : getLinePath(points);\n}\n/**\n * 获得 area 面积的横向连接线的 px 位置\n * @param data\n * @param width\n * @param height\n */\nexport function getAreaLineY(data, height) {\n    var y = new Linear({\n        values: data,\n    });\n    var lineY = Math.max(0, y.min);\n    return height - y.scale(lineY) * height;\n}\n/**\n * 线 path 转 area path\n * @param path\n * @param width\n * @param height\n */\nexport function linePathToAreaPath(path, width, height, data) {\n    var areaPath = __spreadArrays(path);\n    var lineYPx = getAreaLineY(data, height);\n    areaPath.push(['L', width, lineYPx]);\n    areaPath.push(['L', 0, lineYPx]);\n    areaPath.push(['Z']);\n    return areaPath;\n}\n//# sourceMappingURL=path.js.map","import { __assign, __extends } from \"tslib\";\nimport GroupComponent from '../abstract/group-component';\nimport { AREA_STYLE, BACKGROUND_STYLE, LINE_STYLE } from './constant';\nimport { dataToPath, linePathToAreaPath } from './path';\nvar Trend = /** @class */ (function (_super) {\n    __extends(Trend, _super);\n    function Trend() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Trend.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'trend', x: 0, y: 0, width: 200, height: 16, smooth: true, isArea: false, data: [], backgroundStyle: BACKGROUND_STYLE, lineStyle: LINE_STYLE, areaStyle: AREA_STYLE });\n    };\n    Trend.prototype.renderInner = function (group) {\n        var _a = this.cfg, width = _a.width, height = _a.height, data = _a.data, smooth = _a.smooth, isArea = _a.isArea, backgroundStyle = _a.backgroundStyle, lineStyle = _a.lineStyle, areaStyle = _a.areaStyle;\n        // 背景\n        this.addShape(group, {\n            id: this.getElementId('background'),\n            type: 'rect',\n            attrs: __assign({ x: 0, y: 0, width: width,\n                height: height }, backgroundStyle),\n        });\n        var path = dataToPath(data, width, height, smooth);\n        // 线\n        this.addShape(group, {\n            id: this.getElementId('line'),\n            type: 'path',\n            attrs: __assign({ path: path }, lineStyle),\n        });\n        // area\n        // 在 path 的基础上，增加两个坐标点\n        if (isArea) {\n            var areaPath = linePathToAreaPath(path, width, height, data);\n            this.addShape(group, {\n                id: this.getElementId('area'),\n                type: 'path',\n                attrs: __assign({ path: areaPath }, areaStyle),\n            });\n        }\n    };\n    Trend.prototype.applyOffset = function () {\n        var _a = this.cfg, x = _a.x, y = _a.y;\n        // 统一移动到对应的位置\n        this.moveElementTo(this.get('group'), {\n            x: x,\n            y: y,\n        });\n    };\n    return Trend;\n}(GroupComponent));\nexport { Trend };\nexport default Trend;\n//# sourceMappingURL=trend.js.map","/**\n * 一些默认的样式配置\n */\nexport var BACKGROUND_STYLE = {\n    fill: '#416180',\n    opacity: 0.05,\n};\nexport var FOREGROUND_STYLE = {\n    fill: '#5B8FF9',\n    opacity: 0.15,\n    cursor: 'move',\n};\nexport var DEFAULT_HANDLER_WIDTH = 10;\nexport var HANDLER_STYLE = {\n    width: DEFAULT_HANDLER_WIDTH,\n    height: 24,\n};\nexport var TEXT_STYLE = {\n    textBaseline: 'middle',\n    fill: '#000',\n    opacity: 0.45,\n};\nexport var SLIDER_CHANGE = 'sliderchange';\n//# sourceMappingURL=constant.js.map","import { __assign, __extends } from \"tslib\";\nimport GroupComponent from '../abstract/group-component';\nvar DEFAULT_STYLE = {\n    fill: '#F7F7F7',\n    stroke: '#BFBFBF',\n    radius: 2,\n    opacity: 1,\n    cursor: 'ew-resize',\n    // 高亮的颜色\n    highLightFill: '#FFF',\n};\nvar Handler = /** @class */ (function (_super) {\n    __extends(Handler, _super);\n    function Handler() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Handler.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'handler', x: 0, y: 0, width: 10, height: 24, style: DEFAULT_STYLE });\n    };\n    Handler.prototype.renderInner = function (group) {\n        var _a = this.cfg, width = _a.width, height = _a.height, style = _a.style;\n        var fill = style.fill, stroke = style.stroke, radius = style.radius, opacity = style.opacity, cursor = style.cursor;\n        // 按钮框框\n        this.addShape(group, {\n            type: 'rect',\n            id: this.getElementId('background'),\n            attrs: {\n                x: 0,\n                y: 0,\n                width: width,\n                height: height,\n                fill: fill,\n                stroke: stroke,\n                radius: radius,\n                opacity: opacity,\n                cursor: cursor,\n            },\n        });\n        // 两根竖线\n        var x1 = (1 / 3) * width;\n        var x2 = (2 / 3) * width;\n        var y1 = (1 / 4) * height;\n        var y2 = (3 / 4) * height;\n        this.addShape(group, {\n            id: this.getElementId('line-left'),\n            type: 'line',\n            attrs: {\n                x1: x1,\n                y1: y1,\n                x2: x1,\n                y2: y2,\n                stroke: stroke,\n                cursor: cursor,\n            },\n        });\n        this.addShape(group, {\n            id: this.getElementId('line-right'),\n            type: 'line',\n            attrs: {\n                x1: x2,\n                y1: y1,\n                x2: x2,\n                y2: y2,\n                stroke: stroke,\n                cursor: cursor,\n            },\n        });\n    };\n    Handler.prototype.applyOffset = function () {\n        this.moveElementTo(this.get('group'), {\n            x: this.get('x'),\n            y: this.get('y'),\n        });\n    };\n    Handler.prototype.initEvent = function () {\n        this.bindEvents();\n    };\n    Handler.prototype.bindEvents = function () {\n        var _this = this;\n        this.get('group').on('mouseenter', function () {\n            var highLightFill = _this.get('style').highLightFill;\n            _this.getElementByLocalId('background').attr('fill', highLightFill);\n            _this.draw();\n        });\n        this.get('group').on('mouseleave', function () {\n            var fill = _this.get('style').fill;\n            _this.getElementByLocalId('background').attr('fill', fill);\n            _this.draw();\n        });\n    };\n    Handler.prototype.draw = function () {\n        var canvas = this.get('container').get('canvas');\n        if (canvas) {\n            canvas.draw();\n        }\n    };\n    return Handler;\n}(GroupComponent));\nexport { Handler };\nexport default Handler;\n//# sourceMappingURL=handler.js.map","import { __assign, __extends } from \"tslib\";\nimport { clamp, each, get, isArray, isNil, size } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nimport { Trend } from '../trend/trend';\nimport { BACKGROUND_STYLE, DEFAULT_HANDLER_WIDTH, FOREGROUND_STYLE, HANDLER_STYLE, SLIDER_CHANGE, TEXT_STYLE, } from './constant';\nimport { Handler } from './handler';\nvar Slider = /** @class */ (function (_super) {\n    __extends(Slider, _super);\n    function Slider() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onMouseDown = function (target) { return function (e) {\n            _this.currentTarget = target;\n            // 取出原生事件\n            var event = e.originalEvent;\n            // 2. 存储当前点击位置\n            event.stopPropagation();\n            event.preventDefault();\n            // 兼容移动端获取数据\n            _this.prevX = get(event, 'touches.0.pageX', event.pageX);\n            _this.prevY = get(event, 'touches.0.pageY', event.pageY);\n            // 3. 开始滑动的时候，绑定 move 和 up 事件\n            var containerDOM = _this.getContainerDOM();\n            containerDOM.addEventListener('mousemove', _this.onMouseMove);\n            containerDOM.addEventListener('mouseup', _this.onMouseUp);\n            containerDOM.addEventListener('mouseleave', _this.onMouseUp);\n            // 移动端事件\n            containerDOM.addEventListener('touchmove', _this.onMouseMove);\n            containerDOM.addEventListener('touchend', _this.onMouseUp);\n            containerDOM.addEventListener('touchcancel', _this.onMouseUp);\n        }; };\n        _this.onMouseMove = function (event) {\n            var width = _this.cfg.width;\n            var originValue = [_this.get('start'), _this.get('end')];\n            // 滑动过程中，计算偏移，更新滑块，然后 emit 数据出去\n            event.stopPropagation();\n            event.preventDefault();\n            var x = get(event, 'touches.0.pageX', event.pageX);\n            var y = get(event, 'touches.0.pageY', event.pageY);\n            // 横向的 slider 只处理 x\n            var offsetX = x - _this.prevX;\n            var offsetXRange = _this.adjustOffsetRange(offsetX / width);\n            // 更新 start end range 范围\n            _this.updateStartEnd(offsetXRange);\n            // 更新 ui\n            _this.updateUI(_this.getElementByLocalId('foreground'), _this.getElementByLocalId('minText'), _this.getElementByLocalId('maxText'));\n            _this.prevX = x;\n            _this.prevY = y;\n            _this.draw();\n            // 因为存储的 start、end 可能不一定是按大小存储的，所以排序一下，对外是 end >= start\n            _this.emit(SLIDER_CHANGE, [_this.get('start'), _this.get('end')].sort());\n            _this.delegateEmit('valuechanged', {\n                originValue: originValue,\n                value: [_this.get('start'), _this.get('end')],\n            });\n        };\n        _this.onMouseUp = function () {\n            // 结束之后，取消绑定的事件\n            if (_this.currentTarget) {\n                _this.currentTarget = undefined;\n            }\n            var containerDOM = _this.getContainerDOM();\n            if (containerDOM) {\n                containerDOM.removeEventListener('mousemove', _this.onMouseMove);\n                containerDOM.removeEventListener('mouseup', _this.onMouseUp);\n                // 防止滑动到 canvas 外部之后，状态丢失\n                containerDOM.removeEventListener('mouseleave', _this.onMouseUp);\n                // 移动端事件\n                containerDOM.removeEventListener('touchmove', _this.onMouseMove);\n                containerDOM.removeEventListener('touchend', _this.onMouseUp);\n                containerDOM.removeEventListener('touchcancel', _this.onMouseUp);\n            }\n        };\n        return _this;\n    }\n    Slider.prototype.setRange = function (min, max) {\n        this.set('minLimit', min);\n        this.set('maxLimit', max);\n        var oldStart = this.get('start');\n        var oldEnd = this.get('end');\n        var newStart = clamp(oldStart, min, max);\n        var newEnd = clamp(oldEnd, min, max);\n        if (!this.get('isInit') && (oldStart !== newStart || oldEnd !== newEnd)) {\n            this.setValue([newStart, newEnd]);\n        }\n    };\n    Slider.prototype.getRange = function () {\n        return {\n            min: this.get('minLimit') || 0,\n            max: this.get('maxLimit') || 1,\n        };\n    };\n    Slider.prototype.setValue = function (value) {\n        var range = this.getRange();\n        if (isArray(value) && value.length === 2) {\n            var originValue = [this.get('start'), this.get('end')];\n            this.update({\n                start: clamp(value[0], range.min, range.max),\n                end: clamp(value[1], range.min, range.max),\n            });\n            if (!this.get('updateAutoRender')) {\n                this.render();\n            }\n            this.delegateEmit('valuechanged', {\n                originValue: originValue,\n                value: value,\n            });\n        }\n    };\n    Slider.prototype.getValue = function () {\n        return [this.get('start'), this.get('end')];\n    };\n    Slider.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'slider', x: 0, y: 0, width: 100, height: 16, backgroundStyle: {}, foregroundStyle: {}, handlerStyle: {}, textStyle: {}, defaultCfg: {\n                backgroundStyle: BACKGROUND_STYLE,\n                foregroundStyle: FOREGROUND_STYLE,\n                handlerStyle: HANDLER_STYLE,\n                textStyle: TEXT_STYLE,\n            } });\n    };\n    Slider.prototype.update = function (cfg) {\n        var start = cfg.start, end = cfg.end;\n        var validCfg = __assign({}, cfg);\n        if (!isNil(start)) {\n            validCfg.start = clamp(start, 0, 1);\n        }\n        if (!isNil(end)) {\n            validCfg.end = clamp(end, 0, 1);\n        }\n        _super.prototype.update.call(this, validCfg);\n        this.minHandler = this.getChildComponentById(this.getElementId('minHandler'));\n        this.maxHandler = this.getChildComponentById(this.getElementId('maxHandler'));\n        this.trend = this.getChildComponentById(this.getElementId('trend'));\n    };\n    Slider.prototype.init = function () {\n        this.set('start', clamp(this.get('start'), 0, 1));\n        this.set('end', clamp(this.get('end'), 0, 1));\n        _super.prototype.init.call(this);\n    };\n    Slider.prototype.render = function () {\n        _super.prototype.render.call(this);\n        this.updateUI(this.getElementByLocalId('foreground'), this.getElementByLocalId('minText'), this.getElementByLocalId('maxText'));\n    };\n    Slider.prototype.renderInner = function (group) {\n        var _a = this.cfg, start = _a.start, end = _a.end, width = _a.width, height = _a.height, _b = _a.trendCfg, trendCfg = _b === void 0 ? {} : _b, minText = _a.minText, maxText = _a.maxText, _c = _a.backgroundStyle, backgroundStyle = _c === void 0 ? {} : _c, _d = _a.foregroundStyle, foregroundStyle = _d === void 0 ? {} : _d, _e = _a.textStyle, textStyle = _e === void 0 ? {} : _e, _f = _a.handlerStyle, handlerStyle = _f === void 0 ? {} : _f;\n        var min = start * width;\n        var max = end * width;\n        // 趋势图数据\n        if (size(get(trendCfg, 'data'))) {\n            this.trend = this.addComponent(group, __assign({ component: Trend, id: this.getElementId('trend'), x: 0, y: 0, width: width,\n                height: height }, trendCfg));\n        }\n        // 1. 背景\n        this.addShape(group, {\n            id: this.getElementId('background'),\n            type: 'rect',\n            attrs: __assign({ x: 0, y: 0, width: width,\n                height: height }, backgroundStyle),\n        });\n        // 2. 左右文字\n        var minTextShape = this.addShape(group, {\n            id: this.getElementId('minText'),\n            type: 'text',\n            attrs: __assign({ \n                // x: 0,\n                y: height / 2, textAlign: 'right', text: minText, silent: false }, textStyle),\n        });\n        var maxTextShape = this.addShape(group, {\n            id: this.getElementId('maxText'),\n            type: 'text',\n            attrs: __assign({ \n                // x: 0,\n                y: height / 2, textAlign: 'left', text: maxText, silent: false }, textStyle),\n        });\n        // 3. 前景 选中背景框\n        var foregroundShape = this.addShape(group, {\n            id: this.getElementId('foreground'),\n            name: 'foreground',\n            type: 'rect',\n            attrs: __assign({ \n                // x: 0,\n                y: 0, \n                // width: 0,\n                height: height }, foregroundStyle),\n        });\n        // 滑块相关的大小信息\n        // const handlerWidth = get(handlerStyle, 'width', 10);\n        var handlerHeight = get(handlerStyle, 'height', 24);\n        // 4. 左右滑块\n        this.minHandler = this.addComponent(group, __assign({ component: Handler, id: this.getElementId('minHandler'), name: 'handler-min', x: 0, y: (height - handlerHeight) / 2, width: width, height: handlerHeight, cursor: 'ew-resize' }, handlerStyle));\n        this.maxHandler = this.addComponent(group, __assign({ component: Handler, id: this.getElementId('maxHandler'), name: 'handler-max', x: 0, y: (height - handlerHeight) / 2, width: width, height: handlerHeight, cursor: 'ew-resize' }, handlerStyle));\n    };\n    Slider.prototype.applyOffset = function () {\n        this.moveElementTo(this.get('group'), {\n            x: this.get('x'),\n            y: this.get('y'),\n        });\n    };\n    Slider.prototype.initEvent = function () {\n        this.bindEvents();\n    };\n    Slider.prototype.updateUI = function (foregroundShape, minTextShape, maxTextShape) {\n        var _a = this.cfg, start = _a.start, end = _a.end, width = _a.width, minText = _a.minText, maxText = _a.maxText, handlerStyle = _a.handlerStyle, height = _a.height;\n        var min = start * width;\n        var max = end * width;\n        if (this.trend) {\n            this.trend.update({\n                width: width,\n                height: height,\n            });\n            if (!this.get('updateAutoRender')) {\n                this.trend.render();\n            }\n        }\n        // 1. foreground\n        foregroundShape.attr('x', min);\n        foregroundShape.attr('width', max - min);\n        // 滑块相关的大小信息\n        var handlerWidth = get(handlerStyle, 'width', DEFAULT_HANDLER_WIDTH);\n        // 设置文本\n        minTextShape.attr('text', minText);\n        maxTextShape.attr('text', maxText);\n        var _b = this._dodgeText([min, max], minTextShape, maxTextShape), minAttrs = _b[0], maxAttrs = _b[1];\n        // 2. 左侧滑块和文字位置\n        if (this.minHandler) {\n            this.minHandler.update({\n                x: min - handlerWidth / 2,\n            });\n            if (!this.get('updateAutoRender')) {\n                this.minHandler.render();\n            }\n        }\n        each(minAttrs, function (v, k) { return minTextShape.attr(k, v); });\n        // 3. 右侧滑块和文字位置\n        if (this.maxHandler) {\n            this.maxHandler.update({\n                x: max - handlerWidth / 2,\n            });\n            if (!this.get('updateAutoRender')) {\n                this.maxHandler.render();\n            }\n        }\n        each(maxAttrs, function (v, k) { return maxTextShape.attr(k, v); });\n    };\n    Slider.prototype.bindEvents = function () {\n        var group = this.get('group');\n        group.on('handler-min:mousedown', this.onMouseDown('minHandler'));\n        group.on('handler-min:touchstart', this.onMouseDown('minHandler'));\n        // 2. 右滑块的滑动\n        group.on('handler-max:mousedown', this.onMouseDown('maxHandler'));\n        group.on('handler-max:touchstart', this.onMouseDown('maxHandler'));\n        // 3. 前景选中区域\n        var foreground = group.findById(this.getElementId('foreground'));\n        foreground.on('mousedown', this.onMouseDown('foreground'));\n        foreground.on('touchstart', this.onMouseDown('foreground'));\n    };\n    /**\n     * 调整 offsetRange，因为一些范围的限制\n     * @param offsetRange\n     */\n    Slider.prototype.adjustOffsetRange = function (offsetRange) {\n        var _a = this.cfg, start = _a.start, end = _a.end;\n        // 针对不同的滑动组件，处理的方式不同\n        switch (this.currentTarget) {\n            case 'minHandler': {\n                var min = 0 - start;\n                var max = 1 - start;\n                return Math.min(max, Math.max(min, offsetRange));\n            }\n            case 'maxHandler': {\n                var min = 0 - end;\n                var max = 1 - end;\n                return Math.min(max, Math.max(min, offsetRange));\n            }\n            case 'foreground': {\n                var min = 0 - start;\n                var max = 1 - end;\n                return Math.min(max, Math.max(min, offsetRange));\n            }\n        }\n    };\n    Slider.prototype.updateStartEnd = function (offsetRange) {\n        var _a = this.cfg, start = _a.start, end = _a.end;\n        // 操作不同的组件，反馈不一样\n        switch (this.currentTarget) {\n            case 'minHandler':\n                start += offsetRange;\n                break;\n            case 'maxHandler':\n                end += offsetRange;\n                break;\n            case 'foreground':\n                start += offsetRange;\n                end += offsetRange;\n                break;\n        }\n        this.set('start', start);\n        this.set('end', end);\n    };\n    /**\n     * 调整 text 的位置，自动躲避\n     * 根据位置，调整返回新的位置\n     * @param range\n     */\n    Slider.prototype._dodgeText = function (range, minTextShape, maxTextShape) {\n        var _a, _b;\n        var _c = this.cfg, handlerStyle = _c.handlerStyle, width = _c.width;\n        var PADDING = 2;\n        var handlerWidth = get(handlerStyle, 'width', DEFAULT_HANDLER_WIDTH);\n        var min = range[0], max = range[1];\n        var sorted = false;\n        // 如果交换了位置，则对应的 min max 也交互\n        if (min > max) {\n            _a = [max, min], min = _a[0], max = _a[1];\n            _b = [maxTextShape, minTextShape], minTextShape = _b[0], maxTextShape = _b[1];\n            sorted = true;\n        }\n        // 避让规则，优先显示在两侧，只有显示不下的时候，才显示在中间\n        var minBBox = minTextShape.getBBox();\n        var maxBBox = maxTextShape.getBBox();\n        var minAttrs = minBBox.width > min - PADDING\n            ? { x: min + handlerWidth / 2 + PADDING, textAlign: 'left' }\n            : { x: min - handlerWidth / 2 - PADDING, textAlign: 'right' };\n        var maxAttrs = maxBBox.width > width - max - PADDING\n            ? { x: max - handlerWidth / 2 - PADDING, textAlign: 'right' }\n            : { x: max + handlerWidth / 2 + PADDING, textAlign: 'left' };\n        return !sorted ? [minAttrs, maxAttrs] : [maxAttrs, minAttrs];\n    };\n    Slider.prototype.draw = function () {\n        var container = this.get('container');\n        var canvas = container && container.get('canvas');\n        if (canvas) {\n            canvas.draw();\n        }\n    };\n    Slider.prototype.getContainerDOM = function () {\n        var container = this.get('container');\n        var canvas = container && container.get('canvas');\n        return canvas && canvas.get('container');\n    };\n    return Slider;\n}(GroupComponent));\nexport { Slider };\nexport default Slider;\n//# sourceMappingURL=slider.js.map","import { __assign, __extends } from \"tslib\";\nimport { addEventListener } from '@antv/dom-util';\nimport { clamp, get, noop } from '@antv/util';\nimport GroupComponent from '../abstract/group-component';\nvar DEFAULT_STYLE = {\n    trackColor: 'rgba(0,0,0,0)',\n    thumbColor: 'rgba(0,0,0,0.15)',\n    size: 8,\n    lineCap: 'round',\n};\nexport var DEFAULT_THEME = {\n    // 默认样式\n    default: DEFAULT_STYLE,\n    // 鼠标 hover 的样式\n    hover: {\n        thumbColor: 'rgba(0,0,0,0.2)',\n    },\n};\nvar Scrollbar = /** @class */ (function (_super) {\n    __extends(Scrollbar, _super);\n    function Scrollbar() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.clearEvents = noop;\n        _this.onStartEvent = function (isMobile) { return function (e) {\n            _this.isMobile = isMobile;\n            e.originalEvent.preventDefault();\n            var clientX = isMobile ? get(e.originalEvent, 'touches.0.clientX') : e.clientX;\n            var clientY = isMobile ? get(e.originalEvent, 'touches.0.clientY') : e.clientY;\n            // 将开始的点记录下来\n            _this.startPos = _this.cfg.isHorizontal ? clientX : clientY;\n            _this.bindLaterEvent();\n        }; };\n        _this.bindLaterEvent = function () {\n            var containerDOM = _this.getContainerDOM();\n            var events = [];\n            if (_this.isMobile) {\n                events = [\n                    addEventListener(containerDOM, 'touchmove', _this.onMouseMove),\n                    addEventListener(containerDOM, 'touchend', _this.onMouseUp),\n                    addEventListener(containerDOM, 'touchcancel', _this.onMouseUp),\n                ];\n            }\n            else {\n                events = [\n                    addEventListener(containerDOM, 'mousemove', _this.onMouseMove),\n                    addEventListener(containerDOM, 'mouseup', _this.onMouseUp),\n                    // 为了保证划出 canvas containerDom 时还没触发 mouseup\n                    addEventListener(containerDOM, 'mouseleave', _this.onMouseUp),\n                ];\n            }\n            _this.clearEvents = function () {\n                events.forEach(function (e) {\n                    e.remove();\n                });\n            };\n        };\n        // 拖拽滑块的事件回调\n        // 这里是 dom 原生事件，绑定在 dom 元素上的\n        _this.onMouseMove = function (e) {\n            var _a = _this.cfg, isHorizontal = _a.isHorizontal, thumbOffset = _a.thumbOffset;\n            e.preventDefault();\n            var clientX = _this.isMobile ? get(e, 'touches.0.clientX') : e.clientX;\n            var clientY = _this.isMobile ? get(e, 'touches.0.clientY') : e.clientY;\n            // 鼠标松开的位置\n            var endPos = isHorizontal ? clientX : clientY;\n            // 滑块需要移动的距离, 由于这里是对滑块监听，所以移动的距离就是 diffDis, 如果监听对象是 container dom，则需要算比例\n            var diff = endPos - _this.startPos;\n            // 更新 _startPos\n            _this.startPos = endPos;\n            _this.updateThumbOffset(thumbOffset + diff);\n        };\n        _this.onMouseUp = function (e) {\n            e.preventDefault();\n            _this.clearEvents();\n        };\n        // 点击滑道的事件回调,移动滑块位置\n        _this.onTrackClick = function (e) {\n            var _a = _this.cfg, isHorizontal = _a.isHorizontal, x = _a.x, y = _a.y, thumbLen = _a.thumbLen;\n            var containerDOM = _this.getContainerDOM();\n            var rect = containerDOM.getBoundingClientRect();\n            var clientX = e.clientX, clientY = e.clientY;\n            var offset = isHorizontal ? clientX - rect.left - x - thumbLen / 2 : clientY - rect.top - y - thumbLen / 2;\n            var newOffset = _this.validateRange(offset);\n            _this.updateThumbOffset(newOffset);\n        };\n        _this.onThumbMouseOver = function () {\n            var thumbColor = _this.cfg.theme.hover.thumbColor;\n            _this.getElementByLocalId('thumb').attr('stroke', thumbColor);\n            _this.draw();\n        };\n        _this.onThumbMouseOut = function () {\n            var thumbColor = _this.cfg.theme.default.thumbColor;\n            _this.getElementByLocalId('thumb').attr('stroke', thumbColor);\n            _this.draw();\n        };\n        return _this;\n    }\n    Scrollbar.prototype.setRange = function (min, max) {\n        this.set('minLimit', min);\n        this.set('maxLimit', max);\n        var curValue = this.getValue();\n        var newValue = clamp(curValue, min, max);\n        if (curValue !== newValue && !this.get('isInit')) {\n            this.setValue(newValue);\n        }\n    };\n    Scrollbar.prototype.getRange = function () {\n        var min = this.get('minLimit') || 0;\n        var max = this.get('maxLimit') || 1;\n        return { min: min, max: max };\n    };\n    Scrollbar.prototype.setValue = function (value) {\n        var range = this.getRange();\n        var originalValue = this.getValue();\n        this.update({\n            thumbOffset: (this.get('trackLen') - this.get('thumbLen')) * clamp(value, range.min, range.max),\n        });\n        this.delegateEmit('valuechange', {\n            originalValue: originalValue,\n            value: this.getValue(),\n        });\n    };\n    Scrollbar.prototype.getValue = function () {\n        return clamp(this.get('thumbOffset') / (this.get('trackLen') - this.get('thumbLen')), 0, 1);\n    };\n    Scrollbar.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'scrollbar', isHorizontal: true, minThumbLen: 20, thumbOffset: 0, theme: DEFAULT_THEME });\n    };\n    Scrollbar.prototype.renderInner = function (group) {\n        this.renderTrackShape(group);\n        this.renderThumbShape(group);\n    };\n    Scrollbar.prototype.applyOffset = function () {\n        this.moveElementTo(this.get('group'), {\n            x: this.get('x'),\n            y: this.get('y'),\n        });\n    };\n    Scrollbar.prototype.initEvent = function () {\n        this.bindEvents();\n    };\n    // 创建滑道的 shape\n    Scrollbar.prototype.renderTrackShape = function (group) {\n        var _a = this.cfg, trackLen = _a.trackLen, _b = _a.theme, theme = _b === void 0 ? { default: {} } : _b;\n        var _c = theme.default, lineCap = _c.lineCap, trackColor = _c.trackColor, size = _c.size;\n        var attrs = this.get('isHorizontal')\n            ? {\n                x1: 0 + size / 2,\n                y1: size / 2,\n                x2: trackLen - size / 2,\n                y2: size / 2,\n                lineWidth: size,\n                stroke: trackColor,\n                lineCap: lineCap,\n            }\n            : {\n                x1: size / 2,\n                y1: 0 + size / 2,\n                x2: size / 2,\n                y2: trackLen - size / 2,\n                lineWidth: size,\n                stroke: trackColor,\n                lineCap: lineCap,\n            };\n        return this.addShape(group, {\n            id: this.getElementId('track'),\n            name: 'track',\n            type: 'line',\n            attrs: attrs,\n        });\n    };\n    // 创建滑块的 shape\n    Scrollbar.prototype.renderThumbShape = function (group) {\n        var _a = this.cfg, thumbOffset = _a.thumbOffset, thumbLen = _a.thumbLen, _b = _a.theme, theme = _b === void 0 ? { default: {} } : _b;\n        var _c = theme.default, size = _c.size, lineCap = _c.lineCap, thumbColor = _c.thumbColor;\n        var attrs = this.get('isHorizontal')\n            ? {\n                x1: thumbOffset + size / 2,\n                y1: size / 2,\n                x2: thumbOffset + thumbLen - size / 2,\n                y2: size / 2,\n                lineWidth: size,\n                stroke: thumbColor,\n                lineCap: lineCap,\n                cursor: 'default',\n            }\n            : {\n                x1: size / 2,\n                y1: thumbOffset + size / 2,\n                x2: size / 2,\n                y2: thumbOffset + thumbLen - size / 2,\n                lineWidth: size,\n                stroke: thumbColor,\n                lineCap: lineCap,\n                cursor: 'default',\n            };\n        return this.addShape(group, {\n            id: this.getElementId('thumb'),\n            name: 'thumb',\n            type: 'line',\n            attrs: attrs,\n        });\n    };\n    Scrollbar.prototype.bindEvents = function () {\n        var group = this.get('group');\n        group.on('mousedown', this.onStartEvent(false));\n        group.on('mouseup', this.onMouseUp);\n        group.on('touchstart', this.onStartEvent(true));\n        group.on('touchend', this.onMouseUp);\n        var trackShape = group.findById(this.getElementId('track'));\n        trackShape.on('click', this.onTrackClick);\n        var thumbShape = group.findById(this.getElementId('thumb'));\n        thumbShape.on('mouseover', this.onThumbMouseOver);\n        thumbShape.on('mouseout', this.onThumbMouseOut);\n    };\n    Scrollbar.prototype.getContainerDOM = function () {\n        var container = this.get('container');\n        var canvas = container && container.get('canvas');\n        return canvas && canvas.get('container');\n    };\n    Scrollbar.prototype.validateRange = function (offset) {\n        var _a = this.cfg, thumbLen = _a.thumbLen, trackLen = _a.trackLen;\n        var newOffset = offset;\n        if (offset + thumbLen > trackLen) {\n            newOffset = trackLen - thumbLen;\n        }\n        else if (offset + thumbLen < thumbLen) {\n            newOffset = 0;\n        }\n        return newOffset;\n    };\n    Scrollbar.prototype.draw = function () {\n        var container = this.get('container');\n        var canvas = container && container.get('canvas');\n        if (canvas) {\n            canvas.draw();\n        }\n    };\n    Scrollbar.prototype.updateThumbOffset = function (offset) {\n        var _a = this.cfg, thumbOffset = _a.thumbOffset, isHorizontal = _a.isHorizontal, thumbLen = _a.thumbLen, size = _a.size;\n        var newOffset = this.validateRange(offset);\n        if (newOffset === thumbOffset) {\n            // 如果更新后的 offset 与原值相同，则不改变\n            return;\n        }\n        var thumbShape = this.getElementByLocalId('thumb');\n        if (isHorizontal) {\n            thumbShape.attr({\n                x1: newOffset + size / 2,\n                x2: newOffset + thumbLen - size / 2,\n            });\n        }\n        else {\n            thumbShape.attr({\n                y1: newOffset + size / 2,\n                y2: newOffset + thumbLen - size / 2,\n            });\n        }\n        this.emitOffsetChange(newOffset);\n    };\n    Scrollbar.prototype.emitOffsetChange = function (offset) {\n        var _a = this.cfg, originalValue = _a.thumbOffset, trackLen = _a.trackLen, thumbLen = _a.thumbLen;\n        this.cfg.thumbOffset = offset;\n        // 发送事件\n        this.emit('scrollchange', {\n            thumbOffset: offset,\n            ratio: clamp(offset / (trackLen - thumbLen), 0, 1),\n        });\n        this.delegateEmit('valuechange', {\n            originalValue: originalValue,\n            value: offset,\n        });\n    };\n    return Scrollbar;\n}(GroupComponent));\nexport { Scrollbar };\n//# sourceMappingURL=scrollbar.js.map","import { createDom } from './dom';\nexport function setShadow(model, context) {\n    var el = model.cfg.el;\n    var attrs = model.attr();\n    var cfg = {\n        dx: attrs.shadowOffsetX,\n        dy: attrs.shadowOffsetY,\n        blur: attrs.shadowBlur,\n        color: attrs.shadowColor,\n    };\n    if (!cfg.dx && !cfg.dy && !cfg.blur && !cfg.color) {\n        el.removeAttribute('filter');\n    }\n    else {\n        var id = context.find('filter', cfg);\n        if (!id) {\n            id = context.addShadow(cfg);\n        }\n        el.setAttribute('filter', \"url(#\" + id + \")\");\n    }\n}\nexport function setTransform(model) {\n    var matrix = model.attr().matrix;\n    if (matrix) {\n        var el = model.cfg.el;\n        var transform = [];\n        for (var i = 0; i < 9; i += 3) {\n            transform.push(matrix[i] + \",\" + matrix[i + 1]);\n        }\n        transform = transform.join(',');\n        if (transform.indexOf('NaN') === -1) {\n            el.setAttribute('transform', \"matrix(\" + transform + \")\");\n        }\n        else {\n            console.warn('invalid matrix:', matrix);\n        }\n    }\n}\nexport function setClip(model, context) {\n    var clip = model.getClip();\n    var el = model.get('el');\n    if (!clip) {\n        el.removeAttribute('clip-path');\n    }\n    else if (clip && !el.hasAttribute('clip-path')) {\n        createDom(clip);\n        clip.createPath(context);\n        var id = context.addClip(clip);\n        el.setAttribute('clip-path', \"url(#\" + id + \")\");\n    }\n}\n//# sourceMappingURL=svg.js.map","/**\n * 需要从轴配置中提取出来作为 meta 的属性 key 列表\n */\nexport var AXIS_META_CONFIG_KEYS = [\n    'type',\n    'tickCount',\n    'tickInterval',\n    'min',\n    'max',\n    'nice',\n    'minLimit',\n    'maxLimit',\n    'tickMethod',\n];\n/**\n * 默认色彩\n */\nexport var DEFAULT_COLORS = {\n    GRADIENT: {\n        CONTINUOUS: '#BAE7FF-#1890FF-#0050B3',\n    },\n};\n//# sourceMappingURL=constant.js.map","/**\n * @fileoverview 矩阵运算，本来是要引入 gl-matrix, 但是考虑到 g-mobile 对大小有限制，同时 g-webgl 使用的 matrix 不一致\n * 所以，这里仅实现 2D 几个运算，上层自己引入 gl-matrix\n * @author dxq613@gmail.com\n */\n/**\n * 3阶矩阵相乘\n * @param {number[]} a 矩阵1\n * @param {number[]} b 矩阵2\n */\nexport function multiplyMatrix(a, b) {\n    var out = [];\n    var a00 = a[0];\n    var a01 = a[1];\n    var a02 = a[2];\n    var a10 = a[3];\n    var a11 = a[4];\n    var a12 = a[5];\n    var a20 = a[6];\n    var a21 = a[7];\n    var a22 = a[8];\n    var b00 = b[0];\n    var b01 = b[1];\n    var b02 = b[2];\n    var b10 = b[3];\n    var b11 = b[4];\n    var b12 = b[5];\n    var b20 = b[6];\n    var b21 = b[7];\n    var b22 = b[8];\n    out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n    out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n    out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n    out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n    out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n    out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n    out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n    out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n    out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n    return out;\n}\n/**\n * 3阶矩阵同2阶向量相乘\n * @param {number[]} m 矩阵\n * @param {number[]} v 二阶向量\n */\nexport function multiplyVec2(m, v) {\n    var out = [];\n    var x = v[0];\n    var y = v[1];\n    out[0] = m[0] * x + m[3] * y + m[6];\n    out[1] = m[1] * x + m[4] * y + m[7];\n    return out;\n}\n/**\n * 矩阵的逆\n * @param {number[]} a 矩阵\n */\nexport function invert(a) {\n    var out = [];\n    var a00 = a[0];\n    var a01 = a[1];\n    var a02 = a[2];\n    var a10 = a[3];\n    var a11 = a[4];\n    var a12 = a[5];\n    var a20 = a[6];\n    var a21 = a[7];\n    var a22 = a[8];\n    var b01 = a22 * a11 - a12 * a21;\n    var b11 = -a22 * a10 + a12 * a20;\n    var b21 = a21 * a10 - a11 * a20;\n    // Calculate the determinant\n    var det = a00 * b01 + a01 * b11 + a02 * b21;\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n    out[0] = b01 * det;\n    out[1] = (-a22 * a01 + a02 * a21) * det;\n    out[2] = (a12 * a01 - a02 * a11) * det;\n    out[3] = b11 * det;\n    out[4] = (a22 * a00 - a02 * a20) * det;\n    out[5] = (-a12 * a00 + a02 * a10) * det;\n    out[6] = b21 * det;\n    out[7] = (-a21 * a00 + a01 * a20) * det;\n    out[8] = (a11 * a00 - a01 * a10) * det;\n    return out;\n}\n//# sourceMappingURL=matrix.js.map","import { each, isArray } from '@antv/util';\nvar SPACES = '\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029';\nvar PATH_COMMAND = new RegExp(\"([a-z])[\" + SPACES + \",]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[\" + SPACES + \"]*,?[\" + SPACES + \"]*)+)\", 'ig');\nvar PATH_VALUES = new RegExp(\"(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[\" + SPACES + \"]*,?[\" + SPACES + \"]*\", 'ig');\n// Parse given path string into an array of arrays of path segments\nvar parsePathString = function (pathString) {\n    if (!pathString) {\n        return null;\n    }\n    if (isArray(pathString)) {\n        return pathString;\n    }\n    var paramCounts = {\n        a: 7,\n        c: 6,\n        o: 2,\n        h: 1,\n        l: 2,\n        m: 2,\n        r: 4,\n        q: 4,\n        s: 4,\n        t: 2,\n        v: 1,\n        u: 3,\n        z: 0,\n    };\n    var data = [];\n    String(pathString).replace(PATH_COMMAND, function (a, b, c) {\n        var params = [];\n        var name = b.toLowerCase();\n        c.replace(PATH_VALUES, function (a, b) {\n            b && params.push(+b);\n        });\n        if (name === 'm' && params.length > 2) {\n            data.push([b].concat(params.splice(0, 2)));\n            name = 'l';\n            b = b === 'm' ? 'l' : 'L';\n        }\n        if (name === 'o' && params.length === 1) {\n            data.push([b, params[0]]);\n        }\n        if (name === 'r') {\n            data.push([b].concat(params));\n        }\n        else {\n            while (params.length >= paramCounts[name]) {\n                data.push([b].concat(params.splice(0, paramCounts[name])));\n                if (!paramCounts[name]) {\n                    break;\n                }\n            }\n        }\n        return pathString;\n    });\n    return data;\n};\n// http://schepers.cc/getting-to-the-point\nvar catmullRomToBezier = function (crp, z) {\n    var d = [];\n    // @ts-ignore\n    for (var i = 0, iLen = crp.length; iLen - 2 * !z > i; i += 2) {\n        var p = [\n            {\n                x: +crp[i - 2],\n                y: +crp[i - 1],\n            },\n            {\n                x: +crp[i],\n                y: +crp[i + 1],\n            },\n            {\n                x: +crp[i + 2],\n                y: +crp[i + 3],\n            },\n            {\n                x: +crp[i + 4],\n                y: +crp[i + 5],\n            },\n        ];\n        if (z) {\n            if (!i) {\n                p[0] = {\n                    x: +crp[iLen - 2],\n                    y: +crp[iLen - 1],\n                };\n            }\n            else if (iLen - 4 === i) {\n                p[3] = {\n                    x: +crp[0],\n                    y: +crp[1],\n                };\n            }\n            else if (iLen - 2 === i) {\n                p[2] = {\n                    x: +crp[0],\n                    y: +crp[1],\n                };\n                p[3] = {\n                    x: +crp[2],\n                    y: +crp[3],\n                };\n            }\n        }\n        else {\n            if (iLen - 4 === i) {\n                p[3] = p[2];\n            }\n            else if (!i) {\n                p[0] = {\n                    x: +crp[i],\n                    y: +crp[i + 1],\n                };\n            }\n        }\n        d.push([\n            'C',\n            (-p[0].x + 6 * p[1].x + p[2].x) / 6,\n            (-p[0].y + 6 * p[1].y + p[2].y) / 6,\n            (p[1].x + 6 * p[2].x - p[3].x) / 6,\n            (p[1].y + 6 * p[2].y - p[3].y) / 6,\n            p[2].x,\n            p[2].y,\n        ]);\n    }\n    return d;\n};\nvar ellipsePath = function (x, y, rx, ry, a) {\n    var res = [];\n    if (a === null && ry === null) {\n        ry = rx;\n    }\n    x = +x;\n    y = +y;\n    rx = +rx;\n    ry = +ry;\n    if (a !== null) {\n        var rad = Math.PI / 180;\n        var x1 = x + rx * Math.cos(-ry * rad);\n        var x2 = x + rx * Math.cos(-a * rad);\n        var y1 = y + rx * Math.sin(-ry * rad);\n        var y2 = y + rx * Math.sin(-a * rad);\n        res = [\n            ['M', x1, y1],\n            ['A', rx, rx, 0, +(a - ry > 180), 0, x2, y2],\n        ];\n    }\n    else {\n        res = [['M', x, y], ['m', 0, -ry], ['a', rx, ry, 0, 1, 1, 0, 2 * ry], ['a', rx, ry, 0, 1, 1, 0, -2 * ry], ['z']];\n    }\n    return res;\n};\nvar pathToAbsolute = function (pathArray) {\n    pathArray = parsePathString(pathArray);\n    if (!pathArray || !pathArray.length) {\n        return [['M', 0, 0]];\n    }\n    var res = [];\n    var x = 0;\n    var y = 0;\n    var mx = 0;\n    var my = 0;\n    var start = 0;\n    var pa0;\n    var dots;\n    if (pathArray[0][0] === 'M') {\n        x = +pathArray[0][1];\n        y = +pathArray[0][2];\n        mx = x;\n        my = y;\n        start++;\n        res[0] = ['M', x, y];\n    }\n    var crz = pathArray.length === 3 &&\n        pathArray[0][0] === 'M' &&\n        pathArray[1][0].toUpperCase() === 'R' &&\n        pathArray[2][0].toUpperCase() === 'Z';\n    for (var r = void 0, pa = void 0, i = start, ii = pathArray.length; i < ii; i++) {\n        res.push((r = []));\n        pa = pathArray[i];\n        pa0 = pa[0];\n        if (pa0 !== pa0.toUpperCase()) {\n            r[0] = pa0.toUpperCase();\n            switch (r[0]) {\n                case 'A':\n                    r[1] = pa[1];\n                    r[2] = pa[2];\n                    r[3] = pa[3];\n                    r[4] = pa[4];\n                    r[5] = pa[5];\n                    r[6] = +pa[6] + x;\n                    r[7] = +pa[7] + y;\n                    break;\n                case 'V':\n                    r[1] = +pa[1] + y;\n                    break;\n                case 'H':\n                    r[1] = +pa[1] + x;\n                    break;\n                case 'R':\n                    dots = [x, y].concat(pa.slice(1));\n                    for (var j = 2, jj = dots.length; j < jj; j++) {\n                        dots[j] = +dots[j] + x;\n                        dots[++j] = +dots[j] + y;\n                    }\n                    res.pop();\n                    res = res.concat(catmullRomToBezier(dots, crz));\n                    break;\n                case 'O':\n                    res.pop();\n                    dots = ellipsePath(x, y, pa[1], pa[2]);\n                    dots.push(dots[0]);\n                    res = res.concat(dots);\n                    break;\n                case 'U':\n                    res.pop();\n                    res = res.concat(ellipsePath(x, y, pa[1], pa[2], pa[3]));\n                    r = ['U'].concat(res[res.length - 1].slice(-2));\n                    break;\n                case 'M':\n                    mx = +pa[1] + x;\n                    my = +pa[2] + y;\n                    break; // for lint\n                default:\n                    for (var j = 1, jj = pa.length; j < jj; j++) {\n                        r[j] = +pa[j] + (j % 2 ? x : y);\n                    }\n            }\n        }\n        else if (pa0 === 'R') {\n            dots = [x, y].concat(pa.slice(1));\n            res.pop();\n            res = res.concat(catmullRomToBezier(dots, crz));\n            r = ['R'].concat(pa.slice(-2));\n        }\n        else if (pa0 === 'O') {\n            res.pop();\n            dots = ellipsePath(x, y, pa[1], pa[2]);\n            dots.push(dots[0]);\n            res = res.concat(dots);\n        }\n        else if (pa0 === 'U') {\n            res.pop();\n            res = res.concat(ellipsePath(x, y, pa[1], pa[2], pa[3]));\n            r = ['U'].concat(res[res.length - 1].slice(-2));\n        }\n        else {\n            for (var k = 0, kk = pa.length; k < kk; k++) {\n                r[k] = pa[k];\n            }\n        }\n        pa0 = pa0.toUpperCase();\n        if (pa0 !== 'O') {\n            switch (r[0]) {\n                case 'Z':\n                    x = +mx;\n                    y = +my;\n                    break;\n                case 'H':\n                    x = r[1];\n                    break;\n                case 'V':\n                    y = r[1];\n                    break;\n                case 'M':\n                    mx = r[r.length - 2];\n                    my = r[r.length - 1];\n                    break; // for lint\n                default:\n                    x = r[r.length - 2];\n                    y = r[r.length - 1];\n            }\n        }\n    }\n    return res;\n};\nvar l2c = function (x1, y1, x2, y2) {\n    return [x1, y1, x2, y2, x2, y2];\n};\nvar q2c = function (x1, y1, ax, ay, x2, y2) {\n    var _13 = 1 / 3;\n    var _23 = 2 / 3;\n    return [_13 * x1 + _23 * ax, _13 * y1 + _23 * ay, _13 * x2 + _23 * ax, _13 * y2 + _23 * ay, x2, y2];\n};\nvar a2c = function (x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\n    // for more information of where this math came from visit:\n    // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n    if (rx === ry) {\n        rx += 1;\n    }\n    var _120 = (Math.PI * 120) / 180;\n    var rad = (Math.PI / 180) * (+angle || 0);\n    var res = [];\n    var xy;\n    var f1;\n    var f2;\n    var cx;\n    var cy;\n    var rotate = function (x, y, rad) {\n        var X = x * Math.cos(rad) - y * Math.sin(rad);\n        var Y = x * Math.sin(rad) + y * Math.cos(rad);\n        return {\n            x: X,\n            y: Y,\n        };\n    };\n    if (!recursive) {\n        xy = rotate(x1, y1, -rad);\n        x1 = xy.x;\n        y1 = xy.y;\n        xy = rotate(x2, y2, -rad);\n        x2 = xy.x;\n        y2 = xy.y;\n        if (x1 === x2 && y1 === y2) {\n            // 若弧的起始点和终点重叠则错开一点\n            x2 += 1;\n            y2 += 1;\n        }\n        // const cos = Math.cos(Math.PI / 180 * angle);\n        // const sin = Math.sin(Math.PI / 180 * angle);\n        var x = (x1 - x2) / 2;\n        var y = (y1 - y2) / 2;\n        var h = (x * x) / (rx * rx) + (y * y) / (ry * ry);\n        if (h > 1) {\n            h = Math.sqrt(h);\n            rx = h * rx;\n            ry = h * ry;\n        }\n        var rx2 = rx * rx;\n        var ry2 = ry * ry;\n        var k = (large_arc_flag === sweep_flag ? -1 : 1) *\n            Math.sqrt(Math.abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x)));\n        cx = (k * rx * y) / ry + (x1 + x2) / 2;\n        cy = (k * -ry * x) / rx + (y1 + y2) / 2;\n        // @ts-ignore\n        f1 = Math.asin(((y1 - cy) / ry).toFixed(9));\n        // @ts-ignore\n        f2 = Math.asin(((y2 - cy) / ry).toFixed(9));\n        f1 = x1 < cx ? Math.PI - f1 : f1;\n        f2 = x2 < cx ? Math.PI - f2 : f2;\n        f1 < 0 && (f1 = Math.PI * 2 + f1);\n        f2 < 0 && (f2 = Math.PI * 2 + f2);\n        if (sweep_flag && f1 > f2) {\n            f1 = f1 - Math.PI * 2;\n        }\n        if (!sweep_flag && f2 > f1) {\n            f2 = f2 - Math.PI * 2;\n        }\n    }\n    else {\n        f1 = recursive[0];\n        f2 = recursive[1];\n        cx = recursive[2];\n        cy = recursive[3];\n    }\n    var df = f2 - f1;\n    if (Math.abs(df) > _120) {\n        var f2old = f2;\n        var x2old = x2;\n        var y2old = y2;\n        f2 = f1 + _120 * (sweep_flag && f2 > f1 ? 1 : -1);\n        x2 = cx + rx * Math.cos(f2);\n        y2 = cy + ry * Math.sin(f2);\n        res = a2c(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy]);\n    }\n    df = f2 - f1;\n    var c1 = Math.cos(f1);\n    var s1 = Math.sin(f1);\n    var c2 = Math.cos(f2);\n    var s2 = Math.sin(f2);\n    var t = Math.tan(df / 4);\n    var hx = (4 / 3) * rx * t;\n    var hy = (4 / 3) * ry * t;\n    var m1 = [x1, y1];\n    var m2 = [x1 + hx * s1, y1 - hy * c1];\n    var m3 = [x2 + hx * s2, y2 - hy * c2];\n    var m4 = [x2, y2];\n    m2[0] = 2 * m1[0] - m2[0];\n    m2[1] = 2 * m1[1] - m2[1];\n    if (recursive) {\n        return [m2, m3, m4].concat(res);\n    }\n    res = [m2, m3, m4]\n        .concat(res)\n        .join()\n        .split(',');\n    var newres = [];\n    for (var i = 0, ii = res.length; i < ii; i++) {\n        newres[i] = i % 2 ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;\n    }\n    return newres;\n};\nvar pathToCurve = function (path, path2) {\n    var p = pathToAbsolute(path);\n    var p2 = path2 && pathToAbsolute(path2);\n    var attrs = {\n        x: 0,\n        y: 0,\n        bx: 0,\n        by: 0,\n        X: 0,\n        Y: 0,\n        qx: null,\n        qy: null,\n    };\n    var attrs2 = {\n        x: 0,\n        y: 0,\n        bx: 0,\n        by: 0,\n        X: 0,\n        Y: 0,\n        qx: null,\n        qy: null,\n    };\n    var pcoms1 = []; // path commands of original path p\n    var pcoms2 = []; // path commands of original path p2\n    var pfirst = ''; // temporary holder for original path command\n    var pcom = ''; // holder for previous path command of original path\n    var ii;\n    var processPath = function (path, d, pcom) {\n        var nx;\n        var ny;\n        if (!path) {\n            return ['C', d.x, d.y, d.x, d.y, d.x, d.y];\n        }\n        !(path[0] in\n            {\n                T: 1,\n                Q: 1,\n            }) && (d.qx = d.qy = null);\n        switch (path[0]) {\n            case 'M':\n                d.X = path[1];\n                d.Y = path[2];\n                break;\n            case 'A':\n                path = ['C'].concat(a2c.apply(0, [d.x, d.y].concat(path.slice(1))));\n                break;\n            case 'S':\n                if (pcom === 'C' || pcom === 'S') {\n                    // In \"S\" case we have to take into account, if the previous command is C/S.\n                    nx = d.x * 2 - d.bx; // And reflect the previous\n                    ny = d.y * 2 - d.by; // command's control point relative to the current point.\n                }\n                else {\n                    // or some else or nothing\n                    nx = d.x;\n                    ny = d.y;\n                }\n                path = ['C', nx, ny].concat(path.slice(1));\n                break;\n            case 'T':\n                if (pcom === 'Q' || pcom === 'T') {\n                    // In \"T\" case we have to take into account, if the previous command is Q/T.\n                    d.qx = d.x * 2 - d.qx; // And make a reflection similar\n                    d.qy = d.y * 2 - d.qy; // to case \"S\".\n                }\n                else {\n                    // or something else or nothing\n                    d.qx = d.x;\n                    d.qy = d.y;\n                }\n                path = ['C'].concat(q2c(d.x, d.y, d.qx, d.qy, path[1], path[2]));\n                break;\n            case 'Q':\n                d.qx = path[1];\n                d.qy = path[2];\n                path = ['C'].concat(q2c(d.x, d.y, path[1], path[2], path[3], path[4]));\n                break;\n            case 'L':\n                path = ['C'].concat(l2c(d.x, d.y, path[1], path[2]));\n                break;\n            case 'H':\n                path = ['C'].concat(l2c(d.x, d.y, path[1], d.y));\n                break;\n            case 'V':\n                path = ['C'].concat(l2c(d.x, d.y, d.x, path[1]));\n                break;\n            case 'Z':\n                path = ['C'].concat(l2c(d.x, d.y, d.X, d.Y));\n                break;\n            default:\n                break;\n        }\n        return path;\n    };\n    var fixArc = function (pp, i) {\n        if (pp[i].length > 7) {\n            pp[i].shift();\n            var pi = pp[i];\n            while (pi.length) {\n                pcoms1[i] = 'A'; // if created multiple C:s, their original seg is saved\n                p2 && (pcoms2[i] = 'A'); // the same as above\n                pp.splice(i++, 0, ['C'].concat(pi.splice(0, 6)));\n            }\n            pp.splice(i, 1);\n            ii = Math.max(p.length, (p2 && p2.length) || 0);\n        }\n    };\n    var fixM = function (path1, path2, a1, a2, i) {\n        if (path1 && path2 && path1[i][0] === 'M' && path2[i][0] !== 'M') {\n            path2.splice(i, 0, ['M', a2.x, a2.y]);\n            a1.bx = 0;\n            a1.by = 0;\n            a1.x = path1[i][1];\n            a1.y = path1[i][2];\n            ii = Math.max(p.length, (p2 && p2.length) || 0);\n        }\n    };\n    ii = Math.max(p.length, (p2 && p2.length) || 0);\n    for (var i = 0; i < ii; i++) {\n        p[i] && (pfirst = p[i][0]); // save current path command\n        if (pfirst !== 'C') {\n            // C is not saved yet, because it may be result of conversion\n            pcoms1[i] = pfirst; // Save current path command\n            i && (pcom = pcoms1[i - 1]); // Get previous path command pcom\n        }\n        p[i] = processPath(p[i], attrs, pcom); // Previous path command is inputted to processPath\n        if (pcoms1[i] !== 'A' && pfirst === 'C')\n            pcoms1[i] = 'C'; // A is the only command\n        // which may produce multiple C:s\n        // so we have to make sure that C is also C in original path\n        fixArc(p, i); // fixArc adds also the right amount of A:s to pcoms1\n        if (p2) {\n            // the same procedures is done to p2\n            p2[i] && (pfirst = p2[i][0]);\n            if (pfirst !== 'C') {\n                pcoms2[i] = pfirst;\n                i && (pcom = pcoms2[i - 1]);\n            }\n            p2[i] = processPath(p2[i], attrs2, pcom);\n            if (pcoms2[i] !== 'A' && pfirst === 'C') {\n                pcoms2[i] = 'C';\n            }\n            fixArc(p2, i);\n        }\n        fixM(p, p2, attrs, attrs2, i);\n        fixM(p2, p, attrs2, attrs, i);\n        var seg = p[i];\n        var seg2 = p2 && p2[i];\n        var seglen = seg.length;\n        var seg2len = p2 && seg2.length;\n        attrs.x = seg[seglen - 2];\n        attrs.y = seg[seglen - 1];\n        attrs.bx = parseFloat(seg[seglen - 4]) || attrs.x;\n        attrs.by = parseFloat(seg[seglen - 3]) || attrs.y;\n        attrs2.bx = p2 && (parseFloat(seg2[seg2len - 4]) || attrs2.x);\n        attrs2.by = p2 && (parseFloat(seg2[seg2len - 3]) || attrs2.y);\n        attrs2.x = p2 && seg2[seg2len - 2];\n        attrs2.y = p2 && seg2[seg2len - 1];\n    }\n    return p2 ? [p, p2] : p;\n};\nvar p2s = /,?([a-z]),?/gi;\nvar parsePathArray = function (path) {\n    return path.join(',').replace(p2s, '$1');\n};\nvar base3 = function (t, p1, p2, p3, p4) {\n    var t1 = -3 * p1 + 9 * p2 - 9 * p3 + 3 * p4;\n    var t2 = t * t1 + 6 * p1 - 12 * p2 + 6 * p3;\n    return t * t2 - 3 * p1 + 3 * p2;\n};\nvar bezlen = function (x1, y1, x2, y2, x3, y3, x4, y4, z) {\n    if (z === null) {\n        z = 1;\n    }\n    z = z > 1 ? 1 : z < 0 ? 0 : z;\n    var z2 = z / 2;\n    var n = 12;\n    var Tvalues = [\n        -0.1252,\n        0.1252,\n        -0.3678,\n        0.3678,\n        -0.5873,\n        0.5873,\n        -0.7699,\n        0.7699,\n        -0.9041,\n        0.9041,\n        -0.9816,\n        0.9816,\n    ];\n    var Cvalues = [0.2491, 0.2491, 0.2335, 0.2335, 0.2032, 0.2032, 0.1601, 0.1601, 0.1069, 0.1069, 0.0472, 0.0472];\n    var sum = 0;\n    for (var i = 0; i < n; i++) {\n        var ct = z2 * Tvalues[i] + z2;\n        var xbase = base3(ct, x1, x2, x3, x4);\n        var ybase = base3(ct, y1, y2, y3, y4);\n        var comb = xbase * xbase + ybase * ybase;\n        sum += Cvalues[i] * Math.sqrt(comb);\n    }\n    return z2 * sum;\n};\nvar curveDim = function (x0, y0, x1, y1, x2, y2, x3, y3) {\n    var tvalues = [];\n    var bounds = [[], []];\n    var a;\n    var b;\n    var c;\n    var t;\n    for (var i = 0; i < 2; ++i) {\n        if (i === 0) {\n            b = 6 * x0 - 12 * x1 + 6 * x2;\n            a = -3 * x0 + 9 * x1 - 9 * x2 + 3 * x3;\n            c = 3 * x1 - 3 * x0;\n        }\n        else {\n            b = 6 * y0 - 12 * y1 + 6 * y2;\n            a = -3 * y0 + 9 * y1 - 9 * y2 + 3 * y3;\n            c = 3 * y1 - 3 * y0;\n        }\n        if (Math.abs(a) < 1e-12) {\n            if (Math.abs(b) < 1e-12) {\n                continue;\n            }\n            t = -c / b;\n            if (t > 0 && t < 1) {\n                tvalues.push(t);\n            }\n            continue;\n        }\n        var b2ac = b * b - 4 * c * a;\n        var sqrtb2ac = Math.sqrt(b2ac);\n        if (b2ac < 0) {\n            continue;\n        }\n        var t1 = (-b + sqrtb2ac) / (2 * a);\n        if (t1 > 0 && t1 < 1) {\n            tvalues.push(t1);\n        }\n        var t2 = (-b - sqrtb2ac) / (2 * a);\n        if (t2 > 0 && t2 < 1) {\n            tvalues.push(t2);\n        }\n    }\n    var j = tvalues.length;\n    var jlen = j;\n    var mt;\n    while (j--) {\n        t = tvalues[j];\n        mt = 1 - t;\n        bounds[0][j] = mt * mt * mt * x0 + 3 * mt * mt * t * x1 + 3 * mt * t * t * x2 + t * t * t * x3;\n        bounds[1][j] = mt * mt * mt * y0 + 3 * mt * mt * t * y1 + 3 * mt * t * t * y2 + t * t * t * y3;\n    }\n    bounds[0][jlen] = x0;\n    bounds[1][jlen] = y0;\n    bounds[0][jlen + 1] = x3;\n    bounds[1][jlen + 1] = y3;\n    bounds[0].length = bounds[1].length = jlen + 2;\n    return {\n        min: {\n            x: Math.min.apply(0, bounds[0]),\n            y: Math.min.apply(0, bounds[1]),\n        },\n        max: {\n            x: Math.max.apply(0, bounds[0]),\n            y: Math.max.apply(0, bounds[1]),\n        },\n    };\n};\nvar intersect = function (x1, y1, x2, y2, x3, y3, x4, y4) {\n    if (Math.max(x1, x2) < Math.min(x3, x4) ||\n        Math.min(x1, x2) > Math.max(x3, x4) ||\n        Math.max(y1, y2) < Math.min(y3, y4) ||\n        Math.min(y1, y2) > Math.max(y3, y4)) {\n        return;\n    }\n    var nx = (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4);\n    var ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4);\n    var denominator = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n    if (!denominator) {\n        return;\n    }\n    var px = nx / denominator;\n    var py = ny / denominator;\n    var px2 = +px.toFixed(2);\n    var py2 = +py.toFixed(2);\n    if (px2 < +Math.min(x1, x2).toFixed(2) ||\n        px2 > +Math.max(x1, x2).toFixed(2) ||\n        px2 < +Math.min(x3, x4).toFixed(2) ||\n        px2 > +Math.max(x3, x4).toFixed(2) ||\n        py2 < +Math.min(y1, y2).toFixed(2) ||\n        py2 > +Math.max(y1, y2).toFixed(2) ||\n        py2 < +Math.min(y3, y4).toFixed(2) ||\n        py2 > +Math.max(y3, y4).toFixed(2)) {\n        return;\n    }\n    return {\n        x: px,\n        y: py,\n    };\n};\nvar isPointInsideBBox = function (bbox, x, y) {\n    return x >= bbox.x && x <= bbox.x + bbox.width && y >= bbox.y && y <= bbox.y + bbox.height;\n};\nvar rectPath = function (x, y, w, h, r) {\n    if (r) {\n        return [\n            ['M', +x + +r, y],\n            ['l', w - r * 2, 0],\n            ['a', r, r, 0, 0, 1, r, r],\n            ['l', 0, h - r * 2],\n            ['a', r, r, 0, 0, 1, -r, r],\n            ['l', r * 2 - w, 0],\n            ['a', r, r, 0, 0, 1, -r, -r],\n            ['l', 0, r * 2 - h],\n            ['a', r, r, 0, 0, 1, r, -r],\n            ['z'],\n        ];\n    }\n    var res = [['M', x, y], ['l', w, 0], ['l', 0, h], ['l', -w, 0], ['z']];\n    // @ts-ignore\n    res.parsePathArray = parsePathArray;\n    return res;\n};\nvar box = function (x, y, width, height) {\n    if (x === null) {\n        x = y = width = height = 0;\n    }\n    if (y === null) {\n        y = x.y;\n        width = x.width;\n        height = x.height;\n        x = x.x;\n    }\n    return {\n        x: x,\n        y: y,\n        width: width,\n        w: width,\n        height: height,\n        h: height,\n        x2: x + width,\n        y2: y + height,\n        cx: x + width / 2,\n        cy: y + height / 2,\n        r1: Math.min(width, height) / 2,\n        r2: Math.max(width, height) / 2,\n        r0: Math.sqrt(width * width + height * height) / 2,\n        path: rectPath(x, y, width, height),\n        vb: [x, y, width, height].join(' '),\n    };\n};\nvar isBBoxIntersect = function (bbox1, bbox2) {\n    bbox1 = box(bbox1);\n    bbox2 = box(bbox2);\n    return (isPointInsideBBox(bbox2, bbox1.x, bbox1.y) ||\n        isPointInsideBBox(bbox2, bbox1.x2, bbox1.y) ||\n        isPointInsideBBox(bbox2, bbox1.x, bbox1.y2) ||\n        isPointInsideBBox(bbox2, bbox1.x2, bbox1.y2) ||\n        isPointInsideBBox(bbox1, bbox2.x, bbox2.y) ||\n        isPointInsideBBox(bbox1, bbox2.x2, bbox2.y) ||\n        isPointInsideBBox(bbox1, bbox2.x, bbox2.y2) ||\n        isPointInsideBBox(bbox1, bbox2.x2, bbox2.y2) ||\n        (((bbox1.x < bbox2.x2 && bbox1.x > bbox2.x) || (bbox2.x < bbox1.x2 && bbox2.x > bbox1.x)) &&\n            ((bbox1.y < bbox2.y2 && bbox1.y > bbox2.y) || (bbox2.y < bbox1.y2 && bbox2.y > bbox1.y))));\n};\nvar bezierBBox = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y) {\n    if (!isArray(p1x)) {\n        p1x = [p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y];\n    }\n    var bbox = curveDim.apply(null, p1x);\n    return box(bbox.min.x, bbox.min.y, bbox.max.x - bbox.min.x, bbox.max.y - bbox.min.y);\n};\nvar findDotsAtSegment = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n    var t1 = 1 - t;\n    var t13 = Math.pow(t1, 3);\n    var t12 = Math.pow(t1, 2);\n    var t2 = t * t;\n    var t3 = t2 * t;\n    var x = t13 * p1x + t12 * 3 * t * c1x + t1 * 3 * t * t * c2x + t3 * p2x;\n    var y = t13 * p1y + t12 * 3 * t * c1y + t1 * 3 * t * t * c2y + t3 * p2y;\n    var mx = p1x + 2 * t * (c1x - p1x) + t2 * (c2x - 2 * c1x + p1x);\n    var my = p1y + 2 * t * (c1y - p1y) + t2 * (c2y - 2 * c1y + p1y);\n    var nx = c1x + 2 * t * (c2x - c1x) + t2 * (p2x - 2 * c2x + c1x);\n    var ny = c1y + 2 * t * (c2y - c1y) + t2 * (p2y - 2 * c2y + c1y);\n    var ax = t1 * p1x + t * c1x;\n    var ay = t1 * p1y + t * c1y;\n    var cx = t1 * c2x + t * p2x;\n    var cy = t1 * c2y + t * p2y;\n    var alpha = 90 - (Math.atan2(mx - nx, my - ny) * 180) / Math.PI;\n    // (mx > nx || my < ny) && (alpha += 180);\n    return {\n        x: x,\n        y: y,\n        m: {\n            x: mx,\n            y: my,\n        },\n        n: {\n            x: nx,\n            y: ny,\n        },\n        start: {\n            x: ax,\n            y: ay,\n        },\n        end: {\n            x: cx,\n            y: cy,\n        },\n        alpha: alpha,\n    };\n};\nvar interHelper = function (bez1, bez2, justCount) {\n    var bbox1 = bezierBBox(bez1);\n    var bbox2 = bezierBBox(bez2);\n    if (!isBBoxIntersect(bbox1, bbox2)) {\n        return justCount ? 0 : [];\n    }\n    var l1 = bezlen.apply(0, bez1);\n    var l2 = bezlen.apply(0, bez2);\n    var n1 = ~~(l1 / 8);\n    var n2 = ~~(l2 / 8);\n    var dots1 = [];\n    var dots2 = [];\n    var xy = {};\n    var res = justCount ? 0 : [];\n    for (var i = 0; i < n1 + 1; i++) {\n        var d = findDotsAtSegment.apply(0, bez1.concat(i / n1));\n        dots1.push({\n            x: d.x,\n            y: d.y,\n            t: i / n1,\n        });\n    }\n    for (var i = 0; i < n2 + 1; i++) {\n        var d = findDotsAtSegment.apply(0, bez2.concat(i / n2));\n        dots2.push({\n            x: d.x,\n            y: d.y,\n            t: i / n2,\n        });\n    }\n    for (var i = 0; i < n1; i++) {\n        for (var j = 0; j < n2; j++) {\n            var di = dots1[i];\n            var di1 = dots1[i + 1];\n            var dj = dots2[j];\n            var dj1 = dots2[j + 1];\n            var ci = Math.abs(di1.x - di.x) < 0.001 ? 'y' : 'x';\n            var cj = Math.abs(dj1.x - dj.x) < 0.001 ? 'y' : 'x';\n            var is = intersect(di.x, di.y, di1.x, di1.y, dj.x, dj.y, dj1.x, dj1.y);\n            if (is) {\n                if (xy[is.x.toFixed(4)] === is.y.toFixed(4)) {\n                    continue;\n                }\n                xy[is.x.toFixed(4)] = is.y.toFixed(4);\n                var t1 = di.t + Math.abs((is[ci] - di[ci]) / (di1[ci] - di[ci])) * (di1.t - di.t);\n                var t2 = dj.t + Math.abs((is[cj] - dj[cj]) / (dj1[cj] - dj[cj])) * (dj1.t - dj.t);\n                if (t1 >= 0 && t1 <= 1 && t2 >= 0 && t2 <= 1) {\n                    if (justCount) {\n                        // @ts-ignore\n                        res += 1;\n                    }\n                    else {\n                        // @ts-ignore\n                        res.push({\n                            x: is.x,\n                            y: is.y,\n                            t1: t1,\n                            t2: t2,\n                        });\n                    }\n                }\n            }\n        }\n    }\n    return res;\n};\nvar interPathHelper = function (path1, path2, justCount) {\n    path1 = pathToCurve(path1);\n    path2 = pathToCurve(path2);\n    var x1;\n    var y1;\n    var x2;\n    var y2;\n    var x1m;\n    var y1m;\n    var x2m;\n    var y2m;\n    var bez1;\n    var bez2;\n    var res = justCount ? 0 : [];\n    for (var i = 0, ii = path1.length; i < ii; i++) {\n        var pi = path1[i];\n        if (pi[0] === 'M') {\n            x1 = x1m = pi[1];\n            y1 = y1m = pi[2];\n        }\n        else {\n            if (pi[0] === 'C') {\n                bez1 = [x1, y1].concat(pi.slice(1));\n                x1 = bez1[6];\n                y1 = bez1[7];\n            }\n            else {\n                bez1 = [x1, y1, x1, y1, x1m, y1m, x1m, y1m];\n                x1 = x1m;\n                y1 = y1m;\n            }\n            for (var j = 0, jj = path2.length; j < jj; j++) {\n                var pj = path2[j];\n                if (pj[0] === 'M') {\n                    x2 = x2m = pj[1];\n                    y2 = y2m = pj[2];\n                }\n                else {\n                    if (pj[0] === 'C') {\n                        bez2 = [x2, y2].concat(pj.slice(1));\n                        x2 = bez2[6];\n                        y2 = bez2[7];\n                    }\n                    else {\n                        bez2 = [x2, y2, x2, y2, x2m, y2m, x2m, y2m];\n                        x2 = x2m;\n                        y2 = y2m;\n                    }\n                    var intr = interHelper(bez1, bez2, justCount);\n                    if (justCount) {\n                        // @ts-ignore\n                        res += intr;\n                    }\n                    else {\n                        // @ts-ignore\n                        for (var k = 0, kk = intr.length; k < kk; k++) {\n                            intr[k].segment1 = i;\n                            intr[k].segment2 = j;\n                            intr[k].bez1 = bez1;\n                            intr[k].bez2 = bez2;\n                        }\n                        // @ts-ignore\n                        res = res.concat(intr);\n                    }\n                }\n            }\n        }\n    }\n    return res;\n};\nvar intersection = function (path1, path2) {\n    return interPathHelper(path1, path2);\n};\nfunction decasteljau(points, t) {\n    var left = [];\n    var right = [];\n    function recurse(points, t) {\n        if (points.length === 1) {\n            left.push(points[0]);\n            right.push(points[0]);\n        }\n        else {\n            var middlePoints = [];\n            for (var i = 0; i < points.length - 1; i++) {\n                if (i === 0) {\n                    left.push(points[0]);\n                }\n                if (i === points.length - 2) {\n                    right.push(points[i + 1]);\n                }\n                middlePoints[i] = [\n                    (1 - t) * points[i][0] + t * points[i + 1][0],\n                    (1 - t) * points[i][1] + t * points[i + 1][1],\n                ];\n            }\n            recurse(middlePoints, t);\n        }\n    }\n    if (points.length) {\n        recurse(points, t);\n    }\n    return { left: left, right: right.reverse() };\n}\nfunction splitCurve(start, end, count) {\n    var points = [[start[1], start[2]]];\n    count = count || 2;\n    var segments = [];\n    if (end[0] === 'A') {\n        points.push(end[6]);\n        points.push(end[7]);\n    }\n    else if (end[0] === 'C') {\n        points.push([end[1], end[2]]);\n        points.push([end[3], end[4]]);\n        points.push([end[5], end[6]]);\n    }\n    else if (end[0] === 'S' || end[0] === 'Q') {\n        points.push([end[1], end[2]]);\n        points.push([end[3], end[4]]);\n    }\n    else {\n        points.push([end[1], end[2]]);\n    }\n    var leftSegments = points;\n    var t = 1 / count;\n    for (var i = 0; i < count - 1; i++) {\n        var rt = t / (1 - t * i);\n        var split = decasteljau(leftSegments, rt);\n        segments.push(split.left);\n        leftSegments = split.right;\n    }\n    segments.push(leftSegments);\n    var result = segments.map(function (segment) {\n        var cmd = [];\n        if (segment.length === 4) {\n            cmd.push('C');\n            cmd = cmd.concat(segment[2]);\n        }\n        if (segment.length >= 3) {\n            if (segment.length === 3) {\n                cmd.push('Q');\n            }\n            cmd = cmd.concat(segment[1]);\n        }\n        if (segment.length === 2) {\n            cmd.push('L');\n        }\n        cmd = cmd.concat(segment[segment.length - 1]);\n        return cmd;\n    });\n    return result;\n}\nvar splitSegment = function (start, end, count) {\n    if (count === 1) {\n        return [[].concat(start)];\n    }\n    var segments = [];\n    if (end[0] === 'L' || end[0] === 'C' || end[0] === 'Q') {\n        segments = segments.concat(splitCurve(start, end, count));\n    }\n    else {\n        var temp = [].concat(start);\n        if (temp[0] === 'M') {\n            temp[0] = 'L';\n        }\n        for (var i = 0; i <= count - 1; i++) {\n            segments.push(temp);\n        }\n    }\n    return segments;\n};\nvar fillPath = function (source, target) {\n    if (source.length === 1) {\n        return source;\n    }\n    var sourceLen = source.length - 1;\n    var targetLen = target.length - 1;\n    var ratio = sourceLen / targetLen;\n    var segmentsToFill = [];\n    if (source.length === 1 && source[0][0] === 'M') {\n        for (var i = 0; i < targetLen - sourceLen; i++) {\n            source.push(source[0]);\n        }\n        return source;\n    }\n    for (var i = 0; i < targetLen; i++) {\n        var index = Math.floor(ratio * i);\n        segmentsToFill[index] = (segmentsToFill[index] || 0) + 1;\n    }\n    var filled = segmentsToFill.reduce(function (filled, count, i) {\n        if (i === sourceLen) {\n            return filled.concat(source[sourceLen]);\n        }\n        return filled.concat(splitSegment(source[i], source[i + 1], count));\n    }, []);\n    filled.unshift(source[0]);\n    if (target[targetLen] === 'Z' || target[targetLen] === 'z') {\n        filled.push('Z');\n    }\n    return filled;\n};\nvar isEqual = function (obj1, obj2) {\n    if (obj1.length !== obj2.length) {\n        return false;\n    }\n    var result = true;\n    each(obj1, function (item, i) {\n        if (item !== obj2[i]) {\n            result = false;\n            return false;\n        }\n    });\n    return result;\n};\nfunction getMinDiff(del, add, modify) {\n    var type = null;\n    var min = modify;\n    if (add < min) {\n        min = add;\n        type = 'add';\n    }\n    if (del < min) {\n        min = del;\n        type = 'del';\n    }\n    return {\n        type: type,\n        min: min,\n    };\n}\n/*\n * https://en.wikipedia.org/wiki/Levenshtein_distance\n * 计算两条path的编辑距离\n */\nvar levenshteinDistance = function (source, target) {\n    var sourceLen = source.length;\n    var targetLen = target.length;\n    var sourceSegment;\n    var targetSegment;\n    var temp = 0;\n    if (sourceLen === 0 || targetLen === 0) {\n        return null;\n    }\n    var dist = [];\n    for (var i = 0; i <= sourceLen; i++) {\n        dist[i] = [];\n        dist[i][0] = { min: i };\n    }\n    for (var j = 0; j <= targetLen; j++) {\n        dist[0][j] = { min: j };\n    }\n    for (var i = 1; i <= sourceLen; i++) {\n        sourceSegment = source[i - 1];\n        for (var j = 1; j <= targetLen; j++) {\n            targetSegment = target[j - 1];\n            if (isEqual(sourceSegment, targetSegment)) {\n                temp = 0;\n            }\n            else {\n                temp = 1;\n            }\n            var del = dist[i - 1][j].min + 1;\n            var add = dist[i][j - 1].min + 1;\n            var modify = dist[i - 1][j - 1].min + temp;\n            dist[i][j] = getMinDiff(del, add, modify);\n        }\n    }\n    return dist;\n};\nvar fillPathByDiff = function (source, target) {\n    var diffMatrix = levenshteinDistance(source, target);\n    var sourceLen = source.length;\n    var targetLen = target.length;\n    var changes = [];\n    var index = 1;\n    var minPos = 1;\n    // 如果source和target不是完全不相等\n    if (diffMatrix[sourceLen][targetLen].min !== sourceLen) {\n        // 获取从source到target所需改动\n        for (var i = 1; i <= sourceLen; i++) {\n            var min = diffMatrix[i][i].min;\n            minPos = i;\n            for (var j = index; j <= targetLen; j++) {\n                if (diffMatrix[i][j].min < min) {\n                    min = diffMatrix[i][j].min;\n                    minPos = j;\n                }\n            }\n            index = minPos;\n            if (diffMatrix[i][index].type) {\n                changes.push({ index: i - 1, type: diffMatrix[i][index].type });\n            }\n        }\n        // 对source进行增删path\n        for (var i = changes.length - 1; i >= 0; i--) {\n            index = changes[i].index;\n            if (changes[i].type === 'add') {\n                source.splice(index, 0, [].concat(source[index]));\n            }\n            else {\n                source.splice(index, 1);\n            }\n        }\n    }\n    // source尾部补齐\n    sourceLen = source.length;\n    var diff = targetLen - sourceLen;\n    if (sourceLen < targetLen) {\n        for (var i = 0; i < diff; i++) {\n            if (source[sourceLen - 1][0] === 'z' || source[sourceLen - 1][0] === 'Z') {\n                source.splice(sourceLen - 2, 0, source[sourceLen - 2]);\n            }\n            else {\n                source.push(source[sourceLen - 1]);\n            }\n            sourceLen += 1;\n        }\n    }\n    return source;\n};\n// 将两个点均分成count个点\nfunction _splitPoints(points, former, count) {\n    var result = [].concat(points);\n    var index;\n    var t = 1 / (count + 1);\n    var formerEnd = _getSegmentPoints(former)[0];\n    for (var i = 1; i <= count; i++) {\n        t *= i;\n        index = Math.floor(points.length * t);\n        if (index === 0) {\n            result.unshift([formerEnd[0] * t + points[index][0] * (1 - t), formerEnd[1] * t + points[index][1] * (1 - t)]);\n        }\n        else {\n            result.splice(index, 0, [\n                formerEnd[0] * t + points[index][0] * (1 - t),\n                formerEnd[1] * t + points[index][1] * (1 - t),\n            ]);\n        }\n    }\n    return result;\n}\n/*\n * 抽取pathSegment中的关键点\n * M,L,A,Q,H,V一个端点\n * Q, S抽取一个端点，一个控制点\n * C抽取一个端点，两个控制点\n */\nfunction _getSegmentPoints(segment) {\n    var points = [];\n    switch (segment[0]) {\n        case 'M':\n            points.push([segment[1], segment[2]]);\n            break;\n        case 'L':\n            points.push([segment[1], segment[2]]);\n            break;\n        case 'A':\n            points.push([segment[6], segment[7]]);\n            break;\n        case 'Q':\n            points.push([segment[3], segment[4]]);\n            points.push([segment[1], segment[2]]);\n            break;\n        case 'T':\n            points.push([segment[1], segment[2]]);\n            break;\n        case 'C':\n            points.push([segment[5], segment[6]]);\n            points.push([segment[1], segment[2]]);\n            points.push([segment[3], segment[4]]);\n            break;\n        case 'S':\n            points.push([segment[3], segment[4]]);\n            points.push([segment[1], segment[2]]);\n            break;\n        case 'H':\n            points.push([segment[1], segment[1]]);\n            break;\n        case 'V':\n            points.push([segment[1], segment[1]]);\n            break;\n        default:\n    }\n    return points;\n}\nvar formatPath = function (fromPath, toPath) {\n    if (fromPath.length <= 1) {\n        return fromPath;\n    }\n    var points;\n    for (var i = 0; i < toPath.length; i++) {\n        if (fromPath[i][0] !== toPath[i][0]) {\n            // 获取fromPath的pathSegment的端点，根据toPath的指令对其改造\n            points = _getSegmentPoints(fromPath[i]);\n            switch (toPath[i][0]) {\n                case 'M':\n                    fromPath[i] = ['M'].concat(points[0]);\n                    break;\n                case 'L':\n                    fromPath[i] = ['L'].concat(points[0]);\n                    break;\n                case 'A':\n                    fromPath[i] = [].concat(toPath[i]);\n                    fromPath[i][6] = points[0][0];\n                    fromPath[i][7] = points[0][1];\n                    break;\n                case 'Q':\n                    if (points.length < 2) {\n                        if (i > 0) {\n                            points = _splitPoints(points, fromPath[i - 1], 1);\n                        }\n                        else {\n                            fromPath[i] = toPath[i];\n                            break;\n                        }\n                    }\n                    fromPath[i] = ['Q'].concat(points.reduce(function (arr, i) {\n                        return arr.concat(i);\n                    }, []));\n                    break;\n                case 'T':\n                    fromPath[i] = ['T'].concat(points[0]);\n                    break;\n                case 'C':\n                    if (points.length < 3) {\n                        if (i > 0) {\n                            points = _splitPoints(points, fromPath[i - 1], 2);\n                        }\n                        else {\n                            fromPath[i] = toPath[i];\n                            break;\n                        }\n                    }\n                    fromPath[i] = ['C'].concat(points.reduce(function (arr, i) {\n                        return arr.concat(i);\n                    }, []));\n                    break;\n                case 'S':\n                    if (points.length < 2) {\n                        if (i > 0) {\n                            points = _splitPoints(points, fromPath[i - 1], 1);\n                        }\n                        else {\n                            fromPath[i] = toPath[i];\n                            break;\n                        }\n                    }\n                    fromPath[i] = ['S'].concat(points.reduce(function (arr, i) {\n                        return arr.concat(i);\n                    }, []));\n                    break;\n                default:\n                    fromPath[i] = toPath[i];\n            }\n        }\n    }\n    return fromPath;\n};\nexport { catmullRomToBezier, fillPath, fillPathByDiff, formatPath, intersection, parsePathArray, parsePathString, pathToAbsolute, pathToCurve, rectPath, };\n//# sourceMappingURL=path.js.map","import { __assign, __extends } from \"tslib\";\nimport { AbstractShape } from '@antv/g-base';\nimport { isNil, intersectRect } from '../util/util';\nimport { applyAttrsToContext, refreshElement } from '../util/draw';\nimport { getBBoxMethod } from '@antv/g-base/lib/bbox/index';\nimport * as Shape from './index';\nimport Group from '../group';\nvar ShapeBase = /** @class */ (function (_super) {\n    __extends(ShapeBase, _super);\n    function ShapeBase() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ShapeBase.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        // 设置默认值\n        return __assign(__assign({}, attrs), { lineWidth: 1, lineAppendWidth: 0, strokeOpacity: 1, fillOpacity: 1 });\n    };\n    ShapeBase.prototype.getShapeBase = function () {\n        return Shape;\n    };\n    ShapeBase.prototype.getGroupBase = function () {\n        return Group;\n    };\n    /**\n     * 一些方法调用会引起画布变化\n     * @param {ChangeType} changeType 改变的类型\n     */\n    ShapeBase.prototype.onCanvasChange = function (changeType) {\n        refreshElement(this, changeType);\n    };\n    ShapeBase.prototype.calculateBBox = function () {\n        var type = this.get('type');\n        var lineWidth = this.getHitLineWidth();\n        // const attrs = this.attr();\n        var bboxMethod = getBBoxMethod(type);\n        var box = bboxMethod(this);\n        var halfLineWidth = lineWidth / 2;\n        var minX = box.x - halfLineWidth;\n        var minY = box.y - halfLineWidth;\n        var maxX = box.x + box.width + halfLineWidth;\n        var maxY = box.y + box.height + halfLineWidth;\n        return {\n            x: minX,\n            minX: minX,\n            y: minY,\n            minY: minY,\n            width: box.width + lineWidth,\n            height: box.height + lineWidth,\n            maxX: maxX,\n            maxY: maxY,\n        };\n    };\n    ShapeBase.prototype.isFill = function () {\n        return !!this.attrs['fill'] || this.isClipShape();\n    };\n    ShapeBase.prototype.isStroke = function () {\n        return !!this.attrs['stroke'];\n    };\n    // 同 shape 中的方法重复了\n    ShapeBase.prototype._applyClip = function (context, clip) {\n        if (clip) {\n            context.save();\n            // 将 clip 的属性挂载到 context 上\n            applyAttrsToContext(context, clip);\n            // 绘制 clip 路径\n            clip.createPath(context);\n            context.restore();\n            // 裁剪\n            context.clip();\n            clip._afterDraw();\n        }\n    };\n    // 绘制图形时需要考虑 region 限制\n    ShapeBase.prototype.draw = function (context, region) {\n        var clip = this.cfg.clipShape;\n        // 如果指定了 region，同时不允许刷新时，直接返回\n        if (region) {\n            if (this.cfg.refresh === false) {\n                // this._afterDraw();\n                this.set('hasChanged', false);\n                return;\n            }\n            // 是否相交需要考虑 clip 的包围盒\n            var bbox = this.getCanvasBBox();\n            if (!intersectRect(region, bbox)) {\n                // 图形的包围盒与重绘区域不相交时，也需要清除标记\n                this.set('hasChanged', false);\n                // 存在多种情形需要更新 cacheCanvasBBox 和 isInview 的判定\n                // 1. 之前图形在视窗内，但是现在不再视窗内\n                // 2. 如果当前的图形以及父元素都没有发生过变化，refresh = false 不会走到这里，所以这里的图形都是父元素发生变化，但是没有在视图内的元素\n                if (this.cfg.isInView) {\n                    this._afterDraw();\n                }\n                return;\n            }\n        }\n        context.save();\n        // 先将 attrs 应用到上下文中，再设置 clip。因为 clip 应该被当前元素的 matrix 所影响\n        applyAttrsToContext(context, this);\n        this._applyClip(context, clip);\n        this.drawPath(context);\n        context.restore();\n        this._afterDraw();\n    };\n    ShapeBase.prototype.getCanvasViewBox = function () {\n        var canvas = this.cfg.canvas;\n        if (canvas) {\n            // @ts-ignore\n            return canvas.getViewRange();\n        }\n        return null;\n    };\n    ShapeBase.prototype.cacheCanvasBBox = function () {\n        var canvasBBox = this.getCanvasViewBox();\n        // 绘制的时候缓存包围盒\n        if (canvasBBox) {\n            var bbox = this.getCanvasBBox();\n            var isInView = intersectRect(bbox, canvasBBox);\n            this.set('isInView', isInView);\n            // 不再视窗内 cacheCanvasBBox 设置成 null，会提升局部渲染的性能，\n            // 因为在局部渲染影响的包围盒计算时不考虑这个图形的包围盒\n            // 父元素 cacheCanvasBBox 计算的时候也不计算\n            if (isInView) {\n                this.set('cacheCanvasBBox', bbox);\n            }\n            else {\n                this.set('cacheCanvasBBox', null);\n            }\n        }\n    };\n    ShapeBase.prototype._afterDraw = function () {\n        this.cacheCanvasBBox();\n        // 绘制后消除标记\n        this.set('hasChanged', false);\n        this.set('refresh', null);\n    };\n    ShapeBase.prototype.skipDraw = function () {\n        this.set('cacheCanvasBBox', null);\n        this.set('isInView', null);\n        this.set('hasChanged', false);\n    };\n    /**\n     * 绘制图形的路径\n     * @param {CanvasRenderingContext2D} context 上下文\n     */\n    ShapeBase.prototype.drawPath = function (context) {\n        this.createPath(context);\n        this.strokeAndFill(context);\n        this.afterDrawPath(context);\n    };\n    /**\n     * @protected\n     * 填充图形\n     * @param {CanvasRenderingContext2D} context context 上下文\n     */\n    ShapeBase.prototype.fill = function (context) {\n        context.fill();\n    };\n    /**\n     * @protected\n     * 绘制图形边框\n     * @param {CanvasRenderingContext2D} context context 上下文\n     */\n    ShapeBase.prototype.stroke = function (context) {\n        context.stroke();\n    };\n    // 绘制或者填充\n    ShapeBase.prototype.strokeAndFill = function (context) {\n        var _a = this.attrs, lineWidth = _a.lineWidth, opacity = _a.opacity, strokeOpacity = _a.strokeOpacity, fillOpacity = _a.fillOpacity;\n        if (this.isFill()) {\n            if (!isNil(fillOpacity) && fillOpacity !== 1) {\n                context.globalAlpha = fillOpacity;\n                this.fill(context);\n                context.globalAlpha = opacity;\n            }\n            else {\n                this.fill(context);\n            }\n        }\n        if (this.isStroke()) {\n            if (lineWidth > 0) {\n                if (!isNil(strokeOpacity) && strokeOpacity !== 1) {\n                    context.globalAlpha = strokeOpacity;\n                }\n                this.stroke(context);\n            }\n        }\n        this.afterDrawPath(context);\n    };\n    /**\n     * @protected\n     * 绘制图形的路径\n     * @param {CanvasRenderingContext2D} context 上下文\n     */\n    ShapeBase.prototype.createPath = function (context) { };\n    /**\n     * 绘制完成 path 后的操作\n     * @param {CanvasRenderingContext2D} context 上下文\n     */\n    ShapeBase.prototype.afterDrawPath = function (context) { };\n    ShapeBase.prototype.isInShape = function (refX, refY) {\n        // return HitUtil.isHitShape(this, refX, refY);\n        var isStroke = this.isStroke();\n        var isFill = this.isFill();\n        var lineWidth = this.getHitLineWidth();\n        return this.isInStrokeOrPath(refX, refY, isStroke, isFill, lineWidth);\n    };\n    // 之所以不拆成 isInStroke 和 isInPath 在于两者存在一些共同的计算\n    ShapeBase.prototype.isInStrokeOrPath = function (x, y, isStroke, isFill, lineWidth) {\n        return false;\n    };\n    /**\n     * 获取线拾取的宽度\n     * @returns {number} 线的拾取宽度\n     */\n    ShapeBase.prototype.getHitLineWidth = function () {\n        if (!this.isStroke()) {\n            return 0;\n        }\n        var attrs = this.attrs;\n        return attrs['lineWidth'] + attrs['lineAppendWidth'];\n    };\n    return ShapeBase;\n}(AbstractShape));\nexport default ShapeBase;\n//# sourceMappingURL=base.js.map","/**\n * @fileoverview 圆\n * @author dxq613@gmail.com\n */\nimport { __assign, __extends } from \"tslib\";\nimport ShapeBase from './base';\nimport { distance } from '../util/util';\n// TODO: 暂时不需要圆的工具方法，后续如果需要支持 pointAt，tangentAngle 时再引入\n// import CircleUtil from '@antv/g-math/lib/circle';\nvar Circle = /** @class */ (function (_super) {\n    __extends(Circle, _super);\n    function Circle() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Circle.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { x: 0, y: 0, r: 0 });\n    };\n    Circle.prototype.isInStrokeOrPath = function (x, y, isStroke, isFill, lineWidth) {\n        var attrs = this.attr();\n        var cx = attrs.x;\n        var cy = attrs.y;\n        var r = attrs.r;\n        var halfLineWidth = lineWidth / 2;\n        var absDistance = distance(cx, cy, x, y);\n        // 直接用距离，如果同时存在边和填充时，可以减少两次计算\n        if (isFill && isStroke) {\n            return absDistance <= r + halfLineWidth;\n        }\n        if (isFill) {\n            return absDistance <= r;\n        }\n        if (isStroke) {\n            return absDistance >= r - halfLineWidth && absDistance <= r + halfLineWidth;\n        }\n        return false;\n    };\n    Circle.prototype.createPath = function (context) {\n        var attrs = this.attr();\n        var cx = attrs.x;\n        var cy = attrs.y;\n        var r = attrs.r;\n        context.beginPath();\n        context.arc(cx, cy, r, 0, Math.PI * 2, false);\n        context.closePath();\n    };\n    return Circle;\n}(ShapeBase));\nexport default Circle;\n//# sourceMappingURL=circle.js.map","/**\n * @fileoverview 椭圆\n * @author dxq613@gmail.com\n */\nimport { __assign, __extends } from \"tslib\";\nimport ShapeBase from './base';\n// 暂时不需要\n// import EllipseUtil from '@antv/g-math/lib/ellipse';\n// 根据椭圆公式计算 x*x/rx*rx + y*y/ry*ry;\nfunction ellipseDistance(squareX, squareY, rx, ry) {\n    return squareX / (rx * rx) + squareY / (ry * ry);\n}\nvar Ellipse = /** @class */ (function (_super) {\n    __extends(Ellipse, _super);\n    function Ellipse() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Ellipse.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { x: 0, y: 0, rx: 0, ry: 0 });\n    };\n    Ellipse.prototype.isInStrokeOrPath = function (x, y, isStroke, isFill, lineWidth) {\n        var attrs = this.attr();\n        var halfLineWith = lineWidth / 2;\n        var cx = attrs.x;\n        var cy = attrs.y;\n        var rx = attrs.rx, ry = attrs.ry;\n        var squareX = (x - cx) * (x - cx);\n        var squareY = (y - cy) * (y - cy);\n        // 使用椭圆的公式： x*x/rx*rx + y*y/ry*ry = 1;\n        if (isFill && isStroke) {\n            return ellipseDistance(squareX, squareY, rx + halfLineWith, ry + halfLineWith) <= 1;\n        }\n        if (isFill) {\n            return ellipseDistance(squareX, squareY, rx, ry) <= 1;\n        }\n        if (isStroke) {\n            return (ellipseDistance(squareX, squareY, rx - halfLineWith, ry - halfLineWith) >= 1 &&\n                ellipseDistance(squareX, squareY, rx + halfLineWith, ry + halfLineWith) <= 1);\n        }\n        return false;\n    };\n    Ellipse.prototype.createPath = function (context) {\n        var attrs = this.attr();\n        var cx = attrs.x;\n        var cy = attrs.y;\n        var rx = attrs.rx;\n        var ry = attrs.ry;\n        context.beginPath();\n        // 兼容逻辑\n        if (context.ellipse) {\n            context.ellipse(cx, cy, rx, ry, 0, 0, Math.PI * 2, false);\n        }\n        else {\n            // 如果不支持，则使用圆来绘制，进行变形\n            var r = rx > ry ? rx : ry;\n            var scaleX = rx > ry ? 1 : rx / ry;\n            var scaleY = rx > ry ? ry / rx : 1;\n            context.save();\n            context.translate(cx, cy);\n            context.scale(scaleX, scaleY);\n            context.arc(0, 0, r, 0, Math.PI * 2);\n            context.restore();\n            context.closePath();\n        }\n    };\n    return Ellipse;\n}(ShapeBase));\nexport default Ellipse;\n//# sourceMappingURL=ellipse.js.map","/**\n * @fileoverview 图片\n * @author dxq613@gmail.com\n */\nimport { __assign, __extends } from \"tslib\";\nimport ShapeBase from './base';\nimport { isString, isNil } from '../util/util';\nfunction isCanvas(dom) {\n    return dom instanceof HTMLElement && isString(dom.nodeName) && dom.nodeName.toUpperCase() === 'CANVAS';\n}\nvar ImageShape = /** @class */ (function (_super) {\n    __extends(ImageShape, _super);\n    function ImageShape() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ImageShape.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { x: 0, y: 0, width: 0, height: 0 });\n    };\n    ImageShape.prototype.initAttrs = function (attrs) {\n        this._setImage(attrs.img);\n    };\n    // image 不计算 stroke\n    ImageShape.prototype.isStroke = function () {\n        return false;\n    };\n    // 仅仅使用包围盒检测来进行拾取\n    // 所以不需要复写 isInStrokeOrPath 的方法\n    ImageShape.prototype.isOnlyHitBox = function () {\n        return true;\n    };\n    ImageShape.prototype._afterLoading = function () {\n        if (this.get('toDraw') === true) {\n            var canvas = this.get('canvas');\n            if (canvas) {\n                // 这段应该改成局部渲染\n                canvas.draw();\n            }\n            else {\n                // 这种方式如果发生遮挡会出现问题\n                this.createPath(this.get('context'));\n            }\n        }\n    };\n    ImageShape.prototype._setImage = function (img) {\n        var _this = this;\n        var attrs = this.attrs;\n        if (isString(img)) {\n            var image_1 = new Image();\n            image_1.onload = function () {\n                // 图片未加载完，则已经被销毁\n                if (_this.destroyed) {\n                    return false;\n                }\n                // 缓存原始地址，可以做对比，防止重复加载图片\n                // 如果考虑到在加载过程中可能替换 img 属性，则情况更加复杂\n                // this.set('imgSrc', img);\n                // 这里会循环调用 _setImage 方法，但不会再走这个分支\n                _this.attr('img', image_1);\n                _this.set('loading', false);\n                _this._afterLoading();\n                var callback = _this.get('callback');\n                if (callback) {\n                    callback.call(_this);\n                }\n            };\n            // 设置跨域\n            image_1.crossOrigin = 'Anonymous';\n            image_1.src = img;\n            // loading 过程中不绘制\n            this.set('loading', true);\n        }\n        else if (img instanceof Image) {\n            // 如果是一个 image 对象，则设置宽高\n            if (!attrs.width) {\n                attrs.width = img.width;\n            }\n            if (!attrs.height) {\n                attrs.height = img.height;\n            }\n        }\n        else if (isCanvas(img)) {\n            // 如果设置了 canvas 对象\n            if (!attrs.width) {\n                attrs.width = Number(img.getAttribute('width'));\n            }\n            if (!attrs.height) {\n                attrs.height, Number(img.getAttribute('height'));\n            }\n        }\n    };\n    ImageShape.prototype.onAttrChange = function (name, value, originValue) {\n        _super.prototype.onAttrChange.call(this, name, value, originValue);\n        // 如果加载的已经是当前图片，则不再处理\n        if (name === 'img') {\n            // 可以加缓冲，&& this.get('imgSrc') !== value\n            this._setImage(value);\n        }\n    };\n    ImageShape.prototype.createPath = function (context) {\n        // 正在加载则不绘制\n        if (this.get('loading')) {\n            this.set('toDraw', true); // 加载完成后绘制\n            this.set('context', context);\n            return;\n        }\n        var attrs = this.attr();\n        var x = attrs.x, y = attrs.y, width = attrs.width, height = attrs.height, sx = attrs.sx, sy = attrs.sy, swidth = attrs.swidth, sheight = attrs.sheight;\n        var img = attrs.img;\n        if (img instanceof Image || isCanvas(img)) {\n            if (!isNil(sx) && !isNil(sy) && !isNil(swidth) && !isNil(sheight)) {\n                context.drawImage(img, sx, sy, swidth, sheight, x, y, width, height);\n            }\n            else {\n                context.drawImage(img, x, y, width, height);\n            }\n        }\n    };\n    return ImageShape;\n}(ShapeBase));\nexport default ImageShape;\n//# sourceMappingURL=image.js.map","import LineUtil from '@antv/g-math/lib/line';\nexport default function inLine(x1, y1, x2, y2, lineWidth, x, y) {\n    var minX = Math.min(x1, x2);\n    var maxX = Math.max(x1, x2);\n    var minY = Math.min(y1, y2);\n    var maxY = Math.max(y1, y2);\n    var halfWidth = lineWidth / 2;\n    // 因为目前的方案是计算点到直线的距离，而有可能会在延长线上，所以要先判断是否在包围盒内\n    // 这种方案会在水平或者竖直的情况下载线的延长线上有半 lineWidth 的误差\n    if (!(x >= minX - halfWidth && x <= maxX + halfWidth && y >= minY - halfWidth && y <= maxY + halfWidth)) {\n        return false;\n    }\n    // 因为已经计算了包围盒，所以仅需要计算到直线的距离即可，可以显著提升性能\n    return LineUtil.pointToLine(x1, y1, x2, y2, x, y) <= lineWidth / 2;\n}\n//# sourceMappingURL=line.js.map","import { __assign, __extends } from \"tslib\";\n/**\n * @fileoverview 圆\n * @author dxq613@gmail.com\n */\nimport LineUtil from '@antv/g-math/lib/line';\nimport ShapeBase from './base';\nimport inLine from '../util/in-stroke/line';\nimport * as ArrowUtil from '../util/arrow';\nvar Line = /** @class */ (function (_super) {\n    __extends(Line, _super);\n    function Line() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Line.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { x1: 0, y1: 0, x2: 0, y2: 0, startArrow: false, endArrow: false });\n    };\n    Line.prototype.initAttrs = function (attrs) {\n        this.setArrow();\n    };\n    // 更新属性时，检测是否更改了箭头\n    Line.prototype.onAttrChange = function (name, value, originValue) {\n        _super.prototype.onAttrChange.call(this, name, value, originValue);\n        // 由于箭头的绘制依赖于 line 的诸多 attrs，因此这里不再对每个 attr 进行判断，attr 每次变化都会影响箭头的更新\n        this.setArrow();\n    };\n    Line.prototype.setArrow = function () {\n        var attrs = this.attr();\n        var x1 = attrs.x1, y1 = attrs.y1, x2 = attrs.x2, y2 = attrs.y2, startArrow = attrs.startArrow, endArrow = attrs.endArrow;\n        if (startArrow) {\n            ArrowUtil.addStartArrow(this, attrs, x2, y2, x1, y1);\n        }\n        if (endArrow) {\n            ArrowUtil.addEndArrow(this, attrs, x1, y1, x2, y2);\n        }\n    };\n    Line.prototype.isInStrokeOrPath = function (x, y, isStroke, isFill, lineWidth) {\n        if (!isStroke || !lineWidth) {\n            return false;\n        }\n        var _a = this.attr(), x1 = _a.x1, y1 = _a.y1, x2 = _a.x2, y2 = _a.y2;\n        return inLine(x1, y1, x2, y2, lineWidth, x, y);\n    };\n    Line.prototype.createPath = function (context) {\n        var attrs = this.attr();\n        var x1 = attrs.x1, y1 = attrs.y1, x2 = attrs.x2, y2 = attrs.y2, startArrow = attrs.startArrow, endArrow = attrs.endArrow;\n        var startArrowDistance = {\n            dx: 0,\n            dy: 0,\n        };\n        var endArrowDistance = {\n            dx: 0,\n            dy: 0,\n        };\n        if (startArrow && startArrow.d) {\n            startArrowDistance = ArrowUtil.getShortenOffset(x1, y1, x2, y2, attrs.startArrow.d);\n        }\n        if (endArrow && endArrow.d) {\n            endArrowDistance = ArrowUtil.getShortenOffset(x1, y1, x2, y2, attrs.endArrow.d);\n        }\n        context.beginPath();\n        // 如果自定义箭头，线条相应缩进\n        context.moveTo(x1 + startArrowDistance.dx, y1 + startArrowDistance.dy);\n        context.lineTo(x2 - endArrowDistance.dx, y2 - endArrowDistance.dy);\n    };\n    Line.prototype.afterDrawPath = function (context) {\n        var startArrowShape = this.get('startArrowShape');\n        var endArrowShape = this.get('endArrowShape');\n        if (startArrowShape) {\n            startArrowShape.draw(context);\n        }\n        if (endArrowShape) {\n            endArrowShape.draw(context);\n        }\n    };\n    /**\n     * Get length of line\n     * @return {number} length\n     */\n    Line.prototype.getTotalLength = function () {\n        var _a = this.attr(), x1 = _a.x1, y1 = _a.y1, x2 = _a.x2, y2 = _a.y2;\n        return LineUtil.length(x1, y1, x2, y2);\n    };\n    /**\n     * Get point according to ratio\n     * @param {number} ratio\n     * @return {Point} point\n     */\n    Line.prototype.getPoint = function (ratio) {\n        var _a = this.attr(), x1 = _a.x1, y1 = _a.y1, x2 = _a.x2, y2 = _a.y2;\n        return LineUtil.pointAt(x1, y1, x2, y2, ratio);\n    };\n    return Line;\n}(ShapeBase));\nexport default Line;\n//# sourceMappingURL=line.js.map","/**\n * @fileoverview Marker\n * @author dxq613@gmail.com\n */\nimport { __extends } from \"tslib\";\nimport { isNil } from '@antv/util';\nimport path2Absolute from '@antv/path-util/lib/path-2-absolute';\nimport ShapeBase from './base';\nimport { isFunction } from '../util/util';\nimport { drawPath } from '../util/draw';\nvar Symbols = {\n    // 圆\n    circle: function (x, y, r) {\n        return [\n            ['M', x - r, y],\n            ['A', r, r, 0, 1, 0, x + r, y],\n            ['A', r, r, 0, 1, 0, x - r, y],\n        ];\n    },\n    // 正方形\n    square: function (x, y, r) {\n        return [['M', x - r, y - r], ['L', x + r, y - r], ['L', x + r, y + r], ['L', x - r, y + r], ['Z']];\n    },\n    // 菱形\n    diamond: function (x, y, r) {\n        return [['M', x - r, y], ['L', x, y - r], ['L', x + r, y], ['L', x, y + r], ['Z']];\n    },\n    // 三角形\n    triangle: function (x, y, r) {\n        var diffY = r * Math.sin((1 / 3) * Math.PI);\n        return [['M', x - r, y + diffY], ['L', x, y - diffY], ['L', x + r, y + diffY], ['Z']];\n    },\n    // 倒三角形\n    'triangle-down': function (x, y, r) {\n        var diffY = r * Math.sin((1 / 3) * Math.PI);\n        return [['M', x - r, y - diffY], ['L', x + r, y - diffY], ['L', x, y + diffY], ['Z']];\n    },\n};\nvar Marker = /** @class */ (function (_super) {\n    __extends(Marker, _super);\n    function Marker() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Marker.prototype.initAttrs = function (attrs) {\n        this._resetParamsCache();\n    };\n    // 重置绘制 path 存储的缓存\n    Marker.prototype._resetParamsCache = function () {\n        // 为了加速 path 的绘制、拾取和计算，这个地方可以缓存很多东西\n        // 这些缓存都是第一次需要时计算和存储，虽然增加了复杂度，但是频繁调用的方法，性能有很大提升\n        this.set('paramsCache', {}); // 清理缓存\n    };\n    // 更新属性时，检测是否更改了 path\n    Marker.prototype.onAttrChange = function (name, value, originValue) {\n        _super.prototype.onAttrChange.call(this, name, value, originValue);\n        if (['symbol', 'x', 'y', 'r', 'radius'].indexOf(name) !== -1) {\n            // path 相关属性更改时，清理缓存\n            this._resetParamsCache();\n        }\n    };\n    // 仅仅使用包围盒检测来进行拾取\n    // 所以不需要复写 isInStrokeOrPath 的方法\n    Marker.prototype.isOnlyHitBox = function () {\n        return true;\n    };\n    Marker.prototype._getR = function (attrs) {\n        // 兼容 r 和 radius 两种写法，推荐使用 r\n        return isNil(attrs.r) ? attrs.radius : attrs.r;\n    };\n    Marker.prototype._getPath = function () {\n        var attrs = this.attr();\n        var x = attrs.x, y = attrs.y;\n        var symbol = attrs.symbol || 'circle';\n        var r = this._getR(attrs);\n        var method;\n        var path;\n        if (isFunction(symbol)) {\n            method = symbol;\n            path = method(x, y, r);\n            // 将 path 转成绝对路径\n            path = path2Absolute(path);\n        }\n        else {\n            // 内置 symbol 的 path 都是绝对路径，直接绘制即可，不需要对 path 进行特殊处理\n            method = Marker.Symbols[symbol];\n            path = method(x, y, r);\n        }\n        if (!method) {\n            console.warn(symbol + \" marker is not supported.\");\n            return null;\n        }\n        return path;\n    };\n    Marker.prototype.createPath = function (context) {\n        var path = this._getPath();\n        var paramsCache = this.get('paramsCache');\n        drawPath(this, context, { path: path }, paramsCache);\n    };\n    Marker.Symbols = Symbols;\n    return Marker;\n}(ShapeBase));\nexport default Marker;\n//# sourceMappingURL=marker.js.map","import { getOffScreenContext } from '@antv/g-base/lib/util/offscreen';\nexport default function isPointInPath(shape, x, y) {\n    var ctx = getOffScreenContext();\n    shape.createPath(ctx);\n    return ctx.isPointInPath(x, y);\n}\n//# sourceMappingURL=point-in-path.js.map","/**\n * @fileoverview 判断点是否在多边形内\n * @author dxq613@gmail.com\n */\n// 多边形的射线检测，参考：https://blog.csdn.net/WilliamSun0122/article/details/77994526\nvar tolerance = 1e-6;\n// 三态函数，判断两个double在eps精度下的大小关系\nfunction dcmp(x) {\n    if (Math.abs(x) < tolerance) {\n        return 0;\n    }\n    return x < 0 ? -1 : 1;\n}\n// 判断点Q是否在p1和p2的线段上\nfunction onSegment(p1, p2, q) {\n    if ((q[0] - p1[0]) * (p2[1] - p1[1]) === (p2[0] - p1[0]) * (q[1] - p1[1]) &&\n        Math.min(p1[0], p2[0]) <= q[0] &&\n        q[0] <= Math.max(p1[0], p2[0]) &&\n        Math.min(p1[1], p2[1]) <= q[1] &&\n        q[1] <= Math.max(p1[1], p2[1])) {\n        return true;\n    }\n    return false;\n}\n// 判断点P在多边形内-射线法\nexport default function isInPolygon(points, x, y) {\n    var isHit = false;\n    var n = points.length;\n    if (n <= 2) {\n        // svg 中点小于 3 个时，不显示，也无法被拾取\n        return false;\n    }\n    for (var i = 0; i < n; i++) {\n        var p1 = points[i];\n        var p2 = points[(i + 1) % n];\n        if (onSegment(p1, p2, [x, y])) {\n            // 点在多边形一条边上\n            return true;\n        }\n        // 前一个判断min(p1[1],p2[1])<P.y<=max(p1[1],p2[1])\n        // 后一个判断被测点 在 射线与边交点 的左边\n        if (dcmp(p1[1] - y) > 0 !== dcmp(p2[1] - y) > 0 &&\n            dcmp(x - ((y - p1[1]) * (p1[0] - p2[0])) / (p1[1] - p2[1]) - p1[0]) < 0) {\n            isHit = !isHit;\n        }\n    }\n    return isHit;\n}\n//# sourceMappingURL=polygon.js.map","import { distance } from '../util';\nexport default function arc(cx, cy, r, startAngle, endAngle, lineWidth, x, y) {\n    var angle = (Math.atan2(y - cy, x - cx) + Math.PI * 2) % (Math.PI * 2); // 转换到 0 - 2 * Math.PI 之间\n    if (angle < startAngle || angle > endAngle) {\n        return false;\n    }\n    var point = {\n        x: cx + r * Math.cos(angle),\n        y: cy + r * Math.sin(angle),\n    };\n    return distance(point.x, point.y, x, y) <= lineWidth / 2;\n}\n//# sourceMappingURL=arc.js.map","import { __assign } from \"tslib\";\n/**\n * @fileoverview path 的一些工具\n * @author dxq613@gmail.com\n */\nimport { PathUtil } from '@antv/g-base';\nimport QuadUtil from '@antv/g-math/lib/quadratic';\nimport CubicUtil from '@antv/g-math/lib/cubic';\nimport { inBox } from './util';\nimport inLine from './in-stroke/line';\nimport inArc from './in-stroke/arc';\nimport { ext } from '@antv/matrix-util';\nimport * as vec3 from 'gl-matrix/vec3';\nvar transform = ext.transform;\nfunction hasArc(path) {\n    var hasArc = false;\n    var count = path.length;\n    for (var i = 0; i < count; i++) {\n        var params = path[i];\n        var cmd = params[0];\n        if (cmd === 'C' || cmd === 'A' || cmd === 'Q') {\n            hasArc = true;\n            break;\n        }\n    }\n    return hasArc;\n}\nfunction isPointInStroke(segments, lineWidth, x, y, length) {\n    var isHit = false;\n    var halfWidth = lineWidth / 2;\n    for (var i = 0; i < segments.length; i++) {\n        var segment = segments[i];\n        var currentPoint = segment.currentPoint, params = segment.params, prePoint = segment.prePoint, box = segment.box;\n        // 如果在前面已经生成过包围盒，直接按照包围盒计算\n        if (box && !inBox(box.x - halfWidth, box.y - halfWidth, box.width + lineWidth, box.height + lineWidth, x, y)) {\n            continue;\n        }\n        switch (segment.command) {\n            // L 和 Z 都是直线， M 不进行拾取\n            case 'L':\n            case 'Z':\n                isHit = inLine(prePoint[0], prePoint[1], currentPoint[0], currentPoint[1], lineWidth, x, y);\n                break;\n            case 'Q':\n                var qDistance = QuadUtil.pointDistance(prePoint[0], prePoint[1], params[1], params[2], params[3], params[4], x, y);\n                isHit = qDistance <= lineWidth / 2;\n                break;\n            case 'C':\n                var cDistance = CubicUtil.pointDistance(prePoint[0], // 上一段结束位置, 即 C 的起始点\n                prePoint[1], params[1], // 'C' 的参数，1、2 为第一个控制点，3、4 为第二个控制点，5、6 为结束点\n                params[2], params[3], params[4], params[5], params[6], x, y, length);\n                isHit = cDistance <= lineWidth / 2;\n                break;\n            case 'A':\n                // 计算点到椭圆圆弧的距离，暂时使用近似算法，后面可以改成切割法求最近距离\n                var arcParams = segment.arcParams;\n                var cx = arcParams.cx, cy = arcParams.cy, rx = arcParams.rx, ry = arcParams.ry, startAngle = arcParams.startAngle, endAngle = arcParams.endAngle, xRotation = arcParams.xRotation;\n                var p = [x, y, 1];\n                var r = rx > ry ? rx : ry;\n                var scaleX = rx > ry ? 1 : rx / ry;\n                var scaleY = rx > ry ? ry / rx : 1;\n                var m = transform(null, [\n                    ['t', -cx, -cy],\n                    ['r', -xRotation],\n                    ['s', 1 / scaleX, 1 / scaleY],\n                ]);\n                vec3.transformMat3(p, p, m);\n                isHit = inArc(0, 0, r, startAngle, endAngle, lineWidth, p[0], p[1]);\n                break;\n            default:\n                break;\n        }\n        if (isHit) {\n            break;\n        }\n    }\n    return isHit;\n}\n/**\n * 提取出内部的闭合多边形和非闭合的多边形，假设 path 不存在圆弧\n * @param {Array} path 路径\n * @returns {Array} 点的集合\n */\nfunction extractPolygons(path) {\n    var count = path.length;\n    var polygons = [];\n    var polylines = [];\n    var points = []; // 防止第一个命令不是 'M'\n    for (var i = 0; i < count; i++) {\n        var params = path[i];\n        var cmd = params[0];\n        if (cmd === 'M') {\n            // 遇到 'M' 判定是否是新数组，新数组中没有点\n            if (points.length) {\n                // 如果存在点，则说明没有遇到 'Z'，开始了一个新的多边形\n                polylines.push(points);\n                points = []; // 创建新的点\n            }\n            points.push([params[1], params[2]]);\n        }\n        else if (cmd === 'Z') {\n            if (points.length) {\n                // 存在点\n                polygons.push(points);\n                points = []; // 开始新的点集合\n            }\n            // 如果不存在点，同时 'Z'，则说明是错误，不处理\n        }\n        else {\n            points.push([params[1], params[2]]);\n        }\n    }\n    // 说明 points 未放入 polygons 或者 polyline\n    // 仅当只有一个 M，没有 Z 时会发生这种情况\n    if (points.length > 0) {\n        polylines.push(points);\n    }\n    return {\n        polygons: polygons,\n        polylines: polylines,\n    };\n}\nexport default __assign({ hasArc: hasArc,\n    extractPolygons: extractPolygons,\n    isPointInStroke: isPointInStroke }, PathUtil);\n//# sourceMappingURL=path.js.map","import { __assign, __extends } from \"tslib\";\nimport CubicUtil from '@antv/g-math/lib/cubic';\nimport { each, isNil } from '@antv/util';\nimport ShapeBase from './base';\nimport path2Absolute from '@antv/path-util/lib/path-2-absolute';\nimport path2Segment from '@antv/path-util/lib/path-2-segments';\nimport { drawPath } from '../util/draw';\nimport isPointInPath from '../util/in-path/point-in-path';\nimport isInPolygon from '../util/in-path/polygon';\nimport PathUtil from '../util/path';\nimport * as ArrowUtil from '../util/arrow';\n// 是否在多个多边形内部\nfunction isInPolygons(polygons, x, y) {\n    var isHit = false;\n    for (var i = 0; i < polygons.length; i++) {\n        var points = polygons[i];\n        isHit = isInPolygon(points, x, y);\n        if (isHit) {\n            break;\n        }\n    }\n    return isHit;\n}\nvar Path = /** @class */ (function (_super) {\n    __extends(Path, _super);\n    function Path() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Path.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { startArrow: false, endArrow: false });\n    };\n    Path.prototype.initAttrs = function (attrs) {\n        this._setPathArr(attrs.path);\n        this.setArrow();\n    };\n    // 更新属性时，检测是否更改了 path\n    Path.prototype.onAttrChange = function (name, value, originValue) {\n        _super.prototype.onAttrChange.call(this, name, value, originValue);\n        if (name === 'path') {\n            this._setPathArr(value);\n        }\n        // 由于箭头的绘制依赖于 line 的诸多 attrs，因此这里不再对每个 attr 进行判断，attr 每次变化都会影响箭头的更新\n        this.setArrow();\n    };\n    // 将 path 转换成绝对路径\n    Path.prototype._setPathArr = function (path) {\n        // 转换 path 的格式\n        this.attrs.path = path2Absolute(path);\n        var hasArc = PathUtil.hasArc(path);\n        // 为了加速 path 的绘制、拾取和计算，这个地方可以缓存很多东西\n        // 这些缓存都是第一次需要时计算和存储，虽然增加了复杂度，但是频繁调用的方法，性能有很大提升\n        this.set('hasArc', hasArc);\n        this.set('paramsCache', {}); // 清理缓存\n        this.set('segments', null); // 延迟生成 path，在动画场景下可能不会有拾取\n        this.set('curve', null);\n        this.set('tCache', null);\n        this.set('totalLength', null);\n    };\n    Path.prototype.getSegments = function () {\n        var segments = this.get('segements');\n        if (!segments) {\n            segments = path2Segment(this.attr('path'));\n            this.set('segments', segments);\n        }\n        return segments;\n    };\n    Path.prototype.setArrow = function () {\n        var attrs = this.attr();\n        var startArrow = attrs.startArrow, endArrow = attrs.endArrow;\n        if (startArrow) {\n            var tangent = this.getStartTangent();\n            ArrowUtil.addStartArrow(this, attrs, tangent[0][0], tangent[0][1], tangent[1][0], tangent[1][1]);\n        }\n        if (endArrow) {\n            var tangent = this.getEndTangent();\n            ArrowUtil.addEndArrow(this, attrs, tangent[0][0], tangent[0][1], tangent[1][0], tangent[1][1]);\n        }\n    };\n    Path.prototype.isInStrokeOrPath = function (x, y, isStroke, isFill, lineWidth) {\n        var segments = this.getSegments();\n        var hasArc = this.get('hasArc');\n        var isHit = false;\n        if (isStroke) {\n            var length_1 = this.getTotalLength();\n            isHit = PathUtil.isPointInStroke(segments, lineWidth, x, y, length_1);\n        }\n        if (!isHit && isFill) {\n            if (hasArc) {\n                // 存在曲线时，暂时使用 canvas 的 api 计算，后续可以进行多边形切割\n                isHit = isPointInPath(this, x, y);\n            }\n            else {\n                var path = this.attr('path');\n                var extractResutl = PathUtil.extractPolygons(path);\n                // 提取出来的多边形包含闭合的和非闭合的，在这里统一按照多边形处理\n                isHit = isInPolygons(extractResutl.polygons, x, y) || isInPolygons(extractResutl.polylines, x, y);\n            }\n        }\n        return isHit;\n    };\n    Path.prototype.createPath = function (context) {\n        var attrs = this.attr();\n        var paramsCache = this.get('paramsCache'); // 由于计算圆弧的参数成本很大，所以要缓存\n        drawPath(this, context, attrs, paramsCache);\n    };\n    Path.prototype.afterDrawPath = function (context) {\n        var startArrowShape = this.get('startArrowShape');\n        var endArrowShape = this.get('endArrowShape');\n        if (startArrowShape) {\n            startArrowShape.draw(context);\n        }\n        if (endArrowShape) {\n            endArrowShape.draw(context);\n        }\n    };\n    /**\n     * Get total length of path\n     * @return {number} length\n     */\n    Path.prototype.getTotalLength = function () {\n        var totalLength = this.get('totalLength');\n        if (!isNil(totalLength)) {\n            return totalLength;\n        }\n        this._calculateCurve();\n        this._setTcache();\n        return this.get('totalLength');\n    };\n    /**\n     * Get point according to ratio\n     * @param {number} ratio\n     * @return {Point} point\n     */\n    Path.prototype.getPoint = function (ratio) {\n        var tCache = this.get('tCache');\n        if (!tCache) {\n            this._calculateCurve();\n            this._setTcache();\n            tCache = this.get('tCache');\n        }\n        var subt;\n        var index;\n        var curve = this.get('curve');\n        if (!tCache || tCache.length === 0) {\n            if (curve) {\n                return {\n                    x: curve[0][1],\n                    y: curve[0][2],\n                };\n            }\n            return null;\n        }\n        each(tCache, function (v, i) {\n            if (ratio >= v[0] && ratio <= v[1]) {\n                subt = (ratio - v[0]) / (v[1] - v[0]);\n                index = i;\n            }\n        });\n        var seg = curve[index];\n        if (isNil(seg) || isNil(index)) {\n            return null;\n        }\n        var l = seg.length;\n        var nextSeg = curve[index + 1];\n        return CubicUtil.pointAt(seg[l - 2], seg[l - 1], nextSeg[1], nextSeg[2], nextSeg[3], nextSeg[4], nextSeg[5], nextSeg[6], subt);\n    };\n    Path.prototype._calculateCurve = function () {\n        var path = this.attr().path;\n        this.set('curve', PathUtil.pathToCurve(path));\n    };\n    Path.prototype._setTcache = function () {\n        var totalLength = 0;\n        var tempLength = 0;\n        // 每段 curve 对应起止点的长度比例列表，形如: [[0, 0.25], [0.25, 0.6]. [0.6, 0.9], [0.9, 1]]\n        var tCache = [];\n        var segmentT;\n        var segmentL;\n        var segmentN;\n        var l;\n        var curve = this.get('curve');\n        if (!curve) {\n            return;\n        }\n        each(curve, function (segment, i) {\n            segmentN = curve[i + 1];\n            l = segment.length;\n            if (segmentN) {\n                totalLength +=\n                    CubicUtil.length(segment[l - 2], segment[l - 1], segmentN[1], segmentN[2], segmentN[3], segmentN[4], segmentN[5], segmentN[6]) || 0;\n            }\n        });\n        this.set('totalLength', totalLength);\n        if (totalLength === 0) {\n            this.set('tCache', []);\n            return;\n        }\n        each(curve, function (segment, i) {\n            segmentN = curve[i + 1];\n            l = segment.length;\n            if (segmentN) {\n                segmentT = [];\n                segmentT[0] = tempLength / totalLength;\n                segmentL = CubicUtil.length(segment[l - 2], segment[l - 1], segmentN[1], segmentN[2], segmentN[3], segmentN[4], segmentN[5], segmentN[6]);\n                // 当 path 不连续时，segmentL 可能为空，为空时需要作为 0 处理\n                tempLength += segmentL || 0;\n                segmentT[1] = tempLength / totalLength;\n                tCache.push(segmentT);\n            }\n        });\n        this.set('tCache', tCache);\n    };\n    /**\n     * Get start tangent vector\n     * @return {Array}\n     */\n    Path.prototype.getStartTangent = function () {\n        var segments = this.getSegments();\n        var result;\n        if (segments.length > 1) {\n            var startPoint = segments[0].currentPoint;\n            var endPoint = segments[1].currentPoint;\n            var tangent = segments[1].startTangent;\n            result = [];\n            if (tangent) {\n                result.push([startPoint[0] - tangent[0], startPoint[1] - tangent[1]]);\n                result.push([startPoint[0], startPoint[1]]);\n            }\n            else {\n                result.push([endPoint[0], endPoint[1]]);\n                result.push([startPoint[0], startPoint[1]]);\n            }\n        }\n        return result;\n    };\n    /**\n     * Get end tangent vector\n     * @return {Array}\n     */\n    Path.prototype.getEndTangent = function () {\n        var segments = this.getSegments();\n        var length = segments.length;\n        var result;\n        if (length > 1) {\n            var startPoint = segments[length - 2].currentPoint;\n            var endPoint = segments[length - 1].currentPoint;\n            var tangent = segments[length - 1].endTangent;\n            result = [];\n            if (tangent) {\n                result.push([endPoint[0] - tangent[0], endPoint[1] - tangent[1]]);\n                result.push([endPoint[0], endPoint[1]]);\n            }\n            else {\n                result.push([startPoint[0], startPoint[1]]);\n                result.push([endPoint[0], endPoint[1]]);\n            }\n        }\n        return result;\n    };\n    return Path;\n}(ShapeBase));\nexport default Path;\n//# sourceMappingURL=path.js.map","import inLine from './line';\nexport default function inPolyline(points, lineWidth, x, y, isClose) {\n    var count = points.length;\n    if (count < 2) {\n        return false;\n    }\n    for (var i = 0; i < count - 1; i++) {\n        var x1 = points[i][0];\n        var y1 = points[i][1];\n        var x2 = points[i + 1][0];\n        var y2 = points[i + 1][1];\n        if (inLine(x1, y1, x2, y2, lineWidth, x, y)) {\n            return true;\n        }\n    }\n    // 如果封闭，则计算起始点和结束点的边\n    if (isClose) {\n        var first = points[0];\n        var last = points[count - 1];\n        if (inLine(first[0], first[1], last[0], last[1], lineWidth, x, y)) {\n            return true;\n        }\n    }\n    return false;\n}\n//# sourceMappingURL=polyline.js.map","/**\n * @fileoverview 多边形\n * @author dxq613@gmail.com\n */\nimport { __extends } from \"tslib\";\nimport ShapeBase from './base';\nimport inPolyline from '../util/in-stroke/polyline';\nimport isInPolygon from '../util/in-path/polygon';\nvar Polygon = /** @class */ (function (_super) {\n    __extends(Polygon, _super);\n    function Polygon() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Polygon.prototype.isInStrokeOrPath = function (x, y, isStroke, isFill, lineWidth) {\n        var points = this.attr().points;\n        var isHit = false;\n        if (isStroke) {\n            isHit = inPolyline(points, lineWidth, x, y, true);\n        }\n        if (!isHit && isFill) {\n            isHit = isInPolygon(points, x, y); // isPointInPath(shape, x, y);\n        }\n        return isHit;\n    };\n    Polygon.prototype.createPath = function (context) {\n        var attrs = this.attr();\n        var points = attrs.points;\n        if (points.length < 2) {\n            return;\n        }\n        context.beginPath();\n        for (var i = 0; i < points.length; i++) {\n            var point = points[i];\n            if (i === 0) {\n                context.moveTo(point[0], point[1]);\n            }\n            else {\n                context.lineTo(point[0], point[1]);\n            }\n        }\n        context.closePath();\n    };\n    return Polygon;\n}(ShapeBase));\nexport default Polygon;\n//# sourceMappingURL=polygon.js.map","import { __assign, __extends } from \"tslib\";\nimport LineUtil from '@antv/g-math/lib/line';\nimport PolylineUtil from '@antv/g-math/lib/polyline';\nimport { each, isNil } from '@antv/util';\nimport ShapeBase from './base';\nimport inPolyline from '../util/in-stroke/polyline';\nimport * as ArrowUtil from '../util/arrow';\nvar PolyLine = /** @class */ (function (_super) {\n    __extends(PolyLine, _super);\n    function PolyLine() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PolyLine.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { startArrow: false, endArrow: false });\n    };\n    PolyLine.prototype.initAttrs = function (attrs) {\n        this.setArrow();\n    };\n    // 更新属性时，检测是否更改了 points\n    PolyLine.prototype.onAttrChange = function (name, value, originValue) {\n        _super.prototype.onAttrChange.call(this, name, value, originValue);\n        this.setArrow();\n        if (['points'].indexOf(name) !== -1) {\n            this._resetCache();\n        }\n    };\n    PolyLine.prototype._resetCache = function () {\n        this.set('totalLength', null);\n        this.set('tCache', null);\n    };\n    PolyLine.prototype.setArrow = function () {\n        var attrs = this.attr();\n        var _a = this.attrs, points = _a.points, startArrow = _a.startArrow, endArrow = _a.endArrow;\n        var length = points.length;\n        var x1 = points[0][0];\n        var y1 = points[0][1];\n        var x2 = points[length - 1][0];\n        var y2 = points[length - 1][1];\n        if (startArrow) {\n            ArrowUtil.addStartArrow(this, attrs, points[1][0], points[1][1], x1, y1);\n        }\n        if (endArrow) {\n            ArrowUtil.addEndArrow(this, attrs, points[length - 2][0], points[length - 2][1], x2, y2);\n        }\n    };\n    // 不允许 fill\n    PolyLine.prototype.isFill = function () {\n        return false;\n    };\n    PolyLine.prototype.isInStrokeOrPath = function (x, y, isStroke, isFill, lineWidth) {\n        // 没有设置 stroke 不能被拾取, 没有线宽不能被拾取\n        if (!isStroke || !lineWidth) {\n            return false;\n        }\n        var points = this.attr().points;\n        return inPolyline(points, lineWidth, x, y, false);\n    };\n    // 始终填充\n    PolyLine.prototype.isStroke = function () {\n        return true;\n    };\n    PolyLine.prototype.createPath = function (context) {\n        var _a = this.attr(), points = _a.points, startArrow = _a.startArrow, endArrow = _a.endArrow;\n        var length = points.length;\n        if (points.length < 2) {\n            return;\n        }\n        var x1 = points[0][0];\n        var y1 = points[0][1];\n        var x2 = points[length - 1][0];\n        var y2 = points[length - 1][1];\n        // 如果定义了箭头，并且是自定义箭头，线条相应缩进\n        if (startArrow && startArrow.d) {\n            var distance = ArrowUtil.getShortenOffset(x1, y1, points[1][0], points[1][1], startArrow.d);\n            x1 += distance.dx;\n            y1 += distance.dy;\n        }\n        if (endArrow && endArrow.d) {\n            var distance = ArrowUtil.getShortenOffset(points[length - 2][0], points[length - 2][1], x2, y2, endArrow.d);\n            x2 -= distance.dx;\n            y2 -= distance.dy;\n        }\n        context.beginPath();\n        context.moveTo(x1, y1);\n        for (var i = 0; i < length - 1; i++) {\n            var point = points[i];\n            context.lineTo(point[0], point[1]);\n        }\n        context.lineTo(x2, y2);\n    };\n    PolyLine.prototype.afterDrawPath = function (context) {\n        var startArrowShape = this.get('startArrowShape');\n        var endArrowShape = this.get('endArrowShape');\n        if (startArrowShape) {\n            startArrowShape.draw(context);\n        }\n        if (endArrowShape) {\n            endArrowShape.draw(context);\n        }\n    };\n    /**\n     * Get length of polyline\n     * @return {number} length\n     */\n    PolyLine.prototype.getTotalLength = function () {\n        var points = this.attr().points;\n        // get totalLength from cache\n        var totalLength = this.get('totalLength');\n        if (!isNil(totalLength)) {\n            return totalLength;\n        }\n        this.set('totalLength', PolylineUtil.length(points));\n        return this.get('totalLength');\n    };\n    /**\n     * Get point according to ratio\n     * @param {number} ratio\n     * @return {Point} point\n     */\n    PolyLine.prototype.getPoint = function (ratio) {\n        var points = this.attr().points;\n        // get tCache from cache\n        var tCache = this.get('tCache');\n        if (!tCache) {\n            this._setTcache();\n            tCache = this.get('tCache');\n        }\n        var subt;\n        var index;\n        each(tCache, function (v, i) {\n            if (ratio >= v[0] && ratio <= v[1]) {\n                subt = (ratio - v[0]) / (v[1] - v[0]);\n                index = i;\n            }\n        });\n        return LineUtil.pointAt(points[index][0], points[index][1], points[index + 1][0], points[index + 1][1], subt);\n    };\n    PolyLine.prototype._setTcache = function () {\n        var points = this.attr().points;\n        if (!points || points.length === 0) {\n            return;\n        }\n        var totalLength = this.getTotalLength();\n        if (totalLength <= 0) {\n            return;\n        }\n        var tempLength = 0;\n        var tCache = [];\n        var segmentT;\n        var segmentL;\n        each(points, function (p, i) {\n            if (points[i + 1]) {\n                segmentT = [];\n                segmentT[0] = tempLength / totalLength;\n                segmentL = LineUtil.length(p[0], p[1], points[i + 1][0], points[i + 1][1]);\n                tempLength += segmentL;\n                segmentT[1] = tempLength / totalLength;\n                tCache.push(segmentT);\n            }\n        });\n        this.set('tCache', tCache);\n    };\n    /**\n     * Get start tangent vector\n     * @return {Array}\n     */\n    PolyLine.prototype.getStartTangent = function () {\n        var points = this.attr().points;\n        var result = [];\n        result.push([points[1][0], points[1][1]]);\n        result.push([points[0][0], points[0][1]]);\n        return result;\n    };\n    /**\n     * Get end tangent vector\n     * @return {Array}\n     */\n    PolyLine.prototype.getEndTangent = function () {\n        var points = this.attr().points;\n        var l = points.length - 1;\n        var result = [];\n        result.push([points[l - 1][0], points[l - 1][1]]);\n        result.push([points[l][0], points[l][1]]);\n        return result;\n    };\n    return PolyLine;\n}(ShapeBase));\nexport default PolyLine;\n//# sourceMappingURL=polyline.js.map","/**\n * @fileoverview 矩形\n * @author dxq613@gmail.com\n */\nimport { __assign, __extends } from \"tslib\";\nimport ShapeBase from './base';\nimport { parseRadius } from '../util/parse';\nimport { inBox } from '../util/util';\nimport inRect from '../util/in-stroke/rect';\nimport inRectWithRadius from '../util/in-stroke/rect-radius';\nimport isPointInPath from '../util/in-path/point-in-path';\nvar Rect = /** @class */ (function (_super) {\n    __extends(Rect, _super);\n    function Rect() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Rect.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { x: 0, y: 0, width: 0, height: 0, radius: 0 });\n    };\n    Rect.prototype.isInStrokeOrPath = function (x, y, isStroke, isFill, lineWidth) {\n        var attrs = this.attr();\n        var minX = attrs.x;\n        var minY = attrs.y;\n        var width = attrs.width;\n        var height = attrs.height;\n        var radius = attrs.radius;\n        // 无圆角时的策略\n        if (!radius) {\n            var halfWidth = lineWidth / 2;\n            // 同时填充和带有边框\n            if (isFill && isStroke) {\n                return inBox(minX - halfWidth, minY - halfWidth, width + halfWidth, height + halfWidth, x, y);\n            }\n            // 仅填充\n            if (isFill) {\n                return inBox(minX, minY, width, height, x, y);\n            }\n            if (isStroke) {\n                return inRect(minX, minY, width, height, lineWidth, x, y);\n            }\n        }\n        else {\n            var isHit = false;\n            if (isStroke) {\n                isHit = inRectWithRadius(minX, minY, width, height, radius, lineWidth, x, y);\n            }\n            // 仅填充时带有圆角的矩形直接通过图形拾取\n            // 以后可以改成纯数学的近似拾取，将圆弧切割成多边形\n            if (!isHit && isFill) {\n                isHit = isPointInPath(this, x, y);\n            }\n            return isHit;\n        }\n    };\n    Rect.prototype.createPath = function (context) {\n        var attrs = this.attr();\n        var x = attrs.x;\n        var y = attrs.y;\n        var width = attrs.width;\n        var height = attrs.height;\n        var radius = attrs.radius;\n        context.beginPath();\n        if (radius === 0) {\n            // 改成原生的rect方法\n            context.rect(x, y, width, height);\n        }\n        else {\n            var _a = parseRadius(radius), r1 = _a[0], r2 = _a[1], r3 = _a[2], r4 = _a[3];\n            context.moveTo(x + r1, y);\n            context.lineTo(x + width - r2, y);\n            r2 !== 0 && context.arc(x + width - r2, y + r2, r2, -Math.PI / 2, 0);\n            context.lineTo(x + width, y + height - r3);\n            r3 !== 0 && context.arc(x + width - r3, y + height - r3, r3, 0, Math.PI / 2);\n            context.lineTo(x + r4, y + height);\n            r4 !== 0 && context.arc(x + r4, y + height - r4, r4, Math.PI / 2, Math.PI);\n            context.lineTo(x, y + r1);\n            r1 !== 0 && context.arc(x + r1, y + r1, r1, Math.PI, Math.PI * 1.5);\n            context.closePath();\n        }\n    };\n    return Rect;\n}(ShapeBase));\nexport default Rect;\n//# sourceMappingURL=rect.js.map","import inLine from './line';\nimport inArc from './arc';\nexport default function rectWithRadius(minX, minY, width, height, radius, lineWidth, x, y) {\n    var halfWidth = lineWidth / 2;\n    return (inLine(minX + radius, minY, minX + width - radius, minY, lineWidth, x, y) ||\n        inLine(minX + width, minY + radius, minX + width, minY + height - radius, lineWidth, x, y) ||\n        inLine(minX + width - radius, minY + height, minX + radius, minY + height, lineWidth, x, y) ||\n        inLine(minX, minY + height - radius, minX, minY + radius, lineWidth, x, y) ||\n        inArc(minX + width - radius, minY + radius, radius, 1.5 * Math.PI, 2 * Math.PI, lineWidth, x, y) ||\n        inArc(minX + width - radius, minY + height - radius, radius, 0, 0.5 * Math.PI, lineWidth, x, y) ||\n        inArc(minX + radius, minY + height - radius, radius, 0.5 * Math.PI, Math.PI, lineWidth, x, y) ||\n        inArc(minX + radius, minY + radius, radius, Math.PI, 1.5 * Math.PI, lineWidth, x, y));\n}\n//# sourceMappingURL=rect-radius.js.map","import { inBox } from '../util';\nexport default function inRect(minX, minY, width, height, lineWidth, x, y) {\n    var halfWidth = lineWidth / 2;\n    // 将四个边看做矩形来检测，比边的检测算法要快\n    return (inBox(minX - halfWidth, minY - halfWidth, width, lineWidth, x, y) || // 上边\n        inBox(minX + width - halfWidth, minY - halfWidth, lineWidth, height, x, y) || // 右边\n        inBox(minX + halfWidth, minY + height - halfWidth, width, lineWidth, x, y) || // 下边\n        inBox(minX - halfWidth, minY + halfWidth, lineWidth, height, x, y)); // 左边\n}\n//# sourceMappingURL=rect.js.map","/**\n * @fileoverview 文本\n * @author dxq613@gmail.com\n */\nimport { __assign, __extends } from \"tslib\";\nimport ShapeBase from './base';\nimport { isNil, isString, each } from '../util/util';\nimport { getTextHeight, assembleFont } from '@antv/g-base/lib/util/text';\nvar Text = /** @class */ (function (_super) {\n    __extends(Text, _super);\n    function Text() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // 默认文本属性\n    Text.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { x: 0, y: 0, text: null, fontSize: 12, fontFamily: 'sans-serif', fontStyle: 'normal', fontWeight: 'normal', fontVariant: 'normal', textAlign: 'start', textBaseline: 'bottom' });\n    };\n    // 仅仅使用包围盒检测来进行拾取\n    Text.prototype.isOnlyHitBox = function () {\n        return true;\n    };\n    // 初始化时组合 font，同时判断 text 是否换行\n    Text.prototype.initAttrs = function (attrs) {\n        this._assembleFont();\n        if (attrs.text) {\n            this._setText(attrs.text);\n        }\n    };\n    // 组装字体\n    Text.prototype._assembleFont = function () {\n        var attrs = this.attrs;\n        attrs.font = assembleFont(attrs);\n    };\n    // 如果文本换行，则缓存数组\n    Text.prototype._setText = function (text) {\n        var textArr = null;\n        if (isString(text) && text.indexOf('\\n') !== -1) {\n            textArr = text.split('\\n');\n        }\n        this.set('textArr', textArr);\n    };\n    // 更新属性时，检测是否更改了 font、text\n    Text.prototype.onAttrChange = function (name, value, originValue) {\n        _super.prototype.onAttrChange.call(this, name, value, originValue);\n        if (name.startsWith('font')) {\n            this._assembleFont();\n        }\n        if (name === 'text') {\n            this._setText(value);\n        }\n    };\n    // 这个方法在 text 时没有可以做的事情，如果要支持文字背景时可以考虑\n    // createPath(context) {\n    // }\n    // 如果文本多行，需要获取文本间距\n    Text.prototype._getSpaceingY = function () {\n        var attrs = this.attrs;\n        var lineHeight = attrs.lineHeight;\n        var fontSize = attrs.fontSize * 1;\n        return lineHeight ? lineHeight - fontSize : fontSize * 0.14;\n    };\n    // 绘制文本，考虑多行的场景\n    Text.prototype._drawTextArr = function (context, textArr, isFill) {\n        var attrs = this.attrs;\n        var textBaseline = attrs.textBaseline;\n        var x = attrs.x;\n        var y = attrs.y;\n        var fontSize = attrs.fontSize * 1;\n        var spaceingY = this._getSpaceingY();\n        var height = getTextHeight(attrs.text, attrs.fontSize, attrs.lineHeight);\n        var subY;\n        each(textArr, function (subText, index) {\n            subY = y + index * (spaceingY + fontSize) - height + fontSize; // bottom;\n            if (textBaseline === 'middle')\n                subY += height - fontSize - (height - fontSize) / 2;\n            if (textBaseline === 'top')\n                subY += height - fontSize;\n            if (isFill) {\n                context.fillText(subText, x, subY);\n            }\n            else {\n                context.strokeText(subText, x, subY);\n            }\n        });\n    };\n    // 绘制文本，同时考虑填充和绘制边框\n    Text.prototype._drawText = function (context, isFill) {\n        var attrs = this.attr();\n        var x = attrs.x;\n        var y = attrs.y;\n        var textArr = this.get('textArr');\n        if (textArr) {\n            this._drawTextArr(context, textArr, isFill);\n        }\n        else {\n            var text = attrs.text;\n            if (isFill) {\n                context.fillText(text, x, y);\n            }\n            else {\n                context.strokeText(text, x, y);\n            }\n        }\n    };\n    // 复写绘制和填充的逻辑：对于文本，应该先绘制边框，再进行填充\n    Text.prototype.strokeAndFill = function (context) {\n        var _a = this.attrs, lineWidth = _a.lineWidth, opacity = _a.opacity, strokeOpacity = _a.strokeOpacity, fillOpacity = _a.fillOpacity;\n        if (this.isStroke()) {\n            if (lineWidth > 0) {\n                if (!isNil(strokeOpacity) && strokeOpacity !== 1) {\n                    context.globalAlpha = opacity;\n                }\n                this.stroke(context);\n            }\n        }\n        if (this.isFill()) {\n            if (!isNil(fillOpacity) && fillOpacity !== 1) {\n                context.globalAlpha = fillOpacity;\n                this.fill(context);\n                context.globalAlpha = opacity;\n            }\n            else {\n                this.fill(context);\n            }\n        }\n        this.afterDrawPath(context);\n    };\n    // 复写填充逻辑\n    Text.prototype.fill = function (context) {\n        this._drawText(context, true);\n    };\n    // 复写绘制边框的逻辑\n    Text.prototype.stroke = function (context) {\n        this._drawText(context, false);\n    };\n    return Text;\n}(ShapeBase));\nexport default Text;\n//# sourceMappingURL=text.js.map","import { setTransform, setClip } from './svg';\nimport { sortDom, moveTo } from './dom';\nexport function drawChildren(context, children) {\n    children.forEach(function (child) {\n        child.draw(context);\n    });\n}\n/**\n * 更新元素，包括 group 和 shape\n * @param {IElement} element       SVG 元素\n * @param {ChangeType} changeType  更新类型\n */\nexport function refreshElement(element, changeType) {\n    // 对于还没有挂载到画布下的元素，canvas 可能为空\n    var canvas = element.get('canvas');\n    // 只有挂载到画布下，才对元素进行实际渲染\n    if (canvas && canvas.get('autoDraw')) {\n        var context = canvas.get('context');\n        var parent_1 = element.getParent();\n        var parentChildren = parent_1 ? parent_1.getChildren() : [canvas];\n        var el = element.get('el');\n        if (changeType === 'remove') {\n            var isClipShape = element.get('isClipShape');\n            // 对于 clip，不仅需要将 clipShape 对于的 SVG 元素删除，还需要将上层的 clipPath 元素也删除\n            if (isClipShape) {\n                var clipPathEl = el && el.parentNode;\n                var defsEl = clipPathEl && clipPathEl.parentNode;\n                if (clipPathEl && defsEl) {\n                    defsEl.removeChild(clipPathEl);\n                }\n            }\n            else if (el && el.parentNode) {\n                el.parentNode.removeChild(el);\n            }\n        }\n        else if (changeType === 'show') {\n            el.setAttribute('visibility', 'visible');\n        }\n        else if (changeType === 'hide') {\n            el.setAttribute('visibility', 'hidden');\n        }\n        else if (changeType === 'zIndex') {\n            moveTo(el, parentChildren.indexOf(element));\n        }\n        else if (changeType === 'sort') {\n            var children_1 = element.get('children');\n            if (children_1 && children_1.length) {\n                sortDom(element, function (a, b) {\n                    return children_1.indexOf(a) - children_1.indexOf(b) ? 1 : 0;\n                });\n            }\n        }\n        else if (changeType === 'clear') {\n            // el maybe null for group\n            if (el) {\n                el.innerHTML = '';\n            }\n        }\n        else if (changeType === 'matrix') {\n            setTransform(element);\n        }\n        else if (changeType === 'clip') {\n            setClip(element, context);\n        }\n        else if (changeType === 'attr') {\n            // 已在 afterAttrsChange 进行了处理，此处 do nothing\n        }\n        else if (changeType === 'add') {\n            element.draw(context);\n        }\n    }\n}\n//# sourceMappingURL=draw.js.map","import { __rest } from \"tslib\";\nimport { deepMix, each } from '@antv/util';\nimport { tooltip, slider, interaction, animation, theme, scale, annotation } from '../../adaptor/common';\nimport { findGeometry, transformLabel } from '../../utils';\nimport { point, line } from '../../adaptor/geometries';\nimport { flow } from '../../utils';\n/**\n * geometry 配置处理\n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var data = options.data, color = options.color, lineStyle = options.lineStyle, pointMapping = options.point;\n    chart.data(data);\n    // line geometry 处理\n    var p = deepMix({}, params, {\n        options: {\n            line: {\n                color: color,\n                style: lineStyle,\n            },\n            point: pointMapping,\n        },\n    });\n    line(p);\n    point(p);\n    return params;\n}\n/**\n * meta 配置\n * @param params\n */\nexport function meta(params) {\n    var _a;\n    var options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField;\n    return flow(scale((_a = {},\n        _a[xField] = xAxis,\n        _a[yField] = yAxis,\n        _a)))(params);\n}\n/**\n * axis 配置\n * @param params\n */\nexport function axis(params) {\n    var chart = params.chart, options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField;\n    // 为 false 则是不显示轴\n    if (xAxis === false) {\n        chart.axis(xField, false);\n    }\n    else {\n        chart.axis(xField, xAxis);\n    }\n    if (yAxis === false) {\n        chart.axis(yField, false);\n    }\n    else {\n        chart.axis(yField, yAxis);\n    }\n    return params;\n}\n/**\n * legend 配置\n * @param params\n */\nexport function legend(params) {\n    var chart = params.chart, options = params.options;\n    var legend = options.legend, seriesField = options.seriesField;\n    if (legend && seriesField) {\n        chart.legend(seriesField, legend);\n    }\n    else if (legend === false) {\n        chart.legend(false);\n    }\n    return params;\n}\n/**\n * 数据标签\n * @param params\n */\nfunction label(params) {\n    var chart = params.chart, options = params.options;\n    var label = options.label, yField = options.yField;\n    var lineGeometry = findGeometry(chart, 'line');\n    // label 为 false, 空 则不显示 label\n    if (!label) {\n        lineGeometry.label(false);\n    }\n    else {\n        var callback = label.callback, cfg = __rest(label, [\"callback\"]);\n        lineGeometry.label({\n            fields: [yField],\n            callback: callback,\n            cfg: transformLabel(cfg),\n        });\n    }\n    return params;\n}\n/**\n * 统一处理 adjust\n * @param params\n */\nexport function adjust(params) {\n    var chart = params.chart, options = params.options;\n    var isStack = options.isStack;\n    if (isStack) {\n        each(chart.geometries, function (g) {\n            g.adjust('stack');\n        });\n    }\n    return params;\n}\n/**\n * 折线图适配器\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow 的方式处理所有的配置到 G2 API\n    return flow(geometry, meta, adjust, theme, axis, legend, tooltip, label, slider, interaction, animation, annotation())(params);\n}\n//# sourceMappingURL=adaptor.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CROSSHAIR_Y = exports.CROSSHAIR_X = exports.NAME_CLASS = exports.VALUE_CLASS = exports.MARKER_CLASS = exports.LIST_ITEM_CLASS = exports.LIST_CLASS = exports.TITLE_CLASS = exports.CONTAINER_CLASS = void 0;\nexports.CONTAINER_CLASS = 'g2-tooltip';\nexports.TITLE_CLASS = 'g2-tooltip-title';\nexports.LIST_CLASS = 'g2-tooltip-list';\nexports.LIST_ITEM_CLASS = 'g2-tooltip-list-item';\nexports.MARKER_CLASS = 'g2-tooltip-marker';\nexports.VALUE_CLASS = 'g2-tooltip-value';\nexports.NAME_CLASS = 'g2-tooltip-name';\nexports.CROSSHAIR_X = 'g2-tooltip-crosshair-x';\nexports.CROSSHAIR_Y = 'g2-tooltip-crosshair-y';\n//# sourceMappingURL=css-const.js.map","import { __extends } from \"tslib\";\nimport { AbstractGroup } from '@antv/g-base';\nimport * as Shape from './shape';\nimport { applyAttrsToContext, drawChildren, refreshElement } from './util/draw';\nimport { each } from '@antv/util';\nimport { intersectRect } from './util/util';\nvar Group = /** @class */ (function (_super) {\n    __extends(Group, _super);\n    function Group() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * 一些方法调用会引起画布变化\n     * @param {ChangeType} changeType 改变的类型\n     */\n    Group.prototype.onCanvasChange = function (changeType) {\n        refreshElement(this, changeType);\n    };\n    Group.prototype.getShapeBase = function () {\n        return Shape;\n    };\n    Group.prototype.getGroupBase = function () {\n        return Group;\n    };\n    // 同 shape 中的方法重复了\n    Group.prototype._applyClip = function (context, clip) {\n        if (clip) {\n            context.save();\n            // 将 clip 的属性挂载到 context 上\n            applyAttrsToContext(context, clip);\n            // 绘制 clip 路径\n            clip.createPath(context);\n            context.restore();\n            // 裁剪\n            context.clip();\n            clip._afterDraw();\n        }\n    };\n    // 这个方法以前直接使用的 getCanvasBBox，由于 group 上没有缓存，所以每次重新计算，导致性能开销比较大\n    // 大概能够节省全局渲染 15-20% 的性能，如果不在这里加缓存优化后 10W 个节点无法达到 5-6 ms，大概能够 30-40ms\n    Group.prototype.cacheCanvasBBox = function () {\n        var children = this.cfg.children;\n        var xArr = [];\n        var yArr = [];\n        each(children, function (child) {\n            var bbox = child.cfg.cacheCanvasBBox;\n            // isInview 的判定是一旦图形或者分组渲染就要计算是否在视图内，\n            // 这个判定 10W 个图形下差不多能够节省 5-6 ms 的开销\n            if (bbox && child.cfg.isInView) {\n                xArr.push(bbox.minX, bbox.maxX);\n                yArr.push(bbox.minY, bbox.maxY);\n            }\n        });\n        var bbox = null;\n        if (xArr.length) {\n            var minX = Math.min.apply(null, xArr);\n            var maxX = Math.max.apply(null, xArr);\n            var minY = Math.min.apply(null, yArr);\n            var maxY = Math.max.apply(null, yArr);\n            bbox = {\n                minX: minX,\n                minY: minY,\n                x: minX,\n                y: minY,\n                maxX: maxX,\n                maxY: maxY,\n                width: maxX - minX,\n                height: maxY - minY,\n            };\n            var canvas = this.cfg.canvas;\n            if (canvas) {\n                var viewRange = canvas.getViewRange();\n                // 如果这个地方判定 isInView == false 设置 bbox 为 false 的话，拾取的性能会更高\n                // 但是目前 10W 图形的拾取在 2-5ms 内，这个优化意义不大，可以后期观察再看\n                this.set('isInView', intersectRect(bbox, viewRange));\n            }\n        }\n        else {\n            this.set('isInView', false);\n        }\n        this.set('cacheCanvasBBox', bbox);\n    };\n    Group.prototype.draw = function (context, region) {\n        var children = this.cfg.children;\n        var allowDraw = region ? this.cfg.refresh : true; // 局部刷新需要判定\n        // 这个地方需要判定，在 G6 的场景每个 group 都有 transform 的场景下性能会开销非常大\n        // 通过 refresh 的判定，可以不刷新没有发生过变化的分组，不在视窗内的分组等等\n        // 如果想进一步提升局部渲染性能，可以进一步优化 refresh 的判定，依然有潜力\n        if (children.length && allowDraw) {\n            context.save();\n            // group 上的矩阵和属性也会应用到上下文上\n            // 先将 attrs 应用到上下文中，再设置 clip。因为 clip 应该被当前元素的 matrix 所影响\n            applyAttrsToContext(context, this);\n            this._applyClip(context, this.getClip());\n            drawChildren(context, children, region);\n            context.restore();\n            this.cacheCanvasBBox();\n        }\n        // 这里的成本比较大，如果不绘制则不再\n        // this.set('cacheCanvasBBox', this.getCanvasBBox());\n        this.cfg.refresh = null;\n        // 绘制后，消除更新标记\n        this.set('hasChanged', false);\n    };\n    // 绘制时被跳过，一般发生在分组隐藏时\n    Group.prototype.skipDraw = function () {\n        this.set('cacheCanvasBBox', null);\n        this.set('hasChanged', false);\n    };\n    return Group;\n}(AbstractGroup));\nexport default Group;\n//# sourceMappingURL=group.js.map","import { __extends } from \"tslib\";\nimport { AbstractGroup } from '@antv/g-base';\nimport { each } from '@antv/util';\nimport * as Shape from './shape';\nimport { drawChildren, refreshElement } from './util/draw';\nimport { setClip, setTransform } from './util/svg';\nimport { SVG_ATTR_MAP } from './constant';\nimport { createSVGElement } from './util/dom';\nvar Group = /** @class */ (function (_super) {\n    __extends(Group, _super);\n    function Group() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // SVG 中分组对应实体标签 <g>\n    Group.prototype.isEntityGroup = function () {\n        return true;\n    };\n    Group.prototype.createDom = function () {\n        var element = createSVGElement('g');\n        this.set('el', element);\n        var parent = this.getParent();\n        if (parent) {\n            var parentNode = parent.get('el');\n            if (parentNode) {\n                parentNode.appendChild(element);\n            }\n            else {\n                // parentNode maybe null for group\n                parentNode = parent.createDom();\n                parent.set('el', parentNode);\n                parentNode.appendChild(element);\n            }\n        }\n        return element;\n    };\n    // 覆盖基类的 afterAttrsChange 方法\n    Group.prototype.afterAttrsChange = function (targetAttrs) {\n        _super.prototype.afterAttrsChange.call(this, targetAttrs);\n        var canvas = this.get('canvas');\n        // 只有挂载到画布下，才对元素进行实际渲染\n        if (canvas && canvas.get('autoDraw')) {\n            var context = canvas.get('context');\n            this.createPath(context, targetAttrs);\n        }\n    };\n    /**\n     * 一些方法调用会引起画布变化\n     * @param {ChangeType} changeType 改变的类型\n     */\n    Group.prototype.onCanvasChange = function (changeType) {\n        refreshElement(this, changeType);\n    };\n    Group.prototype.getShapeBase = function () {\n        return Shape;\n    };\n    Group.prototype.getGroupBase = function () {\n        return Group;\n    };\n    Group.prototype.draw = function (context) {\n        var children = this.getChildren();\n        var el = this.get('el');\n        if (this.get('destroyed')) {\n            if (el) {\n                el.parentNode.removeChild(el);\n            }\n        }\n        else {\n            if (!el) {\n                this.createDom();\n            }\n            setClip(this, context);\n            this.createPath(context);\n            if (children.length) {\n                drawChildren(context, children);\n            }\n        }\n    };\n    /**\n     * 绘制分组的路径\n     * @param {Defs} context 上下文\n     * @param {ShapeAttrs} targetAttrs 渲染的目标属性\n     */\n    Group.prototype.createPath = function (context, targetAttrs) {\n        var attrs = this.attr();\n        var el = this.get('el');\n        each(targetAttrs || attrs, function (value, attr) {\n            if (SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n        setTransform(this);\n    };\n    return Group;\n}(AbstractGroup));\nexport default Group;\n//# sourceMappingURL=group.js.map","import { __assign, __extends } from \"tslib\";\nimport { AbstractShape } from '@antv/g-base';\nimport { setShadow, setTransform, setClip } from '../util/svg';\nimport { createDom } from '../util/dom';\nimport { refreshElement } from '../util/draw';\nimport { SVG_ATTR_MAP } from '../constant';\nimport * as Shape from './index';\nimport Group from '../group';\nimport { getBBoxMethod } from '@antv/g-base/lib/bbox/index';\nvar ShapeBase = /** @class */ (function (_super) {\n    __extends(ShapeBase, _super);\n    function ShapeBase() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'svg';\n        _this.canFill = false;\n        _this.canStroke = false;\n        return _this;\n    }\n    ShapeBase.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        // 设置默认值\n        return __assign(__assign({}, attrs), { lineWidth: 1, lineAppendWidth: 0, strokeOpacity: 1, fillOpacity: 1 });\n    };\n    // 覆盖基类的 afterAttrsChange 方法\n    ShapeBase.prototype.afterAttrsChange = function (targetAttrs) {\n        _super.prototype.afterAttrsChange.call(this, targetAttrs);\n        var canvas = this.get('canvas');\n        // 只有挂载到画布下，才对元素进行实际渲染\n        if (canvas && canvas.get('autoDraw')) {\n            var context = canvas.get('context');\n            this.draw(context, targetAttrs);\n        }\n    };\n    ShapeBase.prototype.getShapeBase = function () {\n        return Shape;\n    };\n    ShapeBase.prototype.getGroupBase = function () {\n        return Group;\n    };\n    /**\n     * 一些方法调用会引起画布变化\n     * @param {ChangeType} changeType 改变的类型\n     */\n    ShapeBase.prototype.onCanvasChange = function (changeType) {\n        refreshElement(this, changeType);\n    };\n    ShapeBase.prototype.calculateBBox = function () {\n        var el = this.get('el');\n        var bbox = null;\n        // 包围盒计算依赖于绘制，如果还没有生成对应的 Dom 元素，则包围盒的长宽均为 0\n        if (el) {\n            bbox = el.getBBox();\n        }\n        else {\n            var bboxMethod = getBBoxMethod(this.get('type'));\n            if (bboxMethod) {\n                bbox = bboxMethod(this);\n            }\n        }\n        if (bbox) {\n            var x = bbox.x, y = bbox.y, width = bbox.width, height = bbox.height;\n            var lineWidth = this.getHitLineWidth();\n            var halfWidth = lineWidth / 2;\n            var minX = x - halfWidth;\n            var minY = y - halfWidth;\n            var maxX = x + width + halfWidth;\n            var maxY = y + height + halfWidth;\n            return {\n                x: minX,\n                y: minY,\n                minX: minX,\n                minY: minY,\n                maxX: maxX,\n                maxY: maxY,\n                width: width + lineWidth,\n                height: height + lineWidth,\n            };\n        }\n        return {\n            x: 0,\n            y: 0,\n            minX: 0,\n            minY: 0,\n            maxX: 0,\n            maxY: 0,\n            width: 0,\n            height: 0,\n        };\n    };\n    ShapeBase.prototype.isFill = function () {\n        var _a = this.attr(), fill = _a.fill, fillStyle = _a.fillStyle;\n        return (fill || fillStyle || this.isClipShape()) && this.canFill;\n    };\n    ShapeBase.prototype.isStroke = function () {\n        var _a = this.attr(), stroke = _a.stroke, strokeStyle = _a.strokeStyle;\n        return (stroke || strokeStyle) && this.canStroke;\n    };\n    ShapeBase.prototype.draw = function (context, targetAttrs) {\n        var el = this.get('el');\n        if (this.get('destroyed')) {\n            if (el) {\n                el.parentNode.removeChild(el);\n            }\n        }\n        else {\n            if (!el) {\n                createDom(this);\n            }\n            setClip(this, context);\n            this.createPath(context, targetAttrs);\n            this.shadow(context, targetAttrs);\n            this.strokeAndFill(context, targetAttrs);\n            this.transform(targetAttrs);\n        }\n    };\n    /**\n     * @protected\n     * 绘制图形的路径\n     * @param {Defs} context 上下文\n     * @param {ShapeAttrs} targetAttrs 渲染的目标属性\n     */\n    ShapeBase.prototype.createPath = function (context, targetAttrs) { };\n    // stroke and fill\n    ShapeBase.prototype.strokeAndFill = function (context, targetAttrs) {\n        var attrs = targetAttrs || this.attr();\n        var fill = attrs.fill, fillStyle = attrs.fillStyle, stroke = attrs.stroke, strokeStyle = attrs.strokeStyle, fillOpacity = attrs.fillOpacity, strokeOpacity = attrs.strokeOpacity, lineWidth = attrs.lineWidth;\n        var el = this.get('el');\n        if (this.canFill) {\n            // 初次渲染和更新渲染的逻辑有所不同: 初次渲染值为空时，需要设置为 none，否则就会是黑色，而更新渲染则不需要\n            if (!targetAttrs) {\n                this._setColor(context, 'fill', fill || fillStyle);\n            }\n            else if ('fill' in attrs) {\n                this._setColor(context, 'fill', fill);\n            }\n            else if ('fillStyle' in attrs) {\n                // compatible with fillStyle\n                this._setColor(context, 'fill', fillStyle);\n            }\n            if (fillOpacity) {\n                el.setAttribute(SVG_ATTR_MAP['fillOpacity'], fillOpacity);\n            }\n        }\n        if (this.canStroke && lineWidth > 0) {\n            if (!targetAttrs) {\n                this._setColor(context, 'stroke', stroke || strokeStyle);\n            }\n            else if ('stroke' in attrs) {\n                this._setColor(context, 'stroke', stroke);\n            }\n            else if ('strokeStyle' in attrs) {\n                // compatible with strokeStyle\n                this._setColor(context, 'stroke', strokeStyle);\n            }\n            if (strokeOpacity) {\n                el.setAttribute(SVG_ATTR_MAP['strokeOpacity'], strokeOpacity);\n            }\n            if (lineWidth) {\n                el.setAttribute(SVG_ATTR_MAP['lineWidth'], lineWidth);\n            }\n        }\n    };\n    ShapeBase.prototype._setColor = function (context, attr, value) {\n        var el = this.get('el');\n        if (!value) {\n            // need to set `none` to avoid default value\n            el.setAttribute(SVG_ATTR_MAP[attr], 'none');\n            return;\n        }\n        value = value.trim();\n        if (/^[r,R,L,l]{1}[\\s]*\\(/.test(value)) {\n            var id = context.find('gradient', value);\n            if (!id) {\n                id = context.addGradient(value);\n            }\n            el.setAttribute(SVG_ATTR_MAP[attr], \"url(#\" + id + \")\");\n        }\n        else if (/^[p,P]{1}[\\s]*\\(/.test(value)) {\n            var id = context.find('pattern', value);\n            if (!id) {\n                id = context.addPattern(value);\n            }\n            el.setAttribute(SVG_ATTR_MAP[attr], \"url(#\" + id + \")\");\n        }\n        else {\n            el.setAttribute(SVG_ATTR_MAP[attr], value);\n        }\n    };\n    ShapeBase.prototype.shadow = function (context, targetAttrs) {\n        var attrs = this.attr();\n        var _a = targetAttrs || attrs, shadowOffsetX = _a.shadowOffsetX, shadowOffsetY = _a.shadowOffsetY, shadowBlur = _a.shadowBlur, shadowColor = _a.shadowColor;\n        if (shadowOffsetX || shadowOffsetY || shadowBlur || shadowColor) {\n            setShadow(this, context);\n        }\n    };\n    ShapeBase.prototype.transform = function (targetAttrs) {\n        var attrs = this.attr();\n        var matrix = (targetAttrs || attrs).matrix;\n        if (matrix) {\n            setTransform(this);\n        }\n    };\n    ShapeBase.prototype.isInShape = function (refX, refY) {\n        return this.isPointInPath(refX, refY);\n    };\n    ShapeBase.prototype.isPointInPath = function (refX, refY) {\n        var el = this.get('el');\n        var canvas = this.get('canvas');\n        var bbox = canvas.get('el').getBoundingClientRect();\n        var clientX = refX + bbox.left;\n        var clientY = refY + bbox.top;\n        var element = document.elementFromPoint(clientX, clientY);\n        if (element && element.isEqualNode(el)) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * 获取线拾取的宽度\n     * @returns {number} 线的拾取宽度\n     */\n    ShapeBase.prototype.getHitLineWidth = function () {\n        var _a = this.attrs, lineWidth = _a.lineWidth, lineAppendWidth = _a.lineAppendWidth;\n        if (this.isStroke()) {\n            return lineWidth + lineAppendWidth;\n        }\n        return 0;\n    };\n    return ShapeBase;\n}(AbstractShape));\nexport default ShapeBase;\n//# sourceMappingURL=base.js.map","/**\n * @fileoverview circle\n * @author dengfuping_develop@163.com\n */\nimport { __assign, __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport { SVG_ATTR_MAP } from '../constant';\nimport ShapeBase from './base';\nvar Circle = /** @class */ (function (_super) {\n    __extends(Circle, _super);\n    function Circle() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'circle';\n        _this.canFill = true;\n        _this.canStroke = true;\n        return _this;\n    }\n    Circle.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { x: 0, y: 0, r: 0 });\n    };\n    Circle.prototype.createPath = function (context, targetAttrs) {\n        var attrs = this.attr();\n        var el = this.get('el');\n        each(targetAttrs || attrs, function (value, attr) {\n            // 圆和椭圆的点坐标属性不是 x, y，而是 cx, cy\n            if (attr === 'x' || attr === 'y') {\n                el.setAttribute(\"c\" + attr, value);\n            }\n            else if (SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n    };\n    return Circle;\n}(ShapeBase));\nexport default Circle;\n//# sourceMappingURL=circle.js.map","/**\n * @fileoverview dom\n * @author dengfuping_develop@163.com\n */\nimport { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport { SVG_ATTR_MAP } from '../constant';\nimport ShapeBase from './base';\nvar Dom = /** @class */ (function (_super) {\n    __extends(Dom, _super);\n    function Dom() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'dom';\n        _this.canFill = false;\n        _this.canStroke = false;\n        return _this;\n    }\n    Dom.prototype.createPath = function (context, targetAttrs) {\n        var attrs = this.attr();\n        var el = this.get('el');\n        each(targetAttrs || attrs, function (value, attr) {\n            if (SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n        if (typeof attrs['html'] === 'function') {\n            var element = attrs['html'].call(this, attrs);\n            if (element instanceof Element || element instanceof HTMLDocument) {\n                var children = el.childNodes;\n                for (var i = children.length - 1; i >= 0; i--) {\n                    el.removeChild(children[i]);\n                }\n                el.appendChild(element); // append to el if it's an element\n            }\n            else {\n                el.innerHTML = element; // set innerHTML\n            }\n        }\n        else {\n            el.innerHTML = attrs['html']; // set innerHTML\n        }\n    };\n    return Dom;\n}(ShapeBase));\nexport default Dom;\n//# sourceMappingURL=dom.js.map","/**\n * @fileoverview ellipse\n * @author dengfuping_develop@163.com\n */\nimport { __assign, __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport { SVG_ATTR_MAP } from '../constant';\nimport ShapeBase from './base';\nvar Ellipse = /** @class */ (function (_super) {\n    __extends(Ellipse, _super);\n    function Ellipse() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'ellipse';\n        _this.canFill = true;\n        _this.canStroke = true;\n        return _this;\n    }\n    Ellipse.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { x: 0, y: 0, rx: 0, ry: 0 });\n    };\n    Ellipse.prototype.createPath = function (context, targetAttrs) {\n        var attrs = this.attr();\n        var el = this.get('el');\n        each(targetAttrs || attrs, function (value, attr) {\n            // 圆和椭圆的点坐标属性不是 x, y，而是 cx, cy\n            if (attr === 'x' || attr === 'y') {\n                el.setAttribute(\"c\" + attr, value);\n            }\n            else if (SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n    };\n    return Ellipse;\n}(ShapeBase));\nexport default Ellipse;\n//# sourceMappingURL=ellipse.js.map","/**\n * @fileoverview image\n * @author dengfuping_develop@163.com\n */\nimport { __assign, __extends } from \"tslib\";\nimport { each, isString } from '@antv/util';\nimport { SVG_ATTR_MAP } from '../constant';\nimport ShapeBase from './base';\nvar Image = /** @class */ (function (_super) {\n    __extends(Image, _super);\n    function Image() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'image';\n        _this.canFill = false;\n        _this.canStroke = false;\n        return _this;\n    }\n    Image.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { x: 0, y: 0, width: 0, height: 0 });\n    };\n    Image.prototype.createPath = function (context, targetAttrs) {\n        var _this = this;\n        var attrs = this.attr();\n        var el = this.get('el');\n        each(targetAttrs || attrs, function (value, attr) {\n            if (attr === 'img') {\n                _this._setImage(attrs.img);\n            }\n            else if (SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n    };\n    Image.prototype.setAttr = function (name, value) {\n        this.attrs[name] = value;\n        if (name === 'img') {\n            this._setImage(value);\n        }\n    };\n    Image.prototype._setImage = function (img) {\n        var attrs = this.attr();\n        var el = this.get('el');\n        if (isString(img)) {\n            el.setAttribute('href', img);\n        }\n        else if (img instanceof window.Image) {\n            if (!attrs.width) {\n                el.setAttribute('width', img.width);\n                this.attr('width', img.width);\n            }\n            if (!attrs.height) {\n                el.setAttribute('height', img.height);\n                this.attr('height', img.height);\n            }\n            el.setAttribute('href', img.src);\n        }\n        else if (img instanceof HTMLElement && isString(img.nodeName) && img.nodeName.toUpperCase() === 'CANVAS') {\n            // @ts-ignore\n            el.setAttribute('href', img.toDataURL());\n        }\n        else if (img instanceof ImageData) {\n            var canvas = document.createElement('canvas');\n            canvas.setAttribute('width', \"\" + img.width);\n            canvas.setAttribute('height', \"\" + img.height);\n            canvas.getContext('2d').putImageData(img, 0, 0);\n            if (!attrs.width) {\n                el.setAttribute('width', \"\" + img.width);\n                this.attr('width', img.width);\n            }\n            if (!attrs.height) {\n                el.setAttribute('height', \"\" + img.height);\n                this.attr('height', img.height);\n            }\n            el.setAttribute('href', canvas.toDataURL());\n        }\n    };\n    return Image;\n}(ShapeBase));\nexport default Image;\n//# sourceMappingURL=image.js.map","import { __assign, __extends } from \"tslib\";\n/**\n * @fileoverview line\n * @author dengfuping_develop@163.com\n */\nimport LineUtil from '@antv/g-math/lib/line';\nimport { each, isObject } from '@antv/util';\nimport { SVG_ATTR_MAP } from '../constant';\nimport ShapeBase from './base';\nvar Line = /** @class */ (function (_super) {\n    __extends(Line, _super);\n    function Line() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'line';\n        _this.canFill = false;\n        _this.canStroke = true;\n        return _this;\n    }\n    Line.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { x1: 0, y1: 0, x2: 0, y2: 0, startArrow: false, endArrow: false });\n    };\n    Line.prototype.createPath = function (context, targetAttrs) {\n        var attrs = this.attr();\n        var el = this.get('el');\n        each(targetAttrs || attrs, function (value, attr) {\n            if (attr === 'startArrow' || attr === 'endArrow') {\n                if (value) {\n                    var id = isObject(value)\n                        ? context.addArrow(attrs, SVG_ATTR_MAP[attr])\n                        : context.getDefaultArrow(attrs, SVG_ATTR_MAP[attr]);\n                    el.setAttribute(SVG_ATTR_MAP[attr], \"url(#\" + id + \")\");\n                }\n                else {\n                    el.removeAttribute(SVG_ATTR_MAP[attr]);\n                }\n            }\n            else if (SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n    };\n    /**\n     * Use math calculation to get length of line\n     * @return {number} length\n     */\n    Line.prototype.getTotalLength = function () {\n        var _a = this.attr(), x1 = _a.x1, y1 = _a.y1, x2 = _a.x2, y2 = _a.y2;\n        return LineUtil.length(x1, y1, x2, y2);\n    };\n    /**\n     * Use math calculation to get point according to ratio as same sa Canvas version\n     * @param {number} ratio\n     * @return {Point} point\n     */\n    Line.prototype.getPoint = function (ratio) {\n        var _a = this.attr(), x1 = _a.x1, y1 = _a.y1, x2 = _a.x2, y2 = _a.y2;\n        return LineUtil.pointAt(x1, y1, x2, y2, ratio);\n    };\n    return Line;\n}(ShapeBase));\nexport default Line;\n//# sourceMappingURL=line.js.map","var Symbols = {\n    // 圆\n    circle: function (x, y, r) {\n        return [['M', x, y], ['m', -r, 0], ['a', r, r, 0, 1, 0, r * 2, 0], ['a', r, r, 0, 1, 0, -r * 2, 0]];\n    },\n    // 正方形\n    square: function (x, y, r) {\n        return [['M', x - r, y - r], ['L', x + r, y - r], ['L', x + r, y + r], ['L', x - r, y + r], ['Z']];\n    },\n    // 菱形\n    diamond: function (x, y, r) {\n        return [['M', x - r, y], ['L', x, y - r], ['L', x + r, y], ['L', x, y + r], ['Z']];\n    },\n    // 三角形\n    triangle: function (x, y, r) {\n        var diffY = r * Math.sin((1 / 3) * Math.PI);\n        return [['M', x - r, y + diffY], ['L', x, y - diffY], ['L', x + r, y + diffY], ['z']];\n    },\n    // 倒三角形\n    triangleDown: function (x, y, r) {\n        var diffY = r * Math.sin((1 / 3) * Math.PI);\n        return [['M', x - r, y - diffY], ['L', x + r, y - diffY], ['L', x, y + diffY], ['Z']];\n    },\n};\nexport default {\n    get: function (type) {\n        return Symbols[type];\n    },\n    register: function (type, func) {\n        Symbols[type] = func;\n    },\n    remove: function (type) {\n        delete Symbols[type];\n    },\n    getAll: function () {\n        return Symbols;\n    },\n};\n//# sourceMappingURL=symbols.js.map","/**\n * @fileoverview marker\n * @author dengfuping_develop@163.com\n */\nimport { __extends } from \"tslib\";\nimport { isArray, isFunction } from '@antv/util';\nimport ShapeBase from '../base';\nimport symbolsFactory from './symbols';\nvar Marker = /** @class */ (function (_super) {\n    __extends(Marker, _super);\n    function Marker() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'marker';\n        _this.canFill = true;\n        _this.canStroke = true;\n        return _this;\n    }\n    Marker.prototype.createPath = function (context) {\n        var el = this.get('el');\n        el.setAttribute('d', this._assembleMarker());\n    };\n    Marker.prototype._assembleMarker = function () {\n        var d = this._getPath();\n        if (isArray(d)) {\n            return d\n                .map(function (path) {\n                return path.join(' ');\n            })\n                .join('');\n        }\n        return d;\n    };\n    Marker.prototype._getPath = function () {\n        var attrs = this.attr();\n        var x = attrs.x, y = attrs.y;\n        // 兼容 r 和 radius 两种写法，推荐使用 r\n        var r = attrs.r || attrs.radius;\n        var symbol = attrs.symbol || 'circle';\n        var method;\n        if (isFunction(symbol)) {\n            method = symbol;\n        }\n        else {\n            method = symbolsFactory.get(symbol);\n        }\n        if (!method) {\n            console.warn(method + \" symbol is not exist.\");\n            return null;\n        }\n        return method(x, y, r);\n    };\n    // 作为其静态属性\n    Marker.symbolsFactory = symbolsFactory;\n    return Marker;\n}(ShapeBase));\nexport default Marker;\n//# sourceMappingURL=index.js.map","import { __assign, __extends } from \"tslib\";\nimport { each, isArray, isObject } from '@antv/util';\nimport { SVG_ATTR_MAP } from '../constant';\nimport ShapeBase from './base';\nvar Path = /** @class */ (function (_super) {\n    __extends(Path, _super);\n    function Path() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'path';\n        _this.canFill = true;\n        _this.canStroke = true;\n        return _this;\n    }\n    Path.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { startArrow: false, endArrow: false });\n    };\n    Path.prototype.createPath = function (context, targetAttrs) {\n        var _this = this;\n        var attrs = this.attr();\n        var el = this.get('el');\n        each(targetAttrs || attrs, function (value, attr) {\n            if (attr === 'path' && isArray(value)) {\n                el.setAttribute('d', _this._formatPath(value));\n            }\n            else if (attr === 'startArrow' || attr === 'endArrow') {\n                if (value) {\n                    var id = isObject(value)\n                        ? context.addArrow(attrs, SVG_ATTR_MAP[attr])\n                        : context.getDefaultArrow(attrs, SVG_ATTR_MAP[attr]);\n                    el.setAttribute(SVG_ATTR_MAP[attr], \"url(#\" + id + \")\");\n                }\n                else {\n                    el.removeAttribute(SVG_ATTR_MAP[attr]);\n                }\n            }\n            else if (SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n    };\n    Path.prototype._formatPath = function (value) {\n        var newValue = value\n            .map(function (path) {\n            return path.join(' ');\n        })\n            .join('');\n        if (~newValue.indexOf('NaN')) {\n            return '';\n        }\n        return newValue;\n    };\n    /**\n     * Get total length of path\n     * 尽管通过浏览器的 SVGPathElement.getTotalLength() 接口获取的 path 长度，\n     * 与 Canvas 版本通过数学计算的方式得到的长度有一些细微差异，但最大误差在个位数像素，精度上可以能接受\n     * @return {number} length\n     */\n    Path.prototype.getTotalLength = function () {\n        var el = this.get('el');\n        return el ? el.getTotalLength() : null;\n    };\n    /**\n     * Get point according to ratio\n     * @param {number} ratio\n     * @return {Point} point\n     */\n    Path.prototype.getPoint = function (ratio) {\n        var el = this.get('el');\n        var totalLength = this.getTotalLength();\n        // @see https://github.com/antvis/g/issues/634\n        if (totalLength === 0) {\n            return null;\n        }\n        var point = el ? el.getPointAtLength(ratio * totalLength) : null;\n        return point\n            ? {\n                x: point.x,\n                y: point.y,\n            }\n            : null;\n    };\n    return Path;\n}(ShapeBase));\nexport default Path;\n//# sourceMappingURL=path.js.map","import { __extends } from \"tslib\";\n/**\n * @fileoverview polygon\n * @author dengfuping_develop@163.com\n */\nimport { each, isArray } from '@antv/util';\nimport { SVG_ATTR_MAP } from '../constant';\nimport ShapeBase from './base';\nvar Polygon = /** @class */ (function (_super) {\n    __extends(Polygon, _super);\n    function Polygon() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'polygon';\n        _this.canFill = true;\n        _this.canStroke = true;\n        return _this;\n    }\n    Polygon.prototype.createPath = function (context, targetAttrs) {\n        var attrs = this.attr();\n        var el = this.get('el');\n        each(targetAttrs || attrs, function (value, attr) {\n            if (attr === 'points' && isArray(value) && value.length >= 2) {\n                el.setAttribute('points', value.map(function (point) { return point[0] + \",\" + point[1]; }).join(' '));\n            }\n            else if (SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n    };\n    return Polygon;\n}(ShapeBase));\nexport default Polygon;\n//# sourceMappingURL=polygon.js.map","import { __assign, __extends } from \"tslib\";\nimport LineUtil from '@antv/g-math/lib/line';\nimport PolylineUtil from '@antv/g-math/lib/polyline';\nimport { each, isArray, isNil } from '@antv/util';\nimport { SVG_ATTR_MAP } from '../constant';\nimport ShapeBase from './base';\nvar Polyline = /** @class */ (function (_super) {\n    __extends(Polyline, _super);\n    function Polyline() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'polyline';\n        _this.canFill = true;\n        _this.canStroke = true;\n        return _this;\n    }\n    Polyline.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { startArrow: false, endArrow: false });\n    };\n    // 更新属性时，检测是否更改了 points\n    Polyline.prototype.onAttrChange = function (name, value, originValue) {\n        _super.prototype.onAttrChange.call(this, name, value, originValue);\n        if (['points'].indexOf(name) !== -1) {\n            this._resetCache();\n        }\n    };\n    Polyline.prototype._resetCache = function () {\n        this.set('totalLength', null);\n        this.set('tCache', null);\n    };\n    Polyline.prototype.createPath = function (context, targetAttrs) {\n        var attrs = this.attr();\n        var el = this.get('el');\n        each(targetAttrs || attrs, function (value, attr) {\n            if (attr === 'points' && isArray(value) && value.length >= 2) {\n                el.setAttribute('points', value.map(function (point) { return point[0] + \",\" + point[1]; }).join(' '));\n            }\n            else if (SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n    };\n    /**\n     * Get length of polyline\n     * @return {number} length\n     */\n    Polyline.prototype.getTotalLength = function () {\n        var points = this.attr().points;\n        // get totalLength from cache\n        var totalLength = this.get('totalLength');\n        if (!isNil(totalLength)) {\n            return totalLength;\n        }\n        this.set('totalLength', PolylineUtil.length(points));\n        return this.get('totalLength');\n    };\n    /**\n     * Get point according to ratio\n     * @param {number} ratio\n     * @return {Point} point\n     */\n    Polyline.prototype.getPoint = function (ratio) {\n        var points = this.attr().points;\n        // get tCache from cache\n        var tCache = this.get('tCache');\n        if (!tCache) {\n            this._setTcache();\n            tCache = this.get('tCache');\n        }\n        var subt;\n        var index;\n        each(tCache, function (v, i) {\n            if (ratio >= v[0] && ratio <= v[1]) {\n                subt = (ratio - v[0]) / (v[1] - v[0]);\n                index = i;\n            }\n        });\n        return LineUtil.pointAt(points[index][0], points[index][1], points[index + 1][0], points[index + 1][1], subt);\n    };\n    Polyline.prototype._setTcache = function () {\n        var points = this.attr().points;\n        if (!points || points.length === 0) {\n            return;\n        }\n        var totalLength = this.getTotalLength();\n        if (totalLength <= 0) {\n            return;\n        }\n        var tempLength = 0;\n        var tCache = [];\n        var segmentT;\n        var segmentL;\n        each(points, function (p, i) {\n            if (points[i + 1]) {\n                segmentT = [];\n                segmentT[0] = tempLength / totalLength;\n                segmentL = LineUtil.length(p[0], p[1], points[i + 1][0], points[i + 1][1]);\n                tempLength += segmentL;\n                segmentT[1] = tempLength / totalLength;\n                tCache.push(segmentT);\n            }\n        });\n        this.set('tCache', tCache);\n    };\n    /**\n     * Get start tangent vector\n     * @return {Array}\n     */\n    Polyline.prototype.getStartTangent = function () {\n        var points = this.attr().points;\n        var result = [];\n        result.push([points[1][0], points[1][1]]);\n        result.push([points[0][0], points[0][1]]);\n        return result;\n    };\n    /**\n     * Get end tangent vector\n     * @return {Array}\n     */\n    Polyline.prototype.getEndTangent = function () {\n        var points = this.attr().points;\n        var l = points.length - 1;\n        var result = [];\n        result.push([points[l - 1][0], points[l - 1][1]]);\n        result.push([points[l][0], points[l][1]]);\n        return result;\n    };\n    return Polyline;\n}(ShapeBase));\nexport default Polyline;\n//# sourceMappingURL=polyline.js.map","/**\n * @fileoverview rect\n * @author dengfuping_develop@163.com\n */\nimport { __assign, __extends } from \"tslib\";\nimport { each, isArray } from '@antv/util';\nimport ShapeBase from './base';\nimport { SVG_ATTR_MAP } from '../constant';\nimport { parseRadius } from '../util/format';\nvar Rect = /** @class */ (function (_super) {\n    __extends(Rect, _super);\n    function Rect() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'rect';\n        _this.canFill = true;\n        _this.canStroke = true;\n        return _this;\n    }\n    Rect.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { x: 0, y: 0, width: 0, height: 0, radius: 0 });\n    };\n    Rect.prototype.createPath = function (context, targetAttrs) {\n        var _this = this;\n        var attrs = this.attr();\n        var el = this.get('el');\n        // 加上状态量，用来标记 path 是否已组装\n        var completed = false;\n        // 和组装 path 相关的绘图属性\n        var pathRelatedAttrs = ['x', 'y', 'width', 'height', 'radius'];\n        each(targetAttrs || attrs, function (value, attr) {\n            if (pathRelatedAttrs.indexOf(attr) !== -1 && !completed) {\n                el.setAttribute('d', _this._assembleRect(attrs));\n                completed = true;\n            }\n            else if (pathRelatedAttrs.indexOf(attr) === -1 && SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n    };\n    Rect.prototype._assembleRect = function (attrs) {\n        var x = attrs.x;\n        var y = attrs.y;\n        var w = attrs.width;\n        var h = attrs.height;\n        var radius = attrs.radius;\n        if (!radius) {\n            return \"M \" + x + \",\" + y + \" l \" + w + \",0 l 0,\" + h + \" l\" + -w + \" 0 z\";\n        }\n        var r = parseRadius(radius);\n        if (isArray(radius)) {\n            if (radius.length === 1) {\n                r.r1 = r.r2 = r.r3 = r.r4 = radius[0];\n            }\n            else if (radius.length === 2) {\n                r.r1 = r.r3 = radius[0];\n                r.r2 = r.r4 = radius[1];\n            }\n            else if (radius.length === 3) {\n                r.r1 = radius[0];\n                r.r2 = r.r4 = radius[1];\n                r.r3 = radius[2];\n            }\n            else {\n                r.r1 = radius[0];\n                r.r2 = radius[1];\n                r.r3 = radius[2];\n                r.r4 = radius[3];\n            }\n        }\n        else {\n            r.r1 = r.r2 = r.r3 = r.r4 = radius;\n        }\n        var d = [\n            [\"M \" + (x + r.r1) + \",\" + y],\n            [\"l \" + (w - r.r1 - r.r2) + \",0\"],\n            [\"a \" + r.r2 + \",\" + r.r2 + \",0,0,1,\" + r.r2 + \",\" + r.r2],\n            [\"l 0,\" + (h - r.r2 - r.r3)],\n            [\"a \" + r.r3 + \",\" + r.r3 + \",0,0,1,\" + -r.r3 + \",\" + r.r3],\n            [\"l \" + (r.r3 + r.r4 - w) + \",0\"],\n            [\"a \" + r.r4 + \",\" + r.r4 + \",0,0,1,\" + -r.r4 + \",\" + -r.r4],\n            [\"l 0,\" + (r.r4 + r.r1 - h)],\n            [\"a \" + r.r1 + \",\" + r.r1 + \",0,0,1,\" + r.r1 + \",\" + -r.r1],\n            ['z'],\n        ];\n        return d.join(' ');\n    };\n    return Rect;\n}(ShapeBase));\nexport default Rect;\n//# sourceMappingURL=rect.js.map","import { each, isArray, isString } from '@antv/util';\nvar regexTags = /[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi;\nvar regexDot = /[^\\s\\,]+/gi;\nexport function parseRadius(radius) {\n    var r1 = 0;\n    var r2 = 0;\n    var r3 = 0;\n    var r4 = 0;\n    if (isArray(radius)) {\n        if (radius.length === 1) {\n            r1 = r2 = r3 = r4 = radius[0];\n        }\n        else if (radius.length === 2) {\n            r1 = r3 = radius[0];\n            r2 = r4 = radius[1];\n        }\n        else if (radius.length === 3) {\n            r1 = radius[0];\n            r2 = r4 = radius[1];\n            r3 = radius[2];\n        }\n        else {\n            r1 = radius[0];\n            r2 = radius[1];\n            r3 = radius[2];\n            r4 = radius[3];\n        }\n    }\n    else {\n        r1 = r2 = r3 = r4 = radius;\n    }\n    return {\n        r1: r1,\n        r2: r2,\n        r3: r3,\n        r4: r4,\n    };\n}\nexport function parsePath(path) {\n    path = path || [];\n    if (isArray(path)) {\n        return path;\n    }\n    if (isString(path)) {\n        path = path.match(regexTags);\n        each(path, function (item, index) {\n            item = item.match(regexDot);\n            if (item[0].length > 1) {\n                var tag = item[0].charAt(0);\n                item.splice(1, 0, item[0].substr(1));\n                item[0] = tag;\n            }\n            each(item, function (sub, i) {\n                if (!isNaN(sub)) {\n                    item[i] = +sub;\n                }\n            });\n            path[index] = item;\n        });\n        return path;\n    }\n}\n//# sourceMappingURL=format.js.map","/**\n * @fileoverview text\n * @author dengfuping_develop@163.com\n */\nimport { __assign, __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport { detect } from 'detect-browser';\nimport { setTransform } from '../util/svg';\nimport { SVG_ATTR_MAP } from '../constant';\nimport ShapeBase from './base';\nvar LETTER_SPACING = 0.3;\nvar BASELINE_MAP = {\n    top: 'before-edge',\n    middle: 'central',\n    bottom: 'after-edge',\n    alphabetic: 'baseline',\n    hanging: 'hanging',\n};\n// for FireFox\nvar BASELINE_MAP_FOR_FIREFOX = {\n    top: 'text-before-edge',\n    middle: 'central',\n    bottom: 'text-after-edge',\n    alphabetic: 'alphabetic',\n    hanging: 'hanging',\n};\nvar ANCHOR_MAP = {\n    left: 'left',\n    start: 'left',\n    center: 'middle',\n    right: 'end',\n    end: 'end',\n};\nvar Text = /** @class */ (function (_super) {\n    __extends(Text, _super);\n    function Text() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'text';\n        _this.canFill = true;\n        _this.canStroke = true;\n        return _this;\n    }\n    Text.prototype.getDefaultAttrs = function () {\n        var attrs = _super.prototype.getDefaultAttrs.call(this);\n        return __assign(__assign({}, attrs), { x: 0, y: 0, text: null, fontSize: 12, fontFamily: 'sans-serif', fontStyle: 'normal', fontWeight: 'normal', fontVariant: 'normal', textAlign: 'start', textBaseline: 'bottom' });\n    };\n    Text.prototype.createPath = function (context, targetAttrs) {\n        var _this = this;\n        var attrs = this.attr();\n        var el = this.get('el');\n        this._setFont();\n        each(targetAttrs || attrs, function (value, attr) {\n            if (attr === 'text') {\n                _this._setText(\"\" + value);\n            }\n            else if (attr === 'matrix' && value) {\n                setTransform(_this);\n            }\n            else if (SVG_ATTR_MAP[attr]) {\n                el.setAttribute(SVG_ATTR_MAP[attr], value);\n            }\n        });\n        el.setAttribute('paint-order', 'stroke');\n        el.setAttribute('style', 'stroke-linecap:butt; stroke-linejoin:miter;');\n    };\n    Text.prototype._setFont = function () {\n        var el = this.get('el');\n        var _a = this.attr(), textBaseline = _a.textBaseline, textAlign = _a.textAlign;\n        var browser = detect();\n        if (browser && browser.name === 'firefox') {\n            // compatible with FireFox browser, ref: https://github.com/antvis/g/issues/119\n            el.setAttribute('dominant-baseline', BASELINE_MAP_FOR_FIREFOX[textBaseline] || 'alphabetic');\n        }\n        else {\n            el.setAttribute('alignment-baseline', BASELINE_MAP[textBaseline] || 'baseline');\n        }\n        el.setAttribute('text-anchor', ANCHOR_MAP[textAlign] || 'left');\n    };\n    Text.prototype._setText = function (text) {\n        var el = this.get('el');\n        var _a = this.attr(), x = _a.x, _b = _a.textBaseline, baseline = _b === void 0 ? 'bottom' : _b;\n        if (!text) {\n            el.innerHTML = '';\n        }\n        else if (~text.indexOf('\\n')) {\n            var textArr = text.split('\\n');\n            var textLen_1 = textArr.length - 1;\n            var arr_1 = '';\n            each(textArr, function (segment, i) {\n                if (i === 0) {\n                    if (baseline === 'alphabetic') {\n                        arr_1 += \"<tspan x=\\\"\" + x + \"\\\" dy=\\\"\" + -textLen_1 + \"em\\\">\" + segment + \"</tspan>\";\n                    }\n                    else if (baseline === 'top') {\n                        arr_1 += \"<tspan x=\\\"\" + x + \"\\\" dy=\\\"0.9em\\\">\" + segment + \"</tspan>\";\n                    }\n                    else if (baseline === 'middle') {\n                        arr_1 += \"<tspan x=\\\"\" + x + \"\\\" dy=\\\"\" + -(textLen_1 - 1) / 2 + \"em\\\">\" + segment + \"</tspan>\";\n                    }\n                    else if (baseline === 'bottom') {\n                        arr_1 += \"<tspan x=\\\"\" + x + \"\\\" dy=\\\"-\" + (textLen_1 + LETTER_SPACING) + \"em\\\">\" + segment + \"</tspan>\";\n                    }\n                    else if (baseline === 'hanging') {\n                        arr_1 += \"<tspan x=\\\"\" + x + \"\\\" dy=\\\"\" + (-(textLen_1 - 1) - LETTER_SPACING) + \"em\\\">\" + segment + \"</tspan>\";\n                    }\n                }\n                else {\n                    arr_1 += \"<tspan x=\\\"\" + x + \"\\\" dy=\\\"1em\\\">\" + segment + \"</tspan>\";\n                }\n            });\n            el.innerHTML = arr_1;\n        }\n        else {\n            el.innerHTML = text;\n        }\n    };\n    return Text;\n}(ShapeBase));\nexport default Text;\n//# sourceMappingURL=text.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createInteraction = exports.registerInteraction = exports.getInteraction = void 0;\nvar tslib_1 = require(\"tslib\");\nvar util_1 = require(\"@antv/util\");\nvar grammar_interaction_1 = tslib_1.__importDefault(require(\"./grammar-interaction\"));\nvar Interactions = {};\n/**\n * 根据交互行为名字获取对应的交互类\n * @param name 交互名字\n * @returns 交互类\n */\nfunction getInteraction(name) {\n    return Interactions[util_1.lowerCase(name)];\n}\nexports.getInteraction = getInteraction;\n/**\n * 注册交互行为\n * @param name 交互行为名字\n * @param interaction 交互类\n */\nfunction registerInteraction(name, interaction) {\n    Interactions[util_1.lowerCase(name)] = interaction;\n}\nexports.registerInteraction = registerInteraction;\n/**\n * 创建交互实例\n * @param name 交互名\n * @param view 交互应用的 View 实例\n * @param cfg 交互行为配置\n */\nfunction createInteraction(name, view, cfg) {\n    var interaciton = getInteraction(name);\n    if (!interaciton) {\n        return null;\n    }\n    if (util_1.isPlainObject(interaciton)) {\n        // 如果不 clone 则会多个 interaction 实例共享 step 的定义\n        var steps = util_1.mix(util_1.clone(interaciton), cfg);\n        return new grammar_interaction_1.default(view, steps);\n    }\n    else {\n        var cls = interaciton;\n        return new cls(view, cfg);\n    }\n}\nexports.createInteraction = createInteraction;\nvar interaction_1 = require(\"./interaction\");\nObject.defineProperty(exports, \"Interaction\", { enumerable: true, get: function () { return interaction_1.default; } });\nvar action_1 = require(\"./action\");\nObject.defineProperty(exports, \"Action\", { enumerable: true, get: function () { return action_1.Action; } });\nObject.defineProperty(exports, \"registerAction\", { enumerable: true, get: function () { return action_1.registerAction; } });\nObject.defineProperty(exports, \"getActionClass\", { enumerable: true, get: function () { return action_1.getActionClass; } });\n//# sourceMappingURL=index.js.map","import { get } from '@antv/util';\nexport var DEFAULT_TOOLTIP_OPTIONS = {\n    showTitle: false,\n    shared: true,\n    showMarkers: false,\n    customContent: function (x, data) { return \"\" + get(data, [0, 'data', 'y'], 0).toFixed(1); },\n    containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n    itemTpl: '<span>{value}</span>',\n    domStyles: {\n        'g2-tooltip': {\n            padding: '2px 4px',\n            fontSize: '10px',\n        },\n    },\n};\n//# sourceMappingURL=constants.js.map","import { __spreadArrays } from \"tslib\";\nimport { Util } from '@antv/g2';\nvar ORIGIN_MATRIX = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n/**\n * 对元素设置一些操作（旋转、移动等），每次重置 matrix\n * @param group\n * @param actions\n */\nexport function groupTransform(group, actions) {\n    var ulMatrix = __spreadArrays(ORIGIN_MATRIX);\n    var matrix = Util.transform(ulMatrix, actions);\n    group.setMatrix(matrix);\n}\n/**\n * 矩阵变换\n * @param actions\n * @param matrix\n */\nexport function transform(actions, matrix) {\n    var ulMatrix = matrix ? __spreadArrays(matrix) : __spreadArrays(ORIGIN_MATRIX);\n    return Util.transform(ulMatrix, actions);\n}\n//# sourceMappingURL=g-util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=types.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=interfaces.js.map","var GraphEvent = /** @class */ (function () {\n    function GraphEvent(type, event) {\n        /**\n         * 是否允许冒泡\n         * @type {boolean}\n         */\n        this.bubbles = true;\n        /**\n         * 触发对象\n         * @type {object}\n         */\n        this.target = null;\n        /**\n         * 监听对象\n         * @type {object}\n         */\n        this.currentTarget = null;\n        /**\n         * 委托对象\n         * @type {object}\n         */\n        this.delegateTarget = null;\n        /**\n         * 委托事件监听对象的代理对象，即 ev.delegateObject = ev.currentTarget.get('delegateObject')\n         * @type {object}\n         */\n        this.delegateObject = null;\n        /**\n         * 是否阻止了原生事件\n         * @type {boolean}\n         */\n        this.defaultPrevented = false;\n        /**\n         * 是否阻止传播（向上冒泡）\n         * @type {boolean}\n         */\n        this.propagationStopped = false;\n        /**\n         * 触发事件的图形\n         * @type {IShape}\n         */\n        this.shape = null;\n        /**\n         * 开始触发事件的图形\n         * @type {IShape}\n         */\n        this.fromShape = null;\n        /**\n         * 事件结束时的触发图形\n         * @type {IShape}\n         */\n        this.toShape = null;\n        // 触发事件的路径\n        this.propagationPath = [];\n        this.type = type;\n        this.name = type;\n        this.originalEvent = event;\n        this.timeStamp = event.timeStamp;\n    }\n    /**\n     * 阻止浏览器默认的行为\n     */\n    GraphEvent.prototype.preventDefault = function () {\n        this.defaultPrevented = true;\n        if (this.originalEvent.preventDefault) {\n            this.originalEvent.preventDefault();\n        }\n    };\n    /**\n     * 阻止冒泡\n     */\n    GraphEvent.prototype.stopPropagation = function () {\n        this.propagationStopped = true;\n    };\n    GraphEvent.prototype.toString = function () {\n        var type = this.type;\n        return \"[Event (type=\" + type + \")]\";\n    };\n    GraphEvent.prototype.save = function () { };\n    GraphEvent.prototype.restore = function () { };\n    return GraphEvent;\n}());\nexport default GraphEvent;\n//# sourceMappingURL=graph-event.js.map","import { __extends } from \"tslib\";\nimport EE from '@antv/event-emitter';\nimport { mix } from '../util/util';\nvar Base = /** @class */ (function (_super) {\n    __extends(Base, _super);\n    function Base(cfg) {\n        var _this = _super.call(this) || this;\n        /**\n         * 是否被销毁\n         * @type {boolean}\n         */\n        _this.destroyed = false;\n        var defaultCfg = _this.getDefaultCfg();\n        _this.cfg = mix(defaultCfg, cfg);\n        return _this;\n    }\n    /**\n     * @protected\n     * 默认的配置项\n     * @returns {object} 默认的配置项\n     */\n    Base.prototype.getDefaultCfg = function () {\n        return {};\n    };\n    // 实现接口的方法\n    Base.prototype.get = function (name) {\n        return this.cfg[name];\n    };\n    // 实现接口的方法\n    Base.prototype.set = function (name, value) {\n        this.cfg[name] = value;\n    };\n    // 实现接口的方法\n    Base.prototype.destroy = function () {\n        this.cfg = {\n            destroyed: true,\n        };\n        this.off();\n        this.destroyed = true;\n    };\n    return Base;\n}(EE));\nexport default Base;\n//# sourceMappingURL=base.js.map","export * from './common';\nexport * from './tooltip';\nexport * from './tuple';\nexport * from './state';\nexport * from './attr';\nexport * from './statistic';\n//# sourceMappingURL=index.js.map","import { __extends } from \"tslib\";\nimport Element from './element';\nimport { isFunction, isObject, each, removeFromArray, upperFirst, isAllowCapture } from '../util/util';\nvar SHAPE_MAP = {};\nvar INDEX = '_INDEX';\n/**\n * 设置 canvas\n * @param {IElement} element 元素\n * @param {ICanvas}  canvas  画布\n */\nfunction setCanvas(element, canvas) {\n    element.set('canvas', canvas);\n    if (element.isGroup()) {\n        var children = element.get('children');\n        if (children.length) {\n            children.forEach(function (child) {\n                setCanvas(child, canvas);\n            });\n        }\n    }\n}\n/**\n * 设置 timeline\n * @param {IElement} element  元素\n * @param {Timeline} timeline 时间轴\n */\nfunction setTimeline(element, timeline) {\n    element.set('timeline', timeline);\n    if (element.isGroup()) {\n        var children = element.get('children');\n        if (children.length) {\n            children.forEach(function (child) {\n                setTimeline(child, timeline);\n            });\n        }\n    }\n}\nfunction contains(container, element) {\n    var children = container.getChildren();\n    return children.indexOf(element) >= 0;\n}\nfunction removeChild(container, element, destroy) {\n    if (destroy === void 0) { destroy = true; }\n    // 不再调用 element.remove() 方法，会出现循环调用\n    if (destroy) {\n        element.destroy();\n    }\n    else {\n        element.set('parent', null);\n        element.set('canvas', null);\n    }\n    removeFromArray(container.getChildren(), element);\n}\nfunction getComparer(compare) {\n    return function (left, right) {\n        var result = compare(left, right);\n        return result === 0 ? left[INDEX] - right[INDEX] : result;\n    };\n}\nvar Container = /** @class */ (function (_super) {\n    __extends(Container, _super);\n    function Container() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Container.prototype.isCanvas = function () {\n        return false;\n    };\n    // 根据子节点确定 BBox\n    Container.prototype.getBBox = function () {\n        // 所有的值可能在画布的可视区外\n        var minX = Infinity;\n        var maxX = -Infinity;\n        var minY = Infinity;\n        var maxY = -Infinity;\n        var xArr = [];\n        var yArr = [];\n        // 将可见元素、图形以及不为空的图形分组筛选出来，用于包围盒合并\n        var children = this.getChildren().filter(function (child) {\n            return child.get('visible') && (!child.isGroup() || (child.isGroup() && child.getChildren().length > 0));\n        });\n        if (children.length > 0) {\n            each(children, function (child) {\n                var box = child.getBBox();\n                xArr.push(box.minX, box.maxX);\n                yArr.push(box.minY, box.maxY);\n            });\n            minX = Math.min.apply(null, xArr);\n            maxX = Math.max.apply(null, xArr);\n            minY = Math.min.apply(null, yArr);\n            maxY = Math.max.apply(null, yArr);\n        }\n        else {\n            minX = 0;\n            maxX = 0;\n            minY = 0;\n            maxY = 0;\n        }\n        var box = {\n            x: minX,\n            y: minY,\n            minX: minX,\n            minY: minY,\n            maxX: maxX,\n            maxY: maxY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n        return box;\n    };\n    // 获取画布的包围盒\n    Container.prototype.getCanvasBBox = function () {\n        var minX = Infinity;\n        var maxX = -Infinity;\n        var minY = Infinity;\n        var maxY = -Infinity;\n        var xArr = [];\n        var yArr = [];\n        // 将可见元素、图形以及不为空的图形分组筛选出来，用于包围盒合并\n        var children = this.getChildren().filter(function (child) {\n            return child.get('visible') && (!child.isGroup() || (child.isGroup() && child.getChildren().length > 0));\n        });\n        if (children.length > 0) {\n            each(children, function (child) {\n                var box = child.getCanvasBBox();\n                xArr.push(box.minX, box.maxX);\n                yArr.push(box.minY, box.maxY);\n            });\n            minX = Math.min.apply(null, xArr);\n            maxX = Math.max.apply(null, xArr);\n            minY = Math.min.apply(null, yArr);\n            maxY = Math.max.apply(null, yArr);\n        }\n        else {\n            minX = 0;\n            maxX = 0;\n            minY = 0;\n            maxY = 0;\n        }\n        var box = {\n            x: minX,\n            y: minY,\n            minX: minX,\n            minY: minY,\n            maxX: maxX,\n            maxY: maxY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n        return box;\n    };\n    Container.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        cfg['children'] = [];\n        return cfg;\n    };\n    Container.prototype.onAttrChange = function (name, value, originValue) {\n        _super.prototype.onAttrChange.call(this, name, value, originValue);\n        if (name === 'matrix') {\n            var totalMatrix = this.getTotalMatrix();\n            this._applyChildrenMarix(totalMatrix);\n        }\n    };\n    // 不但应用到自己身上还要应用于子元素\n    Container.prototype.applyMatrix = function (matrix) {\n        var preTotalMatrix = this.getTotalMatrix();\n        _super.prototype.applyMatrix.call(this, matrix);\n        var totalMatrix = this.getTotalMatrix();\n        // totalMatrix 没有发生变化时，这里仅考虑两者都为 null 时\n        // 不继续向下传递矩阵\n        if (totalMatrix === preTotalMatrix) {\n            return;\n        }\n        this._applyChildrenMarix(totalMatrix);\n    };\n    // 在子元素上设置矩阵\n    Container.prototype._applyChildrenMarix = function (totalMatrix) {\n        var children = this.getChildren();\n        each(children, function (child) {\n            child.applyMatrix(totalMatrix);\n        });\n    };\n    // 兼容老版本的接口\n    Container.prototype.addShape = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var type = args[0];\n        var cfg = args[1];\n        if (isObject(type)) {\n            cfg = type;\n        }\n        else {\n            cfg['type'] = type;\n        }\n        var shapeType = SHAPE_MAP[cfg.type];\n        if (!shapeType) {\n            shapeType = upperFirst(cfg.type);\n            SHAPE_MAP[cfg.type] = shapeType;\n        }\n        var ShapeBase = this.getShapeBase();\n        var shape = new ShapeBase[shapeType](cfg);\n        this.add(shape);\n        return shape;\n    };\n    Container.prototype.addGroup = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var groupClass = args[0], cfg = args[1];\n        var group;\n        if (isFunction(groupClass)) {\n            if (cfg) {\n                group = new groupClass(cfg);\n            }\n            else {\n                group = new groupClass({\n                    // canvas,\n                    parent: this,\n                });\n            }\n        }\n        else {\n            var tmpCfg = groupClass || {};\n            var TmpGroupClass = this.getGroupBase();\n            group = new TmpGroupClass(tmpCfg);\n        }\n        this.add(group);\n        return group;\n    };\n    Container.prototype.getCanvas = function () {\n        var canvas;\n        if (this.isCanvas()) {\n            canvas = this;\n        }\n        else {\n            canvas = this.get('canvas');\n        }\n        return canvas;\n    };\n    Container.prototype.getShape = function (x, y, ev) {\n        // 如果不支持拾取，则直接返回\n        if (!isAllowCapture(this)) {\n            return null;\n        }\n        var children = this.getChildren();\n        var shape;\n        // 如果容器是 group\n        if (!this.isCanvas()) {\n            var v = [x, y, 1];\n            // 将 x, y 转换成对应于 group 的局部坐标\n            v = this.invertFromMatrix(v);\n            if (!this.isClipped(v[0], v[1])) {\n                shape = this._findShape(children, v[0], v[1], ev);\n            }\n        }\n        else {\n            shape = this._findShape(children, x, y, ev);\n        }\n        return shape;\n    };\n    Container.prototype._findShape = function (children, x, y, ev) {\n        var shape = null;\n        for (var i = children.length - 1; i >= 0; i--) {\n            var child = children[i];\n            if (isAllowCapture(child)) {\n                if (child.isGroup()) {\n                    shape = child.getShape(x, y, ev);\n                }\n                else if (child.isHit(x, y)) {\n                    shape = child;\n                }\n            }\n            if (shape) {\n                break;\n            }\n        }\n        return shape;\n    };\n    Container.prototype.add = function (element) {\n        var canvas = this.getCanvas();\n        var children = this.getChildren();\n        var timeline = this.get('timeline');\n        var preParent = element.getParent();\n        if (preParent) {\n            removeChild(preParent, element, false);\n        }\n        element.set('parent', this);\n        if (canvas) {\n            setCanvas(element, canvas);\n        }\n        if (timeline) {\n            setTimeline(element, timeline);\n        }\n        children.push(element);\n        element.onCanvasChange('add');\n        this._applyElementMatrix(element);\n    };\n    // 将当前容器的矩阵应用到子元素\n    Container.prototype._applyElementMatrix = function (element) {\n        var totalMatrix = this.getTotalMatrix();\n        // 添加图形或者分组时，需要把当前图元的矩阵设置进去\n        if (totalMatrix) {\n            element.applyMatrix(totalMatrix);\n        }\n    };\n    Container.prototype.getChildren = function () {\n        return this.get('children');\n    };\n    Container.prototype.sort = function () {\n        var children = this.getChildren();\n        // 稳定排序\n        each(children, function (child, index) {\n            child[INDEX] = index;\n            return child;\n        });\n        children.sort(getComparer(function (obj1, obj2) {\n            return obj1.get('zIndex') - obj2.get('zIndex');\n        }));\n        this.onCanvasChange('sort');\n    };\n    Container.prototype.clear = function () {\n        this.set('clearing', true);\n        if (this.destroyed) {\n            return;\n        }\n        var children = this.getChildren();\n        for (var i = children.length - 1; i >= 0; i--) {\n            children[i].destroy(); // 销毁子元素\n        }\n        this.set('children', []);\n        this.onCanvasChange('clear');\n        this.set('clearing', false);\n    };\n    Container.prototype.destroy = function () {\n        if (this.get('destroyed')) {\n            return;\n        }\n        this.clear();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * 获取第一个子元素\n     * @return {IElement} 第一个元素\n     */\n    Container.prototype.getFirst = function () {\n        return this.getChildByIndex(0);\n    };\n    /**\n     * 获取最后一个子元素\n     * @return {IElement} 元素\n     */\n    Container.prototype.getLast = function () {\n        var children = this.getChildren();\n        return this.getChildByIndex(children.length - 1);\n    };\n    /**\n     * 根据索引获取子元素\n     * @return {IElement} 第一个元素\n     */\n    Container.prototype.getChildByIndex = function (index) {\n        var children = this.getChildren();\n        return children[index];\n    };\n    /**\n     * 子元素的数量\n     * @return {number} 子元素数量\n     */\n    Container.prototype.getCount = function () {\n        var children = this.getChildren();\n        return children.length;\n    };\n    /**\n     * 是否包含对应元素\n     * @param {IElement} element 元素\n     * @return {boolean}\n     */\n    Container.prototype.contain = function (element) {\n        var children = this.getChildren();\n        return children.indexOf(element) > -1;\n    };\n    /**\n     * 移除对应子元素\n     * @param {IElement} element 子元素\n     * @param {boolean} destroy 是否销毁子元素，默认为 true\n     */\n    Container.prototype.removeChild = function (element, destroy) {\n        if (destroy === void 0) { destroy = true; }\n        if (this.contain(element)) {\n            element.remove(destroy);\n        }\n    };\n    /**\n     * 查找所有匹配的元素\n     * @param  {ElementFilterFn}   fn  匹配函数\n     * @return {IElement[]} 元素数组\n     */\n    Container.prototype.findAll = function (fn) {\n        var rst = [];\n        var children = this.getChildren();\n        each(children, function (element) {\n            if (fn(element)) {\n                rst.push(element);\n            }\n            if (element.isGroup()) {\n                rst = rst.concat(element.findAll(fn));\n            }\n        });\n        return rst;\n    };\n    /**\n     * 查找元素，找到第一个返回\n     * @param  {ElementFilterFn} fn    匹配函数\n     * @return {IElement|null} 元素，可以为空\n     */\n    Container.prototype.find = function (fn) {\n        var rst = null;\n        var children = this.getChildren();\n        each(children, function (element) {\n            if (fn(element)) {\n                rst = element;\n            }\n            else if (element.isGroup()) {\n                rst = element.find(fn);\n            }\n            if (rst) {\n                return false;\n            }\n        });\n        return rst;\n    };\n    /**\n     * 根据 ID 查找元素\n     * @param {string} id 元素 id\n     * @return {IElement|null} 元素\n     */\n    Container.prototype.findById = function (id) {\n        return this.find(function (element) {\n            return element.get('id') === id;\n        });\n    };\n    /**\n     * 该方法即将废弃，不建议使用\n     * 根据 className 查找元素\n     * TODO: 该方式定义暂时只给 G6 3.3 以后的版本使用，待 G6 中的 findByClassName 方法移除后，G 也需要同步移除\n     * @param {string} className 元素 className\n     * @return {IElement | null} 元素\n     */\n    Container.prototype.findByClassName = function (className) {\n        return this.find(function (element) {\n            return element.get('className') === className;\n        });\n    };\n    /**\n     * 根据 name 查找元素列表\n     * @param {string}      name 元素名称\n     * @return {IElement[]} 元素\n     */\n    Container.prototype.findAllByName = function (name) {\n        return this.findAll(function (element) {\n            return element.get('name') === name;\n        });\n    };\n    return Container;\n}(Element));\nexport default Container;\n//# sourceMappingURL=container.js.map","import { __extends } from \"tslib\";\nimport { each, isEqual, isFunction, isNumber, isObject, isArray, noop, mix, upperFirst, uniqueId } from '@antv/util';\nimport { ext } from '@antv/matrix-util';\nimport { removeFromArray, isParent } from '../util/util';\nimport { multiplyMatrix, multiplyVec2, invert } from '../util/matrix';\nimport Base from './base';\nvar transform = ext.transform;\nvar MATRIX = 'matrix';\nvar CLONE_CFGS = ['zIndex', 'capture', 'visible', 'type'];\n// 可以在 toAttrs 中设置，但不属于绘图属性的字段\nvar RESERVED_PORPS = ['repeat'];\nvar DELEGATION_SPLIT = ':';\nvar WILDCARD = '*';\n// 需要考虑数组嵌套数组的场景\n// 数组嵌套对象的场景不考虑\nfunction _cloneArrayAttr(arr) {\n    var result = [];\n    for (var i = 0; i < arr.length; i++) {\n        if (isArray(arr[i])) {\n            result.push([].concat(arr[i]));\n        }\n        else {\n            result.push(arr[i]);\n        }\n    }\n    return result;\n}\nfunction getFormatFromAttrs(toAttrs, shape) {\n    var fromAttrs = {};\n    var attrs = shape.attrs;\n    for (var k in toAttrs) {\n        fromAttrs[k] = attrs[k];\n    }\n    return fromAttrs;\n}\nfunction getFormatToAttrs(props, shape) {\n    var toAttrs = {};\n    var attrs = shape.attr();\n    each(props, function (v, k) {\n        if (RESERVED_PORPS.indexOf(k) === -1 && !isEqual(attrs[k], v)) {\n            toAttrs[k] = v;\n        }\n    });\n    return toAttrs;\n}\nfunction checkExistedAttrs(animations, animation) {\n    if (animation.onFrame) {\n        return animations;\n    }\n    var startTime = animation.startTime, delay = animation.delay, duration = animation.duration;\n    var hasOwnProperty = Object.prototype.hasOwnProperty;\n    each(animations, function (item) {\n        // 后一个动画开始执行的时间 < 前一个动画的结束时间 && 后一个动画的执行时间 > 前一个动画的延迟\n        if (startTime + delay < item.startTime + item.delay + item.duration && duration > item.delay) {\n            each(animation.toAttrs, function (v, k) {\n                if (hasOwnProperty.call(item.toAttrs, k)) {\n                    delete item.toAttrs[k];\n                    delete item.fromAttrs[k];\n                }\n            });\n        }\n    });\n    return animations;\n}\nvar Element = /** @class */ (function (_super) {\n    __extends(Element, _super);\n    function Element(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        /**\n         * @protected\n         * 图形属性\n         * @type {ShapeAttrs}\n         */\n        _this.attrs = {};\n        var attrs = _this.getDefaultAttrs();\n        mix(attrs, cfg.attrs);\n        _this.attrs = attrs;\n        _this.initAttrs(attrs);\n        _this.initAnimate(); // 初始化动画\n        return _this;\n    }\n    // override\n    Element.prototype.getDefaultCfg = function () {\n        return {\n            visible: true,\n            capture: true,\n            zIndex: 0,\n        };\n    };\n    /**\n     * @protected\n     * 获取默认的属相\n     */\n    Element.prototype.getDefaultAttrs = function () {\n        return {\n            matrix: this.getDefaultMatrix(),\n            opacity: 1,\n        };\n    };\n    /**\n     * @protected\n     * 一些方法调用会引起画布变化\n     * @param {ChangeType} changeType 改变的类型\n     */\n    Element.prototype.onCanvasChange = function (changeType) { };\n    /**\n     * @protected\n     * 初始化属性，有些属性需要加工\n     * @param {object} attrs 属性值\n     */\n    Element.prototype.initAttrs = function (attrs) { };\n    /**\n     * @protected\n     * 初始化动画\n     */\n    Element.prototype.initAnimate = function () {\n        this.set('animable', true);\n        this.set('animating', false);\n    };\n    Element.prototype.isGroup = function () {\n        return false;\n    };\n    Element.prototype.getParent = function () {\n        return this.get('parent');\n    };\n    Element.prototype.getCanvas = function () {\n        return this.get('canvas');\n    };\n    Element.prototype.attr = function () {\n        var _a;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var name = args[0], value = args[1];\n        if (!name)\n            return this.attrs;\n        if (isObject(name)) {\n            for (var k in name) {\n                this.setAttr(k, name[k]);\n            }\n            this.afterAttrsChange(name);\n            return this;\n        }\n        if (args.length === 2) {\n            this.setAttr(name, value);\n            this.afterAttrsChange((_a = {},\n                _a[name] = value,\n                _a));\n            return this;\n        }\n        return this.attrs[name];\n    };\n    // 是否被裁剪，被裁剪则不显示，不参与拾取\n    Element.prototype.isClipped = function (refX, refY) {\n        var clip = this.getClip();\n        return clip && !clip.isHit(refX, refY);\n    };\n    /**\n     * 内部设置属性值的接口\n     * @param {string} name 属性名\n     * @param {any} value 属性值\n     */\n    Element.prototype.setAttr = function (name, value) {\n        var originValue = this.attrs[name];\n        if (originValue !== value) {\n            this.attrs[name] = value;\n            this.onAttrChange(name, value, originValue);\n        }\n    };\n    /**\n     * @protected\n     * 属性值发生改变\n     * @param {string} name 属性名\n     * @param {any} value 属性值\n     * @param {any} originValue 属性值\n     */\n    Element.prototype.onAttrChange = function (name, value, originValue) {\n        if (name === 'matrix') {\n            this.set('totalMatrix', null);\n        }\n    };\n    /**\n     * 属性更改后需要做的事情\n     * @protected\n     */\n    Element.prototype.afterAttrsChange = function (targetAttrs) {\n        if (this.cfg.isClipShape) {\n            var applyTo = this.cfg.applyTo;\n            if (applyTo) {\n                applyTo.onCanvasChange('clip');\n            }\n        }\n        else {\n            this.onCanvasChange('attr');\n        }\n    };\n    Element.prototype.show = function () {\n        // 不是高频操作直接使用 set\n        this.set('visible', true);\n        this.onCanvasChange('show');\n        return this;\n    };\n    Element.prototype.hide = function () {\n        // 不是高频操作直接使用 set\n        this.set('visible', false);\n        this.onCanvasChange('hide');\n        return this;\n    };\n    Element.prototype.setZIndex = function (zIndex) {\n        this.set('zIndex', zIndex);\n        var parent = this.getParent();\n        if (parent) {\n            // 改变 zIndex 不应该立即触发渲染 (调用 onCanvasChange('zIndex'))，需要经过 sort 再触发\n            parent.sort();\n        }\n        return this;\n    };\n    Element.prototype.toFront = function () {\n        var parent = this.getParent();\n        if (!parent) {\n            return;\n        }\n        var children = parent.getChildren();\n        var el = this.get('el');\n        var index = children.indexOf(this);\n        children.splice(index, 1);\n        children.push(this);\n        this.onCanvasChange('zIndex');\n    };\n    Element.prototype.toBack = function () {\n        var parent = this.getParent();\n        if (!parent) {\n            return;\n        }\n        var children = parent.getChildren();\n        var el = this.get('el');\n        var index = children.indexOf(this);\n        children.splice(index, 1);\n        children.unshift(this);\n        this.onCanvasChange('zIndex');\n    };\n    Element.prototype.remove = function (destroy) {\n        if (destroy === void 0) { destroy = true; }\n        var parent = this.getParent();\n        if (parent) {\n            removeFromArray(parent.getChildren(), this);\n            if (!parent.get('clearing')) {\n                // 如果父元素正在清理，当前元素不触发 remove\n                this.onCanvasChange('remove');\n            }\n        }\n        else {\n            this.onCanvasChange('remove');\n        }\n        if (destroy) {\n            this.destroy();\n        }\n    };\n    Element.prototype.resetMatrix = function () {\n        this.attr(MATRIX, this.getDefaultMatrix());\n        this.onCanvasChange('matrix');\n    };\n    Element.prototype.getMatrix = function () {\n        return this.attr(MATRIX);\n    };\n    Element.prototype.setMatrix = function (m) {\n        this.attr(MATRIX, m);\n        this.onCanvasChange('matrix');\n    };\n    // 获取总的 matrix\n    Element.prototype.getTotalMatrix = function () {\n        var totalMatrix = this.cfg.totalMatrix;\n        if (!totalMatrix) {\n            var currentMatrix = this.attr('matrix');\n            var parentMatrix = this.cfg.parentMatrix;\n            if (parentMatrix && currentMatrix) {\n                totalMatrix = multiplyMatrix(parentMatrix, currentMatrix);\n            }\n            else {\n                totalMatrix = currentMatrix || parentMatrix;\n            }\n            this.set('totalMatrix', totalMatrix);\n        }\n        return totalMatrix;\n    };\n    // 上层分组设置 matrix\n    Element.prototype.applyMatrix = function (matrix) {\n        var currentMatrix = this.attr('matrix');\n        var totalMatrix = null;\n        if (matrix && currentMatrix) {\n            totalMatrix = multiplyMatrix(matrix, currentMatrix);\n        }\n        else {\n            totalMatrix = currentMatrix || matrix;\n        }\n        this.set('totalMatrix', totalMatrix);\n        this.set('parentMatrix', matrix);\n    };\n    /**\n     * @protected\n     * 获取默认的矩阵\n     * @returns {number[]|null} 默认的矩阵\n     */\n    Element.prototype.getDefaultMatrix = function () {\n        return null;\n    };\n    // 将向量应用设置的矩阵\n    Element.prototype.applyToMatrix = function (v) {\n        var matrix = this.attr('matrix');\n        if (matrix) {\n            return multiplyVec2(matrix, v);\n        }\n        return v;\n    };\n    // 根据设置的矩阵，将向量转换相对于图形/分组的位置\n    Element.prototype.invertFromMatrix = function (v) {\n        var matrix = this.attr('matrix');\n        if (matrix) {\n            var invertMatrix = invert(matrix);\n            if (invertMatrix) {\n                return multiplyVec2(invertMatrix, v);\n            }\n        }\n        return v;\n    };\n    // 设置 clip\n    Element.prototype.setClip = function (clipCfg) {\n        var canvas = this.getCanvas();\n        // 应该只设置当前元素的 clip，不应该去修改 clip 本身，方便 clip 被复用\n        // TODO: setClip 的传参既 shape 配置，也支持 shape 对象\n        // const preShape = this.get('clipShape');\n        // if (preShape) {\n        //   // 将之前的 clipShape 销毁\n        //   preShape.destroy();\n        // }\n        var clipShape = null;\n        // 如果配置项为 null，则不移除 clipShape\n        if (clipCfg) {\n            var ShapeBase = this.getShapeBase();\n            var shapeType = upperFirst(clipCfg.type);\n            var Cons = ShapeBase[shapeType];\n            if (Cons) {\n                clipShape = new Cons({\n                    type: clipCfg.type,\n                    isClipShape: true,\n                    applyTo: this,\n                    attrs: clipCfg.attrs,\n                    canvas: canvas,\n                });\n            }\n        }\n        this.set('clipShape', clipShape);\n        this.onCanvasChange('clip');\n        return clipShape;\n    };\n    Element.prototype.getClip = function () {\n        // 高频率调用的地方直接使用 this.cfg.xxx\n        var clipShape = this.cfg.clipShape;\n        // 未设置时返回 Null，保证一致性\n        if (!clipShape) {\n            return null;\n        }\n        return clipShape;\n    };\n    Element.prototype.clone = function () {\n        var _this = this;\n        var originAttrs = this.attrs;\n        var attrs = {};\n        each(originAttrs, function (i, k) {\n            if (isArray(originAttrs[k])) {\n                attrs[k] = _cloneArrayAttr(originAttrs[k]);\n            }\n            else {\n                attrs[k] = originAttrs[k];\n            }\n        });\n        var cons = this.constructor;\n        // @ts-ignore\n        var clone = new cons({ attrs: attrs });\n        each(CLONE_CFGS, function (cfgName) {\n            clone.set(cfgName, _this.get(cfgName));\n        });\n        return clone;\n    };\n    Element.prototype.destroy = function () {\n        var destroyed = this.destroyed;\n        if (destroyed) {\n            return;\n        }\n        this.attrs = {};\n        _super.prototype.destroy.call(this);\n        // this.onCanvasChange('destroy');\n    };\n    /**\n     * 是否处于动画暂停状态\n     * @return {boolean} 是否处于动画暂停状态\n     */\n    Element.prototype.isAnimatePaused = function () {\n        return this.get('_pause').isPaused;\n    };\n    /**\n     * 执行动画，支持多种函数签名\n     * 1. animate(toAttrs: ElementAttrs, duration: number, easing?: string, callback?: () => void, delay?: number)\n     * 2. animate(onFrame: OnFrame, duration: number, easing?: string, callback?: () => void, delay?: number)\n     * 3. animate(toAttrs: ElementAttrs, cfg: AnimateCfg)\n     * 4. animate(onFrame: OnFrame, cfg: AnimateCfg)\n     * 各个参数的含义为:\n     *   toAttrs  动画最终状态\n     *   onFrame  自定义帧动画函数\n     *   duration 动画执行时间\n     *   easing   动画缓动效果\n     *   callback 动画执行后的回调\n     *   delay    动画延迟时间\n     */\n    Element.prototype.animate = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        this.set('animating', true);\n        var timeline = this.get('timeline');\n        if (!timeline) {\n            timeline = this.get('canvas').get('timeline');\n            this.set('timeline', timeline);\n        }\n        var animations = this.get('animations') || [];\n        // 初始化 tick\n        if (!timeline.timer) {\n            timeline.initTimer();\n        }\n        var toAttrs = args[0], duration = args[1], _a = args[2], easing = _a === void 0 ? 'easeLinear' : _a, _b = args[3], callback = _b === void 0 ? noop : _b, _c = args[4], delay = _c === void 0 ? 0 : _c;\n        var onFrame;\n        var repeat;\n        var pauseCallback;\n        var resumeCallback;\n        var animateCfg;\n        // 第二个参数，既可以是动画最终状态 toAttrs，也可以是自定义帧动画函数 onFrame\n        if (isFunction(toAttrs)) {\n            onFrame = toAttrs;\n            toAttrs = {};\n        }\n        else if (isObject(toAttrs) && toAttrs.onFrame) {\n            // 兼容 3.0 中的写法，onFrame 和 repeat 可在 toAttrs 中设置\n            onFrame = toAttrs.onFrame;\n            repeat = toAttrs.repeat;\n        }\n        // 第二个参数，既可以是执行时间 duration，也可以是动画参数 animateCfg\n        if (isObject(duration)) {\n            animateCfg = duration;\n            duration = animateCfg.duration;\n            easing = animateCfg.easing || 'easeLinear';\n            delay = animateCfg.delay || 0;\n            // animateCfg 中的设置优先级更高\n            repeat = animateCfg.repeat || repeat || false;\n            callback = animateCfg.callback || noop;\n            pauseCallback = animateCfg.pauseCallback || noop;\n            resumeCallback = animateCfg.resumeCallback || noop;\n        }\n        else {\n            // 第四个参数，既可以是回调函数 callback，也可以是延迟时间 delay\n            if (isNumber(callback)) {\n                delay = callback;\n                callback = null;\n            }\n            // 第三个参数，既可以是缓动参数 easing，也可以是回调函数 callback\n            if (isFunction(easing)) {\n                callback = easing;\n                easing = 'easeLinear';\n            }\n            else {\n                easing = easing || 'easeLinear';\n            }\n        }\n        var formatToAttrs = getFormatToAttrs(toAttrs, this);\n        var animation = {\n            fromAttrs: getFormatFromAttrs(formatToAttrs, this),\n            toAttrs: formatToAttrs,\n            duration: duration,\n            easing: easing,\n            repeat: repeat,\n            callback: callback,\n            pauseCallback: pauseCallback,\n            resumeCallback: resumeCallback,\n            delay: delay,\n            startTime: timeline.getTime(),\n            id: uniqueId(),\n            onFrame: onFrame,\n            pathFormatted: false,\n        };\n        // 如果动画元素队列中已经有这个图形了\n        if (animations.length > 0) {\n            // 先检查是否需要合并属性。若有相同的动画，将该属性从前一个动画中删除,直接用后一个动画中\n            animations = checkExistedAttrs(animations, animation);\n        }\n        else {\n            // 否则将图形添加到动画元素队列\n            timeline.addAnimator(this);\n        }\n        animations.push(animation);\n        this.set('animations', animations);\n        this.set('_pause', { isPaused: false });\n    };\n    /**\n     * 停止动画\n     * @param {boolean} toEnd 是否到动画的最终状态\n     */\n    Element.prototype.stopAnimate = function (toEnd) {\n        var _this = this;\n        if (toEnd === void 0) { toEnd = true; }\n        var animations = this.get('animations');\n        each(animations, function (animation) {\n            // 将动画执行到最后一帧\n            if (toEnd) {\n                if (animation.onFrame) {\n                    _this.attr(animation.onFrame(1));\n                }\n                else {\n                    _this.attr(animation.toAttrs);\n                }\n            }\n            if (animation.callback) {\n                // 动画停止时的回调\n                animation.callback();\n            }\n        });\n        this.set('animating', false);\n        this.set('animations', []);\n    };\n    /**\n     * 暂停动画\n     */\n    Element.prototype.pauseAnimate = function () {\n        var timeline = this.get('timeline');\n        var animations = this.get('animations');\n        var pauseTime = timeline.getTime();\n        each(animations, function (animation) {\n            animation._paused = true;\n            animation._pauseTime = pauseTime;\n            if (animation.pauseCallback) {\n                // 动画暂停时的回调\n                animation.pauseCallback();\n            }\n        });\n        // 记录下是在什么时候暂停的\n        this.set('_pause', {\n            isPaused: true,\n            pauseTime: pauseTime,\n        });\n        return this;\n    };\n    /**\n     * 恢复动画\n     */\n    Element.prototype.resumeAnimate = function () {\n        var timeline = this.get('timeline');\n        var current = timeline.getTime();\n        var animations = this.get('animations');\n        var pauseTime = this.get('_pause').pauseTime;\n        // 之后更新属性需要计算动画已经执行的时长，如果暂停了，就把初始时间调后\n        each(animations, function (animation) {\n            animation.startTime = animation.startTime + (current - pauseTime);\n            animation._paused = false;\n            animation._pauseTime = null;\n            if (animation.resumeCallback) {\n                animation.resumeCallback();\n            }\n        });\n        this.set('_pause', {\n            isPaused: false,\n        });\n        this.set('animations', animations);\n        return this;\n    };\n    /**\n     * 触发委托事件\n     * @param  {string}     type 事件类型\n     * @param  {GraphEvent} eventObj 事件对象\n     */\n    Element.prototype.emitDelegation = function (type, eventObj) {\n        var _this = this;\n        var paths = eventObj.propagationPath;\n        var events = this.getEvents();\n        var relativeShape;\n        if (type === 'mouseenter') {\n            relativeShape = eventObj.fromShape;\n        }\n        else if (type === 'mouseleave') {\n            relativeShape = eventObj.toShape;\n        }\n        var _loop_1 = function (i) {\n            var element = paths[i];\n            // 暂定跟 name 绑定\n            var name_1 = element.get('name');\n            if (name_1) {\n                // 第一个 mouseenter 和 mouseleave 的停止即可，因为后面的都是前面的 Parent\n                if (\n                // 只有 element 是 Group 或者 Canvas 的时候，才需要判断 isParent\n                (element.isGroup() || (element.isCanvas && element.isCanvas())) &&\n                    relativeShape &&\n                    isParent(element, relativeShape)) {\n                    return \"break\";\n                }\n                if (isArray(name_1)) {\n                    each(name_1, function (subName) {\n                        _this.emitDelegateEvent(element, subName, eventObj);\n                    });\n                }\n                else {\n                    this_1.emitDelegateEvent(element, name_1, eventObj);\n                }\n            }\n        };\n        var this_1 = this;\n        // 至少有一个对象，且第一个对象为 shape\n        for (var i = 0; i < paths.length; i++) {\n            var state_1 = _loop_1(i);\n            if (state_1 === \"break\")\n                break;\n        }\n    };\n    Element.prototype.emitDelegateEvent = function (element, name, eventObj) {\n        var events = this.getEvents();\n        // 事件委托的形式 name:type\n        var eventName = name + DELEGATION_SPLIT + eventObj.type;\n        if (events[eventName] || events[WILDCARD]) {\n            // 对于通配符 *，事件名称 = 委托事件名称\n            eventObj.name = eventName;\n            eventObj.currentTarget = element;\n            eventObj.delegateTarget = this;\n            // 将委托事件的监听对象 delegateObject 挂载到事件对象上\n            eventObj.delegateObject = element.get('delegateObject');\n            this.emit(eventName, eventObj);\n        }\n    };\n    /**\n     * 移动元素\n     * @param {number} translateX 水平移动距离\n     * @param {number} translateY 垂直移动距离\n     * @return {IElement} 元素\n     */\n    Element.prototype.translate = function (translateX, translateY) {\n        if (translateX === void 0) { translateX = 0; }\n        if (translateY === void 0) { translateY = 0; }\n        var matrix = this.getMatrix();\n        var newMatrix = transform(matrix, [['t', translateX, translateY]]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    /**\n     * 移动元素到目标位置\n     * @param {number} targetX 目标位置的水平坐标\n     * @param {number} targetX 目标位置的垂直坐标\n     * @return {IElement} 元素\n     */\n    Element.prototype.move = function (targetX, targetY) {\n        var x = this.attr('x') || 0;\n        var y = this.attr('y') || 0;\n        this.translate(targetX - x, targetY - y);\n        return this;\n    };\n    /**\n     * 移动元素到目标位置，等价于 move 方法。由于 moveTo 的语义性更强，因此在文档中推荐使用 moveTo 方法\n     * @param {number} targetX 目标位置的 x 轴坐标\n     * @param {number} targetY 目标位置的 y 轴坐标\n     * @return {IElement} 元素\n     */\n    Element.prototype.moveTo = function (targetX, targetY) {\n        return this.move(targetX, targetY);\n    };\n    /**\n     * 缩放元素\n     * @param {number} ratioX 水平缩放比例\n     * @param {number} ratioY 垂直缩放比例\n     * @return {IElement} 元素\n     */\n    Element.prototype.scale = function (ratioX, ratioY) {\n        var matrix = this.getMatrix();\n        var newMatrix = transform(matrix, [['s', ratioX, ratioY || ratioX]]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    /**\n     * 以画布左上角 (0, 0) 为中心旋转元素\n     * @param {number} radian 旋转角度(弧度值)\n     * @return {IElement} 元素\n     */\n    Element.prototype.rotate = function (radian) {\n        var matrix = this.getMatrix();\n        var newMatrix = transform(matrix, [['r', radian]]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    /**\n     * 以起始点为中心旋转元素\n     * @param {number} radian 旋转角度(弧度值)\n     * @return {IElement} 元素\n     */\n    Element.prototype.rotateAtStart = function (rotate) {\n        var _a = this.attr(), x = _a.x, y = _a.y;\n        var matrix = this.getMatrix();\n        var newMatrix = transform(matrix, [\n            ['t', -x, -y],\n            ['r', rotate],\n            ['t', x, y],\n        ]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    /**\n     * 以任意点 (x, y) 为中心旋转元素\n     * @param {number} radian 旋转角度(弧度值)\n     * @return {IElement} 元素\n     */\n    Element.prototype.rotateAtPoint = function (x, y, rotate) {\n        var matrix = this.getMatrix();\n        var newMatrix = transform(matrix, [\n            ['t', -x, -y],\n            ['r', rotate],\n            ['t', x, y],\n        ]);\n        this.setMatrix(newMatrix);\n        return this;\n    };\n    return Element;\n}(Base));\nexport default Element;\n//# sourceMappingURL=element.js.map","import { isString, each, isArray } from './util';\nvar regexTags = /[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi;\nvar regexDot = /[^\\s\\,]+/gi;\nvar regexLG = /^l\\s*\\(\\s*([\\d.]+)\\s*\\)\\s*(.*)/i;\nvar regexRG = /^r\\s*\\(\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*\\)\\s*(.*)/i;\nvar regexPR = /^p\\s*\\(\\s*([axyn])\\s*\\)\\s*(.*)/i;\nvar regexColorStop = /[\\d.]+:(#[^\\s]+|[^\\)]+\\))/gi;\nfunction addStop(steps, gradient) {\n    var arr = steps.match(regexColorStop);\n    each(arr, function (item) {\n        var itemArr = item.split(':');\n        gradient.addColorStop(itemArr[0], itemArr[1]);\n    });\n}\n/**\n * 将边和填充设置的颜色转换成线性渐变对象\n * @param {CanvasRenderingContext2D} context canvas 上下文\n * @param {IElement}                 element  图形元素\n * @param {string}                   gradientStr   颜色\n * @returns {any} 渐变对象\n */\nexport function parseLineGradient(context, element, gradientStr) {\n    var arr = regexLG.exec(gradientStr);\n    var angle = (parseFloat(arr[1]) % 360) * (Math.PI / 180);\n    var steps = arr[2];\n    var box = element.getBBox();\n    var start;\n    var end;\n    if (angle >= 0 && angle < (1 / 2) * Math.PI) {\n        start = {\n            x: box.minX,\n            y: box.minY,\n        };\n        end = {\n            x: box.maxX,\n            y: box.maxY,\n        };\n    }\n    else if ((1 / 2) * Math.PI <= angle && angle < Math.PI) {\n        start = {\n            x: box.maxX,\n            y: box.minY,\n        };\n        end = {\n            x: box.minX,\n            y: box.maxY,\n        };\n    }\n    else if (Math.PI <= angle && angle < (3 / 2) * Math.PI) {\n        start = {\n            x: box.maxX,\n            y: box.maxY,\n        };\n        end = {\n            x: box.minX,\n            y: box.minY,\n        };\n    }\n    else {\n        start = {\n            x: box.minX,\n            y: box.maxY,\n        };\n        end = {\n            x: box.maxX,\n            y: box.minY,\n        };\n    }\n    var tanTheta = Math.tan(angle);\n    var tanTheta2 = tanTheta * tanTheta;\n    var x = (end.x - start.x + tanTheta * (end.y - start.y)) / (tanTheta2 + 1) + start.x;\n    var y = (tanTheta * (end.x - start.x + tanTheta * (end.y - start.y))) / (tanTheta2 + 1) + start.y;\n    var gradient = context.createLinearGradient(start.x, start.y, x, y);\n    addStop(steps, gradient);\n    return gradient;\n}\n/**\n * 将边和填充设置的颜色转换成圆形渐变对象\n * @param {CanvasRenderingContext2D} context canvas 上下文\n * @param {IElement}                 element  图形元素\n * @param {string}                   gradientStr   颜色\n * @returns {any} 渐变对象\n */\nexport function parseRadialGradient(context, element, gradientStr) {\n    var arr = regexRG.exec(gradientStr);\n    var fx = parseFloat(arr[1]);\n    var fy = parseFloat(arr[2]);\n    var fr = parseFloat(arr[3]);\n    var steps = arr[4];\n    // 环半径为0时，默认无渐变，取渐变序列的最后一个颜色\n    if (fr === 0) {\n        var colors = steps.match(regexColorStop);\n        return colors[colors.length - 1].split(':')[1];\n    }\n    var box = element.getBBox();\n    var width = box.maxX - box.minX;\n    var height = box.maxY - box.minY;\n    var r = Math.sqrt(width * width + height * height) / 2;\n    var gradient = context.createRadialGradient(box.minX + width * fx, box.minY + height * fy, 0, box.minX + width / 2, box.minY + height / 2, fr * r);\n    addStop(steps, gradient);\n    return gradient;\n}\n/**\n * 边和填充设置的颜色转换成 pattern\n * @param {CanvasRenderingContext2D} context canvas 上下文\n * @param {IElement}                 element  图形元素\n * @param {string}                   patternStr   生成 pattern 的字符串\n */\nexport function parsePattern(context, element, patternStr) {\n    // 在转换过程中进行了缓存\n    if (element.get('patternSource') && element.get('patternSource') === patternStr) {\n        return element.get('pattern');\n    }\n    var pattern;\n    var img;\n    var arr = regexPR.exec(patternStr);\n    var repeat = arr[1];\n    var source = arr[2];\n    // Function to be called when pattern loads\n    function onload() {\n        // Create pattern\n        pattern = context.createPattern(img, repeat);\n        element.set('pattern', pattern); // be a cache\n        element.set('patternSource', patternStr);\n    }\n    switch (repeat) {\n        case 'a':\n            repeat = 'repeat';\n            break;\n        case 'x':\n            repeat = 'repeat-x';\n            break;\n        case 'y':\n            repeat = 'repeat-y';\n            break;\n        case 'n':\n            repeat = 'no-repeat';\n            break;\n        default:\n            repeat = 'no-repeat';\n    }\n    img = new Image();\n    // If source URL is not a data URL\n    if (!source.match(/^data:/i)) {\n        // Set crossOrigin for this image\n        img.crossOrigin = 'Anonymous';\n    }\n    img.src = source;\n    if (img.complete) {\n        onload();\n    }\n    else {\n        img.onload = onload;\n        // Fix onload() bug in IE9\n        img.src = img.src;\n    }\n    return pattern;\n}\nexport function parseStyle(context, element, color) {\n    if (isString(color)) {\n        if (color[1] === '(' || color[2] === '(') {\n            if (color[0] === 'l') {\n                // regexLG.test(color)\n                return parseLineGradient(context, element, color);\n            }\n            if (color[0] === 'r') {\n                // regexRG.test(color)\n                return parseRadialGradient(context, element, color);\n            }\n            if (color[0] === 'p') {\n                // regexPR.test(color)\n                return parsePattern(context, element, color);\n            }\n        }\n        return color;\n    }\n}\nexport function parseRadius(radius) {\n    var r1 = 0;\n    var r2 = 0;\n    var r3 = 0;\n    var r4 = 0;\n    if (isArray(radius)) {\n        if (radius.length === 1) {\n            r1 = r2 = r3 = r4 = radius[0];\n        }\n        else if (radius.length === 2) {\n            r1 = r3 = radius[0];\n            r2 = r4 = radius[1];\n        }\n        else if (radius.length === 3) {\n            r1 = radius[0];\n            r2 = r4 = radius[1];\n            r3 = radius[2];\n        }\n        else {\n            r1 = radius[0];\n            r2 = radius[1];\n            r3 = radius[2];\n            r4 = radius[3];\n        }\n    }\n    else {\n        r1 = r2 = r3 = r4 = radius;\n    }\n    return [r1, r2, r3, r4];\n}\n//# sourceMappingURL=parse.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getBBoxMethod = void 0;\nvar register_1 = require(\"./register\");\nObject.defineProperty(exports, \"getBBoxMethod\", { enumerable: true, get: function () { return register_1.getMethod; } });\nvar rect_1 = require(\"./rect\");\nvar circle_1 = require(\"./circle\");\nvar polyline_1 = require(\"./polyline\");\nvar polygon_1 = require(\"./polygon\");\nvar text_1 = require(\"./text\");\nvar path_1 = require(\"./path\");\nvar line_1 = require(\"./line\");\nvar ellipse_1 = require(\"./ellipse\");\nregister_1.register('rect', rect_1.default);\nregister_1.register('image', rect_1.default); // image 使用 rect 的包围盒计算\nregister_1.register('circle', circle_1.default);\nregister_1.register('marker', circle_1.default); // marker 使用 circle 的计算方案\nregister_1.register('polyline', polyline_1.default);\nregister_1.register('polygon', polygon_1.default);\nregister_1.register('text', text_1.default);\nregister_1.register('path', path_1.default);\nregister_1.register('line', line_1.default);\nregister_1.register('ellipse', ellipse_1.default);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.assembleFont = exports.getTextWidth = exports.getLineSpaceing = exports.getTextHeight = void 0;\nvar util_1 = require(\"./util\");\nvar offscreen_1 = require(\"./offscreen\");\n/**\n * 获取文本的高度\n * @param text 文本\n * @param fontSize 字体大小\n * @param lineHeight 行高，可以为空\n */\nfunction getTextHeight(text, fontSize, lineHeight) {\n    var lineCount = 1;\n    if (util_1.isString(text)) {\n        lineCount = text.split('\\n').length;\n    }\n    if (lineCount > 1) {\n        var spaceingY = getLineSpaceing(fontSize, lineHeight);\n        return fontSize * lineCount + spaceingY * (lineCount - 1);\n    }\n    return fontSize;\n}\nexports.getTextHeight = getTextHeight;\n/**\n * 获取行间距如果文本多行，需要获取文本间距\n * @param fontSize 字体大小\n * @param lineHeight 行高\n */\nfunction getLineSpaceing(fontSize, lineHeight) {\n    return lineHeight ? lineHeight - fontSize : fontSize * 0.14;\n}\nexports.getLineSpaceing = getLineSpaceing;\n/**\n * 字体宽度\n * @param text 文本\n * @param font 字体\n */\nfunction getTextWidth(text, font) {\n    var context = offscreen_1.getOffScreenContext(); // 获取离屏的 ctx 进行计算\n    var width = 0;\n    // null 或者 undefined 时，宽度为 0\n    if (util_1.isNil(text) || text === '') {\n        return width;\n    }\n    context.save();\n    context.font = font;\n    if (util_1.isString(text) && text.includes('\\n')) {\n        var textArr = text.split('\\n');\n        util_1.each(textArr, function (subText) {\n            var measureWidth = context.measureText(subText).width;\n            if (width < measureWidth) {\n                width = measureWidth;\n            }\n        });\n    }\n    else {\n        width = context.measureText(text).width;\n    }\n    context.restore();\n    return width;\n}\nexports.getTextWidth = getTextWidth;\nfunction assembleFont(attrs) {\n    var fontSize = attrs.fontSize, fontFamily = attrs.fontFamily, fontWeight = attrs.fontWeight, fontStyle = attrs.fontStyle, fontVariant = attrs.fontVariant;\n    return [fontStyle, fontVariant, fontWeight, fontSize + \"px\", fontFamily].join(' ').trim();\n}\nexports.assembleFont = assembleFont;\n//# sourceMappingURL=text.js.map","import { deepMix, isString, clamp } from '@antv/util';\nimport { flow } from '../../utils';\nimport { scale, animation, theme, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { DEFAULT_COLOR } from './constant';\n/**\n * 字段\n * @param params\n */\nexport function geometry(params) {\n    var chart = params.chart, options = params.options;\n    var percent = options.percent, progressStyle = options.progressStyle, color = options.color, barWidthRatio = options.barWidthRatio;\n    var clampPercent = clamp(percent, 0, 1);\n    var data = [\n        {\n            type: 'current',\n            percent: clampPercent,\n        },\n        {\n            type: 'target',\n            percent: 1 - clampPercent,\n        },\n    ];\n    chart.data(data);\n    var p = deepMix({}, params, {\n        options: {\n            xField: '1',\n            yField: 'percent',\n            seriesField: 'type',\n            isStack: true,\n            widthRatio: barWidthRatio,\n            interval: {\n                style: progressStyle,\n                color: isString(color) ? [color, DEFAULT_COLOR[1]] : color,\n            },\n        },\n    });\n    interval(p);\n    // 关闭组件\n    chart.tooltip(false);\n    chart.axis(false);\n    chart.legend(false);\n    return params;\n}\n/**\n * other 配置\n * @param params\n */\nfunction coordinate(params) {\n    var chart = params.chart;\n    chart.coordinate('rect').transpose();\n    return params;\n}\n/**\n * 进度图适配器\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // @ts-ignore\n    return flow(geometry, scale({}), coordinate, animation, theme, annotation())(params);\n}\n//# sourceMappingURL=adaptor.js.map","export var DEFAULT_COLOR = ['#FAAD14', '#E8EDF3'];\n//# sourceMappingURL=constant.js.map","import { __assign } from \"tslib\";\nimport { groupBy, map, reduce, each } from '@antv/util';\nfunction sumBy(data, func) {\n    return reduce(data, function (r, d) {\n        return (r += func(d));\n    }, 0);\n}\n/**\n * 对数据进行百分比化\n * @param data\n * @param measure\n * @param groupField\n * @param as\n */\nexport function percent(data, measure, groupField, as) {\n    // 1. 首先根据 dimension 分组\n    var groupedData = groupBy(data, groupField);\n    var result = [];\n    each(groupedData, function (v) {\n        var total = sumBy(v, function (o) { return o[measure]; });\n        var percentage = map(v, function (o) {\n            var _a;\n            return (__assign(__assign({}, o), (_a = {}, _a[as] = o[measure] / total, _a)));\n        });\n        result.push.apply(result, percentage);\n    });\n    return result;\n}\n//# sourceMappingURL=percent.js.map","import { __rest } from \"tslib\";\nimport { deepMix } from '@antv/util';\nimport { findGeometry } from '../../utils';\nimport { tooltip, slider, interaction, animation, theme, scale, annotation, scrollbar } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { flow, transformLabel } from '../../utils';\nimport { percent } from '../../utils/transform/percent';\n/**\n * 字段\n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var data = options.data, columnStyle = options.columnStyle, color = options.color, columnWidthRatio = options.columnWidthRatio, isPercent = options.isPercent, xField = options.xField, yField = options.yField;\n    var chartData = data;\n    if (isPercent) {\n        chartData = percent(data, yField, xField, yField);\n    }\n    chart.data(chartData);\n    var p = deepMix({}, params, {\n        options: {\n            widthRatio: columnWidthRatio,\n            interval: {\n                style: columnStyle,\n                color: color,\n            },\n        },\n    });\n    interval(p);\n    return params;\n}\n/**\n * meta 配置\n * @param params\n */\nfunction meta(params) {\n    var _a;\n    var options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField;\n    return flow(scale((_a = {},\n        _a[xField] = xAxis,\n        _a[yField] = yAxis,\n        _a)))(params);\n}\n/**\n * axis 配置\n * @param params\n */\nfunction axis(params) {\n    var chart = params.chart, options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField;\n    // 为 false 则是不显示轴\n    if (xAxis === false) {\n        chart.axis(xField, false);\n    }\n    else {\n        chart.axis(xField, xAxis);\n    }\n    if (yAxis === false) {\n        chart.axis(yField, false);\n    }\n    else {\n        chart.axis(yField, yAxis);\n    }\n    return params;\n}\n/**\n * legend 配置\n * @param params\n */\nexport function legend(params) {\n    var chart = params.chart, options = params.options;\n    var legend = options.legend, seriesField = options.seriesField;\n    if (legend && seriesField) {\n        chart.legend(seriesField, legend);\n    }\n    else if (legend === false) {\n        chart.legend(false);\n    }\n    return params;\n}\n/**\n * 数据标签\n * @param params\n */\nfunction label(params) {\n    var chart = params.chart, options = params.options;\n    var label = options.label, yField = options.yField;\n    var geometry = findGeometry(chart, 'interval');\n    if (!label) {\n        geometry.label(false);\n    }\n    else {\n        var callback = label.callback, cfg = __rest(label, [\"callback\"]);\n        geometry.label({\n            fields: [yField],\n            callback: callback,\n            cfg: transformLabel(cfg),\n        });\n    }\n    return params;\n}\n/**\n * 柱形图适配器\n * @param params\n */\nexport function adaptor(params) {\n    return flow(geometry, meta, axis, legend, tooltip, slider, scrollbar, theme, label, interaction, animation, annotation())(params);\n}\n//# sourceMappingURL=adaptor.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.mergeArrowBBox = exports.mergeBBox = void 0;\n// 合并包围盒\nfunction mergeBBox(bbox1, bbox2) {\n    if (!bbox1 || !bbox2) {\n        return bbox1 || bbox2;\n    }\n    return {\n        minX: Math.min(bbox1.minX, bbox2.minX),\n        minY: Math.min(bbox1.minY, bbox2.minY),\n        maxX: Math.max(bbox1.maxX, bbox2.maxX),\n        maxY: Math.max(bbox1.maxY, bbox2.maxY),\n    };\n}\nexports.mergeBBox = mergeBBox;\n// 合并箭头的包围盒\nfunction mergeArrowBBox(shape, bbox) {\n    var startArrowShape = shape.get('startArrowShape');\n    var endArrowShape = shape.get('endArrowShape');\n    var startArrowBBox = null;\n    var endArrowBBox = null;\n    if (startArrowShape) {\n        startArrowBBox = startArrowShape.getCanvasBBox();\n        bbox = mergeBBox(bbox, startArrowBBox);\n    }\n    if (endArrowShape) {\n        endArrowBBox = endArrowShape.getCanvasBBox();\n        bbox = mergeBBox(bbox, endArrowBBox);\n    }\n    return bbox;\n}\nexports.mergeArrowBBox = mergeArrowBBox;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.COMPONENT_MAX_VIEW_PERCENTAGE = exports.MIN_CHART_HEIGHT = exports.MIN_CHART_WIDTH = exports.FIELD_ORIGIN = exports.GROUP_ATTRS = exports.ELEMENT_STATE = exports.PLOT_EVENTS = exports.GEOMETRY_LIFE_CIRCLE = exports.VIEW_LIFE_CIRCLE = exports.GROUP_Z_INDEX = exports.COMPONENT_TYPE = exports.DIRECTION = exports.LAYER = void 0;\n/**\n * view 中三层 group 分层 key\n */\nvar LAYER;\n(function (LAYER) {\n    /** 前景层 */\n    LAYER[\"FORE\"] = \"fore\";\n    /** 中间层 */\n    LAYER[\"MID\"] = \"mid\";\n    /** 背景层 */\n    LAYER[\"BG\"] = \"bg\";\n})(LAYER = exports.LAYER || (exports.LAYER = {}));\n/**\n * 组件在画布的布局方位 12 方位\n */\nvar DIRECTION;\n(function (DIRECTION) {\n    DIRECTION[\"TOP\"] = \"top\";\n    DIRECTION[\"TOP_LEFT\"] = \"top-left\";\n    DIRECTION[\"TOP_RIGHT\"] = \"top-right\";\n    DIRECTION[\"RIGHT\"] = \"right\";\n    DIRECTION[\"RIGHT_TOP\"] = \"right-top\";\n    DIRECTION[\"RIGHT_BOTTOM\"] = \"right-bottom\";\n    DIRECTION[\"LEFT\"] = \"left\";\n    DIRECTION[\"LEFT_TOP\"] = \"left-top\";\n    DIRECTION[\"LEFT_BOTTOM\"] = \"left-bottom\";\n    DIRECTION[\"BOTTOM\"] = \"bottom\";\n    DIRECTION[\"BOTTOM_LEFT\"] = \"bottom-left\";\n    DIRECTION[\"BOTTOM_RIGHT\"] = \"bottom-right\";\n    DIRECTION[\"RADIUS\"] = \"radius\";\n    DIRECTION[\"CIRCLE\"] = \"circle\";\n    // no direction information\n    DIRECTION[\"NONE\"] = \"none\";\n})(DIRECTION = exports.DIRECTION || (exports.DIRECTION = {}));\n/**\n * 组件的类型，可能会影响到布局算法\n */\nvar COMPONENT_TYPE;\n(function (COMPONENT_TYPE) {\n    /** axis 组件 */\n    COMPONENT_TYPE[\"AXIS\"] = \"axis\";\n    /** grid 组件 */\n    COMPONENT_TYPE[\"GRID\"] = \"grid\";\n    /** legend 组件 */\n    COMPONENT_TYPE[\"LEGEND\"] = \"legend\";\n    /** tooltip 组件 */\n    COMPONENT_TYPE[\"TOOLTIP\"] = \"tooltip\";\n    /** annotation 组件 */\n    COMPONENT_TYPE[\"ANNOTATION\"] = \"annotation\";\n    /** 缩略轴组件 */\n    COMPONENT_TYPE[\"SLIDER\"] = \"slider\";\n    /** 滚动条组件 */\n    COMPONENT_TYPE[\"SCROLLBAR\"] = \"scrollbar\";\n    /** 其他组件，自定义组件 */\n    COMPONENT_TYPE[\"OTHER\"] = \"other\";\n})(COMPONENT_TYPE = exports.COMPONENT_TYPE || (exports.COMPONENT_TYPE = {}));\n/**\n * 三层 group 的 z index\n */\nexports.GROUP_Z_INDEX = {\n    FORE: 3,\n    MID: 2,\n    BG: 1,\n};\n/**\n * View 的生命周期阶段（和 3.x 的生命周期略有不同）\n * 我们需要先确定在那写场景需要用到生命周期，如果只是为了在生命周期插入一下什么组件之类的，那么在现有架构就是不需要的\n */\nvar VIEW_LIFE_CIRCLE;\n(function (VIEW_LIFE_CIRCLE) {\n    VIEW_LIFE_CIRCLE[\"BEFORE_RENDER\"] = \"beforerender\";\n    VIEW_LIFE_CIRCLE[\"AFTER_RENDER\"] = \"afterrender\";\n    VIEW_LIFE_CIRCLE[\"BEFORE_PAINT\"] = \"beforepaint\";\n    VIEW_LIFE_CIRCLE[\"AFTER_PAINT\"] = \"afterpaint\";\n    VIEW_LIFE_CIRCLE[\"BEFORE_CHANGE_DATA\"] = \"beforechangedata\";\n    VIEW_LIFE_CIRCLE[\"AFTER_CHANGE_DATA\"] = \"afterchangedata\";\n    VIEW_LIFE_CIRCLE[\"BEFORE_CLEAR\"] = \"beforeclear\";\n    VIEW_LIFE_CIRCLE[\"AFTER_CLEAR\"] = \"afterclear\";\n    VIEW_LIFE_CIRCLE[\"BEFORE_DESTROY\"] = \"beforedestroy\";\n    VIEW_LIFE_CIRCLE[\"BEFORE_CHANGE_SIZE\"] = \"beforechangesize\";\n    VIEW_LIFE_CIRCLE[\"AFTER_CHANGE_SIZE\"] = \"afterchangesize\";\n})(VIEW_LIFE_CIRCLE = exports.VIEW_LIFE_CIRCLE || (exports.VIEW_LIFE_CIRCLE = {}));\n/**\n * geometry 的生命周期\n */\nvar GEOMETRY_LIFE_CIRCLE;\n(function (GEOMETRY_LIFE_CIRCLE) {\n    GEOMETRY_LIFE_CIRCLE[\"BEFORE_DRAW_ANIMATE\"] = \"beforeanimate\";\n    GEOMETRY_LIFE_CIRCLE[\"AFTER_DRAW_ANIMATE\"] = \"afteranimate\";\n})(GEOMETRY_LIFE_CIRCLE = exports.GEOMETRY_LIFE_CIRCLE || (exports.GEOMETRY_LIFE_CIRCLE = {}));\n/**\n * 绘图区的事件列表\n */\nvar PLOT_EVENTS;\n(function (PLOT_EVENTS) {\n    // mouse 事件\n    PLOT_EVENTS[\"MOUSE_ENTER\"] = \"plot:mouseenter\";\n    PLOT_EVENTS[\"MOUSE_DOWN\"] = \"plot:mousedown\";\n    PLOT_EVENTS[\"MOUSE_MOVE\"] = \"plot:mousemove\";\n    PLOT_EVENTS[\"MOUSE_UP\"] = \"plot:mouseup\";\n    PLOT_EVENTS[\"MOUSE_LEAVE\"] = \"plot:mouseleave\";\n    // 移动端事件\n    PLOT_EVENTS[\"TOUCH_START\"] = \"plot:touchstart\";\n    PLOT_EVENTS[\"TOUCH_MOVE\"] = \"plot:touchmove\";\n    PLOT_EVENTS[\"TOUCH_END\"] = \"plot:touchend\";\n    PLOT_EVENTS[\"TOUCH_CANCEL\"] = \"plot:touchcancel\";\n    // click 事件\n    PLOT_EVENTS[\"CLICK\"] = \"plot:click\";\n    PLOT_EVENTS[\"DBLCLICK\"] = \"plot:dblclick\";\n    PLOT_EVENTS[\"CONTEXTMENU\"] = \"plot:contextmenu\";\n    PLOT_EVENTS[\"LEAVE\"] = \"plot:leave\";\n    PLOT_EVENTS[\"ENTER\"] = \"plot:enter\";\n})(PLOT_EVENTS = exports.PLOT_EVENTS || (exports.PLOT_EVENTS = {}));\n/**\n * Element 图形交互状态\n */\nvar ELEMENT_STATE;\n(function (ELEMENT_STATE) {\n    ELEMENT_STATE[\"ACTIVE\"] = \"active\";\n    ELEMENT_STATE[\"INACTIVE\"] = \"inactive\";\n    ELEMENT_STATE[\"SELECTED\"] = \"selected\";\n    ELEMENT_STATE[\"DEFAULT\"] = \"default\";\n})(ELEMENT_STATE = exports.ELEMENT_STATE || (exports.ELEMENT_STATE = {}));\n/** 参与分组的图形属性名 */\nexports.GROUP_ATTRS = ['color', 'shape', 'size'];\n/** 存储原始数据的字段名 */\nexports.FIELD_ORIGIN = '_origin';\n/** 最小的图表宽度 */\nexports.MIN_CHART_WIDTH = 1;\n/** 最小的图表高度 */\nexports.MIN_CHART_HEIGHT = 1;\n/** 辅助组件占图表的尺寸的最大比例：如图表上方的图例最多占图表高度的25% */\nexports.COMPONENT_MAX_VIEW_PERCENTAGE = 0.25;\n//# sourceMappingURL=constant.js.map","\"use strict\";\n/* 依赖的模块，在这里统一引入，方便打包优化 */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Scrollbar = exports.Slider = exports.HtmlTooltip = exports.ContinuousLegend = exports.CategoryLegend = exports.CircleGrid = exports.LineGrid = exports.CircleAxis = exports.LineAxis = exports.Annotation = exports.Crosshair = exports.Component = exports.GroupComponent = exports.HtmlComponent = void 0;\nvar g_base_1 = require(\"@antv/g-base\");\nObject.defineProperty(exports, \"Event\", { enumerable: true, get: function () { return g_base_1.Event; } });\nObject.defineProperty(exports, \"AbstractGroup\", { enumerable: true, get: function () { return g_base_1.AbstractGroup; } });\nObject.defineProperty(exports, \"AbstractShape\", { enumerable: true, get: function () { return g_base_1.AbstractShape; } });\n// adjust\nvar factory_1 = require(\"@antv/adjust/lib/factory\");\nObject.defineProperty(exports, \"registerAdjust\", { enumerable: true, get: function () { return factory_1.registerAdjust; } });\nObject.defineProperty(exports, \"getAdjust\", { enumerable: true, get: function () { return factory_1.getAdjust; } });\nObject.defineProperty(exports, \"Adjust\", { enumerable: true, get: function () { return factory_1.Adjust; } });\n// attr\nvar factory_2 = require(\"@antv/attr/lib/factory\");\nObject.defineProperty(exports, \"getAttribute\", { enumerable: true, get: function () { return factory_2.getAttribute; } });\nObject.defineProperty(exports, \"Attribute\", { enumerable: true, get: function () { return factory_2.Attribute; } });\nvar attr_1 = require(\"@antv/attr\");\nObject.defineProperty(exports, \"Color\", { enumerable: true, get: function () { return attr_1.Color; } });\n// coordinate\nvar coord_1 = require(\"@antv/coord\");\nObject.defineProperty(exports, \"getCoordinate\", { enumerable: true, get: function () { return coord_1.getCoordinate; } });\nObject.defineProperty(exports, \"registerCoordinate\", { enumerable: true, get: function () { return coord_1.registerCoordinate; } });\nObject.defineProperty(exports, \"Coordinate\", { enumerable: true, get: function () { return coord_1.Coordinate; } });\n// scale\nvar scale_1 = require(\"@antv/scale\");\nObject.defineProperty(exports, \"getScale\", { enumerable: true, get: function () { return scale_1.getScale; } });\nObject.defineProperty(exports, \"registerScale\", { enumerable: true, get: function () { return scale_1.registerScale; } });\nObject.defineProperty(exports, \"Scale\", { enumerable: true, get: function () { return scale_1.Scale; } });\n// component\nvar component_1 = require(\"@antv/component\");\nObject.defineProperty(exports, \"Annotation\", { enumerable: true, get: function () { return component_1.Annotation; } });\nObject.defineProperty(exports, \"Component\", { enumerable: true, get: function () { return component_1.Component; } });\nObject.defineProperty(exports, \"Crosshair\", { enumerable: true, get: function () { return component_1.Crosshair; } });\nObject.defineProperty(exports, \"GroupComponent\", { enumerable: true, get: function () { return component_1.GroupComponent; } });\nObject.defineProperty(exports, \"HtmlComponent\", { enumerable: true, get: function () { return component_1.HtmlComponent; } });\nObject.defineProperty(exports, \"Slider\", { enumerable: true, get: function () { return component_1.Slider; } });\nObject.defineProperty(exports, \"Scrollbar\", { enumerable: true, get: function () { return component_1.Scrollbar; } });\n// axis\nvar LineAxis = component_1.Axis.Line, CircleAxis = component_1.Axis.Circle;\nexports.LineAxis = LineAxis;\nexports.CircleAxis = CircleAxis;\n// grid\nvar LineGrid = component_1.Grid.Line, CircleGrid = component_1.Grid.Circle;\nexports.LineGrid = LineGrid;\nexports.CircleGrid = CircleGrid;\n// legend\nvar CategoryLegend = component_1.Legend.Category, ContinuousLegend = component_1.Legend.Continuous;\nexports.CategoryLegend = CategoryLegend;\nexports.ContinuousLegend = ContinuousLegend;\n// Tooltip\nvar HtmlTooltip = component_1.Tooltip.Html;\nexports.HtmlTooltip = HtmlTooltip;\n//# sourceMappingURL=dependents.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GraphEvent = /** @class */ (function () {\n    function GraphEvent(type, event) {\n        /**\n         * 是否允许冒泡\n         * @type {boolean}\n         */\n        this.bubbles = true;\n        /**\n         * 触发对象\n         * @type {object}\n         */\n        this.target = null;\n        /**\n         * 监听对象\n         * @type {object}\n         */\n        this.currentTarget = null;\n        /**\n         * 委托对象\n         * @type {object}\n         */\n        this.delegateTarget = null;\n        /**\n         * 委托事件监听对象的代理对象，即 ev.delegateObject = ev.currentTarget.get('delegateObject')\n         * @type {object}\n         */\n        this.delegateObject = null;\n        /**\n         * 是否阻止了原生事件\n         * @type {boolean}\n         */\n        this.defaultPrevented = false;\n        /**\n         * 是否阻止传播（向上冒泡）\n         * @type {boolean}\n         */\n        this.propagationStopped = false;\n        /**\n         * 触发事件的图形\n         * @type {IShape}\n         */\n        this.shape = null;\n        /**\n         * 开始触发事件的图形\n         * @type {IShape}\n         */\n        this.fromShape = null;\n        /**\n         * 事件结束时的触发图形\n         * @type {IShape}\n         */\n        this.toShape = null;\n        // 触发事件的路径\n        this.propagationPath = [];\n        this.type = type;\n        this.name = type;\n        this.originalEvent = event;\n        this.timeStamp = event.timeStamp;\n    }\n    /**\n     * 阻止浏览器默认的行为\n     */\n    GraphEvent.prototype.preventDefault = function () {\n        this.defaultPrevented = true;\n        if (this.originalEvent.preventDefault) {\n            this.originalEvent.preventDefault();\n        }\n    };\n    /**\n     * 阻止冒泡\n     */\n    GraphEvent.prototype.stopPropagation = function () {\n        this.propagationStopped = true;\n    };\n    GraphEvent.prototype.toString = function () {\n        var type = this.type;\n        return \"[Event (type=\" + type + \")]\";\n    };\n    GraphEvent.prototype.save = function () { };\n    GraphEvent.prototype.restore = function () { };\n    return GraphEvent;\n}());\nexports.default = GraphEvent;\n//# sourceMappingURL=graph-event.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isAllowCapture = exports.isParent = exports.isBrowser = exports.removeFromArray = void 0;\nfunction removeFromArray(arr, obj) {\n    var index = arr.indexOf(obj);\n    if (index !== -1) {\n        arr.splice(index, 1);\n    }\n}\nexports.removeFromArray = removeFromArray;\nexports.isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined';\nvar is_nil_1 = require(\"@antv/util/lib/is-nil\");\nObject.defineProperty(exports, \"isNil\", { enumerable: true, get: function () { return is_nil_1.default; } });\nvar is_function_1 = require(\"@antv/util/lib/is-function\");\nObject.defineProperty(exports, \"isFunction\", { enumerable: true, get: function () { return is_function_1.default; } });\nvar is_string_1 = require(\"@antv/util/lib/is-string\");\nObject.defineProperty(exports, \"isString\", { enumerable: true, get: function () { return is_string_1.default; } });\nvar is_object_1 = require(\"@antv/util/lib/is-object\");\nObject.defineProperty(exports, \"isObject\", { enumerable: true, get: function () { return is_object_1.default; } });\nvar is_array_1 = require(\"@antv/util/lib/is-array\");\nObject.defineProperty(exports, \"isArray\", { enumerable: true, get: function () { return is_array_1.default; } });\nvar mix_1 = require(\"@antv/util/lib/mix\");\nObject.defineProperty(exports, \"mix\", { enumerable: true, get: function () { return mix_1.default; } });\nvar each_1 = require(\"@antv/util/lib/each\");\nObject.defineProperty(exports, \"each\", { enumerable: true, get: function () { return each_1.default; } });\nvar upper_first_1 = require(\"@antv/util/lib/upper-first\");\nObject.defineProperty(exports, \"upperFirst\", { enumerable: true, get: function () { return upper_first_1.default; } });\n// 是否元素的父容器\nfunction isParent(container, shape) {\n    // 所有 shape 都是 canvas 的子元素\n    if (container.isCanvas()) {\n        return true;\n    }\n    var parent = shape.getParent();\n    var isParent = false;\n    while (parent) {\n        if (parent === container) {\n            isParent = true;\n            break;\n        }\n        parent = parent.getParent();\n    }\n    return isParent;\n}\nexports.isParent = isParent;\nfunction isAllowCapture(element) {\n    // @ts-ignore\n    return element.cfg.visible && element.cfg.capture;\n}\nexports.isAllowCapture = isAllowCapture;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getOffScreenContext = void 0;\n// 全局设置一个唯一离屏的 ctx，用于计算 isPointInPath\nvar offScreenCtx = null;\nfunction getOffScreenContext() {\n    if (!offScreenCtx) {\n        var canvas = document.createElement('canvas');\n        canvas.width = 1;\n        canvas.height = 1;\n        offScreenCtx = canvas.getContext('2d');\n    }\n    return offScreenCtx;\n}\nexports.getOffScreenContext = getOffScreenContext;\n//# sourceMappingURL=offscreen.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getScaleByField = exports.isInRecords = exports.getSiblingPoint = exports.getSilbings = exports.isInBox = exports.getSpline = exports.distance = exports.getComponents = exports.getElementsByPath = exports.getIntersectElements = exports.intersectRect = exports.getElementValue = exports.getElementsByState = exports.getElementsByField = exports.getElements = exports.getSiblingMaskElements = exports.getMaskedElements = exports.isMask = exports.isSlider = exports.isList = exports.isElementChange = exports.getDelegationObject = exports.getCurrentElement = void 0;\nvar tslib_1 = require(\"tslib\");\nvar util_1 = require(\"@antv/util\");\nvar path_1 = require(\"../../geometry/shape/util/path\");\nvar bbox_1 = require(\"../../util/bbox\");\nvar is_polygons_intersect_1 = tslib_1.__importDefault(require(\"@antv/path-util/lib/is-polygons-intersect\"));\nfunction getMaskBBox(context, tolerance) {\n    var event = context.event;\n    var maskShape = event.target;\n    var maskBBox = maskShape.getCanvasBBox();\n    // 如果 bbox 过小则不返回\n    if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n        return null;\n    }\n    return maskBBox;\n}\nfunction getMaskPath(context, tolerance) {\n    var event = context.event;\n    var maskShape = event.target;\n    var maskBBox = maskShape.getCanvasBBox();\n    // 如果 bbox 过小则不返回\n    if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n        return null;\n    }\n    return maskShape.attr('path');\n}\n/**\n * 获取当前事件相关的图表元素\n * @param context 交互的上下文\n * @ignore\n */\nfunction getCurrentElement(context) {\n    var event = context.event;\n    var element;\n    var target = event.target;\n    if (target) {\n        element = target.get('element');\n    }\n    return element;\n}\nexports.getCurrentElement = getCurrentElement;\n/**\n * 获取委托对象\n * @param context 上下文\n * @ignore\n */\nfunction getDelegationObject(context) {\n    var event = context.event;\n    var target = event.target;\n    var delegateObject;\n    if (target) {\n        delegateObject = target.get('delegateObject');\n    }\n    return delegateObject;\n}\nexports.getDelegationObject = getDelegationObject;\nfunction isElementChange(context) {\n    var event = context.event.gEvent;\n    // 在同一个 element 内部移动，label 和 shape 之间\n    if (event && event.fromShape && event.toShape && event.fromShape.get('element') === event.toShape.get('element')) {\n        return false;\n    }\n    return true;\n}\nexports.isElementChange = isElementChange;\n/**\n * 是否是列表组件\n * @param delegateObject 委托对象\n * @ignore\n */\nfunction isList(delegateObject) {\n    return delegateObject && delegateObject.component && delegateObject.component.isList();\n}\nexports.isList = isList;\n/**\n * 是否是滑块组件\n * @param delegateObject 委托对象\n * @ignore\n */\nfunction isSlider(delegateObject) {\n    return delegateObject && delegateObject.component && delegateObject.component.isSlider();\n}\nexports.isSlider = isSlider;\n/**\n * 是否由 mask 触发\n * @param context 上下文\n * @ignore\n */\nfunction isMask(context) {\n    var event = context.event;\n    var target = event.target;\n    return target && target.get('name') === 'mask';\n}\nexports.isMask = isMask;\n/**\n * 获取被遮挡的 elements\n * @param context 上下文\n * @ignore\n */\nfunction getMaskedElements(context, tolerance) {\n    var target = context.event.target;\n    if (target.get('type') === 'path') {\n        var maskPath = getMaskPath(context, tolerance);\n        if (!maskPath) {\n            return;\n        }\n        return getElementsByPath(context.view, maskPath);\n    }\n    var maskBBox = getMaskBBox(context, tolerance);\n    // 如果 bbox 过小则不返回\n    if (!maskBBox) {\n        return null;\n    }\n    return getIntersectElements(context.view, maskBBox);\n}\nexports.getMaskedElements = getMaskedElements;\n/**\n * @ignore\n */\nfunction getSiblingMaskElements(context, sibling, tolerance) {\n    var maskBBox = getMaskBBox(context, tolerance);\n    // 如果 bbox 过小则不返回\n    if (!maskBBox) {\n        return null;\n    }\n    var view = context.view;\n    var start = getSiblingPoint(view, sibling, { x: maskBBox.x, y: maskBBox.y });\n    var end = getSiblingPoint(view, sibling, { x: maskBBox.maxX, y: maskBBox.maxY });\n    var box = {\n        minX: start.x,\n        minY: start.y,\n        maxX: end.x,\n        maxY: end.y,\n    };\n    return getIntersectElements(sibling, box);\n}\nexports.getSiblingMaskElements = getSiblingMaskElements;\n/**\n * 获取所有的图表元素\n * @param view View/Chart\n * @ignore\n */\nfunction getElements(view) {\n    var geometries = view.geometries;\n    var rst = [];\n    util_1.each(geometries, function (geom) {\n        var elements = geom.elements;\n        rst = rst.concat(elements);\n    });\n    if (view.views && view.views.length) {\n        util_1.each(view.views, function (subView) {\n            rst = rst.concat(getElements(subView));\n        });\n    }\n    return rst;\n}\nexports.getElements = getElements;\n/**\n * 获取所有的图表元素\n * @param view View/Chart\n * @param field 字段名\n * @param value 字段值\n * @ignore\n */\nfunction getElementsByField(view, field, value) {\n    var elements = getElements(view);\n    return elements.filter(function (el) {\n        return getElementValue(el, field) === value;\n    });\n}\nexports.getElementsByField = getElementsByField;\n/**\n * 根据状态名获取图表元素\n * @param view View/Chart\n * @param stateName 状态名\n * @ignore\n */\nfunction getElementsByState(view, stateName) {\n    var geometries = view.geometries;\n    var rst = [];\n    util_1.each(geometries, function (geom) {\n        var elements = geom.getElementsBy(function (el) { return el.hasState(stateName); });\n        rst = rst.concat(elements);\n    });\n    return rst;\n}\nexports.getElementsByState = getElementsByState;\n/**\n * 获取图表元素对应字段的值\n * @param element 图表元素\n * @param field 字段名\n * @ignore\n */\nfunction getElementValue(element, field) {\n    var model = element.getModel();\n    var record = model.data;\n    var value;\n    if (util_1.isArray(record)) {\n        value = record[0][field];\n    }\n    else {\n        value = record[field];\n    }\n    return value;\n}\nexports.getElementValue = getElementValue;\n/**\n * 两个包围盒是否相交\n * @param box1 包围盒1\n * @param box2 包围盒2\n * @ignore\n */\nfunction intersectRect(box1, box2) {\n    return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n}\nexports.intersectRect = intersectRect;\n/**\n * 获取包围盒内的图表元素\n * @param view View/Chart\n * @param box 包围盒\n * @ignore\n */\nfunction getIntersectElements(view, box) {\n    var elements = getElements(view);\n    var rst = [];\n    util_1.each(elements, function (el) {\n        var shape = el.shape;\n        var shapeBBox = shape.getCanvasBBox();\n        if (intersectRect(box, shapeBBox)) {\n            rst.push(el);\n        }\n    });\n    return rst;\n}\nexports.getIntersectElements = getIntersectElements;\nfunction pathToPoints(path) {\n    var points = [];\n    util_1.each(path, function (seg) {\n        var command = seg[0];\n        if (command !== 'A') {\n            for (var i = 1; i < seg.length; i = i + 2) {\n                points.push([seg[i], seg[i + 1]]);\n            }\n        }\n        else {\n            var length_1 = seg.length;\n            points.push([seg[length_1 - 2], seg[length_1 - 1]]);\n        }\n    });\n    return points;\n}\n/**\n * 获取包围盒内的图表元素\n * @param view View/Chart\n * @param path 路径\n * @ignore\n */\nfunction getElementsByPath(view, path) {\n    var elements = getElements(view);\n    var points = pathToPoints(path);\n    var rst = elements.filter(function (el) {\n        var shape = el.shape;\n        var shapePoints;\n        if (shape.get('type') === 'path') {\n            shapePoints = pathToPoints(shape.attr('path'));\n        }\n        else {\n            var shapeBBox = shape.getCanvasBBox();\n            shapePoints = bbox_1.toPoints(shapeBBox);\n        }\n        return is_polygons_intersect_1.default(points, shapePoints);\n    });\n    return rst;\n}\nexports.getElementsByPath = getElementsByPath;\n/**\n * 获取当前 View 的所有组件\n * @param view View/Chart\n * @ignore\n */\nfunction getComponents(view) {\n    return view.getComponents().map(function (co) { return co.component; });\n}\nexports.getComponents = getComponents;\n/** @ignore */\nfunction distance(p1, p2) {\n    var dx = p2.x - p1.x;\n    var dy = p2.y - p1.y;\n    return Math.sqrt(dx * dx + dy * dy);\n}\nexports.distance = distance;\n/** @ignore */\nfunction getSpline(points, z) {\n    if (points.length <= 2) {\n        return path_1.getLinePath(points, false);\n    }\n    var first = points[0];\n    var arr = [];\n    util_1.each(points, function (point) {\n        arr.push(point.x);\n        arr.push(point.y);\n    });\n    var path = path_1.catmullRom2bezier(arr, z, null);\n    path.unshift(['M', first.x, first.y]);\n    return path;\n}\nexports.getSpline = getSpline;\n/**\n * 检测点是否在包围盒内\n * @param box 包围盒\n * @param point 点\n * @ignore\n */\nfunction isInBox(box, point) {\n    return box.x <= point.x && box.maxX >= point.x && box.y <= point.y && box.maxY > point.y;\n}\nexports.isInBox = isInBox;\n/**\n * 获取同 view 同一级的 views\n * @param view 当前 view\n * @returns 同一级的 views\n * @ignore\n */\nfunction getSilbings(view) {\n    var parent = view.parent;\n    var siblings = null;\n    if (parent) {\n        siblings = parent.views.filter(function (sub) { return sub !== view; });\n    }\n    return siblings;\n}\nexports.getSilbings = getSilbings;\nfunction point2Normalize(view, point) {\n    var coord = view.getCoordinate();\n    return coord.invert(point);\n}\n/**\n * 将 view 上的一点转换成另一个 view 的点\n * @param view 当前的 view\n * @param sibling 同一层级的 view\n * @param point 指定点\n * @ignore\n */\nfunction getSiblingPoint(view, sibling, point) {\n    var normalPoint = point2Normalize(view, point);\n    return sibling.getCoordinate().convert(normalPoint);\n}\nexports.getSiblingPoint = getSiblingPoint;\n/**\n * 是否在记录中，临时因为所有的 view 中的数据不是引用，而使用的方法\n * 不同 view 上对数据的引用不相等，导致无法直接用 includes\n * 假设 x, y 值相等时是同一条数据，这个假设不完全正确，而改成 isEqual 则成本太高\n * 后面改成同一个引用时可以修改回来\n * @param records\n * @param record\n * @param xFiled\n * @param yField\n * @returns\n * @ignore\n */\nfunction isInRecords(records, record, xFiled, yField) {\n    var isIn = false;\n    util_1.each(records, function (r) {\n        if (r[xFiled] === record[xFiled] && r[yField] === record[yField]) {\n            isIn = true;\n            return false;\n        }\n    });\n    return isIn;\n}\nexports.isInRecords = isInRecords;\n// 级联获取 field 对应的 scale，如果 view 上没有，遍历子 view\nfunction getScaleByField(view, field) {\n    var scale = view.getScaleByField(field);\n    if (!scale && view.views) {\n        util_1.each(view.views, function (subView) {\n            scale = getScaleByField(subView, field);\n            if (scale) {\n                return false; // 终止循环\n            }\n        });\n    }\n    return scale;\n}\nexports.getScaleByField = getScaleByField;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getTooltipItems = exports.findDataByPoint = void 0;\nvar tslib_1 = require(\"tslib\");\nvar util_1 = require(\"@antv/util\");\nvar constant_1 = require(\"../constant\");\nvar scale_1 = require(\"./scale\");\nfunction snapEqual(v1, v2, scale) {\n    var value1 = scale.translate(v1);\n    var value2 = scale.translate(v2);\n    return util_1.isNumberEqual(value1, value2);\n}\nfunction getXValueByPoint(point, geometry) {\n    var coordinate = geometry.coordinate;\n    var xScale = geometry.getXScale();\n    var range = xScale.range;\n    var rangeMax = range[range.length - 1];\n    var rangeMin = range[0];\n    var invertPoint = coordinate.invert(point);\n    var xValue = invertPoint.x;\n    if (coordinate.isPolar && xValue > (1 + rangeMax) / 2) {\n        xValue = rangeMin; // 极坐标下，scale 的 range 被做过特殊处理\n    }\n    return xScale.translate(xScale.invert(xValue));\n}\nfunction filterYValue(data, point, geometry) {\n    var coordinate = geometry.coordinate;\n    var yScale = geometry.getYScale();\n    var yField = yScale.field;\n    var invertPoint = coordinate.invert(point);\n    var yValue = yScale.invert(invertPoint.y);\n    var result = util_1.find(data, function (obj) {\n        var originData = obj[constant_1.FIELD_ORIGIN];\n        return originData[yField][0] <= yValue && originData[yField][1] >= yValue;\n    });\n    return result || data[data.length - 1];\n}\nvar getXDistance = util_1.memoize(function (scale) {\n    if (scale.isCategory) {\n        return 1;\n    }\n    var scaleValues = scale.values; // values 是无序的\n    var length = scaleValues.length;\n    var min = scale.translate(scaleValues[0]);\n    var max = min;\n    for (var index = 0; index < length; index++) {\n        var value = scaleValues[index];\n        // 时间类型需要 translate\n        var numericValue = scale.translate(value);\n        if (numericValue < min) {\n            min = numericValue;\n        }\n        if (numericValue > max) {\n            max = numericValue;\n        }\n    }\n    return (max - min) / (length - 1);\n});\nfunction getTooltipTitle(originData, geometry, title) {\n    var titleField = title;\n    if (!title) {\n        var positionAttr = geometry.getAttribute('position');\n        var fields = positionAttr.getFields();\n        titleField = fields[0];\n    }\n    var scales = geometry.scales;\n    if (scales[titleField]) {\n        // 如果创建了该字段对应的 scale，则通过 scale.getText() 方式取值，因为用户可能对数据进行了格式化\n        return scales[titleField].getText(originData[titleField]);\n    }\n    // 如果没有对应的 scale，则从原始数据中取值，如果原始数据中仍不存在，则直接放回 title 值\n    return util_1.hasKey(originData, titleField) ? originData[titleField] : titleField;\n}\nfunction getAttributesForLegend(geometry) {\n    var attributes = util_1.values(geometry.attributes);\n    return util_1.filter(attributes, function (attribute) { return util_1.contains(constant_1.GROUP_ATTRS, attribute.type); });\n}\nfunction getTooltipValueScale(geometry) {\n    var attributes = getAttributesForLegend(geometry);\n    var scale;\n    for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n        var attribute = attributes_1[_i];\n        var tmpScale = attribute.getScale(attribute.type);\n        if (tmpScale && tmpScale.isLinear) {\n            // 如果指定字段是非 position 的，同时是连续的\n            scale = tmpScale;\n            break;\n        }\n    }\n    var xScale = geometry.getXScale();\n    var yScale = geometry.getYScale();\n    return scale || yScale || xScale;\n}\nfunction getTooltipValue(originData, valueScale) {\n    var field = valueScale.field;\n    var value = originData[field];\n    if (util_1.isArray(value)) {\n        var texts = value.map(function (eachValue) {\n            return valueScale.getText(eachValue);\n        });\n        return texts.join('-');\n    }\n    return valueScale.getText(value);\n}\n// 根据原始数据获取 tooltip item 中 name 值\nfunction getTooltipName(originData, geometry) {\n    var nameScale;\n    var groupScales = geometry.getGroupScales();\n    if (groupScales.length) {\n        // 如果存在分组类型，取第一个分组类型\n        nameScale = groupScales[0];\n    }\n    if (nameScale) {\n        var field = nameScale.field;\n        return nameScale.getText(originData[field]);\n    }\n    var valueScale = getTooltipValueScale(geometry);\n    return scale_1.getName(valueScale);\n}\n/**\n * @ignore\n * Finds data from geometry by point\n * @param point canvas point\n * @param data an item of geometry.dataArray\n * @param geometry\n * @returns\n */\nfunction findDataByPoint(point, data, geometry) {\n    if (data.length === 0) {\n        return null;\n    }\n    var geometryType = geometry.type;\n    var xScale = geometry.getXScale();\n    var yScale = geometry.getYScale();\n    var xField = xScale.field;\n    var yField = yScale.field;\n    var rst = null;\n    // 热力图采用最小逼近策略查找 point 击中的数据\n    if (geometryType === 'heatmap' || geometryType === 'point') {\n        // 将 point 画布坐标转换为原始数据值\n        var coordinate = geometry.coordinate;\n        var invertPoint = coordinate.invert(point); // 转换成归一化的数据\n        var x = xScale.invert(invertPoint.x); // 转换为原始值\n        var y = yScale.invert(invertPoint.y); // 转换为原始值\n        var min = Infinity;\n        for (var index = 0; index < data.length; index++) {\n            var obj = data[index];\n            var originData = obj[constant_1.FIELD_ORIGIN];\n            var range = Math.pow((originData[xField] - x), 2) + Math.pow((originData[yField] - y), 2);\n            if (range < min) {\n                min = range;\n                rst = obj;\n            }\n        }\n        return rst;\n    }\n    // 其他 Geometry 类型按照 x 字段数据进行查找\n    var first = data[0];\n    var last = data[data.length - 1];\n    var xValue = getXValueByPoint(point, geometry);\n    var firstXValue = first[constant_1.FIELD_ORIGIN][xField];\n    var firstYValue = first[constant_1.FIELD_ORIGIN][yField];\n    var lastXValue = last[constant_1.FIELD_ORIGIN][xField];\n    var isYArray = yScale.isLinear && util_1.isArray(firstYValue); // 考虑 x 维度相同，y 是数组区间的情况\n    // 如果 x 的值是数组\n    if (util_1.isArray(firstXValue)) {\n        for (var index = 0; index < data.length; index++) {\n            var record = data[index];\n            var originData = record[constant_1.FIELD_ORIGIN];\n            // xValue 在 originData[xField] 的数值区间内\n            if (xScale.translate(originData[xField][0]) <= xValue && xScale.translate(originData[xField][1]) >= xValue) {\n                if (isYArray) {\n                    // 层叠直方图场景，x 和 y 都是数组区间\n                    if (!util_1.isArray(rst)) {\n                        rst = [];\n                    }\n                    rst.push(record);\n                }\n                else {\n                    rst = record;\n                    break;\n                }\n            }\n        }\n        if (util_1.isArray(rst)) {\n            rst = filterYValue(rst, point, geometry);\n        }\n    }\n    else {\n        var next = void 0;\n        if (!xScale.isLinear && xScale.type !== 'timeCat') {\n            // x 轴对应的数据为非线性以及非时间类型的数据采用遍历查找\n            for (var index = 0; index < data.length; index++) {\n                var record = data[index];\n                var originData = record[constant_1.FIELD_ORIGIN];\n                if (snapEqual(originData[xField], xValue, xScale)) {\n                    if (isYArray) {\n                        if (!util_1.isArray(rst)) {\n                            rst = [];\n                        }\n                        rst.push(record);\n                    }\n                    else {\n                        rst = record;\n                        break;\n                    }\n                }\n                else if (xScale.translate(originData[xField]) <= xValue) {\n                    last = record;\n                    next = data[index + 1];\n                }\n            }\n            if (util_1.isArray(rst)) {\n                rst = filterYValue(rst, point, geometry);\n            }\n        }\n        else {\n            // x 轴对应的数据为线性以及时间类型，进行二分查找，性能更好\n            if ((xValue > xScale.translate(lastXValue) || xValue < xScale.translate(firstXValue)) &&\n                (xValue > xScale.max || xValue < xScale.min)) {\n                // 不在数据范围内\n                return null;\n            }\n            var firstIdx = 0;\n            var lastIdx = data.length - 1;\n            var middleIdx = void 0;\n            while (firstIdx <= lastIdx) {\n                middleIdx = Math.floor((firstIdx + lastIdx) / 2);\n                var item = data[middleIdx][constant_1.FIELD_ORIGIN][xField];\n                if (snapEqual(item, xValue, xScale)) {\n                    return data[middleIdx];\n                }\n                if (xScale.translate(item) <= xScale.translate(xValue)) {\n                    firstIdx = middleIdx + 1;\n                    last = data[middleIdx];\n                    next = data[middleIdx + 1];\n                }\n                else {\n                    if (lastIdx === 0) {\n                        last = data[0];\n                    }\n                    lastIdx = middleIdx - 1;\n                }\n            }\n        }\n        if (last && next) {\n            // 计算最逼近的\n            if (Math.abs(xScale.translate(last[constant_1.FIELD_ORIGIN][xField]) - xValue) >\n                Math.abs(xScale.translate(next[constant_1.FIELD_ORIGIN][xField]) - xValue)) {\n                last = next;\n            }\n        }\n    }\n    var distance = getXDistance(geometry.getXScale()); // 每个分类间的平均间距\n    if (!rst && Math.abs(xScale.translate(last[constant_1.FIELD_ORIGIN][xField]) - xValue) <= distance / 2) {\n        rst = last;\n    }\n    return rst;\n}\nexports.findDataByPoint = findDataByPoint;\n/**\n * @ignore\n * Gets tooltip items\n * @param data\n * @param geometry\n * @param [title]\n * @returns\n */\nfunction getTooltipItems(data, geometry, title) {\n    if (title === void 0) { title = ''; }\n    var originData = data[constant_1.FIELD_ORIGIN];\n    var tooltipTitle = getTooltipTitle(originData, geometry, title);\n    var tooltipOption = geometry.tooltipOption;\n    var defaultColor = geometry.theme.defaultColor;\n    var items = [];\n    var name;\n    var value;\n    function addItem(itemName, itemValue) {\n        if (!util_1.isNil(itemValue) && itemValue !== '') {\n            // 值为 null的时候，忽视\n            var item = {\n                title: tooltipTitle,\n                data: originData,\n                mappingData: data,\n                name: itemName,\n                value: itemValue,\n                color: data.color || defaultColor,\n                marker: true,\n            };\n            items.push(item);\n        }\n    }\n    if (util_1.isObject(tooltipOption)) {\n        var fields = tooltipOption.fields, callback = tooltipOption.callback;\n        if (callback) {\n            // 用户定义了回调函数\n            var callbackParams = fields.map(function (field) {\n                return data[constant_1.FIELD_ORIGIN][field];\n            });\n            var cfg = callback.apply(void 0, callbackParams);\n            var itemCfg = tslib_1.__assign({ data: data[constant_1.FIELD_ORIGIN], mappingData: data, title: tooltipTitle, color: data.color || defaultColor, marker: true }, cfg);\n            items.push(itemCfg);\n        }\n        else {\n            var scales = geometry.scales;\n            for (var _i = 0, fields_1 = fields; _i < fields_1.length; _i++) {\n                var field = fields_1[_i];\n                if (!util_1.isNil(originData[field])) {\n                    // 字段数据为null, undefined 时不显示\n                    var scale = scales[field];\n                    name = scale_1.getName(scale);\n                    value = scale.getText(originData[field]);\n                    addItem(name, value);\n                }\n            }\n        }\n    }\n    else {\n        var valueScale = getTooltipValueScale(geometry);\n        if (!util_1.isNil(originData[valueScale.field])) {\n            // 字段数据为null ,undefined时不显示\n            value = getTooltipValue(originData, valueScale);\n            name = getTooltipName(originData, geometry);\n            addItem(name, value);\n        }\n    }\n    return items;\n}\nexports.getTooltipItems = getTooltipItems;\n//# sourceMappingURL=tooltip.js.map","\"use strict\";\n/**\n * @fileoverview 矩阵运算，本来是要引入 gl-matrix, 但是考虑到 g-mobile 对大小有限制，同时 g-webgl 使用的 matrix 不一致\n * 所以，这里仅实现 2D 几个运算，上层自己引入 gl-matrix\n * @author dxq613@gmail.com\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.invert = exports.multiplyVec2 = exports.multiplyMatrix = void 0;\n/**\n * 3阶矩阵相乘\n * @param {number[]} a 矩阵1\n * @param {number[]} b 矩阵2\n */\nfunction multiplyMatrix(a, b) {\n    var out = [];\n    var a00 = a[0];\n    var a01 = a[1];\n    var a02 = a[2];\n    var a10 = a[3];\n    var a11 = a[4];\n    var a12 = a[5];\n    var a20 = a[6];\n    var a21 = a[7];\n    var a22 = a[8];\n    var b00 = b[0];\n    var b01 = b[1];\n    var b02 = b[2];\n    var b10 = b[3];\n    var b11 = b[4];\n    var b12 = b[5];\n    var b20 = b[6];\n    var b21 = b[7];\n    var b22 = b[8];\n    out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n    out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n    out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n    out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n    out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n    out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n    out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n    out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n    out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n    return out;\n}\nexports.multiplyMatrix = multiplyMatrix;\n/**\n * 3阶矩阵同2阶向量相乘\n * @param {number[]} m 矩阵\n * @param {number[]} v 二阶向量\n */\nfunction multiplyVec2(m, v) {\n    var out = [];\n    var x = v[0];\n    var y = v[1];\n    out[0] = m[0] * x + m[3] * y + m[6];\n    out[1] = m[1] * x + m[4] * y + m[7];\n    return out;\n}\nexports.multiplyVec2 = multiplyVec2;\n/**\n * 矩阵的逆\n * @param {number[]} a 矩阵\n */\nfunction invert(a) {\n    var out = [];\n    var a00 = a[0];\n    var a01 = a[1];\n    var a02 = a[2];\n    var a10 = a[3];\n    var a11 = a[4];\n    var a12 = a[5];\n    var a20 = a[6];\n    var a21 = a[7];\n    var a22 = a[8];\n    var b01 = a22 * a11 - a12 * a21;\n    var b11 = -a22 * a10 + a12 * a20;\n    var b21 = a21 * a10 - a11 * a20;\n    // Calculate the determinant\n    var det = a00 * b01 + a01 * b11 + a02 * b21;\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n    out[0] = b01 * det;\n    out[1] = (-a22 * a01 + a02 * a21) * det;\n    out[2] = (a12 * a01 - a02 * a11) * det;\n    out[3] = b11 * det;\n    out[4] = (a22 * a00 - a02 * a20) * det;\n    out[5] = (-a12 * a00 + a02 * a10) * det;\n    out[6] = b21 * det;\n    out[7] = (-a21 * a00 + a01 * a20) * det;\n    out[8] = (a11 * a00 - a01 * a10) * det;\n    return out;\n}\nexports.invert = invert;\n//# sourceMappingURL=matrix.js.map","import { __extends } from \"tslib\";\nimport Container from './container';\nvar AbstractGroup = /** @class */ (function (_super) {\n    __extends(AbstractGroup, _super);\n    function AbstractGroup() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AbstractGroup.prototype.isGroup = function () {\n        return true;\n    };\n    AbstractGroup.prototype.isEntityGroup = function () {\n        return false;\n    };\n    AbstractGroup.prototype.clone = function () {\n        var clone = _super.prototype.clone.call(this);\n        // 获取构造函数\n        var children = this.getChildren();\n        for (var i = 0; i < children.length; i++) {\n            var child = children[i];\n            clone.add(child.clone());\n        }\n        return clone;\n    };\n    return AbstractGroup;\n}(Container));\nexport default AbstractGroup;\n//# sourceMappingURL=group.js.map","import { __extends } from \"tslib\";\nimport Element from './element';\nimport { multiplyVec2 } from '../util/matrix';\nvar AbstractShape = /** @class */ (function (_super) {\n    __extends(AbstractShape, _super);\n    function AbstractShape(cfg) {\n        return _super.call(this, cfg) || this;\n    }\n    // 是否在包围盒内\n    AbstractShape.prototype._isInBBox = function (refX, refY) {\n        var bbox = this.getBBox();\n        return bbox.minX <= refX && bbox.maxX >= refX && bbox.minY <= refY && bbox.maxY >= refY;\n    };\n    /**\n     * 属性更改后需要做的事情\n     * @protected\n     * @param {ShapeAttrs} targetAttrs 渲染的图像属性\n     */\n    AbstractShape.prototype.afterAttrsChange = function (targetAttrs) {\n        _super.prototype.afterAttrsChange.call(this, targetAttrs);\n        this.clearCacheBBox();\n    };\n    // 计算包围盒时，需要缓存，这是一个高频的操作\n    AbstractShape.prototype.getBBox = function () {\n        var bbox = this.cfg.bbox;\n        if (!bbox) {\n            bbox = this.calculateBBox();\n            this.set('bbox', bbox);\n        }\n        return bbox;\n    };\n    // 计算相对于画布的包围盒\n    AbstractShape.prototype.getCanvasBBox = function () {\n        var canvasBBox = this.cfg.canvasBBox;\n        if (!canvasBBox) {\n            canvasBBox = this.calculateCanvasBBox();\n            this.set('canvasBBox', canvasBBox);\n        }\n        return canvasBBox;\n    };\n    AbstractShape.prototype.applyMatrix = function (matrix) {\n        _super.prototype.applyMatrix.call(this, matrix);\n        // 清理掉缓存的包围盒\n        this.set('canvasBBox', null);\n    };\n    /**\n     * 计算相对于画布的包围盒，默认等同于 bbox\n     * @return {BBox} 包围盒\n     */\n    AbstractShape.prototype.calculateCanvasBBox = function () {\n        var bbox = this.getBBox();\n        var totalMatrix = this.getTotalMatrix();\n        var minX = bbox.minX, minY = bbox.minY, maxX = bbox.maxX, maxY = bbox.maxY;\n        if (totalMatrix) {\n            var topLeft = multiplyVec2(totalMatrix, [bbox.minX, bbox.minY]);\n            var topRight = multiplyVec2(totalMatrix, [bbox.maxX, bbox.minY]);\n            var bottomLeft = multiplyVec2(totalMatrix, [bbox.minX, bbox.maxY]);\n            var bottomRight = multiplyVec2(totalMatrix, [bbox.maxX, bbox.maxY]);\n            minX = Math.min(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]);\n            maxX = Math.max(topLeft[0], topRight[0], bottomLeft[0], bottomRight[0]);\n            minY = Math.min(topLeft[1], topRight[1], bottomLeft[1], bottomRight[1]);\n            maxY = Math.max(topLeft[1], topRight[1], bottomLeft[1], bottomRight[1]);\n        }\n        var attrs = this.attrs;\n        // 如果存在 shadow 则计算 shadow\n        if (attrs.shadowColor) {\n            var _a = attrs.shadowBlur, shadowBlur = _a === void 0 ? 0 : _a, _b = attrs.shadowOffsetX, shadowOffsetX = _b === void 0 ? 0 : _b, _c = attrs.shadowOffsetY, shadowOffsetY = _c === void 0 ? 0 : _c;\n            var shadowLeft = minX - shadowBlur + shadowOffsetX;\n            var shadowRight = maxX + shadowBlur + shadowOffsetX;\n            var shadowTop = minY - shadowBlur + shadowOffsetY;\n            var shadowBottom = maxY + shadowBlur + shadowOffsetY;\n            minX = Math.min(minX, shadowLeft);\n            maxX = Math.max(maxX, shadowRight);\n            minY = Math.min(minY, shadowTop);\n            maxY = Math.max(maxY, shadowBottom);\n        }\n        return {\n            x: minX,\n            y: minY,\n            minX: minX,\n            minY: minY,\n            maxX: maxX,\n            maxY: maxY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    };\n    /**\n     * @protected\n     * 清理缓存的 bbox\n     */\n    AbstractShape.prototype.clearCacheBBox = function () {\n        this.set('bbox', null);\n        this.set('canvasBBox', null);\n    };\n    // 实现接口\n    AbstractShape.prototype.isClipShape = function () {\n        return this.get('isClipShape');\n    };\n    /**\n     * @protected\n     * 不同的图形自己实现是否在图形内部的逻辑，要判断边和填充区域\n     * @param  {number}  refX 相对于图形的坐标 x\n     * @param  {number}  refY 相对于图形的坐标 Y\n     * @return {boolean} 点是否在图形内部\n     */\n    AbstractShape.prototype.isInShape = function (refX, refY) {\n        return false;\n    };\n    /**\n     * 是否仅仅使用 BBox 检测就可以判定拾取到图形\n     * 默认是 false，但是有些图形例如 image、marker 等都可直接使用 BBox 的检测而不需要使用图形拾取\n     * @return {Boolean} 仅仅使用 BBox 进行拾取\n     */\n    AbstractShape.prototype.isOnlyHitBox = function () {\n        return false;\n    };\n    // 不同的 Shape 各自实现\n    AbstractShape.prototype.isHit = function (x, y) {\n        var startArrowShape = this.get('startArrowShape');\n        var endArrowShape = this.get('endArrowShape');\n        var vec = [x, y, 1];\n        vec = this.invertFromMatrix(vec);\n        var refX = vec[0], refY = vec[1];\n        var inBBox = this._isInBBox(refX, refY);\n        // 跳过图形的拾取，在某些图形中可以省略一倍的检测成本\n        if (this.isOnlyHitBox()) {\n            return inBBox;\n        }\n        // 被裁减掉的和不在包围盒内的不进行计算\n        if (inBBox && !this.isClipped(refX, refY)) {\n            // 对图形进行拾取判断\n            if (this.isInShape(refX, refY)) {\n                return true;\n            }\n            // 对起始箭头进行拾取判断\n            if (startArrowShape && startArrowShape.isHit(refX, refY)) {\n                return true;\n            }\n            // 对结束箭头进行拾取判断\n            if (endArrowShape && endArrowShape.isHit(refX, refY)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    return AbstractShape;\n}(Element));\nexport default AbstractShape;\n//# sourceMappingURL=shape.js.map","// 导出 g-base 中的 types\nexport * from '@antv/g-base/lib/types';\n//# sourceMappingURL=types.js.map","// 导出 g-base 中的 interfaces\nexport * from '@antv/g-base/lib/interfaces';\n//# sourceMappingURL=interfaces.js.map","// 导出 g-base 中的 types\nexport * from '@antv/g-base/lib/types';\n//# sourceMappingURL=types.js.map","// 导出 g-base 中的 interfaces\nexport * from '@antv/g-base/lib/interfaces';\n//# sourceMappingURL=interfaces.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar _default = function _default(fn) {\n  var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 60;\n  var timer = null;\n  return function () {\n    var _this = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    clearTimeout(timer);\n    timer = setTimeout(function () {\n      fn.apply(_this, args);\n    }, delay);\n  };\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SensorTabIndex = exports.SensorClassName = exports.SizeSensorId = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar SizeSensorId = 'size-sensor-id';\nexports.SizeSensorId = SizeSensorId;\nvar SensorClassName = 'size-sensor-object';\nexports.SensorClassName = SensorClassName;\nvar SensorTabIndex = '-1';\nexports.SensorTabIndex = SensorTabIndex;","export var tuple = function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    return args;\n};\nexport var tupleNum = function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    return args;\n};\n//# sourceMappingURL=tuple.js.map","import { __assign, __extends } from \"tslib\";\nimport { deepMix } from '@antv/util';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\n/**\n * 柱形图\n */\nvar Column = /** @class */ (function (_super) {\n    __extends(Column, _super);\n    function Column() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** 图表类型 */\n        _this.type = 'column';\n        return _this;\n    }\n    /**\n     * 获取 柱形图 默认配置\n     */\n    Column.prototype.getDefaultOptions = function (options) {\n        var _a;\n        var isRange = options.isRange, label = options.label, yField = options.yField, xField = options.xField;\n        return deepMix({}, _super.prototype.getDefaultOptions.call(this), {\n            label: label && isRange\n                ? __assign({ content: function (item) {\n                        var _a;\n                        return (_a = item[yField]) === null || _a === void 0 ? void 0 : _a.join('-');\n                    } }, label) : label,\n            tooltip: {\n                shared: true,\n                showMarkers: false,\n                offset: 20,\n            },\n            interactions: [{ type: 'active-region' }],\n            meta: (_a = {},\n                _a[xField] = {\n                    type: 'cat',\n                },\n                _a),\n        });\n    };\n    /**\n     * 获取 柱形图 的适配器\n     */\n    Column.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Column;\n}(Plot));\nexport { Column };\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createCallbackAction = exports.unregisterAction = exports.registerAction = exports.getActionClass = exports.createAction = void 0;\nvar tslib_1 = require(\"tslib\");\nvar callback_1 = tslib_1.__importDefault(require(\"./callback\"));\nvar util_1 = require(\"@antv/util\");\n// Action 类的缓存\nvar ActionCache = {};\n/**\n * 根据名称获取 Action 实例\n * @param actionName - action 的名称\n * @param context 上下文\n * @returns Action 实例\n */\nfunction createAction(actionName, context) {\n    var actionOption = ActionCache[actionName];\n    var action = null;\n    if (actionOption) {\n        var ActionClass = actionOption.ActionClass, cfg = actionOption.cfg;\n        action = new ActionClass(context, cfg);\n        action.name = actionName;\n        action.init();\n    }\n    return action;\n}\nexports.createAction = createAction;\n/**\n * 根据 action 的 name 获取定义的类\n * @param actionName action 的 name\n */\nfunction getActionClass(actionName) {\n    var actionOption = ActionCache[actionName];\n    return util_1.get(actionOption, 'ActionClass');\n}\nexports.getActionClass = getActionClass;\n/**\n * 注册 Action\n * @param actionName - action 的名称\n * @param ActionClass - 继承自 action 的类\n */\nfunction registerAction(actionName, ActionClass, cfg) {\n    ActionCache[actionName] = {\n        ActionClass: ActionClass,\n        cfg: cfg,\n    };\n}\nexports.registerAction = registerAction;\n/**\n * 取消注册 Action\n * @param actionName action 名称\n */\nfunction unregisterAction(actionName) {\n    delete ActionCache[actionName];\n}\nexports.unregisterAction = unregisterAction;\n/**\n * 根据回调函数获取 Action 实例\n * @param callback - action 的回调函数\n * @param context 上下文\n * @returns Action 实例\n */\nfunction createCallbackAction(callback, context) {\n    var action = new callback_1.default(context);\n    action.callback = callback;\n    action.name = 'callback';\n    return action;\n}\nexports.createCallbackAction = createCallbackAction;\n//# sourceMappingURL=register.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"@antv/util\");\n/**\n * Action 的基类\n */\nvar Action = /** @class */ (function () {\n    function Action(context, cfg) {\n        this.context = context;\n        this.cfg = cfg;\n        context.addAction(this);\n    }\n    /**\n     * 设置配置项传入的值\n     * @param cfg\n     */\n    Action.prototype.applyCfg = function (cfg) {\n        util_1.assign(this, cfg);\n    };\n    /**\n     * Inits action，提供给子类用于继承\n     */\n    Action.prototype.init = function () {\n        this.applyCfg(this.cfg);\n    };\n    /**\n     * Destroys action\n     */\n    Action.prototype.destroy = function () {\n        // 移除 action\n        this.context.removeAction(this);\n        // 清空\n        this.context = null;\n    };\n    return Action;\n}());\nexports.default = Action;\n//# sourceMappingURL=base.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getCoordinateClipCfg = exports.getAngleByPoint = exports.isPointInCoordinate = exports.getDistanceToCenter = exports.isFullCircle = exports.getXDimensionLength = void 0;\nvar graphics_1 = require(\"./graphics\");\nvar helper_1 = require(\"./helper\");\n/**\n * @ignore\n * Gets x dimension length\n * @param coordinate\n * @returns x dimension length\n */\nfunction getXDimensionLength(coordinate) {\n    if (coordinate.isPolar && !coordinate.isTransposed) {\n        // 极坐标系下 width 为弧长\n        return (coordinate.endAngle - coordinate.startAngle) * coordinate.getRadius();\n    }\n    // 直角坐标系\n    var start = coordinate.convert({ x: 0, y: 0 });\n    var end = coordinate.convert({ x: 1, y: 0 });\n    // 坐标系有可能发生 transpose 等变换，所有通过两点之间的距离进行计算\n    return Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n}\nexports.getXDimensionLength = getXDimensionLength;\n/**\n * @ignore\n * Determines whether full circle is\n * @param coordinate\n * @returns true if full circle\n */\nfunction isFullCircle(coordinate) {\n    if (coordinate.isPolar) {\n        var startAngle = coordinate.startAngle, endAngle = coordinate.endAngle;\n        return endAngle - startAngle === Math.PI * 2;\n    }\n    return false;\n}\nexports.isFullCircle = isFullCircle;\n/**\n * @ignore\n * 获取当前点到坐标系圆心的距离\n * @param coordinate 坐标系\n * @param point 当前点\n * @returns distance to center\n */\nfunction getDistanceToCenter(coordinate, point) {\n    var center = coordinate.getCenter();\n    return Math.sqrt(Math.pow((point.x - center.x), 2) + Math.pow((point.y - center.y), 2));\n}\nexports.getDistanceToCenter = getDistanceToCenter;\n/**\n * @ignore\n * 坐标点是否在坐标系中\n * @param coordinate\n * @param point\n */\nfunction isPointInCoordinate(coordinate, point) {\n    var result = false;\n    if (coordinate) {\n        if (coordinate.type === 'theta') {\n            var start = coordinate.start, end = coordinate.end;\n            result = helper_1.isBetween(point.x, start.x, end.x) && helper_1.isBetween(point.y, start.y, end.y);\n        }\n        else {\n            var invertPoint = coordinate.invert(point);\n            result = helper_1.isBetween(invertPoint.x, 0, 1) && helper_1.isBetween(invertPoint.y, 0, 1);\n        }\n    }\n    return result;\n}\nexports.isPointInCoordinate = isPointInCoordinate;\n/**\n * @ignore\n * 获取点到圆心的连线与水平方向的夹角\n */\nfunction getAngleByPoint(coordinate, point) {\n    var center = coordinate.getCenter();\n    return Math.atan2(point.y - center.y, point.x - center.x);\n}\nexports.getAngleByPoint = getAngleByPoint;\n/**\n * @ignore\n * 获取同坐标系范围相同的剪切区域\n * @param coordinate\n * @returns\n */\nfunction getCoordinateClipCfg(coordinate, margin) {\n    if (margin === void 0) { margin = 0; }\n    var start = coordinate.start, end = coordinate.end;\n    var width = coordinate.getWidth();\n    var height = coordinate.getHeight();\n    if (coordinate.isPolar) {\n        var startAngle_1 = coordinate.startAngle, endAngle_1 = coordinate.endAngle;\n        var center_1 = coordinate.getCenter();\n        var radius_1 = coordinate.getRadius();\n        return {\n            type: 'path',\n            startState: {\n                path: graphics_1.getSectorPath(center_1.x, center_1.y, radius_1 + margin, startAngle_1, startAngle_1),\n            },\n            endState: function (ratio) {\n                var diff = (endAngle_1 - startAngle_1) * ratio + startAngle_1;\n                var path = graphics_1.getSectorPath(center_1.x, center_1.y, radius_1 + margin, startAngle_1, diff);\n                return {\n                    path: path,\n                };\n            },\n            attrs: {\n                path: graphics_1.getSectorPath(center_1.x, center_1.y, radius_1 + margin, startAngle_1, endAngle_1),\n            },\n        };\n    }\n    var endState;\n    if (coordinate.isTransposed) {\n        endState = {\n            height: height + margin * 2,\n        };\n    }\n    else {\n        endState = {\n            width: width + margin * 2,\n        };\n    }\n    return {\n        type: 'rect',\n        startState: {\n            x: start.x - margin,\n            y: end.y - margin,\n            width: coordinate.isTransposed ? width + margin * 2 : 0,\n            height: coordinate.isTransposed ? 0 : height + margin * 2,\n        },\n        endState: endState,\n        attrs: {\n            x: start.x - margin,\n            y: end.y - margin,\n            width: width + margin * 2,\n            height: height + margin * 2,\n        },\n    };\n}\nexports.getCoordinateClipCfg = getCoordinateClipCfg;\n//# sourceMappingURL=coordinate.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getReplaceAttrs = exports.getPolygonCentroid = exports.getAngle = exports.getArcPath = exports.getSectorPath = exports.polarToCartesian = void 0;\nvar util_1 = require(\"@antv/util\");\n// 获取图形的包围盒\nfunction getPointsBox(points) {\n    if (util_1.isEmpty(points)) {\n        return null;\n    }\n    var minX = points[0].x;\n    var maxX = points[0].x;\n    var minY = points[0].y;\n    var maxY = points[0].y;\n    util_1.each(points, function (point) {\n        minX = minX > point.x ? point.x : minX;\n        maxX = maxX < point.x ? point.x : maxX;\n        minY = minY > point.y ? point.y : minY;\n        maxY = maxY < point.y ? point.y : maxY;\n    });\n    return {\n        minX: minX,\n        maxX: maxX,\n        minY: minY,\n        maxY: maxY,\n        centerX: (minX + maxX) / 2,\n        centerY: (minY + maxY) / 2,\n    };\n}\n/**\n * @ignore\n * 根据弧度计算极坐标系下的坐标点\n * @param centerX\n * @param centerY\n * @param radius\n * @param angleInRadian\n * @returns\n */\nfunction polarToCartesian(centerX, centerY, radius, angleInRadian) {\n    return {\n        x: centerX + radius * Math.cos(angleInRadian),\n        y: centerY + radius * Math.sin(angleInRadian),\n    };\n}\nexports.polarToCartesian = polarToCartesian;\n/**\n * @ignore\n * 根据起始角度计算绘制扇形的 path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nfunction getSectorPath(centerX, centerY, radius, startAngleInRadian, endAngleInRadian, innerRadius) {\n    if (innerRadius === void 0) { innerRadius = 0; }\n    var start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n    var end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n    var innerStart = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian);\n    var innerEnd = polarToCartesian(centerX, centerY, innerRadius, endAngleInRadian);\n    if (endAngleInRadian - startAngleInRadian === Math.PI * 2) {\n        // 整个圆是分割成两个圆\n        var middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n        var innerMiddlePoint = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian + Math.PI);\n        var circlePathCommands = [\n            ['M', start.x, start.y],\n            ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n            ['A', radius, radius, 0, 1, 1, end.x, end.y],\n            ['M', innerStart.x, innerStart.y],\n        ];\n        if (innerRadius) {\n            circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerMiddlePoint.x, innerMiddlePoint.y]);\n            circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerEnd.x, innerEnd.y]);\n        }\n        circlePathCommands.push(['M', start.x, start.y]);\n        circlePathCommands.push(['Z']);\n        return circlePathCommands;\n    }\n    var arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n    var sectorPathCommands = [\n        ['M', start.x, start.y],\n        ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n        ['L', innerEnd.x, innerEnd.y],\n    ];\n    if (innerRadius) {\n        sectorPathCommands.push(['A', innerRadius, innerRadius, 0, arcSweep, 0, innerStart.x, innerStart.y]);\n    }\n    sectorPathCommands.push(['L', start.x, start.y]);\n    sectorPathCommands.push(['Z']);\n    return sectorPathCommands;\n}\nexports.getSectorPath = getSectorPath;\n/**\n * @ignore\n * Gets arc path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nfunction getArcPath(centerX, centerY, radius, startAngleInRadian, endAngleInRadian) {\n    var start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n    var end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n    if (util_1.isNumberEqual(endAngleInRadian - startAngleInRadian, Math.PI * 2)) {\n        var middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n        return [\n            ['M', start.x, start.y],\n            ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n            ['A', radius, radius, 0, 1, 1, start.x, start.y],\n            ['A', radius, radius, 0, 1, 0, middlePoint.x, middlePoint.y],\n            ['A', radius, radius, 0, 1, 0, start.x, start.y],\n            ['Z'],\n        ];\n    }\n    var arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n    return [\n        ['M', start.x, start.y],\n        ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n    ];\n}\nexports.getArcPath = getArcPath;\n/**\n * @ignore\n * 从数据模型中的 points 换算角度\n * @param shapeModel\n * @param coordinate\n * @returns\n */\nfunction getAngle(shapeModel, coordinate) {\n    var points = shapeModel.points;\n    var box = getPointsBox(points);\n    var endAngle;\n    var startAngle;\n    var coordStartAngle = coordinate.startAngle, coordEndAngle = coordinate.endAngle;\n    var diffAngle = coordEndAngle - coordStartAngle;\n    if (coordinate.isTransposed) {\n        endAngle = box.maxY * diffAngle;\n        startAngle = box.minY * diffAngle;\n    }\n    else {\n        endAngle = box.maxX * diffAngle;\n        startAngle = box.minX * diffAngle;\n    }\n    endAngle += coordStartAngle;\n    startAngle += coordStartAngle;\n    return {\n        startAngle: startAngle,\n        endAngle: endAngle,\n    };\n}\nexports.getAngle = getAngle;\n/**\n * @ignore\n * 计算多边形重心: https://en.wikipedia.org/wiki/Centroid#Of_a_polygon\n */\nfunction getPolygonCentroid(xs, ys) {\n    if (util_1.isNumber(xs) && util_1.isNumber(ys)) {\n        // 普通色块图，xs 和 ys 是数值\n        return [xs, ys];\n    }\n    var i = -1;\n    var x = 0;\n    var y = 0;\n    var former;\n    var current = xs.length - 1;\n    var diff;\n    var k = 0;\n    while (++i < xs.length) {\n        former = current;\n        current = i;\n        k += diff = xs[former] * ys[current] - xs[current] * ys[former];\n        x += (xs[former] + xs[current]) * diff;\n        y += (ys[former] + ys[current]) * diff;\n    }\n    k *= 3;\n    return [x / k, y / k];\n}\nexports.getPolygonCentroid = getPolygonCentroid;\n/**\n * @ignore\n * 获取需要替换的属性，如果原先图形元素存在，而新图形不存在，则设置 undefined\n */\nfunction getReplaceAttrs(sourceShape, targetShape) {\n    var originAttrs = sourceShape.attr();\n    var newAttrs = targetShape.attr();\n    util_1.each(originAttrs, function (v, k) {\n        if (newAttrs[k] === undefined) {\n            newAttrs[k] = undefined;\n        }\n    });\n    return newAttrs;\n}\nexports.getReplaceAttrs = getReplaceAttrs;\n//# sourceMappingURL=graphics.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toPoints = exports.getRegionBBox = exports.BBox = void 0;\nvar util_1 = require(\"@antv/util\");\nvar constant_1 = require(\"../constant\");\n/**\n * 用于包围盒计算。\n */\nvar BBox = /** @class */ (function () {\n    function BBox(x, y, width, height) {\n        if (x === void 0) { x = 0; }\n        if (y === void 0) { y = 0; }\n        if (width === void 0) { width = 0; }\n        if (height === void 0) { height = 0; }\n        this.x = x;\n        this.y = y;\n        this.height = height;\n        this.width = width;\n    }\n    BBox.fromRange = function (minX, minY, maxX, maxY) {\n        return new BBox(minX, minY, maxX - minX, maxY - minY);\n    };\n    BBox.fromObject = function (bbox) {\n        return new BBox(bbox.minX, bbox.minY, bbox.width, bbox.height);\n    };\n    Object.defineProperty(BBox.prototype, \"minX\", {\n        get: function () {\n            return this.x;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"maxX\", {\n        get: function () {\n            return this.x + this.width;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"minY\", {\n        get: function () {\n            return this.y;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"maxY\", {\n        get: function () {\n            return this.y + this.height;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"tl\", {\n        get: function () {\n            return { x: this.x, y: this.y };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"tr\", {\n        get: function () {\n            return { x: this.maxX, y: this.y };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"bl\", {\n        get: function () {\n            return { x: this.x, y: this.maxY };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"br\", {\n        get: function () {\n            return { x: this.maxX, y: this.maxY };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"top\", {\n        get: function () {\n            return {\n                x: this.x + this.width / 2,\n                y: this.minY,\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"right\", {\n        get: function () {\n            return {\n                x: this.maxX,\n                y: this.y + this.height / 2,\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"bottom\", {\n        get: function () {\n            return {\n                x: this.x + this.width / 2,\n                y: this.maxY,\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BBox.prototype, \"left\", {\n        get: function () {\n            return {\n                x: this.minX,\n                y: this.y + this.height / 2,\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // end 计算属性\n    /**\n     * 包围盒是否相等\n     * @param {BBox} bbox 包围盒\n     * @returns      包围盒是否相等\n     */\n    BBox.prototype.isEqual = function (bbox) {\n        return this.x === bbox.x && this.y === bbox.y && this.width === bbox.width && this.height === bbox.height;\n    };\n    /**\n     * 是否包含了另一个包围盒\n     * @param child\n     */\n    BBox.prototype.contains = function (child) {\n        return child.minX >= this.minX && child.maxX <= this.maxX && child.minY >= this.minY && child.maxY <= this.maxY;\n    };\n    /**\n     * 克隆包围盒\n     * @returns 包围盒\n     */\n    BBox.prototype.clone = function () {\n        return new BBox(this.x, this.y, this.width, this.height);\n    };\n    /**\n     * 取并集\n     * @param subBBox\n     */\n    BBox.prototype.add = function () {\n        var subBBox = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            subBBox[_i] = arguments[_i];\n        }\n        var bbox = this.clone();\n        util_1.each(subBBox, function (b) {\n            bbox.x = Math.min(b.x, bbox.x);\n            bbox.y = Math.min(b.y, bbox.y);\n            bbox.width = Math.max(b.maxX, bbox.maxX) - bbox.x;\n            bbox.height = Math.max(b.maxY, bbox.maxY) - bbox.y;\n        });\n        return bbox;\n    };\n    /**\n     * 取交集\n     * @param subBBox\n     */\n    BBox.prototype.merge = function () {\n        var subBBox = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            subBBox[_i] = arguments[_i];\n        }\n        var bbox = this.clone();\n        util_1.each(subBBox, function (b) {\n            bbox.x = Math.max(b.x, bbox.x);\n            bbox.y = Math.max(b.y, bbox.y);\n            bbox.width = Math.min(b.maxX, bbox.maxX) - bbox.x;\n            bbox.height = Math.min(b.maxY, bbox.maxY) - bbox.y;\n        });\n        return bbox;\n    };\n    /**\n     * bbox 剪裁\n     * @param subBBox\n     * @param direction\n     */\n    BBox.prototype.cut = function (subBBox, direction) {\n        var width = subBBox.width;\n        var height = subBBox.height;\n        switch (direction) {\n            case constant_1.DIRECTION.TOP:\n            case constant_1.DIRECTION.TOP_LEFT:\n            case constant_1.DIRECTION.TOP_RIGHT:\n                return BBox.fromRange(this.minX, this.minY + height, this.maxX, this.maxY);\n            case constant_1.DIRECTION.RIGHT:\n            case constant_1.DIRECTION.RIGHT_TOP:\n            case constant_1.DIRECTION.RIGHT_BOTTOM:\n                return BBox.fromRange(this.minX, this.minY, this.maxX - width, this.maxY);\n            case constant_1.DIRECTION.BOTTOM:\n            case constant_1.DIRECTION.BOTTOM_LEFT:\n            case constant_1.DIRECTION.BOTTOM_RIGHT:\n                return BBox.fromRange(this.minX, this.minY, this.maxX, this.maxY - height);\n            case constant_1.DIRECTION.LEFT:\n            case constant_1.DIRECTION.LEFT_TOP:\n            case constant_1.DIRECTION.LEFT_BOTTOM:\n                return BBox.fromRange(this.minX + width, this.minY, this.maxX, this.maxY);\n            default:\n                // 其他情况不裁剪，原样返回\n                return this;\n        }\n    };\n    /**\n     * 收缩形成新的\n     * @param gap\n     */\n    BBox.prototype.shrink = function (gap) {\n        var top = gap[0], right = gap[1], bottom = gap[2], left = gap[3];\n        return new BBox(this.x + left, this.y + top, this.width - left - right, this.height - top - bottom);\n    };\n    /**\n     * 扩张形成新的\n     * @param gap\n     */\n    BBox.prototype.expand = function (gap) {\n        var top = gap[0], right = gap[1], bottom = gap[2], left = gap[3];\n        return new BBox(this.x - left, this.y - top, this.width + left + right, this.height + top + bottom);\n    };\n    /**\n     * get the gap of two bbox, if not exceed, then 0\n     * @param bbox\n     * @returns [top, right, bottom, left]\n     */\n    BBox.prototype.exceed = function (bbox) {\n        return [\n            Math.max(-this.minY + bbox.minY, 0),\n            Math.max(this.maxX - bbox.maxX, 0),\n            Math.max(this.maxY - bbox.maxY, 0),\n            Math.max(-this.minX + bbox.minX, 0),\n        ];\n    };\n    /**\n     * 是否碰撞\n     * @param bbox\n     */\n    BBox.prototype.collide = function (bbox) {\n        return this.minX < bbox.maxX && this.maxX > bbox.minX &&\n            this.minY < bbox.maxY && this.maxY > bbox.minY;\n    };\n    /**\n     * 获取包围盒大小\n     * @returns 包围盒大小\n     */\n    BBox.prototype.size = function () {\n        return this.width * this.height;\n    };\n    /**\n     * 点是否在 bbox 中\n     * @param p\n     */\n    BBox.prototype.isPointIn = function (p) {\n        return p.x >= this.minX && p.x <= this.maxX && p.y >= this.minY && p.y <= this.maxY;\n    };\n    return BBox;\n}());\nexports.BBox = BBox;\n/**\n * 从一个 bbox 的 region 获取 bbox\n * @param bbox\n * @param region\n */\nexports.getRegionBBox = function (bbox, region) {\n    var start = region.start, end = region.end;\n    return new BBox(bbox.x + bbox.width * start.x, bbox.y + bbox.height * start.y, bbox.width * Math.abs(end.x - start.x), bbox.height * Math.abs(end.y - start.y));\n};\n/**\n * 将 bbox 转换成 points\n * @param bbox\n */\nfunction toPoints(bbox) {\n    return [\n        [bbox.minX, bbox.minY],\n        [bbox.maxX, bbox.minY],\n        [bbox.maxX, bbox.maxY],\n        [bbox.minX, bbox.maxY],\n    ];\n}\nexports.toPoints = toPoints;\n//# sourceMappingURL=bbox.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * 交互的基类。\n */\nvar Interaction = /** @class */ (function () {\n    function Interaction(view, cfg) {\n        this.view = view;\n        this.cfg = cfg;\n    }\n    /**\n     * 初始化。\n     */\n    Interaction.prototype.init = function () {\n        this.initEvents();\n    };\n    /**\n     * 绑定事件\n     */\n    Interaction.prototype.initEvents = function () { };\n    /**\n     * 销毁事件\n     */\n    Interaction.prototype.clearEvents = function () { };\n    /**\n     * 销毁。\n     */\n    Interaction.prototype.destroy = function () {\n        this.clearEvents();\n    };\n    return Interaction;\n}());\nexports.default = Interaction;\n//# sourceMappingURL=interaction.js.map","import { __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_COLOR } from './constant';\nvar Progress = /** @class */ (function (_super) {\n    __extends(Progress, _super);\n    function Progress() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** 图表类型 */\n        _this.type = 'process';\n        return _this;\n    }\n    Progress.prototype.getDefaultOptions = function () {\n        return {\n            percent: 0.2,\n            color: DEFAULT_COLOR,\n        };\n    };\n    /**\n     * 获取 进度图 的适配器\n     */\n    Progress.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Progress;\n}(Plot));\nexport { Progress };\n//# sourceMappingURL=index.js.map","import { __extends } from \"tslib\";\nimport { deepMix } from '@antv/util';\nimport { Plot } from '../core/plot';\n/**\n * 给 G2Plot 提供非常简单的开放开发的机制。目的是能够让社区和业务上自己基于 G2Plot 开发自己的定制图表库。主要分成几类图表：\n * 1. 领域专业的图表，内部同学因为没有场景，不一定能做的完善。\n * 2. 定制业务的图表，不具备通用性\n * 3. 趣味性的可视化组件\n * 然后官方可以根据社区的情况，可以进行一些官方推荐和采纳。\n *\n * 如果使用？\n *\n * ```ts\n * import { P } from '@antv/g2plot';\n * import { GeoWorldMap, GeoWorldMapOptions } from 'g2plot-geo-world-map';\n *\n * const plot = new P('container', {\n *   geoJson: '',\n *   longitude: '',\n *   latitude: '',\n * }, GeoWorldMap, defaultOptions);\n *\n * plot.render();\n * ```\n */\nvar P = /** @class */ (function (_super) {\n    __extends(P, _super);\n    /**\n     * 相比普通图表增加 adaptor 参数。\n     * @param container\n     * @param options\n     * @param adaptor\n     * @param defaultOptions\n     */\n    function P(container, options, adaptor, defaultOptions) {\n        var _this = _super.call(this, container, deepMix({}, defaultOptions, options)) || this;\n        /** 统一为 any plot */\n        _this.type = 'g2-plot';\n        _this.adaptor = adaptor;\n        return _this;\n    }\n    /**\n     * 实现父类方法，直接使用传入的\n     */\n    P.prototype.getSchemaAdaptor = function () {\n        return this.adaptor;\n    };\n    return P;\n}(Plot));\nexport { P };\n//# sourceMappingURL=index.js.map","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Don’t include the root’s parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","import { isArray, isString } from '@antv/util';\nvar INVALID_FIELD_ERR_MSG = 'Invalid field: it must be a string!';\nexport function getField(options, defaultField) {\n    var field = options.field, fields = options.fields;\n    if (isString(field)) {\n        return field;\n    }\n    if (isArray(field)) {\n        console.warn(INVALID_FIELD_ERR_MSG);\n        return field[0];\n    }\n    console.warn(INVALID_FIELD_ERR_MSG + \" will try to get fields instead.\");\n    if (isString(fields)) {\n        return fields;\n    }\n    if (isArray(fields) && fields.length) {\n        return fields[0];\n    }\n    if (defaultField) {\n        return defaultField;\n    }\n    throw new TypeError(INVALID_FIELD_ERR_MSG);\n}\nexport function getAllNodes(root) {\n    var nodes = [];\n    if (root && root.each) {\n        // d3-hierarchy\n        root.each(function (node) {\n            nodes.push(node);\n        });\n    }\n    else if (root && root.eachNode) {\n        // @antv/hierarchy\n        root.eachNode(function (node) {\n            nodes.push(node);\n        });\n    }\n    return nodes;\n}\n//# sourceMappingURL=util.js.map","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray } from '@antv/util';\nimport { getField, getAllNodes } from './util';\nvar DEFAULT_OPTIONS = {\n    field: 'value',\n    size: [1, 1],\n    round: false,\n    padding: 0,\n    sort: true,\n    as: ['x', 'y'],\n};\nexport function partition(data, options) {\n    options = assign({}, DEFAULT_OPTIONS, options);\n    var as = options.as;\n    if (!isArray(as) || as.length !== 2) {\n        throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n    }\n    var field;\n    try {\n        field = getField(options);\n    }\n    catch (e) {\n        console.warn(e);\n    }\n    var partition = function (data) {\n        return d3Hierarchy.partition().size(options.size).round(options.round).padding(options.padding)(d3Hierarchy.hierarchy(data).sum(function (d) { return d[field]; }));\n    };\n    var root = partition(data);\n    /*\n     * points:\n     *   3  2\n     *   0  1\n     */\n    var x = as[0];\n    var y = as[1];\n    root.each(function (node) {\n        node[x] = [node.x0, node.x1, node.x1, node.x0];\n        node[y] = [node.y1, node.y1, node.y0, node.y0];\n        ['x0', 'x1', 'y0', 'y1'].forEach(function (prop) {\n            if (as.indexOf(prop) === -1) {\n                delete node[prop];\n            }\n        });\n    });\n    return getAllNodes(root);\n}\n//# sourceMappingURL=partition.js.map","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n","import {shuffle} from \"../array.js\";\n\nexport default function(circles) {\n  var i = 0, n = (circles = shuffle(Array.from(circles))).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + Math.max(a.r, b.r, 1) * 1e-9, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nexport function shuffle(array) {\n  var m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","import array from \"../array.js\";\nimport enclose from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packEnclose(circles) {\n  if (!(n = (circles = array(circles)).length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle…\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // “Closeness” is determined by linear distance along the front-chain.\n    // “Ahead” or “behind” is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = enclose(a);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packEnclose(circles);\n  return circles;\n}\n","import {packEnclose} from \"./siblings.js\";\nimport {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildren(padding, 0.5))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildren(constantZero, 1))\n          .eachAfter(packChildren(padding, root.r / Math.min(dx, dy)))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildren(padding, k) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packEnclose(children);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","import {required} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar preroot = {depth: -1},\n    ambiguous = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId;\n\n  function stratify(data) {\n    var nodes = Array.from(data),\n        n = nodes.length,\n        d,\n        i,\n        root,\n        parent,\n        node,\n        nodeId,\n        nodeKey,\n        nodeByKey = new Map;\n\n    for (i = 0; i < n; ++i) {\n      d = nodes[i], node = nodes[i] = new Node(d);\n      if ((nodeId = id(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = node.id = nodeId;\n        nodeByKey.set(nodeKey, nodeByKey.has(nodeKey) ? ambiguous : node);\n      }\n      if ((nodeId = parentId(d, i, data)) != null && (nodeId += \"\")) {\n        node.parent = nodeId;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (nodeId = node.parent) {\n        parent = nodeByKey.get(nodeId);\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      } else {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = required(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = required(x), stratify) : parentId;\n  };\n\n  return stratify;\n}\n","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-’s ancestor is a sibling of v, returns vi-’s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.’s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = value ? (x0 * valueRight + x1 * valueLeft) / value : x1;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = value ? (y0 * valueRight + y1 * valueLeft) / value : y1;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n","import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += (y1 - y0) * row.value / value : y1);\n        else treemapSlice(row, x0, y0, value ? x0 += (x1 - x0) * row.value / value : x1, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray } from '@antv/util';\nimport { getField, getAllNodes } from './util';\nvar DEFAULT_OPTIONS = {\n    field: 'value',\n    tile: 'treemapSquarify',\n    size: [1, 1],\n    round: false,\n    padding: 0,\n    paddingInner: 0,\n    paddingOuter: 0,\n    paddingTop: 0,\n    paddingRight: 0,\n    paddingBottom: 0,\n    paddingLeft: 0,\n    as: ['x', 'y'],\n};\nexport function treemap(data, options) {\n    options = assign({}, DEFAULT_OPTIONS, options);\n    var as = options.as;\n    if (!isArray(as) || as.length !== 2) {\n        throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n    }\n    var field;\n    try {\n        field = getField(options);\n    }\n    catch (e) {\n        console.warn(e);\n    }\n    var partition = function (data) {\n        return d3Hierarchy\n            .treemap()\n            .tile(d3Hierarchy[options.tile])\n            .size(options.size)\n            .round(options.round)\n            .padding(options.padding)\n            .paddingInner(options.paddingInner)\n            .paddingOuter(options.paddingOuter)\n            .paddingTop(options.paddingTop)\n            .paddingRight(options.paddingRight)\n            .paddingBottom(options.paddingBottom)\n            .paddingLeft(options.paddingLeft)(d3Hierarchy.hierarchy(data).sum(function (d) { return d[field]; }));\n    };\n    var root = partition(data);\n    /*\n     * points:\n     *   3  2\n     *   0  1\n     */\n    var x = as[0];\n    var y = as[1];\n    root.each(function (node) {\n        node[x] = [node.x0, node.x1, node.x1, node.x0];\n        node[y] = [node.y1, node.y1, node.y0, node.y0];\n        ['x0', 'x1', 'y0', 'y1'].forEach(function (prop) {\n            if (as.indexOf(prop) === -1) {\n                delete node[prop];\n            }\n        });\n    });\n    return getAllNodes(root);\n}\n//# sourceMappingURL=treemap.js.map","import { __rest } from \"tslib\";\nimport { deepMix } from '@antv/util';\nimport { polygon as polygonAdaptor } from '../../adaptor/geometries';\nimport { tooltip, interaction, animation, theme, annotation } from '../../adaptor/common';\nimport { flow, findGeometry, transformLabel } from '../../utils';\nimport { transformData } from './utils';\n/**\n * geometry 配置处理\n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var color = options.color, colorField = options.colorField, sunburstStyle = options.sunburstStyle;\n    var data = transformData(options);\n    chart.data(data);\n    // geometry\n    polygonAdaptor(deepMix({}, params, {\n        options: {\n            xField: 'x',\n            yField: 'y',\n            seriesField: colorField,\n            polygon: {\n                color: color,\n                style: sunburstStyle,\n            },\n        },\n    }));\n    return params;\n}\n/**\n * axis 配置\n * @param params\n */\nexport function axis(params) {\n    var chart = params.chart;\n    chart.axis(false);\n    return params;\n}\n/**\n * legend 配置\n * @param params\n */\nexport function legend(params) {\n    var chart = params.chart;\n    chart.legend(false);\n    return params;\n}\n/**\n * 数据标签\n * @param params\n */\nfunction label(params) {\n    var chart = params.chart, options = params.options;\n    var label = options.label, seriesField = options.seriesField;\n    var geometry = findGeometry(chart, 'polygon');\n    // label 为 false, 空 则不显示 label\n    if (!label) {\n        geometry.label(false);\n    }\n    else {\n        var callback = label.callback, cfg = __rest(label, [\"callback\"]);\n        geometry.label({\n            fields: [seriesField],\n            callback: callback,\n            cfg: transformLabel(cfg),\n        });\n    }\n    return params;\n}\n/**\n * coord 配置\n * @param params\n */\nfunction coordinate(params) {\n    var chart = params.chart, options = params.options;\n    var innerRadius = options.innerRadius, radius = options.radius, reflect = options.reflect;\n    var coord = chart.coordinate({\n        type: 'polar',\n        cfg: {\n            innerRadius: innerRadius,\n            radius: radius,\n        },\n    });\n    if (reflect) {\n        coord.reflect(reflect);\n    }\n    return params;\n}\n/**\n * scale 配置\n * @param params\n */\nfunction scale(params) {\n    var chart = params.chart, options = params.options;\n    var meta = options.meta;\n    if (meta) {\n        chart.scale(meta);\n    }\n    return params;\n}\n/**\n * 旭日图适配器\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow 的方式处理所有的配置到 G2 API\n    return flow(geometry, theme, axis, scale, legend, coordinate, tooltip, label, interaction, animation, annotation())(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __assign } from \"tslib\";\nimport { partition } from './hierarchy/partition';\nimport { treemap } from './hierarchy/treemap';\n/**\n * sunburst 处理数据\n * @param options\n */\nexport function transformData(options) {\n    var data = options.data, type = options.type, seriesField = options.seriesField, colorField = options.colorField, hierarchyConfig = options.hierarchyConfig;\n    var transform = {\n        partition: partition,\n        treemap: treemap,\n    };\n    var nodes = transform[type](data, __assign(__assign({}, hierarchyConfig), { \n        // @ts-ignore\n        type: \"hierarchy.\" + type, field: seriesField, as: ['x', 'y'] }));\n    var result = [];\n    nodes.forEach(function (node) {\n        var _a;\n        var _b, _c;\n        if (node.depth === 0) {\n            return null;\n        }\n        var nodeInfo = __assign((_a = {}, _a[seriesField] = (_b = node.data) === null || _b === void 0 ? void 0 : _b[seriesField], _a[colorField] = (_c = node.data) === null || _c === void 0 ? void 0 : _c[colorField], _a), node);\n        nodeInfo.ext = hierarchyConfig;\n        if (!node.data.brand && node.parent) {\n            nodeInfo.brand = node.parent.data.brand;\n        }\n        else {\n            nodeInfo.brand = node.data.brand;\n        }\n        result.push(nodeInfo);\n    });\n    return result;\n}\n//# sourceMappingURL=utils.js.map","import { __extends } from \"tslib\";\nimport { deepMix } from '@antv/util';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nvar Sunburst = /** @class */ (function (_super) {\n    __extends(Sunburst, _super);\n    function Sunburst() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** 图表类型 */\n        _this.type = 'sunburst';\n        return _this;\n    }\n    /**\n     * 获取旭日图默认配置\n     */\n    Sunburst.prototype.getDefaultOptions = function () {\n        return deepMix({}, _super.prototype.getDefaultOptions.call(this), {\n            type: 'partition',\n            innerRadius: 0,\n            seriesField: 'value',\n            tooltip: {\n                showTitle: false,\n                showMarkers: false,\n            },\n        });\n    };\n    /**\n     * 获取旭日图的适配器\n     */\n    Sunburst.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Sunburst;\n}(Plot));\nexport { Sunburst };\n//# sourceMappingURL=index.js.map","import { each, isString } from '@antv/util';\nimport { LEVEL, log } from '../../utils';\n/**\n * 获取总计值\n * @param data\n * @param field\n */\nexport function getTotalValue(data, field) {\n    var total = null;\n    each(data, function (item) {\n        if (typeof item[field] === 'number') {\n            total += item[field];\n        }\n    });\n    return total;\n}\n/**\n * 将 字符串的百分比 转换为 数值百分比\n */\nexport function parsePercentageToNumber(percentage) {\n    log(LEVEL.WARN, !isString(percentage), 'invalid string');\n    if (!isString(percentage)) {\n        return percentage;\n    }\n    if (percentage.endsWith('%')) {\n        return Number(percentage.slice(0, -1)) * 0.01;\n    }\n    return Number(percentage);\n}\n//# sourceMappingURL=utils.js.map","import { __assign, __rest } from \"tslib\";\nimport { deepMix, every, filter, get, isFunction, isString, isNil } from '@antv/util';\nimport { legend, tooltip, interaction, animation, theme, state, annotation } from '../../adaptor/common';\nimport { flow, LEVEL, log, template, transformLabel } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { getTotalValue } from './utils';\n/**\n * 字段\n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var data = options.data, angleField = options.angleField, colorField = options.colorField, color = options.color, pieStyle = options.pieStyle;\n    // 处理不合法的数据\n    var processData = filter(data, function (d) { return typeof d[angleField] === 'number' || isNil(d[angleField]); });\n    // 打印异常数据情况\n    log(LEVEL.WARN, processData.length === data.length, 'illegal data existed in chart data.');\n    var allZero = every(processData, function (d) { return d[angleField] === 0; });\n    if (allZero) {\n        // 数据全 0 处理，调整 position 映射\n        var percentageField_1 = '$$percentage$$';\n        processData = processData.map(function (d) {\n            var _a;\n            return (__assign(__assign({}, d), (_a = {}, _a[percentageField_1] = 1 / processData.length, _a)));\n        });\n        chart.data(processData);\n        var p = deepMix({}, params, {\n            options: {\n                xField: '1',\n                yField: percentageField_1,\n                seriesField: colorField,\n                isStack: true,\n                interval: {\n                    color: color,\n                    style: pieStyle,\n                },\n            },\n        });\n        interval(p);\n        // all zero 额外处理\n        chart.geometries[0].tooltip(colorField + \"*\" + angleField);\n    }\n    else {\n        chart.data(processData);\n        var p = deepMix({}, params, {\n            options: {\n                xField: '1',\n                yField: angleField,\n                seriesField: colorField,\n                isStack: true,\n                interval: {\n                    color: color,\n                    style: pieStyle,\n                },\n            },\n        });\n        interval(p);\n    }\n    return params;\n}\n/**\n * meta 配置\n * @param params\n */\nfunction meta(params) {\n    var _a;\n    var chart = params.chart, options = params.options;\n    var meta = options.meta, colorField = options.colorField;\n    // meta 直接是 scale 的信息\n    var scales = deepMix({}, meta);\n    chart.scale(scales, (_a = {},\n        _a[colorField] = { type: 'cat' },\n        _a));\n    return params;\n}\n/**\n * coord 配置\n * @param params\n */\nfunction coordinate(params) {\n    var chart = params.chart, options = params.options;\n    var radius = options.radius, innerRadius = options.innerRadius;\n    chart.coordinate({\n        type: 'theta',\n        cfg: {\n            radius: radius,\n            innerRadius: innerRadius,\n        },\n    });\n    return params;\n}\n/**\n * label 配置\n * @param params\n */\nfunction label(params) {\n    var chart = params.chart, options = params.options;\n    var label = options.label, colorField = options.colorField, angleField = options.angleField;\n    var geometry = chart.geometries[0];\n    // label 为 false, 空 则不显示 label\n    if (!label) {\n        geometry.label(false);\n    }\n    else {\n        var callback = label.callback, cfg = __rest(label, [\"callback\"]);\n        var labelCfg = transformLabel(cfg);\n        // ① 提供模板字符串的 label content 配置\n        if (labelCfg.content) {\n            var content_1 = labelCfg.content;\n            labelCfg.content = function (data, dataum, index) {\n                var name = data[colorField];\n                var value = data[angleField];\n                // dymatic get scale, scale is ready this time\n                var angleScale = chart.getScaleByField(angleField);\n                var percent = angleScale === null || angleScale === void 0 ? void 0 : angleScale.scale(value);\n                return isFunction(content_1)\n                    ? // append pecent (number) to data, users can get origin data from `dataum._origin`\n                        content_1(__assign(__assign({}, data), { percent: percent }), dataum, index)\n                    : isString(content_1)\n                        ? template(content_1, {\n                            value: value,\n                            name: name,\n                            // percentage (string), default keep 2\n                            percentage: percent ? (percent * 100).toFixed(2) + \"%\" : null,\n                        })\n                        : content_1;\n            };\n        }\n        // ② 转换 label type 和 layout type\n        var LABEL_TYPE_MAP = {\n            inner: 'pie-inner',\n            outer: 'pie',\n            spider: 'pie',\n        };\n        var LABEL_LAYOUT_TYPE_MAP = {\n            inner: '',\n            outer: 'pie-outer',\n            spider: 'pie-spider',\n        };\n        var labelType = LABEL_TYPE_MAP[labelCfg.type] || 'pie';\n        var labelLayoutType = LABEL_LAYOUT_TYPE_MAP[labelCfg.type] || 'pie-outer';\n        labelCfg.type = labelType;\n        labelCfg.layout = deepMix({}, labelCfg.layout, { type: labelLayoutType });\n        geometry.label({\n            // fix: could not create scale, when field is undefined（attributes 中的 fields 定义都会被用来创建 scale）\n            fields: colorField ? [angleField, colorField] : [angleField],\n            callback: callback,\n            cfg: labelCfg,\n        });\n    }\n    return params;\n}\n/**\n * statistic 中心文本配置\n * @param params\n */\nfunction statistic(params) {\n    var chart = params.chart, options = params.options;\n    var innerRadius = options.innerRadius, statistic = options.statistic, angleField = options.angleField, colorField = options.colorField;\n    var annotationOptions = [];\n    /** 中心文本 指标卡 */\n    if (innerRadius && statistic) {\n        var title_1 = statistic.title, content_2 = statistic.content;\n        [title_1, content_2].forEach(function (option, index) {\n            if (option === false) {\n                return;\n            }\n            var style = option.style, formatter = option.formatter, offsetX = option.offsetX, offsetY = option.offsetY, rotate = option.rotate;\n            var lineHeight = get(option, 'style.fontSize', 20);\n            var getDefaultContent = function (data, datum) {\n                if (index === 0) {\n                    return datum ? datum[colorField] : '总计';\n                }\n                return datum ? datum[angleField] : getTotalValue(data, angleField);\n            };\n            chart.annotation().text(deepMix({}, {\n                style: {\n                    textAlign: 'center',\n                },\n                offsetY: index === 0 ? (content_2 === false ? 0 : -lineHeight) : title_1 === false ? 0 : lineHeight,\n            }, {\n                position: ['50%', '50%'],\n                content: function (filterData, datum) {\n                    return formatter ? formatter(datum, filterData) : getDefaultContent(filterData, datum);\n                },\n                style: style,\n                offsetX: offsetX,\n                offsetY: offsetY,\n                rotate: rotate,\n                // append-info\n                key: 'statistic',\n            }));\n        });\n    }\n    return flow(annotation(annotationOptions))(params);\n}\n/**\n * 饼图适配器\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow 的方式处理所有的配置到 G2 API\n    return flow(geometry, meta, theme, coordinate, legend, tooltip, label, state, annotation(), \n    /** 指标卡中心文本 放在下层 */\n    statistic, interaction, animation)(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __extends } from \"tslib\";\nimport { Util } from '@antv/g2';\nimport { Action } from '@antv/g2/lib/interaction';\nimport { getDelegationObject } from '@antv/g2/lib/interaction/action/util';\nimport { isEqual } from '@antv/util';\nimport { groupTransform } from '../../../utils/g-util';\n/**\n * 饼图 图例激活 action\n */\nvar PieLegendAction = /** @class */ (function (_super) {\n    __extends(PieLegendAction, _super);\n    function PieLegendAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * 获取激活的图形元素\n     */\n    PieLegendAction.prototype.getActiveElements = function () {\n        var delegateObject = getDelegationObject(this.context);\n        if (delegateObject) {\n            var view = this.context.view;\n            var component = delegateObject.component, item_1 = delegateObject.item;\n            var field_1 = component.get('field');\n            if (field_1) {\n                var elements = view.geometries[0].elements;\n                return elements.filter(function (ele) { return ele.getModel().data[field_1] === item_1.value; });\n            }\n        }\n        return [];\n    };\n    /**\n     * 获取激活的标签\n     */\n    PieLegendAction.prototype.getActiveElementLabels = function () {\n        var view = this.context.view;\n        var elements = this.getActiveElements();\n        var labels = view.geometries[0].labelsContainer.getChildren();\n        return labels.filter(function (label) { return elements.find(function (ele) { return isEqual(ele.getData(), label.get('data')); }); });\n    };\n    PieLegendAction.prototype.transfrom = function (offset) {\n        if (offset === void 0) { offset = 7.5; }\n        var elements = this.getActiveElements();\n        var elementLabels = this.getActiveElementLabels();\n        elements.forEach(function (element, idx) {\n            var labelShape = elementLabels[idx];\n            var coordinate = element.geometry.coordinate;\n            if (coordinate.isPolar && coordinate.isTransposed) {\n                var _a = Util.getAngle(element.getModel(), coordinate), startAngle = _a.startAngle, endAngle = _a.endAngle;\n                var middleAngle = (startAngle + endAngle) / 2;\n                var r = offset;\n                var x = r * Math.cos(middleAngle);\n                var y = r * Math.sin(middleAngle);\n                groupTransform(element.shape, [['t', x, y]]);\n                groupTransform(labelShape, [['t', x, y]]);\n            }\n        });\n    };\n    PieLegendAction.prototype.active = function () {\n        this.transfrom();\n    };\n    /**\n     * 激活态还原\n     */\n    PieLegendAction.prototype.reset = function () {\n        this.transfrom(0);\n    };\n    return PieLegendAction;\n}(Action));\nexport { PieLegendAction };\n//# sourceMappingURL=pie-legend-action.js.map","import { __assign, __extends } from \"tslib\";\nimport { Action } from '@antv/g2/lib/interaction';\nimport { each, get, isFunction } from '@antv/util';\n/**\n * Pie 中心文本事件的 Action\n */\nvar StatisticAction = /** @class */ (function (_super) {\n    __extends(StatisticAction, _super);\n    function StatisticAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StatisticAction.prototype.getAnnotations = function () {\n        var view = this.context.view;\n        return view.getComponents().filter(function (co) { return co.type === 'annotation'; });\n    };\n    StatisticAction.prototype.getInitialAnnotation = function () {\n        return this.initialAnnotation;\n    };\n    StatisticAction.prototype.init = function () {\n        var view = this.context.view;\n        view.removeInteraction('tooltip');\n    };\n    StatisticAction.prototype.change = function () {\n        var _a = this.context, view = _a.view, event = _a.event;\n        var annotations = this.getAnnotations();\n        if (!this.initialAnnotation) {\n            this.initialAnnotation = annotations;\n        }\n        var data = event.data.data;\n        if (data) {\n            var annotationController_1 = view.getController('annotation');\n            annotationController_1.clear(true);\n            // @ts-ignore\n            var _b = view.getScaleFields(), angleField_1 = _b[1], colorField_1 = _b[2];\n            var angleScale_1 = view.getScaleByField(angleField_1);\n            var colorScale_1 = view.getScaleByField(colorField_1);\n            var annotationOptions_1 = annotations.filter(function (a) { return get(a, 'extra.key') !== 'statistic'; }).map(function (a) { return a.extra; });\n            var statisticOptions = annotations.filter(function (a) { return get(a, 'extra.key') === 'statistic'; }).map(function (a) { return a.extra || {}; });\n            each(statisticOptions, function (options, idx) {\n                var value;\n                if (idx === 0) {\n                    // title\n                    value = colorScale_1 ? colorScale_1.getText(data[colorField_1]) : null;\n                }\n                else {\n                    value = angleScale_1 ? angleScale_1.getText(data[angleField_1]) : data[angleField_1];\n                }\n                annotationOptions_1.push(__assign(__assign({}, options), { content: isFunction(options.content) ? options.content(view.getData(), data) : value }));\n            });\n            annotationOptions_1.forEach(function (opt) {\n                // todo remove ignore\n                // @ts-ignore\n                annotationController_1.annotation(opt);\n            });\n            view.render(true);\n        }\n    };\n    StatisticAction.prototype.reset = function () {\n        var view = this.context.view;\n        var annotationController = view.getController('annotation');\n        annotationController.clear(true);\n        var initialStatistic = this.getInitialAnnotation();\n        each(initialStatistic, function (a) {\n            view.annotation().text(get(a, 'extra', {}));\n        });\n        view.render(true);\n    };\n    return StatisticAction;\n}(Action));\nexport { StatisticAction };\n//# sourceMappingURL=pie-statistic-action.js.map","import { registerAction, registerInteraction } from '@antv/g2';\nimport { PieLegendAction } from './pie-legend-action';\nimport { StatisticAction } from './pie-statistic-action';\nregisterAction('pie-statistic', StatisticAction);\nregisterInteraction('pie-statistic-active', {\n    start: [{ trigger: 'element:mouseenter', action: 'pie-statistic:change' }],\n    end: [{ trigger: 'element:mouseleave', action: 'pie-statistic:reset' }],\n});\nregisterAction('pie-legend', PieLegendAction);\nregisterInteraction('pie-legend-active', {\n    start: [{ trigger: 'legend-item:mouseenter', action: 'pie-legend:active' }],\n    end: [{ trigger: 'legend-item:mouseleave', action: 'pie-legend:reset' }],\n});\n//# sourceMappingURL=index.js.map","import { __extends } from \"tslib\";\nimport { getGeometryLabel } from '@antv/g2';\nimport { deepMix, isNil, isString } from '@antv/util';\nimport { parsePercentageToNumber } from '../utils';\nvar PieLabel = getGeometryLabel('pie');\nvar PieInnerLabel = /** @class */ (function (_super) {\n    __extends(PieInnerLabel, _super);\n    function PieInnerLabel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.defaultLayout = 'pie-inner';\n        return _this;\n    }\n    /**\n     * 获取 label 的默认配置\n     * - 饼图 inner-label 强制不显示 label 牵引线\n     */\n    PieInnerLabel.prototype.getDefaultLabelCfg = function () {\n        var cfg = _super.prototype.getDefaultLabelCfg.call(this);\n        return deepMix({}, cfg, { labelLine: false });\n    };\n    /**\n     * 获取标签 offset距离（默认 -30% ）\n     * todo G2 offset 允许百分比设置后，移除 ts-ignore\n     */\n    // @ts-ignore\n    PieInnerLabel.prototype.getDefaultOffset = function (offset) {\n        var coordinate = this.getCoordinate();\n        var radius = coordinate.getRadius();\n        var innerRadius = 0;\n        var actualOffset = offset;\n        if (isString(actualOffset)) {\n            // 存在 innerRadius\n            if (coordinate.innerRadius) {\n                innerRadius = radius * (coordinate.innerRadius / coordinate.radius);\n                actualOffset = (radius - innerRadius) * (parsePercentageToNumber(actualOffset) + (coordinate.radius - 1));\n            }\n            else {\n                actualOffset = radius * parsePercentageToNumber(actualOffset);\n            }\n        }\n        return isNil(actualOffset) || actualOffset > 0 ? -(radius - innerRadius) * 0.3 : actualOffset;\n    };\n    return PieInnerLabel;\n}(PieLabel));\nexport { PieInnerLabel };\n//# sourceMappingURL=inner-label.js.map","import { registerGeometryLabel } from '@antv/g2';\nimport { PieInnerLabel } from './inner-label';\nregisterGeometryLabel('pie-inner', PieInnerLabel);\n//# sourceMappingURL=index.js.map","import { __extends } from \"tslib\";\nimport { deepMix } from '@antv/util';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport './interactions';\nimport './label';\nvar Pie = /** @class */ (function (_super) {\n    __extends(Pie, _super);\n    function Pie() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** 图表类型 */\n        _this.type = 'pie';\n        return _this;\n    }\n    /**\n     * 获取 饼图 默认配置项\n     */\n    Pie.prototype.getDefaultOptions = function () {\n        return deepMix({}, _super.prototype.getDefaultOptions.call(this), {\n            legend: {\n                position: 'right',\n            },\n            tooltip: {\n                shared: false,\n                showTitle: false,\n            },\n            /** 饼图样式, 不影响暗黑主题 */\n            pieStyle: {\n                stroke: 'white',\n                lineWidth: 1,\n            },\n            /** 饼图中心文本默认样式 */\n            statistic: {\n                title: {\n                    style: { fontSize: 14, fontWeight: 300, fill: '#4D4D4D', textAlign: 'center' },\n                },\n                content: {\n                    style: { fontSize: 21, fontWeight: 'bold', fill: '#4D4D4D', textAlign: 'center' },\n                },\n            },\n        });\n    };\n    /**\n     * 获取 饼图 的适配器\n     */\n    Pie.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Pie;\n}(Plot));\nexport { Pie };\n//# sourceMappingURL=index.js.map","export var AxisType;\n(function (AxisType) {\n    AxisType[\"Left\"] = \"Left\";\n    AxisType[\"Right\"] = \"Right\";\n})(AxisType || (AxisType = {}));\nexport var DualAxesGeometry;\n(function (DualAxesGeometry) {\n    DualAxesGeometry[\"Line\"] = \"line\";\n    DualAxesGeometry[\"Column\"] = \"column\";\n})(DualAxesGeometry || (DualAxesGeometry = {}));\n//# sourceMappingURL=types.js.map","import { __assign } from \"tslib\";\nimport { deepMix, get } from '@antv/util';\nimport { DualAxesGeometry, AxisType, } from '../types';\n/**\n * 根据 GeometryOption 判断 geometry 是否为 line\n */\nexport function isLine(geometryOption) {\n    return get(geometryOption, 'geometry') === DualAxesGeometry.Line;\n}\n/**\n * 根据 GeometryOption 判断 geometry 是否为 Column\n */\nexport function isColumn(geometryOption) {\n    return get(geometryOption, 'geometry') === DualAxesGeometry.Column;\n}\n/**\n * 获取 GeometryOption\n * @param geometryOption\n * @param axis\n */\nexport function getGeometryOption(geometryOption, axis) {\n    // 空默认为线\n    return isColumn(geometryOption)\n        ? __assign({ geometry: DualAxesGeometry.Column }, geometryOption) : __assign({ geometry: DualAxesGeometry.Line, color: axis === AxisType.Left ? '#5B8FF9' : '#E76C5E' }, geometryOption);\n}\n/**\n * 主要因为双轴图的 yAxis 和 geometryOptions 是数组，所以需要额外分别进行设置默认值\n * 1. yAxis\n * 2. geometryOptions\n * @param options\n */\nexport function getOption(options) {\n    // TODO antvis util 中 map 没有办法处理 undefined！！！\n    var _a = options.yAxis, yAxis = _a === void 0 ? [] : _a, _b = options.geometryOptions, geometryOptions = _b === void 0 ? [] : _b;\n    var DEFAULT_YAXIS_CONFIG = {\n        nice: true,\n        label: {\n            autoHide: true,\n            autoRotate: false,\n        },\n    };\n    var formatOptions = deepMix({}, options, {\n        // yAxis\n        yAxis: [\n            yAxis[0] !== false ? deepMix({}, DEFAULT_YAXIS_CONFIG, yAxis[0]) : false,\n            yAxis[1] !== false ? deepMix({}, DEFAULT_YAXIS_CONFIG, yAxis[1]) : false,\n        ],\n        // geometryOptions\n        geometryOptions: [\n            getGeometryOption(geometryOptions[0], AxisType.Left),\n            getGeometryOption(geometryOptions[1], AxisType.Right),\n        ],\n    });\n    return formatOptions;\n}\n//# sourceMappingURL=option.js.map","import { reduce, get } from '@antv/util';\nimport { getLegendItems } from '@antv/g2/lib/util/legend';\nimport { findGeometry } from '../../../utils';\nimport { isLine } from './option';\n/**\n * 获取 view 的 legendItem，供存在不含有 seriesField 的图形使用\n * @param params\n */\nexport function getViewLegendItems(params) {\n    var view = params.view, geometryOption = params.geometryOption, yField = params.yField, legend = params.legend;\n    var userMarker = get(legend, 'marker');\n    var geometry = findGeometry(view, isLine(geometryOption) ? 'line' : 'interval');\n    if (!geometryOption.seriesField) {\n        // 返回 g2 设置的图例\n        var color = geometryOption.color;\n        var marker = userMarker ||\n            (isLine(geometryOption)\n                ? {\n                    symbol: function (x, y, r) {\n                        return [\n                            ['M', x - r, y],\n                            ['L', x + r, y],\n                        ];\n                    },\n                    style: {\n                        lineWidth: 2,\n                        r: 6,\n                        stroke: color,\n                    },\n                }\n                : { symbol: 'square' });\n        return [\n            {\n                value: yField,\n                name: get(view, \"options.scales.\" + yField + \".alias\") || yField,\n                marker: marker,\n                isGeometry: true,\n                viewId: view.id,\n            },\n        ];\n    }\n    var attributes = geometry.getGroupAttributes();\n    return reduce(attributes, function (items, attr) {\n        var attrItems = getLegendItems(view, geometry, attr, view.getTheme(), userMarker);\n        return items.concat(attrItems);\n    }, []);\n}\n//# sourceMappingURL=legend.js.map","import { __assign, __rest } from \"tslib\";\nimport { deepMix, each } from '@antv/util';\nimport { point, line, interval } from '../../../adaptor/geometries';\nimport { pick, findGeometry } from '../../../utils';\nimport { isLine, isColumn } from './option';\n/**\n * 绘制单个图形\n * @param params\n */\nexport function drawSingleGeometry(params) {\n    var options = params.options, chart = params.chart;\n    var geometryOption = options.geometryOption, yField = options.yField;\n    var isStack = geometryOption.isStack;\n    var FIELD_KEY = ['xField', 'yField'];\n    if (isLine(geometryOption)) {\n        // 绘制线\n        line(deepMix({}, params, {\n            options: __assign(__assign(__assign({}, pick(options, FIELD_KEY)), pick(geometryOption, ['seriesField', 'connectNulls', 'smooth'])), { line: {\n                    color: geometryOption.color,\n                    style: geometryOption.lineStyle,\n                } }),\n        }));\n        // 绘制点\n        point(deepMix({}, params, {\n            options: __assign(__assign({}, pick(options, FIELD_KEY)), { point: geometryOption.point }),\n        }));\n        // 处理 isStack\n        if (isStack) {\n            each(chart.geometries, function (g) {\n                g.adjust('stack');\n            });\n        }\n    }\n    if (isColumn(geometryOption)) {\n        interval(deepMix({}, params, {\n            options: __assign(__assign(__assign({}, pick(options, FIELD_KEY)), pick(geometryOption, ['seriesField', 'isGroup', 'isStack'])), { marginRatio: geometryOption.marginRatio, widthRatio: geometryOption.columnWidthRatio, interval: __assign(__assign({}, pick(geometryOption, ['color'])), { style: geometryOption.columnStyle }) }),\n        }));\n    }\n    // 绘制 label\n    var mainGeometry = findGeometry(chart, 'line') || findGeometry(chart, 'interval');\n    if (!geometryOption.label) {\n        mainGeometry.label(false);\n    }\n    else {\n        var _a = geometryOption.label, callback = _a.callback, cfg = __rest(_a, [\"callback\"]);\n        mainGeometry.label({\n            fields: [yField],\n            callback: callback,\n            cfg: cfg,\n        });\n    }\n    return params;\n}\n//# sourceMappingURL=geometry.js.map","import { __assign } from \"tslib\";\nimport { deepMix, each, findIndex, get } from '@antv/util';\nimport { theme as commonTheme, animation as commonAnimation, scale, interaction as commonInteraction, } from '../../adaptor/common';\nimport { flow, transformTooltip } from '../../utils';\nimport { findViewById } from '../../utils/view';\nimport { getOption } from './util/option';\nimport { getViewLegendItems } from './util/legend';\nimport { drawSingleGeometry } from './util/geometry';\nimport { LEFT_AXES_VIEW, RIGHT_AXES_VIEW } from './constant';\n/**\n * 获取默认参数设置\n * 双轴图无法使用公共的 getDefaultOption, 因为双轴图存在[lineConfig, lineConfig] 这样的数据，需要根据传入的 option，生成不同的 defaultOption,\n * 并且 deepmix 无法 mix 数组类型数据，因此需要做一次参数的后转换\n * 这个函数针对 yAxis 和 geometryOptions\n * @param params\n */\nexport function transformOptions(params) {\n    return deepMix({}, params, {\n        options: getOption(params.options),\n    });\n}\n/**\n * 绘制图形\n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var xField = options.xField, yField = options.yField, geometryOptions = options.geometryOptions, data = options.data;\n    var SORT_MAP = { line: 0, column: 1 };\n    // 包含配置，id，数据的结构\n    var geometries = [\n        __assign(__assign({}, geometryOptions[0]), { id: LEFT_AXES_VIEW, data: data[0] }),\n        __assign(__assign({}, geometryOptions[1]), { id: RIGHT_AXES_VIEW, data: data[1] }),\n    ];\n    // 将线的 view 放置在更上一层，防止线柱遮挡。先柱后先\n    geometries\n        .sort(function (a, b) { return -SORT_MAP[a.geometry] + SORT_MAP[b.geometry]; })\n        .forEach(function (_a) {\n        var id = _a.id, data = _a.data;\n        chart.createView({ id: id }).data(data);\n    });\n    var leftView = findViewById(chart, LEFT_AXES_VIEW);\n    var rightView = findViewById(chart, RIGHT_AXES_VIEW);\n    // 左轴图形\n    drawSingleGeometry({\n        chart: leftView,\n        options: {\n            xField: xField,\n            yField: yField[0],\n            geometryOption: geometryOptions[0],\n        },\n    });\n    // 右轴图形\n    drawSingleGeometry({\n        chart: rightView,\n        options: {\n            xField: xField,\n            yField: yField[1],\n            geometryOption: geometryOptions[1],\n        },\n    });\n    return params;\n}\n/**\n * meta 配置\n * @param params\n */\nexport function meta(params) {\n    var _a, _b;\n    var chart = params.chart, options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField;\n    scale((_a = {},\n        _a[xField] = xAxis,\n        _a[yField[0]] = yAxis[0],\n        _a))(deepMix({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n    scale((_b = {},\n        _b[xField] = xAxis,\n        _b[yField[1]] = yAxis[1],\n        _b))(deepMix({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n    return params;\n}\n/**\n * axis 配置\n * @param params\n */\nexport function axis(params) {\n    var chart = params.chart, options = params.options;\n    var leftView = findViewById(chart, LEFT_AXES_VIEW);\n    var rightView = findViewById(chart, RIGHT_AXES_VIEW);\n    var xField = options.xField, yField = options.yField, xAxis = options.xAxis, yAxis = options.yAxis;\n    // 固定位置\n    if (xAxis) {\n        deepMix(xAxis, { position: 'bottom' }); // 直接修改到 xAxis 中\n    }\n    if (yAxis[0]) {\n        yAxis[0] = deepMix({}, yAxis[0], { position: 'left' });\n    }\n    // 隐藏右轴 grid，留到 g2 解决\n    if (yAxis[1]) {\n        yAxis[1] = deepMix({}, yAxis[1], { position: 'right', grid: null });\n    }\n    chart.axis(xField, false);\n    chart.axis(yField[0], false);\n    chart.axis(yField[1], false);\n    // 左 View\n    leftView.axis(xField, xAxis);\n    leftView.axis(yField[0], yAxis[0]);\n    // 右 Y 轴\n    rightView.axis(xField, false);\n    rightView.axis(yField[1], yAxis[1]);\n    return params;\n}\n/**\n * tooltip 配置\n * @param params\n */\nexport function tooltip(params) {\n    var chart = params.chart, options = params.options;\n    var tooltip = options.tooltip;\n    var leftView = findViewById(chart, LEFT_AXES_VIEW);\n    var rightView = findViewById(chart, RIGHT_AXES_VIEW);\n    if (tooltip !== undefined) {\n        chart.tooltip(transformTooltip(tooltip));\n        // 在 view 上添加 tooltip，使得 shared 和 interaction active-region 起作用\n        // view 应该继承 chart 里的 shared，但是从表现看来，继承有点问题\n        leftView.tooltip({\n            shared: true,\n        });\n        rightView.tooltip({\n            shared: true,\n        });\n    }\n    return params;\n}\n/**\n * interaction 配置\n * @param params\n */\nexport function interaction(params) {\n    var chart = params.chart;\n    commonInteraction(deepMix({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n    commonInteraction(deepMix({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n    return params;\n}\n/**\n * theme\n * @param params\n */\nexport function theme(params) {\n    var chart = params.chart;\n    commonTheme(deepMix({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n    commonTheme(deepMix({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n    return params;\n}\nexport function animation(params) {\n    var chart = params.chart;\n    commonAnimation(deepMix({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n    commonAnimation(deepMix({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n    return params;\n}\n/**\n * legend 配置\n * 使用 custom，便于和类似于分组柱状图-单折线图的逻辑统一\n * @param params\n */\nexport function legend(params) {\n    var chart = params.chart, options = params.options;\n    var legend = options.legend, geometryOptions = options.geometryOptions, yField = options.yField;\n    var leftView = findViewById(chart, LEFT_AXES_VIEW);\n    var rightView = findViewById(chart, RIGHT_AXES_VIEW);\n    if (legend === false) {\n        chart.legend(false);\n    }\n    else {\n        // 存在单折线图或多折线图时，使用自定义图例\n        chart.once('beforepaint', function () {\n            var leftItems = getViewLegendItems({\n                view: leftView,\n                geometryOption: geometryOptions[0],\n                yField: yField[0],\n                legend: legend,\n            });\n            var rightItems = getViewLegendItems({\n                view: rightView,\n                geometryOption: geometryOptions[1],\n                yField: yField[1],\n                legend: legend,\n            });\n            chart.legend(deepMix({}, legend, {\n                custom: true,\n                // todo 修改类型定义\n                // @ts-ignore\n                items: leftItems.concat(rightItems),\n            }));\n        });\n        // // 自定义图例交互\n        chart.on('legend-item:click', function (evt) {\n            var delegateObject = evt.gEvent.delegateObject;\n            if (delegateObject && delegateObject.item) {\n                var _a = delegateObject.item, field_1 = _a.value, isGeometry = _a.isGeometry, viewId = _a.viewId;\n                // geometry 的时候，直接使用 view.changeVisible\n                if (isGeometry) {\n                    var idx = findIndex(yField, function (yF) { return yF === field_1; });\n                    if (idx > -1) {\n                        var geometries = get(findViewById(chart, viewId), 'geometries');\n                        each(geometries, function (g) {\n                            g.changeVisible(!delegateObject.item.unchecked);\n                        });\n                    }\n                    return;\n                }\n                // 分组柱线图\n                each(chart.views, function (view) {\n                    // 单折柱图\n                    var groupScale = view.getGroupScales();\n                    each(groupScale, function (scale) {\n                        if (scale.values && scale.values.indexOf(field_1) > -1) {\n                            view.filter(scale.field, function (value) { return !delegateObject.item.unchecked || value !== field_1; });\n                        }\n                    });\n                    chart.render(true);\n                });\n            }\n        });\n    }\n    return params;\n}\n/**\n * 双折线图适配器\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // transformOptions 一定在最前面处理\n    return flow(transformOptions, geometry, meta, axis, tooltip, interaction, theme, animation, legend)(params);\n}\n//# sourceMappingURL=adaptor.js.map","export var LEFT_AXES_VIEW = 'left-axes-view';\nexport var RIGHT_AXES_VIEW = 'right-axes-view';\n//# sourceMappingURL=constant.js.map","import { __extends } from \"tslib\";\nimport { deepMix, every, some } from '@antv/util';\nimport { Plot } from '../../core/plot';\nimport { DualAxesGeometry } from './types';\nimport { adaptor } from './adaptor';\nvar DualAxes = /** @class */ (function (_super) {\n    __extends(DualAxes, _super);\n    function DualAxes() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** 图表类型: 双轴图 */\n        _this.type = 'dual-axes';\n        return _this;\n    }\n    /**\n     * 获取 双轴图 默认配置\n     */\n    DualAxes.prototype.getDefaultOptions = function (options) {\n        var _a;\n        var _b = options.geometryOptions, geometryOptions = _b === void 0 ? [] : _b, xField = options.xField;\n        var hasColumn = some(geometryOptions, function (_a) {\n            var geometry = _a.geometry;\n            return geometry === DualAxesGeometry.Column;\n        });\n        var allLine = every(geometryOptions, function (_a) {\n            var geometry = _a.geometry;\n            return geometry === DualAxesGeometry.Line || geometry === undefined;\n        });\n        return deepMix({}, _super.prototype.getDefaultOptions.call(this, options), {\n            yAxis: [],\n            geometryOptions: [],\n            meta: (_a = {},\n                _a[xField] = {\n                    // x 轴一定是同步 scale 的\n                    sync: true,\n                    // 如果有没有柱子，则\n                    range: allLine ? [0, 1] : undefined,\n                },\n                _a),\n            tooltip: {\n                showMarkers: allLine,\n                // 存在柱状图，不显示 crosshairs\n                showCrosshairs: !hasColumn,\n                shared: true,\n                crosshairs: {\n                    type: 'x',\n                },\n            },\n            interactions: hasColumn\n                ? [{ type: 'legend-visible-filter' }, { type: 'active-region' }]\n                : [{ type: 'legend-visible-filter' }],\n            syncViewPadding: true,\n        });\n    };\n    /**\n     * 获取双轴图的适配器\n     */\n    DualAxes.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return DualAxes;\n}(Plot));\nexport { DualAxes };\n//# sourceMappingURL=index.js.map","/**\n * 转置处理, 适用于普通折线图，动态高度折线图\n * @param params\n */\nexport function transpose(params) {\n    var chart = params.chart, options = params.options;\n    var transpose = options.transpose;\n    if (!transpose) {\n        chart.coordinate('rect').transpose().scale(1, -1);\n    }\n    return params;\n}\n//# sourceMappingURL=util.js.map","import { __rest } from \"tslib\";\nimport { deepMix, map } from '@antv/util';\nimport { isFunction } from '@antv/util';\nimport { flow, findGeometry } from '../../../utils';\nimport { FUNNEL_PERCENT } from '../constant';\nimport { transpose } from './util';\n/**\n * 处理数据\n * @param params\n */\nfunction format(params) {\n    var options = params.options;\n    var _a = options.data, data = _a === void 0 ? [] : _a, yField = options.yField;\n    var formatData = [];\n    // format 数据\n    if (data[0][yField]) {\n        formatData = map(data, function (row) {\n            if (row[yField] !== undefined) {\n                row[FUNNEL_PERCENT] = row[yField] / data[0][yField];\n            }\n            return row;\n        });\n    }\n    return deepMix({}, params, {\n        options: {\n            formatData: formatData,\n        },\n    });\n}\n/**\n * geometry处理\n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var _a = options.formatData, formatData = _a === void 0 ? [] : _a, xField = options.xField, yField = options.yField, color = options.color;\n    // 绘制漏斗图\n    chart.data(formatData);\n    chart\n        .interval()\n        .adjust('symmetric')\n        .position(xField + \"*\" + yField + \"*\" + FUNNEL_PERCENT)\n        .shape('funnel')\n        .color(xField, color);\n    return params;\n}\n/**\n * label 处理\n * @param params\n */\nfunction label(params) {\n    var chart = params.chart, options = params.options;\n    var label = options.label, yField = options.yField, xField = options.xField;\n    var geometry = findGeometry(chart, 'interval');\n    if (!label) {\n        geometry.label(false);\n    }\n    else {\n        var callback = label.callback, cfg = __rest(label, [\"callback\"]);\n        geometry.label({\n            fields: [xField, yField, FUNNEL_PERCENT],\n            callback: callback,\n            cfg: cfg,\n        });\n    }\n    return params;\n}\n/**\n * annotation 处理\n * @param params\n */\nfunction annotation(params) {\n    var chart = params.chart, options = params.options;\n    var _a = options.formatData, formatData = _a === void 0 ? [] : _a, xField = options.xField, yField = options.yField, annotation = options.annotation;\n    if (annotation !== false) {\n        formatData.forEach(function (obj) {\n            chart.annotation().text({\n                top: true,\n                position: [obj[xField], 'median'],\n                content: isFunction(annotation) ? annotation(obj[xField], obj[yField], obj[FUNNEL_PERCENT], obj) : annotation,\n                style: {\n                    stroke: null,\n                    fill: '#fff',\n                    textAlign: 'center',\n                },\n            });\n        });\n    }\n    return params;\n}\n/**\n * 基础漏斗\n * @param chart\n * @param options\n */\nexport function basicFunnel(params) {\n    // flow 的方式处理所有的配置到 G2 API\n    return flow(format, geometry, transpose, label, annotation)(params);\n}\n//# sourceMappingURL=basic.js.map","// 漏斗转化率: data[n][yField] / data[0][yField]\nexport var FUNNEL_PERCENT = '$$percentage$$';\n// 漏斗单项占总体和的百分比，用于动态漏斗图计算高度：\n// data[n][yField] / sum(data[0-n][yField])\nexport var FUNNEL_TOTAL_PERCENT = '$$total_percentage$$';\n//# sourceMappingURL=constant.js.map","import { __rest } from \"tslib\";\nimport { deepMix, map } from '@antv/util';\nimport { flow } from '../../../utils';\nimport { FUNNEL_PERCENT } from '../constant';\n/**\n * 处理数据\n * @param params\n */\nfunction format(params) {\n    var options = params.options;\n    var _a = options.data, data = _a === void 0 ? [] : _a, yField = options.yField, compareField = options.compareField;\n    var formatData = [];\n    if (data[0][yField]) {\n        // format 数据\n        var firstRecord_1 = {};\n        formatData = map(data, function (row) {\n            if (row[yField] !== undefined && row[compareField]) {\n                if (!firstRecord_1[row[compareField]]) {\n                    firstRecord_1[row[compareField]] = row[yField];\n                }\n                row[FUNNEL_PERCENT] = row[yField] / firstRecord_1[row[compareField]];\n            }\n            return row;\n        });\n    }\n    return deepMix({}, params, {\n        options: {\n            formatData: formatData,\n        },\n    });\n}\n/**\n * geometry处理\n * @param params\n */\nfunction geometry(params) {\n    var _a;\n    var chart = params.chart, options = params.options;\n    var _b = options.formatData, formatData = _b === void 0 ? [] : _b, xField = options.xField, yField = options.yField, color = options.color, compareField = options.compareField, label = options.label, transpose = options.transpose;\n    // 绘制漏斗图\n    chart.data(formatData);\n    chart.scale((_a = {},\n        _a[yField] = {\n            sync: true,\n        },\n        _a));\n    chart.facet('mirror', {\n        fields: [compareField, null],\n        // 漏斗图的转置规则与分面相反，默认是垂直布局\n        transpose: !transpose,\n        padding: 0,\n        eachView: function (view, facet) {\n            if (!transpose) {\n                // 垂直布局\n                view\n                    .coordinate('rect')\n                    .transpose()\n                    .scale(facet.columnIndex === 0 ? -1 : 1, -1);\n            }\n            // 绘制图形\n            var funnelGeometry = view\n                .interval()\n                .position(xField + \"*\" + yField + \"*\" + FUNNEL_PERCENT)\n                .shape('funnel')\n                .color(xField, color)\n                .style({\n                lineWidth: 1,\n                stroke: '#fff',\n            });\n            // 对比漏斗图中，使用分面无法同步获取到 chart.views，因此 label 和 annotation 不做拆分，逻辑直接写在下方\n            // 绘制 label\n            if (!label) {\n                funnelGeometry.label(false);\n            }\n            else {\n                var callback = label.callback, cfg = __rest(label, [\"callback\"]);\n                funnelGeometry.label({\n                    fields: [xField, yField, FUNNEL_PERCENT],\n                    callback: callback,\n                    cfg: cfg,\n                });\n            }\n            // 绘制 annotation\n            formatData.map(function (obj) {\n                if (obj[compareField] === facet.columnValue) {\n                    view.annotation().text({\n                        top: true,\n                        position: [obj[xField], 'min'],\n                        content: obj[yField],\n                        style: {\n                            fill: '#fff',\n                            stroke: null,\n                            fontSize: 12,\n                            textAlign: facet.columnIndex ? 'start' : 'end',\n                        },\n                        offsetX: facet.columnIndex ? 10 : -10,\n                    });\n                }\n                return null;\n            });\n        },\n    });\n    return params;\n}\n/**\n * 对比漏斗\n * @param chart\n * @param options\n */\nexport function compareFunnel(params) {\n    // flow 的方式处理所有的配置到 G2 API\n    return flow(format, geometry)(params);\n}\n//# sourceMappingURL=compare.js.map","import { __rest } from \"tslib\";\nimport { deepMix, map, reduce } from '@antv/util';\nimport { isFunction } from '@antv/util';\nimport { flow, findGeometry } from '../../../utils';\nimport { FUNNEL_PERCENT, FUNNEL_TOTAL_PERCENT } from '../constant';\n/**\n * 动态高度漏斗图\n * @param params\n * 需求: 每个漏斗项的高度根据 yfield 等比生成。漏斗上下宽度比为2，即斜率为 2。\n * 实现方式: 使用 g2 多边形，data -> 点坐标 -> 绘制\n * 以漏斗底部中心点为坐标轴原点，漏斗在 -0.5 <= x <= 0.5, 0 <= y <= 1 的正方形中绘制\n * 先计算第一象限的点, 第二象限的点即为镜像 x 轴取反。\n * 第一象限共需计算 data.length + 1 个点，在 y = 4x - 1 上。首尾分别是[0.5, 1], [0.25, 0]。根据 data 计算出 y 值，从而得到 y 值\n */\n/**\n * 处理数据\n * @param params\n */\nfunction format(params) {\n    var options = params.options;\n    var _a = options.data, data = _a === void 0 ? [] : _a, yField = options.yField;\n    // 计算各数据项所占高度\n    var sum = reduce(data, function (total, item) {\n        return total + item[yField];\n    }, 0);\n    var formatData = map(data, function (row, index) {\n        // 储存四个点 x，y 坐标，方向为顺时针，即 [左上, 右上，右下，左下]\n        var x = [];\n        var y = [];\n        row[FUNNEL_TOTAL_PERCENT] = row[yField] / sum;\n        // 获取左上角，右上角坐标\n        if (index) {\n            var _a = data[index - 1], preItemX = _a._x, preItemY = _a._y;\n            x[0] = preItemX[3];\n            y[0] = preItemY[3];\n            x[1] = preItemX[2];\n            y[1] = preItemY[2];\n        }\n        else {\n            x[0] = -0.5;\n            y[0] = 1;\n            x[1] = 0.5;\n            y[1] = 1;\n        }\n        // 获取右下角坐标\n        y[2] = y[1] - row[FUNNEL_TOTAL_PERCENT];\n        x[2] = (y[2] + 1) / 4;\n        y[3] = y[2];\n        x[3] = -x[2];\n        // 赋值\n        row._x = x;\n        row._y = y;\n        row[FUNNEL_PERCENT] = row[yField] / data[0][yField];\n        return row;\n    });\n    return deepMix({}, params, {\n        options: {\n            formatData: formatData,\n        },\n    });\n}\n/**\n * geometry处理\n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var _a = options.formatData, formatData = _a === void 0 ? [] : _a, xField = options.xField, color = options.color;\n    // 绘制漏斗图\n    chart.data(formatData);\n    chart.polygon().position('_x*_y').color(xField, color);\n    return params;\n}\nfunction label(params) {\n    var chart = params.chart, options = params.options;\n    var label = options.label, yField = options.yField, xField = options.xField;\n    var geometry = findGeometry(chart, 'polygon');\n    if (!label) {\n        geometry.label(false);\n    }\n    else {\n        var callback = label.callback, cfg = __rest(label, [\"callback\"]);\n        geometry.label({\n            fields: [xField, yField, FUNNEL_PERCENT],\n            callback: callback,\n            cfg: cfg,\n        });\n    }\n    return params;\n}\nfunction annotation(params) {\n    var chart = params.chart, options = params.options;\n    var _a = options.formatData, formatData = _a === void 0 ? [] : _a, xField = options.xField, yField = options.yField, annotation = options.annotation;\n    if (annotation !== false) {\n        formatData.forEach(function (obj) {\n            chart.annotation().text({\n                top: true,\n                position: [obj[xField], 'median'],\n                content: isFunction(annotation) ? annotation(obj[xField], obj[yField], obj[FUNNEL_PERCENT], obj) : annotation,\n                style: {\n                    stroke: null,\n                    fill: '#fff',\n                    textAlign: 'center',\n                },\n            });\n        });\n    }\n    return params;\n}\n/**\n * 对比漏斗\n * @param chart\n * @param options\n */\nexport function dynamicHeightFunnel(params) {\n    // flow 的方式处理所有的配置到 G2 API\n    return flow(format, geometry, label, annotation)(params);\n}\n//# sourceMappingURL=dynamic-height.js.map","import { tooltip, interaction, animation, theme } from '../../adaptor/common';\nimport { flow } from '../../utils';\nimport { basicFunnel } from './geometries/basic';\nimport { compareFunnel } from './geometries/compare';\nimport { dynamicHeightFunnel } from './geometries/dynamic-height';\n/**\n *\n * 各式漏斗图实现细节有较大不同\n * 1. 普通漏斗图：interval.shape('funnel')\n * 2. 对比漏斗图：分面\n * 3. 动态高度漏斗图：polypon\n* /\n\n/**\n * geometry处理\n * @param params\n */\nfunction geometry(params) {\n    var options = params.options;\n    var compareField = options.compareField, dynamicHeight = options.dynamicHeight;\n    if (compareField) {\n        return compareFunnel(params);\n    }\n    if (dynamicHeight) {\n        return dynamicHeightFunnel(params);\n    }\n    return basicFunnel(params);\n}\n/**\n * 坐标轴\n * @param params\n */\nfunction axis(params) {\n    var chart = params.chart;\n    chart.axis(false);\n    return params;\n}\n/**\n * 漏斗图适配器\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow 的方式处理所有的配置到 G2 API\n    return flow(geometry, axis, tooltip, interaction, animation, theme)(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __extends } from \"tslib\";\nimport { deepMix } from '@antv/util';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nvar Funnel = /** @class */ (function (_super) {\n    __extends(Funnel, _super);\n    function Funnel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** 图表类型 */\n        _this.type = 'funnel';\n        return _this;\n    }\n    /**\n     * 获取 漏斗图 默认配置项\n     */\n    Funnel.prototype.getDefaultOptions = function (options) {\n        var compareField = options.compareField;\n        return deepMix({}, _super.prototype.getDefaultOptions.call(this), {\n            annotation: compareField ? function (xField, yField) { return \"\" + yField; } : function (xField, yField) { return xField + \" \" + yField; },\n            label: {\n                callback: function (xField, yField, percent) {\n                    return {\n                        content: \"\\u8F6C\\u5316\\u7387\" + +percent * 100 + \"%\",\n                    };\n                },\n            },\n            tooltip: {\n                showCrosshairs: false,\n            },\n        });\n    };\n    /**\n     * 获取 漏斗图 的适配器\n     */\n    Funnel.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Funnel;\n}(Plot));\nexport { Funnel };\n//# sourceMappingURL=index.js.map","/**\n * @fileoverview gradient\n * @author dengfuping_develop@163.com\n */\nimport { each, mod, toRadian, uniqueId } from '@antv/util';\nimport { createSVGElement } from '../util/dom';\nvar regexLG = /^l\\s*\\(\\s*([\\d.]+)\\s*\\)\\s*(.*)/i;\nvar regexRG = /^r\\s*\\(\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*\\)\\s*(.*)/i;\nvar regexColorStop = /[\\d.]+:(#[^\\s]+|[^\\)]+\\))/gi;\nfunction addStop(steps) {\n    var arr = steps.match(regexColorStop);\n    if (!arr) {\n        return '';\n    }\n    var stops = '';\n    arr.sort(function (a, b) {\n        a = a.split(':');\n        b = b.split(':');\n        return Number(a[0]) - Number(b[0]);\n    });\n    each(arr, function (item) {\n        item = item.split(':');\n        stops += \"<stop offset=\\\"\" + item[0] + \"\\\" stop-color=\\\"\" + item[1] + \"\\\"></stop>\";\n    });\n    return stops;\n}\nfunction parseLineGradient(color, el) {\n    var arr = regexLG.exec(color);\n    var angle = mod(toRadian(parseFloat(arr[1])), Math.PI * 2);\n    var steps = arr[2];\n    var start;\n    var end;\n    if (angle >= 0 && angle < 0.5 * Math.PI) {\n        start = {\n            x: 0,\n            y: 0,\n        };\n        end = {\n            x: 1,\n            y: 1,\n        };\n    }\n    else if (0.5 * Math.PI <= angle && angle < Math.PI) {\n        start = {\n            x: 1,\n            y: 0,\n        };\n        end = {\n            x: 0,\n            y: 1,\n        };\n    }\n    else if (Math.PI <= angle && angle < 1.5 * Math.PI) {\n        start = {\n            x: 1,\n            y: 1,\n        };\n        end = {\n            x: 0,\n            y: 0,\n        };\n    }\n    else {\n        start = {\n            x: 0,\n            y: 1,\n        };\n        end = {\n            x: 1,\n            y: 0,\n        };\n    }\n    var tanTheta = Math.tan(angle);\n    var tanTheta2 = tanTheta * tanTheta;\n    var x = (end.x - start.x + tanTheta * (end.y - start.y)) / (tanTheta2 + 1) + start.x;\n    var y = (tanTheta * (end.x - start.x + tanTheta * (end.y - start.y))) / (tanTheta2 + 1) + start.y;\n    el.setAttribute('x1', start.x);\n    el.setAttribute('y1', start.y);\n    el.setAttribute('x2', x);\n    el.setAttribute('y2', y);\n    el.innerHTML = addStop(steps);\n}\nfunction parseRadialGradient(color, self) {\n    var arr = regexRG.exec(color);\n    var cx = parseFloat(arr[1]);\n    var cy = parseFloat(arr[2]);\n    var r = parseFloat(arr[3]);\n    var steps = arr[4];\n    self.setAttribute('cx', cx);\n    self.setAttribute('cy', cy);\n    self.setAttribute('r', r);\n    self.innerHTML = addStop(steps);\n}\nvar Gradient = /** @class */ (function () {\n    function Gradient(cfg) {\n        this.cfg = {};\n        var el = null;\n        var id = uniqueId('gradient_');\n        if (cfg.toLowerCase()[0] === 'l') {\n            el = createSVGElement('linearGradient');\n            parseLineGradient(cfg, el);\n        }\n        else {\n            el = createSVGElement('radialGradient');\n            parseRadialGradient(cfg, el);\n        }\n        el.setAttribute('id', id);\n        this.el = el;\n        this.id = id;\n        this.cfg = cfg;\n        return this;\n    }\n    Gradient.prototype.match = function (type, attr) {\n        return this.cfg === attr;\n    };\n    return Gradient;\n}());\nexport default Gradient;\n//# sourceMappingURL=gradient.js.map","/**\n * @fileoverview shadow\n * @author dengfuping_develop@163.com\n */\nimport { each, uniqueId } from '@antv/util';\nimport { createSVGElement } from '../util/dom';\nvar ATTR_MAP = {\n    shadowColor: 'color',\n    shadowOpacity: 'opacity',\n    shadowBlur: 'blur',\n    shadowOffsetX: 'dx',\n    shadowOffsetY: 'dy',\n};\nvar SHADOW_DIMENSION = {\n    x: '-40%',\n    y: '-40%',\n    width: '200%',\n    height: '200%',\n};\nvar Shadow = /** @class */ (function () {\n    function Shadow(cfg) {\n        this.type = 'filter';\n        this.cfg = {};\n        this.type = 'filter';\n        var el = createSVGElement('filter');\n        // expand the filter region to fill in shadows\n        each(SHADOW_DIMENSION, function (v, k) {\n            el.setAttribute(k, v);\n        });\n        this.el = el;\n        this.id = uniqueId('filter_');\n        this.el.id = this.id;\n        this.cfg = cfg;\n        this._parseShadow(cfg, el);\n        return this;\n    }\n    Shadow.prototype.match = function (type, cfg) {\n        if (this.type !== type) {\n            return false;\n        }\n        var flag = true;\n        var config = this.cfg;\n        each(Object.keys(config), function (attr) {\n            if (config[attr] !== cfg[attr]) {\n                flag = false;\n                return false;\n            }\n        });\n        return flag;\n    };\n    Shadow.prototype.update = function (name, value) {\n        var config = this.cfg;\n        config[ATTR_MAP[name]] = value;\n        this._parseShadow(config, this.el);\n        return this;\n    };\n    Shadow.prototype._parseShadow = function (config, el) {\n        var child = \"<feDropShadow\\n      dx=\\\"\" + (config.dx || 0) + \"\\\"\\n      dy=\\\"\" + (config.dy || 0) + \"\\\"\\n      stdDeviation=\\\"\" + (config.blur ? config.blur / 10 : 0) + \"\\\"\\n      flood-color=\\\"\" + (config.color ? config.color : '#000') + \"\\\"\\n      flood-opacity=\\\"\" + (config.opacity ? config.opacity : 1) + \"\\\"\\n      />\";\n        el.innerHTML = child;\n    };\n    return Shadow;\n}());\nexport default Shadow;\n//# sourceMappingURL=shadow.js.map","/**\n * @fileoverview arrow\n * @author dengfuping_develop@163.com\n */\nimport { isArray, uniqueId } from '@antv/util';\nimport { createSVGElement } from '../util/dom';\nvar Arrow = /** @class */ (function () {\n    function Arrow(attrs, type) {\n        this.cfg = {};\n        var el = createSVGElement('marker');\n        var id = uniqueId('marker_');\n        el.setAttribute('id', id);\n        var shape = createSVGElement('path');\n        shape.setAttribute('stroke', attrs.stroke || 'none');\n        shape.setAttribute('fill', attrs.fill || 'none');\n        el.appendChild(shape);\n        el.setAttribute('overflow', 'visible');\n        el.setAttribute('orient', 'auto-start-reverse');\n        this.el = el;\n        this.child = shape;\n        this.id = id;\n        var cfg = attrs[type === 'marker-start' ? 'startArrow' : 'endArrow'];\n        this.stroke = attrs.stroke || '#000';\n        if (cfg === true) {\n            this._setDefaultPath(type, shape);\n        }\n        else {\n            this.cfg = cfg; // when arrow config exists\n            this._setMarker(attrs.lineWidth, shape);\n        }\n        return this;\n    }\n    Arrow.prototype.match = function () {\n        return false;\n    };\n    Arrow.prototype._setDefaultPath = function (type, el) {\n        var parent = this.el;\n        // 默认箭头的边长为 10，夹角为 60 度\n        el.setAttribute('d', \"M0,0 L\" + 10 * Math.cos(Math.PI / 6) + \",5 L0,10\");\n        parent.setAttribute('refX', \"\" + 10 * Math.cos(Math.PI / 6));\n        parent.setAttribute('refY', \"\" + 5);\n    };\n    Arrow.prototype._setMarker = function (r, el) {\n        var parent = this.el;\n        var path = this.cfg.path;\n        var d = this.cfg.d;\n        if (isArray(path)) {\n            path = path\n                .map(function (segment) {\n                return segment.join(' ');\n            })\n                .join('');\n        }\n        el.setAttribute('d', path);\n        parent.appendChild(el);\n        if (d) {\n            parent.setAttribute('refX', \"\" + d / r);\n        }\n    };\n    Arrow.prototype.update = function (fill) {\n        var child = this.child;\n        if (child.attr) {\n            child.attr('fill', fill);\n        }\n        else {\n            child.setAttribute('fill', fill);\n        }\n    };\n    return Arrow;\n}());\nexport default Arrow;\n//# sourceMappingURL=arrow.js.map","/**\n * @fileoverview clip\n * @author dengfuping_develop@163.com\n */\nimport { uniqueId } from '@antv/util';\nimport { createSVGElement } from '../util/dom';\nvar Clip = /** @class */ (function () {\n    function Clip(cfg) {\n        this.type = 'clip';\n        this.cfg = {};\n        var el = createSVGElement('clipPath');\n        this.el = el;\n        this.id = uniqueId('clip_');\n        el.id = this.id;\n        var shapeEl = cfg.cfg.el;\n        el.appendChild(shapeEl);\n        this.cfg = cfg;\n        return this;\n    }\n    Clip.prototype.match = function () {\n        return false;\n    };\n    Clip.prototype.remove = function () {\n        var el = this.el;\n        el.parentNode.removeChild(el);\n    };\n    return Clip;\n}());\nexport default Clip;\n//# sourceMappingURL=clip.js.map","/**\n * @fileoverview pattern\n * @author dengfuping_develop@163.com\n */\nimport { uniqueId } from '@antv/util';\nimport { createSVGElement } from '../util/dom';\nvar regexPR = /^p\\s*\\(\\s*([axyn])\\s*\\)\\s*(.*)/i;\nvar Pattern = /** @class */ (function () {\n    function Pattern(cfg) {\n        this.cfg = {};\n        var el = createSVGElement('pattern');\n        el.setAttribute('patternUnits', 'userSpaceOnUse');\n        var child = createSVGElement('image');\n        el.appendChild(child);\n        var id = uniqueId('pattern_');\n        el.id = id;\n        this.el = el;\n        this.id = id;\n        this.cfg = cfg;\n        var arr = regexPR.exec(cfg);\n        var source = arr[2];\n        child.setAttribute('href', source);\n        var img = new Image();\n        if (!source.match(/^data:/i)) {\n            img.crossOrigin = 'Anonymous';\n        }\n        img.src = source;\n        function onload() {\n            el.setAttribute('width', \"\" + img.width);\n            el.setAttribute('height', \"\" + img.height);\n        }\n        if (img.complete) {\n            onload();\n        }\n        else {\n            img.onload = onload;\n            // Fix onload() bug in IE9\n            img.src = img.src;\n        }\n        return this;\n    }\n    Pattern.prototype.match = function (type, attr) {\n        return this.cfg === attr;\n    };\n    return Pattern;\n}());\nexport default Pattern;\n//# sourceMappingURL=pattern.js.map","/**\n * @fileoverview defs\n * @author dengfuping_develop@163.com\n */\nimport { uniqueId } from '@antv/util';\nimport Gradient from './gradient';\nimport Shadow from './shadow';\nimport Arrow from './arrow';\nimport Clip from './clip';\nimport Pattern from './pattern';\nimport { createSVGElement } from '../util/dom';\nvar Defs = /** @class */ (function () {\n    function Defs(canvas) {\n        var el = createSVGElement('defs');\n        var id = uniqueId('defs_');\n        el.id = id;\n        canvas.appendChild(el);\n        this.children = [];\n        this.defaultArrow = {};\n        this.el = el;\n        this.canvas = canvas;\n    }\n    Defs.prototype.find = function (type, attr) {\n        var children = this.children;\n        var result = null;\n        for (var i = 0; i < children.length; i++) {\n            if (children[i].match(type, attr)) {\n                result = children[i].id;\n                break;\n            }\n        }\n        return result;\n    };\n    Defs.prototype.findById = function (id) {\n        var children = this.children;\n        var flag = null;\n        for (var i = 0; i < children.length; i++) {\n            if (children[i].id === id) {\n                flag = children[i];\n                break;\n            }\n        }\n        return flag;\n    };\n    Defs.prototype.add = function (item) {\n        this.children.push(item);\n        item.canvas = this.canvas;\n        item.parent = this;\n    };\n    Defs.prototype.getDefaultArrow = function (attrs, name) {\n        var stroke = attrs.stroke || attrs.strokeStyle;\n        if (this.defaultArrow[stroke]) {\n            return this.defaultArrow[stroke].id;\n        }\n        var arrow = new Arrow(attrs, name);\n        this.defaultArrow[stroke] = arrow;\n        this.el.appendChild(arrow.el);\n        this.add(arrow);\n        return arrow.id;\n    };\n    Defs.prototype.addGradient = function (cfg) {\n        var gradient = new Gradient(cfg);\n        this.el.appendChild(gradient.el);\n        this.add(gradient);\n        return gradient.id;\n    };\n    Defs.prototype.addArrow = function (attrs, name) {\n        var arrow = new Arrow(attrs, name);\n        this.el.appendChild(arrow.el);\n        this.add(arrow);\n        return arrow.id;\n    };\n    Defs.prototype.addShadow = function (cfg) {\n        var shadow = new Shadow(cfg);\n        this.el.appendChild(shadow.el);\n        this.add(shadow);\n        return shadow.id;\n    };\n    Defs.prototype.addPattern = function (cfg) {\n        var pattern = new Pattern(cfg);\n        this.el.appendChild(pattern.el);\n        this.add(pattern);\n        return pattern.id;\n    };\n    Defs.prototype.addClip = function (cfg) {\n        var clip = new Clip(cfg);\n        this.el.appendChild(clip.el);\n        this.add(clip);\n        return clip.id;\n    };\n    return Defs;\n}());\nexport default Defs;\n//# sourceMappingURL=index.js.map","import { __assign, __extends } from \"tslib\";\nimport { AbstractCanvas } from '@antv/g-base';\nimport { SHAPE_TO_TAGS } from './constant';\nimport { drawChildren } from './util/draw';\nimport { setTransform, setClip } from './util/svg';\nimport { sortDom, createSVGElement } from './util/dom';\nimport * as Shape from './shape';\nimport Group from './group';\nimport Defs from './defs';\nvar Canvas = /** @class */ (function (_super) {\n    __extends(Canvas, _super);\n    function Canvas(cfg) {\n        return _super.call(this, __assign(__assign({}, cfg), { autoDraw: true, \n            // 设置渲染引擎为 canvas，只读属性\n            renderer: 'svg' })) || this;\n    }\n    Canvas.prototype.getShapeBase = function () {\n        return Shape;\n    };\n    Canvas.prototype.getGroupBase = function () {\n        return Group;\n    };\n    // 覆盖 Container 中通过遍历的方式获取 shape 对象的逻辑，直接走 SVG 的 dom 拾取即可\n    Canvas.prototype.getShape = function (x, y, ev) {\n        var target = ev.target || ev.srcElement;\n        if (!SHAPE_TO_TAGS[target.tagName]) {\n            var parent_1 = target.parentNode;\n            while (parent_1 && !SHAPE_TO_TAGS[parent_1.tagName]) {\n                parent_1 = parent_1.parentNode;\n            }\n            target = parent_1;\n        }\n        return this.find(function (child) { return child.get('el') === target; });\n    };\n    // 复写基类的方法生成标签\n    Canvas.prototype.createDom = function () {\n        var element = createSVGElement('svg');\n        var context = new Defs(element);\n        element.setAttribute('width', \"\" + this.get('width'));\n        element.setAttribute('height', \"\" + this.get('height'));\n        // 缓存 context 对象\n        this.set('context', context);\n        return element;\n    };\n    /**\n     * 一些方法调用会引起画布变化\n     * @param {ChangeType} changeType 改变的类型\n     */\n    Canvas.prototype.onCanvasChange = function (changeType) {\n        var context = this.get('context');\n        var el = this.get('el');\n        if (changeType === 'sort') {\n            var children_1 = this.get('children');\n            if (children_1 && children_1.length) {\n                sortDom(this, function (a, b) {\n                    return children_1.indexOf(a) - children_1.indexOf(b) ? 1 : 0;\n                });\n            }\n        }\n        else if (changeType === 'clear') {\n            // el maybe null for canvas\n            if (el) {\n                // 清空 SVG 元素\n                el.innerHTML = '';\n                var defsEl = context.el;\n                // 清空 defs 元素\n                defsEl.innerHTML = '';\n                // 将清空后的 defs 元素挂载到 el 下\n                el.appendChild(defsEl);\n            }\n        }\n        else if (changeType === 'matrix') {\n            setTransform(this);\n        }\n        else if (changeType === 'clip') {\n            setClip(this, context);\n        }\n        else if (changeType === 'changeSize') {\n            el.setAttribute('width', \"\" + this.get('width'));\n            el.setAttribute('height', \"\" + this.get('height'));\n        }\n    };\n    // 复写基类的 draw 方法\n    Canvas.prototype.draw = function () {\n        var context = this.get('context');\n        var children = this.getChildren();\n        setClip(this, context);\n        if (children.length) {\n            drawChildren(context, children);\n        }\n    };\n    return Canvas;\n}(AbstractCanvas));\nexport default Canvas;\n//# sourceMappingURL=canvas.js.map","import { deepMix, assign, isString } from '@antv/util';\nvar DEFAULT_OPTIONS = {\n    fields: ['text', 'value'],\n    font: function () { return 'serif'; },\n    padding: 1,\n    size: [500, 500],\n    spiral: 'archimedean',\n    // timeInterval: Infinity // max execute time\n    timeInterval: 3000,\n};\n/**\n * 根据对应的数据对象，计算每个\n * 词语在画布中的渲染位置，并返回\n * 计算后的数据对象\n * @param options\n */\nexport function wordCloud(data, options) {\n    // 混入默认配置\n    options = assign({}, DEFAULT_OPTIONS, options);\n    return transform(data, options);\n}\nexport function transform(data, options) {\n    // 深拷贝\n    data = deepMix([], data);\n    var layout = tagCloud();\n    ['font', 'fontSize', 'fontWeight', 'padding', 'rotate', 'size', 'spiral', 'timeInterval'].forEach(function (key) {\n        if (options[key] !== undefined && options[key] !== null) {\n            layout[key](options[key]);\n        }\n    });\n    var _a = options.fields, text = _a[0], value = _a[1];\n    if (!isString(text) || !isString(value)) {\n        throw new TypeError('Invalid fields: must be an array with 2 strings (e.g. [ \"text\", \"value\" ])!');\n    }\n    var words = data.map(function (row) {\n        row.text = row[text];\n        row.value = row[value];\n        return row;\n    });\n    layout.words(words);\n    if (options.imageMask) {\n        layout.createMask(options.imageMask);\n    }\n    var result = layout.start();\n    var tags = result._tags;\n    var bounds = result._bounds || [\n        { x: 0, y: 0 },\n        { x: options.size[0], y: options.size[1] },\n    ];\n    tags.forEach(function (tag) {\n        tag.x += options.size[0] / 2;\n        tag.y += options.size[1] / 2;\n    });\n    var _b = options.size, w = _b[0], h = _b[1];\n    var hasImage = result.hasImage;\n    tags.push({\n        text: '',\n        value: 0,\n        x: hasImage ? 0 : bounds[0].x,\n        y: hasImage ? 0 : bounds[0].y,\n        opacity: 0,\n    });\n    tags.push({\n        text: '',\n        value: 0,\n        x: hasImage ? w : bounds[1].x,\n        y: hasImage ? h : bounds[1].y,\n        opacity: 0,\n    });\n    return tags;\n}\nvar cloudRadians = Math.PI / 180, cw = (1 << 11) >> 5, ch = 1 << 11;\nfunction cloudText(d) {\n    return d.text;\n}\nfunction cloudFont() {\n    return 'serif';\n}\nfunction cloudFontNormal() {\n    return 'normal';\n}\nfunction cloudFontSize(d) {\n    return d.value;\n}\nfunction cloudRotate() {\n    return ~~(Math.random() * 2) * 90;\n}\nfunction cloudPadding() {\n    return 1;\n}\n// Fetches a monochrome sprite bitmap for the specified text.\n// Load in batches for speed.\nfunction cloudSprite(contextAndRatio, d, data, di) {\n    if (d.sprite)\n        return;\n    var c = contextAndRatio.context, ratio = contextAndRatio.ratio;\n    c.clearRect(0, 0, (cw << 5) / ratio, ch / ratio);\n    var x = 0, y = 0, maxh = 0;\n    var n = data.length;\n    --di;\n    while (++di < n) {\n        d = data[di];\n        c.save();\n        c.font = d.style + ' ' + d.weight + ' ' + ~~((d.size + 1) / ratio) + 'px ' + d.font;\n        var w = c.measureText(d.text + 'm').width * ratio, h = d.size << 1;\n        if (d.rotate) {\n            var sr = Math.sin(d.rotate * cloudRadians), cr = Math.cos(d.rotate * cloudRadians), wcr = w * cr, wsr = w * sr, hcr = h * cr, hsr = h * sr;\n            w = ((Math.max(Math.abs(wcr + hsr), Math.abs(wcr - hsr)) + 0x1f) >> 5) << 5;\n            h = ~~Math.max(Math.abs(wsr + hcr), Math.abs(wsr - hcr));\n        }\n        else {\n            w = ((w + 0x1f) >> 5) << 5;\n        }\n        if (h > maxh)\n            maxh = h;\n        if (x + w >= cw << 5) {\n            x = 0;\n            y += maxh;\n            maxh = 0;\n        }\n        if (y + h >= ch)\n            break;\n        c.translate((x + (w >> 1)) / ratio, (y + (h >> 1)) / ratio);\n        if (d.rotate)\n            c.rotate(d.rotate * cloudRadians);\n        c.fillText(d.text, 0, 0);\n        if (d.padding) {\n            c.lineWidth = 2 * d.padding;\n            c.strokeText(d.text, 0, 0);\n        }\n        c.restore();\n        d.width = w;\n        d.height = h;\n        d.xoff = x;\n        d.yoff = y;\n        d.x1 = w >> 1;\n        d.y1 = h >> 1;\n        d.x0 = -d.x1;\n        d.y0 = -d.y1;\n        d.hasText = true;\n        x += w;\n    }\n    var pixels = c.getImageData(0, 0, (cw << 5) / ratio, ch / ratio).data, sprite = [];\n    while (--di >= 0) {\n        d = data[di];\n        if (!d.hasText)\n            continue;\n        var w = d.width, w32 = w >> 5;\n        var h = d.y1 - d.y0;\n        // Zero the buffer\n        for (var i = 0; i < h * w32; i++)\n            sprite[i] = 0;\n        x = d.xoff;\n        if (x == null)\n            return;\n        y = d.yoff;\n        var seen = 0, seenRow = -1;\n        for (var j = 0; j < h; j++) {\n            for (var i = 0; i < w; i++) {\n                var k = w32 * j + (i >> 5), m = pixels[((y + j) * (cw << 5) + (x + i)) << 2] ? 1 << (31 - (i % 32)) : 0;\n                sprite[k] |= m;\n                seen |= m;\n            }\n            if (seen)\n                seenRow = j;\n            else {\n                d.y0++;\n                h--;\n                j--;\n                y++;\n            }\n        }\n        d.y1 = d.y0 + seenRow;\n        d.sprite = sprite.slice(0, (d.y1 - d.y0) * w32);\n    }\n}\n// Use mask-based collision detection.\nfunction cloudCollide(tag, board, sw) {\n    sw >>= 5;\n    var sprite = tag.sprite, w = tag.width >> 5, lx = tag.x - (w << 4), sx = lx & 0x7f, msx = 32 - sx, h = tag.y1 - tag.y0;\n    var x = (tag.y + tag.y0) * sw + (lx >> 5), last;\n    for (var j = 0; j < h; j++) {\n        last = 0;\n        for (var i = 0; i <= w; i++) {\n            if (((last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0)) & board[x + i])\n                return true;\n        }\n        x += sw;\n    }\n    return false;\n}\nfunction cloudBounds(bounds, d) {\n    var b0 = bounds[0], b1 = bounds[1];\n    if (d.x + d.x0 < b0.x)\n        b0.x = d.x + d.x0;\n    if (d.y + d.y0 < b0.y)\n        b0.y = d.y + d.y0;\n    if (d.x + d.x1 > b1.x)\n        b1.x = d.x + d.x1;\n    if (d.y + d.y1 > b1.y)\n        b1.y = d.y + d.y1;\n}\nfunction collideRects(a, b) {\n    return a.x + a.x1 > b[0].x && a.x + a.x0 < b[1].x && a.y + a.y1 > b[0].y && a.y + a.y0 < b[1].y;\n}\nfunction archimedeanSpiral(size) {\n    var e = size[0] / size[1];\n    return function (t) {\n        return [e * (t *= 0.1) * Math.cos(t), t * Math.sin(t)];\n    };\n}\nfunction rectangularSpiral(size) {\n    var dy = 4, dx = (dy * size[0]) / size[1];\n    var x = 0, y = 0;\n    return function (t) {\n        var sign = t < 0 ? -1 : 1;\n        // See triangular numbers: T_n = n * (n + 1) / 2.\n        switch ((Math.sqrt(1 + 4 * sign * t) - sign) & 3) {\n            case 0:\n                x += dx;\n                break;\n            case 1:\n                y += dy;\n                break;\n            case 2:\n                x -= dx;\n                break;\n            default:\n                y -= dy;\n                break;\n        }\n        return [x, y];\n    };\n}\n// TODO reuse arrays?\nfunction zeroArray(n) {\n    var a = [];\n    var i = -1;\n    while (++i < n)\n        a[i] = 0;\n    return a;\n}\nfunction cloudCanvas() {\n    return document.createElement('canvas');\n}\nfunction functor(d) {\n    return typeof d === 'function'\n        ? d\n        : function () {\n            return d;\n        };\n}\nvar spirals = {\n    archimedean: archimedeanSpiral,\n    rectangular: rectangularSpiral,\n};\nfunction tagCloud() {\n    var size = [256, 256], font = cloudFont, fontSize = cloudFontSize, fontWeight = cloudFontNormal, rotate = cloudRotate, padding = cloudPadding, spiral = archimedeanSpiral, words = [], timeInterval = Infinity;\n    var random = Math.random;\n    var text = cloudText;\n    var fontStyle = cloudFontNormal;\n    var canvas = cloudCanvas;\n    var cloud = {};\n    cloud.start = function () {\n        var width = size[0], height = size[1];\n        var contextAndRatio = getContext(canvas()), board = cloud.board ? cloud.board : zeroArray((size[0] >> 5) * size[1]), n = words.length, tags = [], data = words\n            .map(function (d, i) {\n            d.text = text.call(this, d, i);\n            d.font = font.call(this, d, i);\n            d.style = fontStyle.call(this, d, i);\n            d.weight = fontWeight.call(this, d, i);\n            d.rotate = rotate.call(this, d, i);\n            d.size = ~~fontSize.call(this, d, i);\n            d.padding = padding.call(this, d, i);\n            return d;\n        })\n            .sort(function (a, b) {\n            return b.size - a.size;\n        });\n        var i = -1, bounds = !cloud.board\n            ? null\n            : [\n                {\n                    x: 0,\n                    y: 0,\n                },\n                {\n                    x: width,\n                    y: height,\n                },\n            ];\n        step();\n        function step() {\n            var start = Date.now();\n            while (Date.now() - start < timeInterval && ++i < n) {\n                var d = data[i];\n                d.x = (width * (random() + 0.5)) >> 1;\n                d.y = (height * (random() + 0.5)) >> 1;\n                cloudSprite(contextAndRatio, d, data, i);\n                if (d.hasText && place(board, d, bounds)) {\n                    tags.push(d);\n                    if (bounds) {\n                        if (!cloud.hasImage) {\n                            // update bounds if image mask not set\n                            cloudBounds(bounds, d);\n                        }\n                    }\n                    else {\n                        bounds = [\n                            { x: d.x + d.x0, y: d.y + d.y0 },\n                            { x: d.x + d.x1, y: d.y + d.y1 },\n                        ];\n                    }\n                    // Temporary hack\n                    d.x -= size[0] >> 1;\n                    d.y -= size[1] >> 1;\n                }\n            }\n            cloud._tags = tags;\n            cloud._bounds = bounds;\n        }\n        return cloud;\n    };\n    function getContext(canvas) {\n        canvas.width = canvas.height = 1;\n        var ratio = Math.sqrt(canvas.getContext('2d').getImageData(0, 0, 1, 1).data.length >> 2);\n        canvas.width = (cw << 5) / ratio;\n        canvas.height = ch / ratio;\n        var context = canvas.getContext('2d');\n        context.fillStyle = context.strokeStyle = 'red';\n        context.textAlign = 'center';\n        return { context: context, ratio: ratio };\n    }\n    function place(board, tag, bounds) {\n        // const perimeter = [{ x: 0, y: 0 }, { x: size[0], y: size[1] }],\n        var startX = tag.x, startY = tag.y, maxDelta = Math.sqrt(size[0] * size[0] + size[1] * size[1]), s = spiral(size), dt = random() < 0.5 ? 1 : -1;\n        var dxdy, t = -dt, dx, dy;\n        while ((dxdy = s((t += dt)))) {\n            dx = ~~dxdy[0];\n            dy = ~~dxdy[1];\n            if (Math.min(Math.abs(dx), Math.abs(dy)) >= maxDelta)\n                break;\n            tag.x = startX + dx;\n            tag.y = startY + dy;\n            if (tag.x + tag.x0 < 0 || tag.y + tag.y0 < 0 || tag.x + tag.x1 > size[0] || tag.y + tag.y1 > size[1])\n                continue;\n            // TODO only check for collisions within current bounds.\n            if (!bounds || !cloudCollide(tag, board, size[0])) {\n                if (!bounds || collideRects(tag, bounds)) {\n                    var sprite = tag.sprite, w = tag.width >> 5, sw = size[0] >> 5, lx = tag.x - (w << 4), sx = lx & 0x7f, msx = 32 - sx, h = tag.y1 - tag.y0;\n                    var last = void 0, x = (tag.y + tag.y0) * sw + (lx >> 5);\n                    for (var j = 0; j < h; j++) {\n                        last = 0;\n                        for (var i = 0; i <= w; i++) {\n                            board[x + i] |= (last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0);\n                        }\n                        x += sw;\n                    }\n                    delete tag.sprite;\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    cloud.createMask = function (img) {\n        var can = document.createElement('canvas');\n        var width = size[0], height = size[1];\n        // 当 width 或 height 为 0 时，调用 cxt.getImageData 会报错\n        if (!width || !height) {\n            return;\n        }\n        var w32 = width >> 5;\n        var board = zeroArray((width >> 5) * height);\n        can.width = width;\n        can.height = height;\n        var cxt = can.getContext('2d');\n        cxt.drawImage(img, 0, 0, img.width, img.height, 0, 0, width, height);\n        var imageData = cxt.getImageData(0, 0, width, height).data;\n        for (var j = 0; j < height; j++) {\n            for (var i = 0; i < width; i++) {\n                var k = w32 * j + (i >> 5);\n                var tmp = (j * width + i) << 2;\n                var flag = imageData[tmp] >= 250 && imageData[tmp + 1] >= 250 && imageData[tmp + 2] >= 250;\n                var m = flag ? 1 << (31 - (i % 32)) : 0;\n                board[k] |= m;\n            }\n        }\n        cloud.board = board;\n        cloud.hasImage = true;\n    };\n    cloud.timeInterval = function (_) {\n        timeInterval = _ == null ? Infinity : _;\n    };\n    cloud.words = function (_) {\n        words = _;\n    };\n    cloud.size = function (_) {\n        size = [+_[0], +_[1]];\n    };\n    cloud.font = function (_) {\n        font = functor(_);\n    };\n    cloud.fontWeight = function (_) {\n        fontWeight = functor(_);\n    };\n    cloud.rotate = function (_) {\n        rotate = functor(_);\n    };\n    cloud.spiral = function (_) {\n        spiral = spirals[_] || _;\n    };\n    cloud.fontSize = function (_) {\n        fontSize = functor(_);\n    };\n    cloud.padding = function (_) {\n        padding = functor(_);\n    };\n    return cloud;\n}\n//# sourceMappingURL=word-cloud.js.map","import { isArray, isFunction, isNumber, isString } from '@antv/util';\nimport { log, LEVEL, getContainerSize } from '../../utils';\nimport { wordCloud } from '../../utils/transform/word-cloud';\n/**\n * 用 DataSet 转换词云图数据\n * @param params\n */\nexport function transform(params) {\n    var options = params.options;\n    var data = options.data, imageMask = options.imageMask, wordField = options.wordField, weightField = options.weightField, wordStyle = options.wordStyle, timeInterval = options.timeInterval;\n    if (!data || !data.length) {\n        return [];\n    }\n    var fontFamily = wordStyle.fontFamily, fontWeight = wordStyle.fontWeight, padding = wordStyle.padding;\n    var arr = data.map(function (v) { return v[weightField]; });\n    var range = [min(arr), max(arr)];\n    return wordCloud(data, {\n        fields: [wordField, weightField],\n        imageMask: imageMask,\n        font: fontFamily,\n        fontSize: getFontSize(options, range),\n        fontWeight: fontWeight,\n        // 图表宽高减去 padding 之后的宽高\n        size: getSize(params),\n        padding: padding,\n        timeInterval: timeInterval,\n        rotate: getRotate(options),\n    });\n}\n/**\n * 获取最终的实际绘图尺寸：[width, height]\n * @param chart\n */\nfunction getSize(params) {\n    var chart = params.chart, options = params.options;\n    var _a = options.autoFit, autoFit = _a === void 0 ? true : _a;\n    var width = chart.width, height = chart.height;\n    // 由于词云图每个词语的坐标都是先通过 DataSet 根据图表宽高计算出来的，\n    // 也就是说，如果一开始提供给 DataSet 的宽高信息和最终显示的宽高不相同，\n    // 那么就会出现布局错乱的情况，所以这里处理的目的就是让一开始提供给 DataSet 的\n    // 宽高信息与最终显示的宽高信息相同，避免显示错乱。\n    if (autoFit) {\n        var containerSize = getContainerSize(chart.ele);\n        width = containerSize.width || 0;\n        height = containerSize.height || 0;\n    }\n    var _b = resolvePadding(chart), top = _b[0], right = _b[1], bottom = _b[2], left = _b[3];\n    var result = [width - (left + right), height - (top + bottom)];\n    return result;\n}\n/**\n * 根据图表的 padding 和 appendPadding 计算出图表的最终 padding\n * @param chart\n */\nfunction resolvePadding(chart) {\n    var padding = normalPadding(chart.padding);\n    var appendPadding = normalPadding(chart.appendPadding);\n    var top = padding[0] + appendPadding[0];\n    var right = padding[1] + appendPadding[1];\n    var bottom = padding[2] + appendPadding[2];\n    var left = padding[3] + appendPadding[3];\n    return [top, right, bottom, left];\n}\n/**\n * 把 padding 转换成统一的数组写法\n * @param padding\n */\nfunction normalPadding(padding) {\n    if (isNumber(padding)) {\n        return [padding, padding, padding, padding];\n    }\n    if (isArray(padding)) {\n        var length_1 = padding.length;\n        if (length_1 === 1) {\n            return [padding[0], padding[0], padding[0], padding[0]];\n        }\n        if (length_1 === 2) {\n            return [padding[0], padding[1], padding[0], padding[1]];\n        }\n        if (length_1 === 3) {\n            return [padding[0], padding[1], padding[2], padding[1]];\n        }\n        if (length_1 === 4) {\n            return padding;\n        }\n    }\n    return [0, 0, 0, 0];\n}\n/**\n * 处理 imageMask 可能为 url 字符串的情况\n * @param  {HTMLImageElement | string} img\n * @return {Promise}\n */\nexport function processImageMask(img) {\n    return new Promise(function (res, rej) {\n        if (img instanceof HTMLImageElement) {\n            res(img);\n            return;\n        }\n        if (isString(img)) {\n            var image_1 = new Image();\n            image_1.crossOrigin = 'anonymous';\n            image_1.src = img;\n            image_1.onload = function () {\n                res(image_1);\n            };\n            image_1.onerror = function () {\n                log(LEVEL.ERROR, false, 'image %s load failed !!!', img);\n                rej();\n            };\n            return;\n        }\n        log(LEVEL.WARN, img === undefined, 'the type of imageMask option must be String or HTMLImageElement.');\n        rej();\n    });\n}\n/**\n * 把用户提供的 fontSize 值转换成符合 DataSet 要求的值\n * @param options\n * @param range\n */\nfunction getFontSize(options, range) {\n    var fontSize = options.wordStyle.fontSize;\n    var min = range[0], max = range[1];\n    if (isFunction(fontSize)) {\n        return fontSize;\n    }\n    if (isArray(fontSize)) {\n        var fMin_1 = fontSize[0], fMax_1 = fontSize[1];\n        return function fontSize(_a) {\n            var value = _a.value;\n            return ((fMax_1 - fMin_1) / (max - min)) * (value - min) + fMin_1;\n        };\n    }\n    return fontSize;\n}\n/**\n * 把用户提供的关于旋转角度的字段值转换成符合 DataSet 要求的值\n * @param options\n */\nfunction getRotate(options) {\n    var _a = resolveRotate(options), rotateRatio = _a.rotateRatio, rotation = _a.rotation, rotationSteps = _a.rotationSteps;\n    var min = rotation[0];\n    var max = rotation[1];\n    // 等于 1 时不旋转，所以把每份大小设为 0\n    var perSize = rotationSteps === 1 ? 0 : (max - min) / (rotationSteps - 1);\n    return function rotate() {\n        return Math.ceil(Math.random() * (rotationSteps - 1)) * perSize * isHappen(rotateRatio);\n    };\n}\n/**\n * 根据传入的数字推断是否发生，返回 1 表示发生，0 表示未发生\n * @param n 概率值，可以是从 0 到 1 的数字\n */\nfunction isHappen(n) {\n    return Math.random() < n ? 1 : 0;\n}\n/**\n * 确保值在要求范围内\n * @param options\n */\nfunction resolveRotate(options) {\n    var _a = options.wordStyle, rotation = _a.rotation, rotationSteps = _a.rotationSteps, rotateRatio = _a.rotateRatio;\n    if (!isArray(rotation)) {\n        log(LEVEL.WARN, false, 'the rotation option must be an Array in wordStyle option.');\n        rotation = [0, 90];\n    }\n    if (rotationSteps === 0) {\n        log(LEVEL.WARN, false, 'the rotationSteps option must be greater than or equal to 1.');\n        rotationSteps = 1;\n    }\n    if (rotateRatio < 0) {\n        log(LEVEL.WARN, false, 'the rotateRatio option must be greater than or equal to 0 and less than or equal to 1.');\n        rotateRatio = 0;\n    }\n    if (rotateRatio > 1) {\n        log(LEVEL.WARN, false, 'the rotateRatio option must be greater than or equal to 0 and less than or equal to 1.');\n        rotateRatio = 1;\n    }\n    return {\n        rotation: rotation,\n        rotationSteps: rotationSteps,\n        rotateRatio: rotateRatio,\n    };\n}\n/**\n * 传入一个元素为数字的数组，\n * 返回该数组中值最小的数字。\n * @param numbers\n */\nfunction min(numbers) {\n    return Math.min.apply(Math, numbers);\n}\n/**\n * 传入一个元素为数字的数组，\n * 返回该数组中值最大的数字。\n * @param numbers\n */\nfunction max(numbers) {\n    return Math.max.apply(Math, numbers);\n}\n//# sourceMappingURL=utils.js.map","import { tooltip, interaction, animation, theme, scale, state } from '../../adaptor/common';\nimport { flow, findGeometry } from '../../utils';\nimport { transform } from './utils';\n/**\n * geometry 配置处理\n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart;\n    var data = transform(params);\n    chart.data(data);\n    chart.point().position('x*y').shape('word-cloud');\n    return params;\n}\n/**\n * color 配置处理\n * @param params\n */\nfunction color(params) {\n    var chart = params.chart, options = params.options;\n    var wordField = options.wordField, color = options.color;\n    var geometry = findGeometry(chart, 'point');\n    geometry.color(wordField, color);\n    return params;\n}\n/**\n * meta 配置\n * @param params\n */\nfunction meta(params) {\n    return flow(scale({\n        x: { nice: false },\n        y: { nice: false },\n    }))(params);\n}\n/**\n * coord 配置\n * @param params\n */\nfunction coord(params) {\n    var chart = params.chart;\n    chart.coordinate().reflect('y');\n    return params;\n}\n/**\n * axis 配置\n * 词云图不显示轴信息\n * @param params\n */\nfunction axis(params) {\n    var chart = params.chart;\n    chart.axis(false);\n    return params;\n}\n/**\n * label 配置\n * 词云图不显示 label 信息\n * @param params\n */\nfunction label(params) {\n    var chart = params.chart;\n    var geometry = findGeometry(chart, 'point');\n    geometry.label(false);\n    return params;\n}\n/**\n * legend 配置\n * 词云图不显示 legend 信息\n * @param params\n */\nfunction legend(params) {\n    var chart = params.chart;\n    chart.legend(false);\n    return params;\n}\n/**\n * 词云图适配器\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow 的方式处理所有的配置到 G2 API\n    flow(geometry, meta, coord, axis, label, color, legend, tooltip, interaction, animation, theme, state)(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __assign } from \"tslib\";\nimport { registerShape, Util } from '@antv/g2';\nregisterShape('point', 'word-cloud', {\n    draw: function (cfg, group) {\n        var cx = cfg.x;\n        var cy = cfg.y;\n        var shape = group.addShape('text', {\n            attrs: __assign(__assign({}, getTextAttrs(cfg)), { x: cx, y: cy }),\n        });\n        var rotate = cfg.data.rotate;\n        if (typeof rotate === 'number') {\n            Util.rotate(shape, (rotate * Math.PI) / 180);\n        }\n        return shape;\n    },\n});\nfunction getTextAttrs(cfg) {\n    return __assign(__assign(__assign({}, cfg.defaultStyle), cfg.style), { fontSize: cfg.data.size, text: cfg.data.text, textAlign: 'center', fontFamily: cfg.data.font, fontWeight: cfg.data.weight, fill: cfg.color, textBaseline: 'alphabetic' });\n}\n//# sourceMappingURL=word-cloud.js.map","import { __assign, __extends } from \"tslib\";\nimport { deepMix } from '@antv/util';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { processImageMask } from './utils';\n// 注册的shape\nimport './shapes/word-cloud';\nvar WordCloud = /** @class */ (function (_super) {\n    __extends(WordCloud, _super);\n    function WordCloud() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** 词云图 */\n        _this.type = 'word-cloud';\n        return _this;\n    }\n    /**\n     * 获取默认的 options 配置项\n     */\n    WordCloud.prototype.getDefaultOptions = function () {\n        return deepMix({}, _super.prototype.getDefaultOptions.call(this), {\n            timeInterval: 2000,\n            tooltip: {\n                showTitle: false,\n                showMarkers: false,\n                showCrosshairs: false,\n            },\n            wordStyle: {\n                fontFamily: 'Verdana',\n                fontWeight: 'normal',\n                padding: 1,\n                fontSize: [20, 60],\n                rotation: [0, 90],\n                rotationSteps: 2,\n                rotateRatio: 0.5,\n            },\n        });\n    };\n    /**\n     * 覆写父类方法，词云图需要加载图片资源，所以需要异步渲染\n     */\n    WordCloud.prototype.render = function () {\n        var _this = this;\n        var imageMask = this.options.imageMask;\n        if (!imageMask) {\n            // 调用父类渲染函数\n            _super.prototype.render.call(this);\n            return;\n        }\n        var handler = function (img) {\n            _this.options = __assign(__assign({}, _this.options), { imageMask: img || null });\n            // 调用父类渲染函数\n            _super.prototype.render.call(_this);\n        };\n        processImageMask(imageMask).then(handler).catch(handler);\n    };\n    /**\n     * 获取 词云图 的适配器\n     */\n    WordCloud.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    /**\n     * 覆写父类的方法，因为词云图使用 单独的函数 进行布局，原理上有些不一样\n     */\n    WordCloud.prototype.triggerResize = function () {\n        if (!this.chart.destroyed) {\n            // 当整个词云图图表的宽高信息发生变化时，每个词语的坐标需要重新\n            // 需要重新执行 adaptor，执行词云图的布局函数，不然会出现布局错乱，如相邻词语重叠的情况。\n            this.execAdaptor();\n            // 执行父类的方法\n            _super.prototype.triggerResize.call(this);\n        }\n    };\n    return WordCloud;\n}(Plot));\nexport { WordCloud };\n//# sourceMappingURL=index.js.map","import { tuple } from '../../types';\nexport var SHAPE_TYPES = tuple('circle', 'square');\n//# sourceMappingURL=types.js.map","import { __rest } from \"tslib\";\nimport { isFunction, isObject } from '@antv/util';\nimport { findGeometry } from '../../utils';\nimport { flow, transformLabel } from '../../utils';\nimport { DEFAULT_COLORS } from '../../constant';\nimport { tooltip, interaction, animation, theme, scale } from '../../adaptor/common';\nimport { SHAPE_TYPES } from './types';\n/**\n * 数据字段映射\n * @param params\n */\nfunction field(params) {\n    var chart = params.chart, options = params.options;\n    var data = options.data, xField = options.xField, yField = options.yField, colorField = options.colorField, sizeField = options.sizeField, sizeRatio = options.sizeRatio, shapeType = options.shapeType, color = options.color;\n    chart.data(data);\n    var geometry = chart.polygon().position(xField + \"*\" + yField);\n    if (colorField) {\n        geometry.color(colorField, color || DEFAULT_COLORS.GRADIENT.CONTINUOUS);\n    }\n    /**\n     * The ratio between the actual size and the max available size, must be in range `[0,1]`.\n     *\n     * If the `sizeRatio` attribute is undefined or it exceeds the range,\n     * `checkedSizeRatio` would be set to 1 as default.\n     */\n    var checkedSizeRatio = 1;\n    if (sizeRatio || sizeRatio === 0) {\n        if (!shapeType && !sizeField) {\n            console.warn('sizeRatio is not in effect: Must define shapeType or sizeField first');\n        }\n        else if (sizeRatio < 0 || sizeRatio > 1) {\n            console.warn('sizeRatio is not in effect: It must be a number in [0,1]');\n        }\n        else {\n            checkedSizeRatio = sizeRatio;\n        }\n    }\n    /**\n     * The type of shape in each cell of heatmap.\n     *\n     * If a valid type is specified with `shapeType` attribute, the shape would be that type.\n     * If `shapeType` specifies an invalid type, the type would be set to `square` as default.\n     *\n     * If the `shapeType` is undefined but the `sizeField` attribute is specified,\n     * the type would be set to `square` as default since the original shape 'rectangle' can hardly\n     * be mapped with size.\n     */\n    var checkedShapeType;\n    if (shapeType) {\n        if (!SHAPE_TYPES.includes(shapeType)) {\n            console.warn(\"Invalid shapeType: Must be one of \" + SHAPE_TYPES + \", new set to default 'square'\");\n            checkedShapeType = 'square';\n        }\n        else {\n            checkedShapeType = shapeType;\n        }\n    }\n    else if (sizeField) {\n        checkedShapeType = 'square';\n    }\n    // when it has to change shape from original rect\n    if (checkedShapeType) {\n        // just to change shape in cell\n        if (!sizeField) {\n            geometry.shape('', function () {\n                return [\"heatmap-\" + checkedShapeType + \"-size\", 1, checkedSizeRatio];\n            });\n        }\n        // specific shape in different size\n        if (sizeField) {\n            var field_1 = data.map(function (row) { return row[sizeField]; });\n            var min_1 = Math.min.apply(Math, field_1);\n            var max_1 = Math.max.apply(Math, field_1);\n            geometry.shape(sizeField, function (v) {\n                return [\"heatmap-\" + checkedShapeType + \"-size\", (v - min_1) / (max_1 - min_1), checkedSizeRatio];\n            });\n        }\n    }\n    return params;\n}\n/**\n * meta 配置\n * @param params\n */\nfunction meta(params) {\n    var _a;\n    var options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField;\n    return flow(scale((_a = {},\n        _a[xField] = xAxis,\n        _a[yField] = yAxis,\n        _a)))(params);\n}\n/**\n * axis 配置\n * @param params\n */\nfunction axis(params) {\n    var chart = params.chart, options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField;\n    chart.axis(xField, Object.assign({\n        tickLine: null,\n        line: null,\n        grid: {\n            alignTick: false,\n            line: {\n                style: {\n                    lineWidth: 1,\n                    lineDash: null,\n                    stroke: '#f0f0f0',\n                },\n            },\n        },\n    }, xAxis));\n    chart.axis(yField, Object.assign({\n        grid: {\n            alignTick: false,\n            line: {\n                style: {\n                    lineWidth: 1,\n                    lineDash: null,\n                    stroke: '#f0f0f0',\n                },\n            },\n        },\n    }, yAxis));\n    return params;\n}\n/**\n * legend 配置\n * @param params\n */\nfunction legend(params) {\n    var chart = params.chart;\n    // TODO: chart legend\n    // legends overrided with color and size mapped with the same field,\n    // requre support from G2\n    // const { legend, colorField, sizeField } = params.options;\n    // if (legend && colorField) {\n    //   chart.legend(colorField, legend);\n    // }\n    chart.legend(false);\n    return params;\n}\n/**\n * 样式\n * @param params\n */\nfunction style(params) {\n    var chart = params.chart, options = params.options;\n    var xField = options.xField, yField = options.yField, colorField = options.colorField, sizeField = options.sizeField, heatmapStyle = options.heatmapStyle;\n    var geometry = chart.geometries[0];\n    if (heatmapStyle && geometry) {\n        if (isFunction(heatmapStyle)) {\n            geometry.style(xField + \"*\" + yField + \"*\" + colorField + \"*\" + sizeField, heatmapStyle);\n        }\n        else if (isObject(heatmapStyle)) {\n            geometry.style(heatmapStyle);\n        }\n    }\n    return params;\n}\n/**\n * 数据标签\n * @param params\n */\nfunction label(params) {\n    var chart = params.chart, options = params.options;\n    var label = options.label, colorField = options.colorField;\n    var geometry = findGeometry(chart, 'polygon');\n    if (!label) {\n        geometry.label(false);\n    }\n    else {\n        var callback = label.callback, cfg = __rest(label, [\"callback\"]);\n        geometry.label({\n            fields: [colorField],\n            callback: callback,\n            cfg: transformLabel(cfg),\n        });\n    }\n    return params;\n}\n/**\n * 热力图适配器\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow 的方式处理所有的配置到 G2 API\n    return flow(field, meta, theme, axis, legend, tooltip, style, label, interaction, animation)(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __assign } from \"tslib\";\nimport { registerShape } from '@antv/g2';\nregisterShape('polygon', 'heatmap-circle-size', {\n    draw: function (cfg, group) {\n        var cx = cfg.x;\n        var cy = cfg.y;\n        var points = this.parsePoints(cfg.points);\n        var width = Math.abs(points[2].x - points[1].x);\n        var height = Math.abs(points[1].y - points[0].y);\n        var maxRadius = Math.min(width, height) / 2;\n        var value = Number(cfg.shape[1]);\n        var sizeRatio = Number(cfg.shape[2]);\n        var radiusRatio = Math.sqrt(sizeRatio);\n        var radius = maxRadius * radiusRatio * Math.sqrt(value);\n        var polygon = group.addShape('circle', {\n            attrs: __assign({ x: cx, y: cy, r: radius, fill: cfg.color }, cfg.defaultStyle),\n        });\n        return polygon;\n    },\n});\n//# sourceMappingURL=circle.js.map","import { __assign } from \"tslib\";\nimport { registerShape } from '@antv/g2';\nregisterShape('polygon', 'heatmap-square-size', {\n    draw: function (cfg, group) {\n        var cx = cfg.x;\n        var cy = cfg.y;\n        var points = this.parsePoints(cfg.points);\n        var width = Math.abs(points[2].x - points[1].x);\n        var height = Math.abs(points[1].y - points[0].y);\n        var maxSideLength = Math.min(width, height);\n        var value = Number(cfg.shape[1]);\n        var sizeRatio = Number(cfg.shape[2]);\n        var lenRatio = Math.sqrt(sizeRatio);\n        var sideLength = maxSideLength * lenRatio * Math.sqrt(value);\n        var polygon = group.addShape('rect', {\n            attrs: __assign({ x: cx - sideLength / 2, y: cy - sideLength / 2, width: sideLength, height: sideLength, fill: cfg.color }, cfg.defaultStyle),\n        });\n        return polygon;\n    },\n});\n//# sourceMappingURL=square.js.map","import { __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\n// registered shapes\nimport './shapes/circle';\nimport './shapes/square';\nvar Heatmap = /** @class */ (function (_super) {\n    __extends(Heatmap, _super);\n    function Heatmap() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** 图表类型 */\n        _this.type = 'heatmap';\n        return _this;\n    }\n    /**\n     * 获取直方图的适配器\n     */\n    Heatmap.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Heatmap;\n}(Plot));\nexport { Heatmap };\n//# sourceMappingURL=index.js.map","import { isString, isArray, isFunction, clamp } from '@antv/util';\nimport { interaction, animation, theme, scale } from '../../adaptor/common';\nimport { flow } from '../../utils';\nimport { RANGE_TYPE, RANGE_VALUE, PERCENT, DEFAULT_COLOR } from './constant';\nimport { processRangeData } from './utils';\n/**\n * geometry 处理\n * @param params\n */\nfunction geometry(params) {\n    var _a;\n    var chart = params.chart, options = params.options;\n    var percent = options.percent, range = options.range, radius = options.radius, innerRadius = options.innerRadius, startAngle = options.startAngle, endAngle = options.endAngle, axis = options.axis, indicator = options.indicator;\n    var ticks = range.ticks, color = range.color;\n    // 指标 & 指针\n    var indicatorData = [(_a = {}, _a[PERCENT] = clamp(percent, 0, 1), _a)];\n    var v1 = chart.createView();\n    v1.data(indicatorData);\n    v1.point()\n        .position(PERCENT + \"*1\")\n        .shape('gauge-indicator')\n        // 传入指针的样式到自定义 shape 中\n        .customInfo({\n        indicator: indicator,\n    });\n    v1.coordinate('polar', {\n        startAngle: startAngle,\n        endAngle: endAngle,\n        radius: innerRadius * radius,\n    });\n    v1.axis(PERCENT, axis);\n    // 辅助 range\n    // [{ range: 1, type: '0' }]\n    var rangeData = processRangeData(ticks);\n    var v2 = chart.createView();\n    v2.data(rangeData);\n    var rangeColor = isString(color) ? [color, DEFAULT_COLOR] : isArray(color) ? color.concat(DEFAULT_COLOR) : color;\n    v2.interval().position(\"1*\" + RANGE_VALUE).color(RANGE_TYPE, rangeColor).adjust('stack');\n    v2.coordinate('polar', {\n        innerRadius: innerRadius,\n        radius: radius,\n        startAngle: startAngle,\n        endAngle: endAngle,\n    }).transpose();\n    return params;\n}\n/**\n * meta 配置\n * @param params\n */\nfunction meta(params) {\n    return flow(scale({\n        range: {\n            min: 0,\n            max: 1,\n            maxLimit: 1,\n            minLimit: 0,\n        },\n    }))(params);\n}\n/**\n * 统计指标文档\n * @param params\n */\nfunction statistic(params) {\n    var chart = params.chart, options = params.options;\n    var statistic = options.statistic, percent = options.percent;\n    var title = statistic.title, content = statistic.content;\n    // annotation title 和 content 分别使用一个 text\n    [title, content].forEach(function (annotation) {\n        if (annotation) {\n            var formatter = annotation.formatter, style = annotation.style, offsetX = annotation.offsetX, offsetY = annotation.offsetY, rotate = annotation.rotate;\n            chart.annotation().text({\n                top: true,\n                position: ['50%', '100%'],\n                content: isFunction(formatter) ? formatter({ percent: percent }) : \"\" + percent,\n                style: isFunction(style) ? style({ percent: percent }) : style,\n                offsetX: offsetX,\n                offsetY: offsetY,\n                rotate: rotate,\n            });\n        }\n    });\n    return params;\n}\n/**\n * other 配置\n * @param params\n */\nfunction other(params) {\n    var chart = params.chart;\n    chart.legend(false);\n    chart.tooltip(false);\n    return params;\n}\n/**\n * 图适配器\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow 的方式处理所有的配置到 G2 API\n    return flow(geometry, meta, statistic, interaction, animation, theme, other\n    // ... 其他的 adaptor flow\n    )(params);\n}\n//# sourceMappingURL=adaptor.js.map","export var RANGE_VALUE = 'range';\nexport var RANGE_TYPE = 'type';\nexport var PERCENT = 'percent';\nexport var DEFAULT_COLOR = '#f0f0f0';\n//# sourceMappingURL=constant.js.map","import { RANGE_VALUE, RANGE_TYPE } from './constant';\n/**\n * 将 range 生成为 data 数据\n * @param range\n * @param key\n */\nexport function processRangeData(range) {\n    return (range\n        // 映射为 stack 的数据\n        .map(function (r, idx) {\n        var _a;\n        return _a = {}, _a[RANGE_VALUE] = r - (range[idx - 1] || 0), _a[RANGE_TYPE] = \"\" + idx, _a;\n    })\n        // 去掉 0 的数据\n        .filter(function (d) { return !!d[RANGE_VALUE]; }));\n}\n//# sourceMappingURL=utils.js.map","import { __assign } from \"tslib\";\nimport { registerShape } from '@antv/g2';\n// 自定义Shape 部分\nregisterShape('point', 'gauge-indicator', {\n    draw: function (cfg, container) {\n        // 使用 customInfo 传递参数\n        var indicator = cfg.customInfo.indicator;\n        var pointer = indicator.pointer, pin = indicator.pin;\n        var group = container.addGroup();\n        // 获取极坐标系下画布中心点\n        var center = this.parsePoint({ x: 0, y: 0 });\n        // 绘制指针\n        // pointer\n        group.addShape('line', {\n            attrs: __assign({ x1: center.x, y1: center.y, x2: cfg.x, y2: cfg.y }, pointer.style),\n        });\n        // pin\n        group.addShape('circle', {\n            attrs: __assign({ x: center.x, y: center.y }, pin.style),\n        });\n        return group;\n    },\n});\n//# sourceMappingURL=gauge.js.map","import { __extends } from \"tslib\";\nimport { clamp } from '@antv/util';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { RANGE_VALUE, PERCENT } from './constant';\n// 注册 shape\nimport './shapes/gauge';\n/**\n * 仪表盘盘\n */\nvar Gauge = /** @class */ (function (_super) {\n    __extends(Gauge, _super);\n    function Gauge() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** 图表类型 */\n        _this.type = 'gauge';\n        return _this;\n    }\n    Gauge.prototype.getDefaultOptions = function (options) {\n        var _a;\n        var percent = options.percent;\n        return {\n            percent: 0,\n            range: {\n                ticks: [0, clamp(percent, 0, 1), 1],\n            },\n            innerRadius: 0.9,\n            radius: 0.95,\n            startAngle: (-7 / 6) * Math.PI,\n            endAngle: (1 / 6) * Math.PI,\n            syncViewPadding: true,\n            axis: {\n                line: null,\n                label: {\n                    offset: -24,\n                    style: {\n                        textAlign: 'center',\n                        textBaseline: 'middle',\n                    },\n                },\n                subTickLine: {\n                    length: -8,\n                },\n                tickLine: {\n                    length: -12,\n                },\n                grid: null,\n            },\n            indicator: {\n                pointer: {\n                    style: {\n                        stroke: '#1890FF',\n                        lineWidth: 5,\n                        lineCap: 'round',\n                    },\n                },\n                pin: {\n                    style: {\n                        stroke: '#1890FF',\n                        r: 9.75,\n                        lineWidth: 4.5,\n                        fill: '#fff',\n                    },\n                },\n            },\n            statistic: {\n                title: false,\n                content: {\n                    formatter: function (_a) {\n                        var percent = _a.percent;\n                        return (percent * 100).toFixed(2) + \"%\";\n                    },\n                    style: {\n                        opacity: 0.75,\n                        fontSize: 30,\n                        textAlign: 'center',\n                        textBaseline: 'bottom',\n                    },\n                    offsetY: -16,\n                },\n            },\n            meta: (_a = {},\n                // 两个 view 的 scale 同步到 v 上\n                _a[RANGE_VALUE] = {\n                    sync: 'v',\n                },\n                _a[PERCENT] = {\n                    sync: 'v',\n                },\n                _a),\n        };\n    };\n    /**\n     * 获取适配器\n     */\n    Gauge.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Gauge;\n}(Plot));\nexport { Gauge };\n//# sourceMappingURL=index.js.map","export var Y_FIELD = '$$yField$$';\nexport var DIFF_FIELD = '$$diffField$$';\nexport var ABSOLUTE_FIELD = '$$absoluteField$$';\nexport var IS_TOTAL = '$$isTotal$$';\n//# sourceMappingURL=constants.js.map","import { __assign } from \"tslib\";\nimport { isUndefined, isNumber, get, reduce, isObject } from '@antv/util';\nimport { LEVEL, log } from '../../utils';\nimport { ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL, Y_FIELD } from './constants';\n/**\n * @desc 数据处理函数，统一将数据处理成[start, end]\n * @param data\n * @param xField\n * @param yField\n * @param totalLabel\n */\nexport function processData(data, xField, yField, newYField, total) {\n    var _a;\n    var newData = [];\n    reduce(data, function (r, d) {\n        var _a;\n        // 校验数据合法性\n        log(LEVEL.WARN, isNumber(d[yField]), d[yField] + \" is not a valid number\");\n        var value = isUndefined(d[yField]) ? null : d[yField];\n        newData.push(__assign(__assign({}, d), (_a = {}, _a[newYField] = [r, r + value], _a)));\n        return r + value;\n    }, 0);\n    // 如果需要展示总和\n    if (newData.length && total) {\n        var sum = get(newData, [[data.length - 1], newYField, [1]]);\n        newData.push((_a = {},\n            _a[xField] = total.label,\n            _a[yField] = sum,\n            _a[newYField] = [0, sum],\n            _a));\n    }\n    return newData;\n}\n/**\n * 处理为 瀑布图 数据\n */\nexport function transformData(data, xField, yField, total) {\n    var processed = processData(data, xField, yField, Y_FIELD, total);\n    return processed.map(function (d, dIdx) {\n        var _a;\n        if (!isObject(d)) {\n            return d;\n        }\n        return __assign(__assign({}, d), (_a = {}, _a[ABSOLUTE_FIELD] = d[Y_FIELD][1], _a[DIFF_FIELD] = d[Y_FIELD][1] - d[Y_FIELD][0], _a[IS_TOTAL] = dIdx === data.length, _a));\n    });\n}\n//# sourceMappingURL=utils.js.map","import { __rest } from \"tslib\";\nimport { deepMix, get } from '@antv/util';\nimport { tooltip, interaction, animation, theme, state, scale, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { findGeometry, flow, transformLabel } from '../../utils';\nimport { Y_FIELD, ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL } from './constants';\nimport { transformData } from './utils';\nimport './shape';\n/**\n * 字段\n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var data = options.data, xField = options.xField, yField = options.yField, total = options.total, leaderLine = options.leaderLine, columnWidthRatio = options.columnWidthRatio, waterfallStyle = options.waterfallStyle, risingFill = options.risingFill, fallingFill = options.fallingFill, color = options.color;\n    // 数据处理\n    chart.data(transformData(data, xField, yField, total));\n    // 瀑布图自带的 colorMapping\n    var colorMapping = color ||\n        function (datum) {\n            if (get(datum, [IS_TOTAL])) {\n                return get(total, ['style', 'fill'], '');\n            }\n            return get(datum, [Y_FIELD, 1]) - get(datum, [Y_FIELD, 0]) > 0 ? risingFill : fallingFill;\n        };\n    var p = deepMix({}, params, {\n        options: {\n            xField: xField,\n            yField: Y_FIELD,\n            seriesField: xField,\n            rawFields: [yField, DIFF_FIELD, IS_TOTAL, Y_FIELD],\n            widthRatio: columnWidthRatio,\n            interval: {\n                style: waterfallStyle,\n                shape: 'waterfall',\n                color: colorMapping,\n            },\n        },\n    });\n    var ext = interval(p).ext;\n    var geometry = ext.geometry;\n    // tooltip 默认展示 difference\n    geometry.tooltip(yField);\n    // 将 waterfall leaderLineCfg 传入到自定义 shape 中\n    geometry.customInfo({ leaderLine: leaderLine });\n    return params;\n}\n/**\n * meta 配置\n * @param params\n */\nfunction meta(params) {\n    var _a, _b;\n    var options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField, meta = options.meta;\n    var Y_FIELD_META = deepMix({}, { alias: yField }, get(meta, yField));\n    return flow(scale((_a = {},\n        _a[xField] = xAxis,\n        _a[yField] = yAxis,\n        _a[Y_FIELD] = yAxis,\n        _a), deepMix({}, meta, (_b = {}, _b[Y_FIELD] = Y_FIELD_META, _b[DIFF_FIELD] = Y_FIELD_META, _b[ABSOLUTE_FIELD] = Y_FIELD_META, _b))))(params);\n}\n/**\n * axis 配置\n * @param params\n */\nfunction axis(params) {\n    var chart = params.chart, options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField;\n    // 为 false 则是不显示轴\n    if (xAxis === false) {\n        chart.axis(xField, false);\n    }\n    else {\n        chart.axis(xField, xAxis);\n    }\n    if (yAxis === false) {\n        chart.axis(yField, false);\n    }\n    else {\n        chart.axis(yField, yAxis);\n    }\n    return params;\n}\n/**\n * legend 配置 todo 添加 hover 交互\n * @param params\n */\nfunction legend(params) {\n    var chart = params.chart, options = params.options;\n    var legend = options.legend, total = options.total, risingFill = options.risingFill, fallingFill = options.fallingFill;\n    if (legend === false) {\n        chart.legend(false);\n    }\n    else {\n        var items = [\n            {\n                name: '增加',\n                value: 'increase',\n                marker: { symbol: 'square', style: { r: 5, fill: risingFill } },\n            },\n            {\n                name: '减少',\n                value: 'decrease',\n                marker: { symbol: 'square', style: { r: 5, fill: fallingFill } },\n            },\n        ];\n        if (total) {\n            items.push({\n                name: total.label || '',\n                value: 'total',\n                marker: {\n                    symbol: 'square',\n                    style: deepMix({}, { r: 5 }, get(total, 'style')),\n                },\n            });\n        }\n        chart.legend(deepMix({}, {\n            custom: true,\n            position: 'top',\n            items: items,\n        }, legend));\n        chart.removeInteraction('legend-filter');\n    }\n    return params;\n}\n/**\n * 数据标签\n * @param params\n */\nfunction label(params) {\n    var chart = params.chart, options = params.options;\n    var label = options.label, labelMode = options.labelMode;\n    var geometry = findGeometry(chart, 'interval');\n    if (!label) {\n        geometry.label(false);\n    }\n    else {\n        var callback = label.callback, cfg = __rest(label, [\"callback\"]);\n        geometry.label({\n            fields: labelMode === 'absolute' ? [ABSOLUTE_FIELD] : [DIFF_FIELD],\n            callback: callback,\n            cfg: transformLabel(cfg),\n        });\n    }\n    return params;\n}\n/**\n * 瀑布图适配器\n * @param params\n */\nexport function adaptor(params) {\n    return flow(geometry, meta, axis, legend, tooltip, label, state, theme, interaction, animation, annotation())(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __assign } from \"tslib\";\nimport { registerShape } from '@antv/g2';\nimport { deepMix, get } from '@antv/util';\n/**\n * 获取柱子 path\n * @param points\n */\nfunction getRectPath(points) {\n    var path = [];\n    for (var i = 0; i < points.length; i++) {\n        var point = points[i];\n        if (point) {\n            var action = i === 0 ? 'M' : 'L';\n            path.push([action, point.x, point.y]);\n        }\n    }\n    var first = points[0];\n    path.push(['L', first.x, first.y]);\n    path.push(['z']);\n    return path;\n}\n/**\n * 获取填充属性\n * @param cfg 图形绘制数据\n */\nfunction getFillAttrs(cfg) {\n    return deepMix({}, cfg.defaultStyle, cfg.style, { fill: cfg.color });\n}\nregisterShape('interval', 'waterfall', {\n    draw: function (cfg, container) {\n        var customInfo = cfg.customInfo, points = cfg.points, nextPoints = cfg.nextPoints;\n        var group = container.addGroup();\n        // ① 绘制柱体\n        var rectPath = this.parsePath(getRectPath(points));\n        var fillAttrs = getFillAttrs(cfg);\n        group.addShape('path', {\n            attrs: __assign(__assign({}, fillAttrs), { path: rectPath }),\n        });\n        // ② 绘制连接线\n        var leaderLineCfg = get(customInfo, 'leaderLine');\n        if (leaderLineCfg && nextPoints) {\n            var linkPath = [\n                ['M', points[2].x, points[2].y],\n                ['L', nextPoints[0].x, nextPoints[0].y],\n            ];\n            if (points[2].y === nextPoints[1].y) {\n                linkPath[1] = ['L', nextPoints[1].x, nextPoints[1].y];\n            }\n            linkPath = this.parsePath(linkPath);\n            group.addShape('path', {\n                attrs: __assign({ path: linkPath }, (leaderLineCfg.style || {})),\n            });\n        }\n        return group;\n    },\n});\n//# sourceMappingURL=shape.js.map","import { __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\n/**\n * 瀑布图\n */\nvar Waterfall = /** @class */ (function (_super) {\n    __extends(Waterfall, _super);\n    function Waterfall() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** 图表类型 */\n        _this.type = 'waterfall';\n        return _this;\n    }\n    /**\n     * 获取 瀑布图 的适配器\n     */\n    Waterfall.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    /**\n     * 获取 瀑布图 的默认配置\n     */\n    Waterfall.prototype.getDefaultOptions = function () {\n        return {\n            tooltip: {\n                showCrosshairs: false,\n                showMarkers: false,\n                shared: true,\n            },\n            /** default: show label */\n            label: {},\n            /** default: show leaderLine */\n            leaderLine: {\n                style: {\n                    lineWidth: 1,\n                    stroke: '#8c8c8c',\n                    lineDash: [4, 2],\n                },\n            },\n            /** default: show total */\n            total: {\n                label: '总计',\n                style: {\n                    fill: 'rgba(0, 0, 0, 0.25)',\n                },\n            },\n            interactions: [{ type: 'element-active' }],\n            risingFill: '#f4664a',\n            fallingFill: '#30bf78',\n            waterfallStyle: {\n                fill: 'rgba(0, 0, 0, 0.25)',\n            },\n        };\n    };\n    return Waterfall;\n}(Plot));\nexport { Waterfall };\n//# sourceMappingURL=index.js.map","import { __assign, __rest } from \"tslib\";\nimport { deepMix } from '@antv/util';\nimport { flow } from '../../utils';\nimport { point as pointAdaptor } from '../../adaptor/geometries';\nimport { tooltip, interaction, animation, theme, scale, annotation } from '../../adaptor/common';\nimport { findGeometry, transformLabel } from '../../utils';\nimport { getQuadrantDefaultConfig } from './util';\n/**\n * 字段\n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var data = options.data, type = options.type, color = options.color, shape = options.shape, size = options.size, pointStyle = options.pointStyle, colorField = options.colorField;\n    // 数据\n    chart.data(data);\n    // geometry\n    pointAdaptor(deepMix({}, params, {\n        seriesField: colorField,\n        options: {\n            point: {\n                color: color,\n                shape: shape,\n                size: size,\n                style: pointStyle,\n            },\n        },\n    }));\n    var geometry = findGeometry(chart, 'point');\n    // 数据调整\n    if (type) {\n        geometry.adjust(type);\n    }\n    return params;\n}\n/**\n * meta 配置\n * @param params\n */\nfunction meta(params) {\n    var _a;\n    var options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField;\n    return flow(scale((_a = {},\n        _a[xField] = xAxis,\n        _a[yField] = yAxis,\n        _a)))(params);\n}\n/**\n * axis 配置\n * @param params\n */\nfunction axis(params) {\n    var chart = params.chart, options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField;\n    chart.axis(xField, xAxis);\n    chart.axis(yField, yAxis);\n    return params;\n}\n/**\n * legend 配置\n * @param params\n */\nfunction legend(params) {\n    var chart = params.chart, options = params.options;\n    var legend = options.legend, colorField = options.colorField, shapeField = options.shapeField, sizeField = options.sizeField;\n    if (legend) {\n        chart.legend(colorField || shapeField, legend);\n    }\n    else {\n        chart.legend(false);\n    }\n    // 隐藏连续图例\n    if (sizeField) {\n        chart.legend(sizeField, false);\n    }\n    return params;\n}\n/**\n * 数据标签\n * @param params\n */\nfunction label(params) {\n    var chart = params.chart, options = params.options;\n    var label = options.label, yField = options.yField;\n    var scatterGeometry = findGeometry(chart, 'point');\n    // label 为 false, 空 则不显示 label\n    if (!label) {\n        scatterGeometry.label(false);\n    }\n    else {\n        var callback = label.callback, cfg = __rest(label, [\"callback\"]);\n        scatterGeometry.label({\n            fields: [yField],\n            callback: callback,\n            cfg: transformLabel(cfg),\n        });\n    }\n    return params;\n}\n/**\n * annotation 配置\n * - 特殊 annotation: quadrant(四象限)\n * @param params\n */\nfunction scatterAnnotation(params) {\n    var options = params.options;\n    var quadrant = options.quadrant;\n    var annotationOptions = [];\n    if (quadrant) {\n        var _a = quadrant.xBaseline, xBaseline = _a === void 0 ? 0 : _a, _b = quadrant.yBaseline, yBaseline = _b === void 0 ? 0 : _b, labels_1 = quadrant.labels, regionStyle_1 = quadrant.regionStyle, lineStyle = quadrant.lineStyle;\n        var defaultConfig_1 = getQuadrantDefaultConfig(xBaseline, yBaseline);\n        // 仅支持四象限\n        var quadrants = new Array(4).join(',').split(',');\n        quadrants.forEach(function (_, index) {\n            annotationOptions.push(__assign(__assign({ type: 'region', top: false }, defaultConfig_1.regionStyle[index].position), { style: deepMix({}, defaultConfig_1.regionStyle[index].style, regionStyle_1 === null || regionStyle_1 === void 0 ? void 0 : regionStyle_1[index]) }), __assign({ type: 'text', top: true }, deepMix({}, defaultConfig_1.labelStyle[index], labels_1 === null || labels_1 === void 0 ? void 0 : labels_1[index])));\n        });\n        // 生成坐标轴\n        annotationOptions.push({\n            type: 'line',\n            top: false,\n            start: ['min', yBaseline],\n            end: ['max', yBaseline],\n            style: deepMix({}, defaultConfig_1.lineStyle, lineStyle),\n        }, {\n            type: 'line',\n            top: false,\n            start: [xBaseline, 'min'],\n            end: [xBaseline, 'max'],\n            style: deepMix({}, defaultConfig_1.lineStyle, lineStyle),\n        });\n    }\n    return flow(annotation(annotationOptions))(params);\n}\n/**\n * 散点图适配器\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow 的方式处理所有的配置到 G2 API\n    return flow(geometry, meta, axis, legend, tooltip, label, interaction, scatterAnnotation, animation, theme)(params);\n}\n//# sourceMappingURL=adaptor.js.map","/**\n * 获取四象限默认配置\n * @param {number} xBaseline\n * @param {number} yBaseline\n */\nexport function getQuadrantDefaultConfig(xBaseline, yBaseline) {\n    // 文本便宜距离\n    var textOffset = 10;\n    // 四象限默认样式\n    var defaultConfig = {\n        regionStyle: [\n            {\n                position: {\n                    start: [xBaseline, 'max'],\n                    end: ['max', yBaseline],\n                },\n                style: {\n                    fill: '#d8d0c0',\n                    opacity: 0.4,\n                },\n            },\n            {\n                position: {\n                    start: ['min', 'max'],\n                    end: [xBaseline, yBaseline],\n                },\n                style: {\n                    fill: '#a3dda1',\n                    opacity: 0.4,\n                },\n            },\n            {\n                position: {\n                    start: ['min', yBaseline],\n                    end: [xBaseline, 'min'],\n                },\n                style: {\n                    fill: '#d8d0c0',\n                    opacity: 0.4,\n                },\n            },\n            {\n                position: {\n                    start: [xBaseline, yBaseline],\n                    end: ['max', 'min'],\n                },\n                style: {\n                    fill: '#a3dda1',\n                    opacity: 0.4,\n                },\n            },\n        ],\n        lineStyle: {\n            stroke: '#9ba29a',\n            lineWidth: 1,\n        },\n        labelStyle: [\n            {\n                position: ['max', yBaseline],\n                offsetX: -textOffset,\n                offsetY: -textOffset,\n                style: {\n                    textAlign: 'right',\n                    textBaseline: 'bottom',\n                    fontSize: 14,\n                    fill: '#ccc',\n                },\n            },\n            {\n                position: ['min', yBaseline],\n                offsetX: textOffset,\n                offsetY: -textOffset,\n                style: {\n                    textAlign: 'left',\n                    textBaseline: 'bottom',\n                    fontSize: 14,\n                    fill: '#ccc',\n                },\n            },\n            {\n                position: ['min', yBaseline],\n                offsetX: textOffset,\n                offsetY: textOffset,\n                style: {\n                    textAlign: 'left',\n                    textBaseline: 'top',\n                    fontSize: 14,\n                    fill: '#ccc',\n                },\n            },\n            {\n                position: ['max', yBaseline],\n                offsetX: -textOffset,\n                offsetY: textOffset,\n                style: {\n                    textAlign: 'right',\n                    textBaseline: 'top',\n                    fontSize: 14,\n                    fill: '#ccc',\n                },\n            },\n        ],\n    };\n    return defaultConfig;\n}\n//# sourceMappingURL=util.js.map","import { registerInteraction } from '@antv/g2';\nregisterInteraction('drag-move', {\n    start: [{ trigger: 'plot:mousedown', action: 'scale-translate:start' }],\n    processing: [\n        {\n            trigger: 'plot:mousemove',\n            action: 'scale-translate:translate',\n            throttle: { wait: 100, leading: true, trailing: false },\n        },\n    ],\n    end: [{ trigger: 'plot:mouseup', action: 'scale-translate:end' }],\n});\n//# sourceMappingURL=index.js.map","import { __extends } from \"tslib\";\nimport { deepMix, isBoolean } from '@antv/util';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport './interaction';\nvar Scatter = /** @class */ (function (_super) {\n    __extends(Scatter, _super);\n    function Scatter() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** 图表类型 */\n        _this.type = 'point';\n        return _this;\n    }\n    /**\n     * 获取散点图的适配器\n     */\n    Scatter.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    Scatter.prototype.getDefaultOptions = function (options) {\n        var shapeField = options.shapeField, colorField = options.colorField, legend = options.legend;\n        return deepMix({}, _super.prototype.getDefaultOptions.call(this), {\n            size: 4,\n            /** pointStyle 跟随主题默认样式 */\n            tooltip: {\n                shared: null,\n                showTitle: false,\n            },\n            /**\n             * legend 没有指定时根据 shapeField 和 colorField 来设置默认值\n             */\n            legend: isBoolean(legend) ? legend : legend || !!(shapeField || colorField),\n        });\n    };\n    return Scatter;\n}(Plot));\nexport { Scatter };\n//# sourceMappingURL=index.js.map","import { __assign, __rest } from \"tslib\";\nimport { deepMix } from '@antv/util';\nimport { tooltip, interaction, animation, theme, scale, annotation, legend } from '../../adaptor/common';\nimport { area, point, line } from '../../adaptor/geometries';\nimport { findGeometry, flow, transformLabel } from '../../utils';\n/**\n * geometry 配置处理\n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var data = options.data, lineStyle = options.lineStyle, color = options.color, pointOptions = options.point, areaOptions = options.area;\n    chart.data(data);\n    // 雷达图 geometry\n    var p = deepMix({}, params, {\n        options: {\n            line: {\n                style: lineStyle,\n                color: color,\n            },\n            point: pointOptions\n                ? __assign({ color: color }, pointOptions) : pointOptions,\n            area: areaOptions\n                ? __assign({ color: color }, areaOptions) : areaOptions,\n        },\n    });\n    line(p);\n    point(p);\n    area(p);\n    return params;\n}\n/**\n * meta 配置\n * @param params\n */\nfunction meta(params) {\n    var _a;\n    var options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField;\n    return flow(scale((_a = {},\n        _a[xField] = xAxis,\n        _a[yField] = yAxis,\n        _a)))(params);\n}\n/**\n * coord 配置\n * @param params\n */\nfunction coord(params) {\n    var chart = params.chart, options = params.options;\n    var radius = options.radius;\n    chart.coordinate('polar', {\n        radius: radius,\n    });\n    return params;\n}\n/**\n * axis 配置\n * @param params\n */\nfunction axis(params) {\n    var chart = params.chart, options = params.options;\n    var xField = options.xField, xAxis = options.xAxis, yField = options.yField, yAxis = options.yAxis;\n    chart.axis(xField, xAxis);\n    chart.axis(yField, yAxis);\n    return params;\n}\n/**\n * label 配置\n * @param params\n */\nfunction label(params) {\n    var chart = params.chart, options = params.options;\n    var label = options.label, yField = options.yField;\n    var geometry = findGeometry(chart, 'line');\n    if (!label) {\n        geometry.label(false);\n    }\n    else {\n        var callback = label.callback, cfg = __rest(label, [\"callback\"]);\n        geometry.label({\n            fields: [yField],\n            callback: callback,\n            cfg: transformLabel(cfg),\n        });\n    }\n    return params;\n}\n/**\n * 雷达图适配器\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow 的方式处理所有的配置到 G2 API\n    return flow(geometry, meta, theme, coord, axis, legend, tooltip, label, interaction, animation, annotation())(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __assign, __extends } from \"tslib\";\nimport { registerComponentController } from '@antv/g2';\nimport { getTooltipItems } from '@antv/g2/lib/util/tooltip';\nimport TooltipController from '@antv/g2/lib/chart/controller/tooltip';\nimport { Action } from '@antv/g2/lib/interaction';\nimport { isNil } from '@antv/util';\nvar RadarTooltipController = /** @class */ (function (_super) {\n    __extends(RadarTooltipController, _super);\n    function RadarTooltipController() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(RadarTooltipController.prototype, \"name\", {\n        get: function () {\n            return 'radar-tooltip';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    RadarTooltipController.prototype.getTooltipItems = function (point) {\n        var _a = this.getTooltipCfg(), shared = _a.shared, cfgTitle = _a.title;\n        var hintItems = _super.prototype.getTooltipItems.call(this, point);\n        if (hintItems.length > 0) {\n            var geometry_1 = this.view.geometries[0];\n            var dataArray = geometry_1.dataArray;\n            var title_1 = hintItems[0].name;\n            var result_1 = [];\n            dataArray.forEach(function (mappingData) {\n                mappingData.forEach(function (d) {\n                    var items = getTooltipItems(d, geometry_1);\n                    var item = items[0];\n                    if (!shared && item && item.name === title_1) {\n                        var displayTitle = isNil(cfgTitle) ? title_1 : cfgTitle;\n                        result_1.push(__assign(__assign({}, item), { name: item.title, title: displayTitle }));\n                    }\n                    else if (shared && item) {\n                        var displayTitle = isNil(cfgTitle) ? item.name || title_1 : cfgTitle;\n                        result_1.push(__assign(__assign({}, item), { name: item.title, title: displayTitle }));\n                    }\n                });\n            });\n            return result_1;\n        }\n        return [];\n    };\n    return RadarTooltipController;\n}(TooltipController));\nexport { RadarTooltipController };\nregisterComponentController('radar-tooltip', RadarTooltipController);\n/**\n * 雷达图 tooltip 激活 action\n */\nvar RadarTooltipAction = /** @class */ (function (_super) {\n    __extends(RadarTooltipAction, _super);\n    function RadarTooltipAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    RadarTooltipAction.prototype.init = function () {\n        var view = this.context.view;\n        view.removeInteraction('tooltip');\n    };\n    RadarTooltipAction.prototype.show = function () {\n        var event = this.context.event;\n        var controller = this.getTooltipController();\n        controller.showTooltip({ x: event.x, y: event.y });\n    };\n    RadarTooltipAction.prototype.hide = function () {\n        var controller = this.getTooltipController();\n        controller.hideTooltip();\n    };\n    RadarTooltipAction.prototype.getTooltipController = function () {\n        var view = this.context.view;\n        return view.getController('radar-tooltip');\n    };\n    return RadarTooltipAction;\n}(Action));\nexport { RadarTooltipAction };\n//# sourceMappingURL=radar-tooltip-action.js.map","import { registerAction, registerInteraction } from '@antv/g2';\nimport { RadarTooltipAction } from './radar-tooltip-action';\nregisterAction('radar-tooltip', RadarTooltipAction);\nregisterInteraction('radar-tooltip', {\n    start: [{ trigger: 'plot:mousemove', action: 'radar-tooltip:show' }],\n    end: [{ trigger: 'plot:mouseleave', action: 'radar-tooltip:hide' }],\n});\n//# sourceMappingURL=index.js.map","import { __extends } from \"tslib\";\nimport { deepMix } from '@antv/util';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport './interaction';\nvar Radar = /** @class */ (function (_super) {\n    __extends(Radar, _super);\n    function Radar() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** 图表类型 */\n        _this.type = 'radar';\n        return _this;\n    }\n    /**\n     * 获取 雷达图 默认配置\n     */\n    Radar.prototype.getDefaultOptions = function () {\n        return deepMix({}, _super.prototype.getDefaultOptions.call(this), {\n            xAxis: {\n                label: {\n                    offset: 15,\n                },\n                grid: {\n                    line: {\n                        type: 'line',\n                    },\n                },\n            },\n            yAxis: {\n                grid: {\n                    line: {\n                        type: 'circle',\n                    },\n                },\n            },\n            tooltip: {\n                shared: true,\n                showCrosshairs: true,\n                showMarkers: true,\n                crosshairs: {\n                    type: 'xy',\n                    line: {\n                        style: {\n                            stroke: '#565656',\n                            lineDash: [4],\n                        },\n                    },\n                    follow: true,\n                },\n            },\n        });\n    };\n    /**\n     * 获取 雷达图 的适配器\n     */\n    Radar.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Radar;\n}(Plot));\nexport { Radar };\n//# sourceMappingURL=index.js.map","import { isEqual, isNumber, isFunction } from '@antv/util';\nimport * as d3Timer from 'd3-timer';\nimport * as d3Ease from 'd3-ease';\nimport { interpolate, interpolateArray } from 'd3-interpolate'; // 目前整体动画只需要数值和数组的差值计算\nimport * as PathUtil from '../util/path';\nimport { isColorProp, isGradientColor } from '../util/color';\nvar IDENTITY_MATRIX = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n/**\n * 使用 ratio 进行插值计算来更新属性\n * @param {IElement}  shape    元素\n * @param {Animation} animation 动画\n * @param {number}    ratio    比例\n * @return {boolean}  动画是否执行完成\n */\nfunction _update(shape, animation, ratio) {\n    var cProps = {}; // 此刻属性\n    var fromAttrs = animation.fromAttrs, toAttrs = animation.toAttrs;\n    if (shape.destroyed) {\n        return;\n    }\n    var interf; //  差值函数\n    for (var k in toAttrs) {\n        if (!isEqual(fromAttrs[k], toAttrs[k])) {\n            if (k === 'path') {\n                var toPath = toAttrs[k];\n                var fromPath = fromAttrs[k];\n                if (toPath.length > fromPath.length) {\n                    toPath = PathUtil.parsePathString(toAttrs[k]); // 终点状态\n                    fromPath = PathUtil.parsePathString(fromAttrs[k]); // 起始状态\n                    fromPath = PathUtil.fillPathByDiff(fromPath, toPath);\n                    fromPath = PathUtil.formatPath(fromPath, toPath);\n                    animation.fromAttrs.path = fromPath;\n                    animation.toAttrs.path = toPath;\n                }\n                else if (!animation.pathFormatted) {\n                    toPath = PathUtil.parsePathString(toAttrs[k]);\n                    fromPath = PathUtil.parsePathString(fromAttrs[k]);\n                    fromPath = PathUtil.formatPath(fromPath, toPath);\n                    animation.fromAttrs.path = fromPath;\n                    animation.toAttrs.path = toPath;\n                    animation.pathFormatted = true;\n                }\n                cProps[k] = [];\n                for (var i = 0; i < toPath.length; i++) {\n                    var toPathPoint = toPath[i];\n                    var fromPathPoint = fromPath[i];\n                    var cPathPoint = [];\n                    for (var j = 0; j < toPathPoint.length; j++) {\n                        if (isNumber(toPathPoint[j]) && fromPathPoint && isNumber(fromPathPoint[j])) {\n                            interf = interpolate(fromPathPoint[j], toPathPoint[j]);\n                            cPathPoint.push(interf(ratio));\n                        }\n                        else {\n                            cPathPoint.push(toPathPoint[j]);\n                        }\n                    }\n                    cProps[k].push(cPathPoint);\n                }\n            }\n            else if (k === 'matrix') {\n                /*\n                 对矩阵进行插值时，需要保证矩阵不为空，为空则使用单位矩阵\n                 TODO: 二维和三维场景下单位矩阵不同，之后 WebGL 版需要做进一步处理\n                 */\n                var matrixFn = interpolateArray(fromAttrs[k] || IDENTITY_MATRIX, toAttrs[k] || IDENTITY_MATRIX);\n                var currentMatrix = matrixFn(ratio);\n                cProps[k] = currentMatrix;\n            }\n            else if (isColorProp(k) && isGradientColor(toAttrs[k])) {\n                cProps[k] = toAttrs[k];\n            }\n            else if (!isFunction(toAttrs[k])) {\n                // 非函数类型的值才能做插值\n                interf = interpolate(fromAttrs[k], toAttrs[k]);\n                cProps[k] = interf(ratio);\n            }\n        }\n    }\n    shape.attr(cProps);\n}\n/**\n * 根据自定义帧动画函数 onFrame 来更新属性\n * @param {IElement}  shape    元素\n * @param {Animation} animation 动画\n * @param {number}    elapsed  动画执行时间(毫秒)\n * @return {boolean}  动画是否执行完成\n */\nfunction update(shape, animation, elapsed) {\n    var startTime = animation.startTime, delay = animation.delay;\n    // 如果还没有开始执行或暂停，先不更新\n    if (elapsed < startTime + delay || animation._paused) {\n        return false;\n    }\n    var ratio;\n    var duration = animation.duration;\n    var easing = animation.easing;\n    // 已执行时间\n    elapsed = elapsed - startTime - animation.delay;\n    if (animation.repeat) {\n        // 如果动画重复执行，则 elapsed > duration，计算 ratio 时需取模\n        ratio = (elapsed % duration) / duration;\n        ratio = d3Ease[easing](ratio);\n    }\n    else {\n        ratio = elapsed / duration;\n        if (ratio < 1) {\n            // 动画未执行完\n            ratio = d3Ease[easing](ratio);\n        }\n        else {\n            // 动画已执行完\n            if (animation.onFrame) {\n                shape.attr(animation.onFrame(1));\n            }\n            else {\n                shape.attr(animation.toAttrs);\n            }\n            return true;\n        }\n    }\n    if (animation.onFrame) {\n        var attrs = animation.onFrame(ratio);\n        shape.attr(attrs);\n    }\n    else {\n        _update(shape, animation, ratio);\n    }\n    return false;\n}\nvar Timeline = /** @class */ (function () {\n    /**\n     * 时间轴构造函数，依赖于画布\n     * @param {}\n     */\n    function Timeline(canvas) {\n        /**\n         * 执行动画的元素列表\n         * @type {IElement[]}\n         */\n        this.animators = [];\n        /**\n         * 当前时间\n         * @type {number}\n         */\n        this.current = 0;\n        /**\n         * 定时器\n         * @type {d3Timer.Timer}\n         */\n        this.timer = null;\n        this.canvas = canvas;\n    }\n    /**\n     * 初始化定时器\n     */\n    Timeline.prototype.initTimer = function () {\n        var _this = this;\n        var isFinished = false;\n        var shape;\n        var animations;\n        var animation;\n        this.timer = d3Timer.timer(function (elapsed) {\n            _this.current = elapsed;\n            if (_this.animators.length > 0) {\n                for (var i = _this.animators.length - 1; i >= 0; i--) {\n                    shape = _this.animators[i];\n                    if (shape.destroyed) {\n                        // 如果已经被销毁，直接移出队列\n                        _this.removeAnimator(i);\n                        continue;\n                    }\n                    if (!shape.isAnimatePaused()) {\n                        animations = shape.get('animations');\n                        for (var j = animations.length - 1; j >= 0; j--) {\n                            animation = animations[j];\n                            isFinished = update(shape, animation, elapsed);\n                            if (isFinished) {\n                                animations.splice(j, 1);\n                                isFinished = false;\n                                if (animation.callback) {\n                                    animation.callback();\n                                }\n                            }\n                        }\n                    }\n                    if (animations.length === 0) {\n                        _this.removeAnimator(i);\n                    }\n                }\n                var autoDraw = _this.canvas.get('autoDraw');\n                // 非自动渲染模式下，手动调用 canvas.draw() 重新渲染\n                if (!autoDraw) {\n                    _this.canvas.draw();\n                }\n            }\n        });\n    };\n    /**\n     * 增加动画元素\n     */\n    Timeline.prototype.addAnimator = function (shape) {\n        this.animators.push(shape);\n    };\n    /**\n     * 移除动画元素\n     */\n    Timeline.prototype.removeAnimator = function (index) {\n        this.animators.splice(index, 1);\n    };\n    /**\n     * 是否有动画在执行\n     */\n    Timeline.prototype.isAnimating = function () {\n        return !!this.animators.length;\n    };\n    /**\n     * 停止定时器\n     */\n    Timeline.prototype.stop = function () {\n        if (this.timer) {\n            this.timer.stop();\n        }\n    };\n    /**\n     * 停止时间轴上所有元素的动画，并置空动画元素列表\n     * @param {boolean} toEnd 是否到动画的最终状态，用来透传给动画元素的 stopAnimate 方法\n     */\n    Timeline.prototype.stopAllAnimations = function (toEnd) {\n        if (toEnd === void 0) { toEnd = true; }\n        this.animators.forEach(function (animator) {\n            animator.stopAnimate(toEnd);\n        });\n        this.animators = [];\n        this.canvas.draw();\n    };\n    /**\n     * 获取当前时间\n     */\n    Timeline.prototype.getTime = function () {\n        return this.current;\n    };\n    return Timeline;\n}());\nexport default Timeline;\n//# sourceMappingURL=timeline.js.map","export var isColorProp = function (prop) { return ['fill', 'stroke', 'fillStyle', 'strokeStyle'].includes(prop); };\nexport var isGradientColor = function (val) { return /^[r,R,L,l]{1}[\\s]*\\(/.test(val); };\n//# sourceMappingURL=color.js.map","/**\n * @fileoverview 事件处理器\n * @author dxq613@gmail.com\n */\nimport GraphEvent from './graph-event';\nimport { each, isParent } from '../util/util';\nvar CLICK_OFFSET = 40;\nvar LEFT_BTN_CODE = 0;\nvar DELEGATION_SPLIT = ':';\nvar EVENTS = [\n    'mousedown',\n    'mouseup',\n    'dblclick',\n    'mouseout',\n    'mouseover',\n    'mousemove',\n    'mouseleave',\n    'mouseenter',\n    'touchstart',\n    'touchmove',\n    'touchend',\n    'dragenter',\n    'dragover',\n    'dragleave',\n    'drop',\n    'contextmenu',\n    'mousewheel',\n];\n// 是否有委托事件监听\nfunction hasDelegation(events, type) {\n    for (var key in events) {\n        if (events.hasOwnProperty(key) && key.indexOf(DELEGATION_SPLIT + type) >= 0) {\n            return true;\n        }\n    }\n    return false;\n}\n// 触发目标事件，目标只能是 shape 或 canvas\nfunction emitTargetEvent(target, type, eventObj) {\n    eventObj.name = type;\n    eventObj.target = target;\n    eventObj.currentTarget = target;\n    eventObj.delegateTarget = target;\n    target.emit(type, eventObj);\n}\n// 事件冒泡, enter 和 leave 需要对 fromShape 和 toShape 进行判同\nfunction bubbleEvent(container, type, eventObj) {\n    if (eventObj.bubbles) {\n        var relativeShape = void 0;\n        var isOverEvent = false;\n        if (type === 'mouseenter') {\n            relativeShape = eventObj.fromShape;\n            isOverEvent = true;\n        }\n        else if (type === 'mouseleave') {\n            isOverEvent = true;\n            relativeShape = eventObj.toShape;\n        }\n        // canvas 上的 mouseenter， mouseleave 事件，仅当进入或者移出 canvas 时触发\n        if (container.isCanvas() && isOverEvent) {\n            return;\n        }\n        // 如果相关图形同当前图形在同一个容器内，不触发事件\n        if (relativeShape && isParent(container, relativeShape)) {\n            // 阻止继续向上冒泡\n            eventObj.bubbles = false;\n            return;\n        }\n        // 事件名称可能在委托过程中被修改，因此事件冒泡时需要重新设置事件名称\n        eventObj.name = type;\n        eventObj.currentTarget = container;\n        eventObj.delegateTarget = container;\n        container.emit(type, eventObj);\n    }\n}\nvar EventController = /** @class */ (function () {\n    function EventController(cfg) {\n        var _this = this;\n        // 正在被拖拽的图形\n        this.draggingShape = null;\n        this.dragging = false;\n        // 当前鼠标/touch所在位置的图形\n        this.currentShape = null;\n        this.mousedownShape = null;\n        this.mousedownPoint = null;\n        // 统一处理所有的回调\n        this._eventCallback = function (ev) {\n            var type = ev.type;\n            _this._triggerEvent(type, ev);\n        };\n        // 在 document 处理拖拽到画布外的事件，处理从图形上移除画布未被捕捉的问题\n        this._onDocumentMove = function (ev) {\n            var canvas = _this.canvas;\n            var el = canvas.get('el');\n            if (el !== ev.target) {\n                // 不在 canvas 上移动\n                if (_this.dragging || _this.currentShape) {\n                    var pointInfo = _this._getPointInfo(ev);\n                    // 还在拖拽过程中\n                    if (_this.dragging) {\n                        _this._emitEvent('drag', ev, pointInfo, _this.draggingShape);\n                    }\n                    // 说明从某个图形直接移动到了画布外面，\n                    // 修复了 mouseleave 的 bug 后不再出现这种情况\n                    // if (this.currentShape) {\n                    //   this._emitEvent('mouseleave', ev, pointInfo, this.currentShape, this.currentShape, null);\n                    //   this.currentShape = null;\n                    // }\n                }\n            }\n        };\n        // 在 document 上处理拖拽到外面，释放鼠标时触发 dragend\n        this._onDocumentMouseUp = function (ev) {\n            var canvas = _this.canvas;\n            var el = canvas.get('el');\n            if (el !== ev.target) {\n                // 不在 canvas 上移动\n                if (_this.dragging) {\n                    var pointInfo = _this._getPointInfo(ev);\n                    if (_this.draggingShape) {\n                        // 如果存在拖拽的图形，则也触发 drop 事件\n                        _this._emitEvent('drop', ev, pointInfo, null);\n                    }\n                    _this._emitEvent('dragend', ev, pointInfo, _this.draggingShape);\n                    _this._afterDrag(_this.draggingShape, pointInfo, ev);\n                }\n            }\n        };\n        this.canvas = cfg.canvas;\n    }\n    EventController.prototype.init = function () {\n        this._bindEvents();\n    };\n    // 注册事件\n    EventController.prototype._bindEvents = function () {\n        var _this = this;\n        var el = this.canvas.get('el');\n        each(EVENTS, function (eventName) {\n            el.addEventListener(eventName, _this._eventCallback);\n        });\n        if (document) {\n            // 处理移动到外面没有触发 shape mouse leave 的事件\n            // 处理拖拽到外部的问题\n            document.addEventListener('mousemove', this._onDocumentMove);\n            // 处理拖拽过程中在外部释放鼠标的问题\n            document.addEventListener('mouseup', this._onDocumentMouseUp);\n        }\n    };\n    // 清理事件\n    EventController.prototype._clearEvents = function () {\n        var _this = this;\n        var el = this.canvas.get('el');\n        each(EVENTS, function (eventName) {\n            el.removeEventListener(eventName, _this._eventCallback);\n        });\n        if (document) {\n            document.removeEventListener('mousemove', this._onDocumentMove);\n            document.removeEventListener('mouseup', this._onDocumentMouseUp);\n        }\n    };\n    EventController.prototype._getEventObj = function (type, event, point, target, fromShape, toShape) {\n        var eventObj = new GraphEvent(type, event);\n        eventObj.fromShape = fromShape;\n        eventObj.toShape = toShape;\n        eventObj.x = point.x;\n        eventObj.y = point.y;\n        eventObj.clientX = point.clientX;\n        eventObj.clientY = point.clientY;\n        eventObj.propagationPath.push(target);\n        // 事件的x,y应该是基于画布左上角的，与canvas的matrix无关\n        return eventObj;\n    };\n    // 根据点获取图形，提取成独立方法，便于后续优化\n    EventController.prototype._getShape = function (point, ev) {\n        return this.canvas.getShape(point.x, point.y, ev);\n    };\n    // 获取事件的当前点的信息\n    EventController.prototype._getPointInfo = function (ev) {\n        var canvas = this.canvas;\n        var clientPoint = canvas.getClientByEvent(ev);\n        var point = canvas.getPointByEvent(ev);\n        return {\n            x: point.x,\n            y: point.y,\n            clientX: clientPoint.x,\n            clientY: clientPoint.y,\n        };\n    };\n    // 触发事件\n    EventController.prototype._triggerEvent = function (type, ev) {\n        var pointInfo = this._getPointInfo(ev);\n        // 每次都获取图形有一定成本，后期可以考虑进行缓存策略\n        var shape = this._getShape(pointInfo, ev);\n        var method = this[\"_on\" + type];\n        var leaveCanvas = false;\n        if (method) {\n            method.call(this, pointInfo, shape, ev);\n        }\n        else {\n            var preShape = this.currentShape;\n            // 如果进入、移出画布时存在图形，则要分别触发事件\n            if (type === 'mouseenter' || type === 'dragenter' || type === 'mouseover') {\n                this._emitEvent(type, ev, pointInfo, null, null, shape); // 先进入画布\n                if (shape) {\n                    this._emitEvent(type, ev, pointInfo, shape, null, shape); // 再触发图形的事件\n                }\n                if (type === 'mouseenter' && this.draggingShape) {\n                    // 如果正在拖拽图形, 则触发 dragleave\n                    this._emitEvent('dragenter', ev, pointInfo, null);\n                }\n            }\n            else if (type === 'mouseleave' || type === 'dragleave' || type === 'mouseout') {\n                leaveCanvas = true;\n                if (preShape) {\n                    this._emitEvent(type, ev, pointInfo, preShape, preShape, null); // 先触发图形的事件\n                }\n                this._emitEvent(type, ev, pointInfo, null, preShape, null); // 再触发离开画布事件\n                if (type === 'mouseleave' && this.draggingShape) {\n                    this._emitEvent('dragleave', ev, pointInfo, null);\n                }\n            }\n            else {\n                this._emitEvent(type, ev, pointInfo, shape, null, null); // 一般事件中不需要考虑 from, to\n            }\n        }\n        if (!leaveCanvas) {\n            this.currentShape = shape;\n        }\n        // 当鼠标从画布移动到 shape 或者从 preShape 移动到 shape 时，应用 shape 上的鼠标样式\n        if (shape && !shape.get('destroyed')) {\n            var canvas = this.canvas;\n            var el = canvas.get('el');\n            el.style.cursor = shape.attr('cursor') || canvas.get('cursor');\n        }\n    };\n    // 记录下点击的位置、图形，便于拖拽事件、click 事件的判定\n    EventController.prototype._onmousedown = function (pointInfo, shape, event) {\n        // 只有鼠标左键的 mousedown 事件才会设置 mousedownShape 等属性，避免鼠标右键的 mousedown 事件引起其他事件发生\n        if (event.button === LEFT_BTN_CODE) {\n            this.mousedownShape = shape;\n            this.mousedownPoint = pointInfo;\n            this.mousedownTimeStamp = event.timeStamp;\n        }\n        this._emitEvent('mousedown', event, pointInfo, shape, null, null); // mousedown 不考虑fromShape, toShape\n    };\n    // mouseleave 和 mouseenter 都是成对存在的\n    // mouseenter 和 mouseover 同时触发\n    EventController.prototype._emitMouseoverEvents = function (event, pointInfo, fromShape, toShape) {\n        var el = this.canvas.get('el');\n        if (fromShape !== toShape) {\n            if (fromShape) {\n                this._emitEvent('mouseout', event, pointInfo, fromShape, fromShape, toShape);\n                this._emitEvent('mouseleave', event, pointInfo, fromShape, fromShape, toShape);\n                // 当鼠标从 fromShape 移动到画布上时，重置鼠标样式\n                if (!toShape || toShape.get('destroyed')) {\n                    el.style.cursor = this.canvas.get('cursor');\n                }\n            }\n            if (toShape) {\n                this._emitEvent('mouseover', event, pointInfo, toShape, fromShape, toShape);\n                this._emitEvent('mouseenter', event, pointInfo, toShape, fromShape, toShape);\n            }\n        }\n    };\n    // dragover 不等同于 mouseover，而等同于 mousemove\n    EventController.prototype._emitDragoverEvents = function (event, pointInfo, fromShape, toShape, isCanvasEmit) {\n        if (toShape) {\n            if (toShape !== fromShape) {\n                if (fromShape) {\n                    this._emitEvent('dragleave', event, pointInfo, fromShape, fromShape, toShape);\n                }\n                this._emitEvent('dragenter', event, pointInfo, toShape, fromShape, toShape);\n            }\n            if (!isCanvasEmit) {\n                this._emitEvent('dragover', event, pointInfo, toShape);\n            }\n        }\n        else if (fromShape) {\n            // TODO: 此处判断有问题，当 drag 图形时，也会触发一次 dragleave 事件，因为此时 toShape 为 null，这不是所期望的\n            // 经过空白区域\n            this._emitEvent('dragleave', event, pointInfo, fromShape, fromShape, toShape);\n        }\n        if (isCanvasEmit) {\n            this._emitEvent('dragover', event, pointInfo, toShape);\n        }\n    };\n    // drag 完成后，需要做一些清理工作\n    EventController.prototype._afterDrag = function (draggingShape, pointInfo, event) {\n        if (draggingShape) {\n            draggingShape.set('capture', true); // 恢复可以拾取\n            this.draggingShape = null;\n        }\n        this.dragging = false;\n        // drag 完成后，有可能 draggingShape 已经移动到了当前位置，所以不能直接取当前图形\n        var shape = this._getShape(pointInfo, event);\n        // 拖拽完成后，进行 enter，leave 的判定\n        if (shape !== draggingShape) {\n            this._emitMouseoverEvents(event, pointInfo, draggingShape, shape);\n        }\n        this.currentShape = shape; // 更新当前 shape，如果不处理当前图形的 mouseleave 事件可能会出问题\n    };\n    // 按键抬起时，会终止拖拽、触发点击\n    EventController.prototype._onmouseup = function (pointInfo, shape, event) {\n        // eevent.button === 0 表示鼠标左键事件，此处加上判断主要是为了避免右键鼠标会触发 mouseup 和 click 事件\n        // ref: https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/button\n        if (event.button === LEFT_BTN_CODE) {\n            var draggingShape = this.draggingShape;\n            if (this.dragging) {\n                // 存在可以拖拽的图形，同时拖拽到其他图形上时触发 drag 事件\n                if (draggingShape) {\n                    this._emitEvent('drop', event, pointInfo, shape);\n                }\n                this._emitEvent('dragend', event, pointInfo, draggingShape);\n                this._afterDrag(draggingShape, pointInfo, event);\n            }\n            else {\n                this._emitEvent('mouseup', event, pointInfo, shape); // 先触发 mouseup 再触发 click\n                if (shape === this.mousedownShape) {\n                    this._emitEvent('click', event, pointInfo, shape);\n                }\n                this.mousedownShape = null;\n                this.mousedownPoint = null;\n            }\n        }\n    };\n    // 当触发浏览器的 dragover 事件时，不会再触发 mousemove ，所以这时候的 dragenter, dragleave 事件需要重新处理\n    EventController.prototype._ondragover = function (pointInfo, shape, event) {\n        event.preventDefault(); // 如果不对 dragover 进行 preventDefault，则不会在 canvas 上触发 drop 事件\n        var preShape = this.currentShape;\n        this._emitDragoverEvents(event, pointInfo, preShape, shape, true);\n    };\n    // 大量的图形事件，都通过 mousemove 模拟\n    EventController.prototype._onmousemove = function (pointInfo, shape, event) {\n        var canvas = this.canvas;\n        var preShape = this.currentShape;\n        var draggingShape = this.draggingShape;\n        // 正在拖拽时\n        if (this.dragging) {\n            // 正在拖拽中\n            if (draggingShape) {\n                // 如果拖拽了 shape 会触发 dragenter, dragleave, dragover 和 drag 事件\n                this._emitDragoverEvents(event, pointInfo, preShape, shape, false);\n            }\n            // 如果存在 draggingShape 则会在 draggingShape 上触发 drag 事件，冒泡到 canvas 上\n            // 否则在 canvas 上触发 drag 事件\n            this._emitEvent('drag', event, pointInfo, draggingShape);\n        }\n        else {\n            var mousedownPoint = this.mousedownPoint;\n            if (mousedownPoint) {\n                // 当鼠标点击下去，同时移动时，进行 drag 判定\n                var mousedownShape = this.mousedownShape;\n                var now = event.timeStamp;\n                var timeWindow = now - this.mousedownTimeStamp;\n                var dx = mousedownPoint.clientX - pointInfo.clientX;\n                var dy = mousedownPoint.clientY - pointInfo.clientY;\n                var dist = dx * dx + dy * dy;\n                if (timeWindow > 120 || dist > CLICK_OFFSET) {\n                    if (mousedownShape && mousedownShape.get('draggable')) {\n                        // 设置了 draggable 的 shape 才能触发 drag 相关的事件\n                        draggingShape = this.mousedownShape; // 拖动鼠标点下时的 shape\n                        draggingShape.set('capture', false); // 禁止继续拾取，否则无法进行 dragover,dragenter,dragleave,drop的判定\n                        this.draggingShape = draggingShape;\n                        this.dragging = true;\n                        this._emitEvent('dragstart', event, pointInfo, draggingShape);\n                        // 清理按下鼠标时缓存的值\n                        this.mousedownShape = null;\n                        this.mousedownPoint = null;\n                    }\n                    else if (!mousedownShape && canvas.get('draggable')) {\n                        // 设置了 draggable 的 canvas 才能触发 drag 相关的事件\n                        this.dragging = true;\n                        this._emitEvent('dragstart', event, pointInfo, null);\n                        // 清理按下鼠标时缓存的值\n                        this.mousedownShape = null;\n                        this.mousedownPoint = null;\n                    }\n                    else {\n                        this._emitMouseoverEvents(event, pointInfo, preShape, shape);\n                        this._emitEvent('mousemove', event, pointInfo, shape);\n                    }\n                }\n                else {\n                    this._emitMouseoverEvents(event, pointInfo, preShape, shape);\n                    this._emitEvent('mousemove', event, pointInfo, shape);\n                }\n            }\n            else {\n                // 没有按键按下时，则直接触发 mouse over 相关的各种事件\n                this._emitMouseoverEvents(event, pointInfo, preShape, shape);\n                // 始终触发移动\n                this._emitEvent('mousemove', event, pointInfo, shape);\n            }\n        }\n    };\n    // 触发事件\n    EventController.prototype._emitEvent = function (type, event, pointInfo, shape, fromShape, toShape) {\n        var eventObj = this._getEventObj(type, event, pointInfo, shape, fromShape, toShape);\n        // 存在 shape 触发，则进行冒泡处理\n        if (shape) {\n            eventObj.shape = shape;\n            // 触发 shape 上的事件\n            emitTargetEvent(shape, type, eventObj);\n            var parent_1 = shape.getParent();\n            // 执行冒泡\n            while (parent_1) {\n                // 委托事件要先触发\n                parent_1.emitDelegation(type, eventObj);\n                // 事件冒泡停止，不能妨碍委托事件\n                if (!eventObj.propagationStopped) {\n                    bubbleEvent(parent_1, type, eventObj);\n                }\n                eventObj.propagationPath.push(parent_1);\n                parent_1 = parent_1.getParent();\n            }\n        }\n        else {\n            // 如果没有 shape 直接在 canvas 上触发\n            var canvas = this.canvas;\n            // 直接触发 canvas 上的事件\n            emitTargetEvent(canvas, type, eventObj);\n        }\n    };\n    EventController.prototype.destroy = function () {\n        // 清理事件\n        this._clearEvents();\n        // 清理缓存的对象\n        this.canvas = null;\n        this.currentShape = null;\n        this.draggingShape = null;\n        this.mousedownPoint = null;\n        this.mousedownShape = null;\n        this.mousedownTimeStamp = null;\n    };\n    return EventController;\n}());\nexport default EventController;\n//# sourceMappingURL=event-contoller.js.map","import { __extends } from \"tslib\";\nimport { detect } from 'detect-browser';\nimport Container from './container';\nimport { isBrowser, isNil, isString } from '../util/util';\nimport Timeline from '../animate/timeline';\nimport EventController from '../event/event-contoller';\nvar PX_SUFFIX = 'px';\nvar browser = detect();\nvar isFirefox = browser && browser.name === 'firefox';\nvar Canvas = /** @class */ (function (_super) {\n    __extends(Canvas, _super);\n    function Canvas(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.initContainer();\n        _this.initDom();\n        _this.initEvents();\n        _this.initTimeline();\n        return _this;\n    }\n    Canvas.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        // set default cursor style for canvas\n        cfg['cursor'] = 'default';\n        // CSS transform 目前尚未经过长时间验证，为了避免影响上层业务，默认关闭，上层按需开启\n        cfg['supportCSSTransform'] = false;\n        return cfg;\n    };\n    /**\n     * @protected\n     * 初始化容器\n     */\n    Canvas.prototype.initContainer = function () {\n        var container = this.get('container');\n        if (isString(container)) {\n            container = document.getElementById(container);\n            this.set('container', container);\n        }\n    };\n    /**\n     * @protected\n     * 初始化 DOM\n     */\n    Canvas.prototype.initDom = function () {\n        var el = this.createDom();\n        this.set('el', el);\n        // 附加到容器\n        var container = this.get('container');\n        container.appendChild(el);\n        // 设置初始宽度\n        this.setDOMSize(this.get('width'), this.get('height'));\n    };\n    /**\n     * @protected\n     * 初始化绑定的事件\n     */\n    Canvas.prototype.initEvents = function () {\n        var eventController = new EventController({\n            canvas: this,\n        });\n        eventController.init();\n        this.set('eventController', eventController);\n    };\n    /**\n     * @protected\n     * 初始化时间轴\n     */\n    Canvas.prototype.initTimeline = function () {\n        var timeline = new Timeline(this);\n        this.set('timeline', timeline);\n    };\n    /**\n     * @protected\n     * 修改画布对应的 DOM 的大小\n     * @param {number} width  宽度\n     * @param {number} height 高度\n     */\n    Canvas.prototype.setDOMSize = function (width, height) {\n        var el = this.get('el');\n        if (isBrowser) {\n            el.style.width = width + PX_SUFFIX;\n            el.style.height = height + PX_SUFFIX;\n        }\n    };\n    // 实现接口\n    Canvas.prototype.changeSize = function (width, height) {\n        this.setDOMSize(width, height);\n        this.set('width', width);\n        this.set('height', height);\n        this.onCanvasChange('changeSize');\n    };\n    /**\n     * 获取当前的渲染引擎\n     * @return {Renderer} 返回当前的渲染引擎\n     */\n    Canvas.prototype.getRenderer = function () {\n        return this.get('renderer');\n    };\n    /**\n     * 获取画布的 cursor 样式\n     * @return {Cursor}\n     */\n    Canvas.prototype.getCursor = function () {\n        return this.get('cursor');\n    };\n    /**\n     * 设置画布的 cursor 样式\n     * @param {Cursor} cursor  cursor 样式\n     */\n    Canvas.prototype.setCursor = function (cursor) {\n        this.set('cursor', cursor);\n        var el = this.get('el');\n        if (isBrowser && el) {\n            // 直接设置样式，不等待鼠标移动时再设置\n            el.style.cursor = cursor;\n        }\n    };\n    // 实现接口\n    Canvas.prototype.getPointByEvent = function (ev) {\n        var supportCSSTransform = this.get('supportCSSTransform');\n        if (supportCSSTransform) {\n            // For Firefox <= 38\n            if (isFirefox && !isNil(ev.layerX) && ev.layerX !== ev.offsetX) {\n                return {\n                    x: ev.layerX,\n                    y: ev.layerY,\n                };\n            }\n            if (!isNil(ev.offsetX)) {\n                // For IE6+, Firefox >= 39, Chrome, Safari, Opera\n                return {\n                    x: ev.offsetX,\n                    y: ev.offsetY,\n                };\n            }\n        }\n        // should calculate by self for other cases, like Safari in ios\n        // TODO: support CSS transform\n        var _a = this.getClientByEvent(ev), clientX = _a.x, clientY = _a.y;\n        return this.getPointByClient(clientX, clientY);\n    };\n    // 获取 touch 事件的 clientX 和 clientY 需要单独处理\n    Canvas.prototype.getClientByEvent = function (ev) {\n        var clientInfo = ev;\n        if (ev.touches) {\n            if (ev.type === 'touchend') {\n                clientInfo = ev.changedTouches[0];\n            }\n            else {\n                clientInfo = ev.touches[0];\n            }\n        }\n        return {\n            x: clientInfo.clientX,\n            y: clientInfo.clientY,\n        };\n    };\n    // 实现接口\n    Canvas.prototype.getPointByClient = function (clientX, clientY) {\n        var el = this.get('el');\n        var bbox = el.getBoundingClientRect();\n        return {\n            x: clientX - bbox.left,\n            y: clientY - bbox.top,\n        };\n    };\n    // 实现接口\n    Canvas.prototype.getClientByPoint = function (x, y) {\n        var el = this.get('el');\n        var bbox = el.getBoundingClientRect();\n        return {\n            x: x + bbox.left,\n            y: y + bbox.top,\n        };\n    };\n    // 实现接口\n    Canvas.prototype.draw = function () { };\n    /**\n     * @protected\n     * 销毁 DOM 容器\n     */\n    Canvas.prototype.removeDom = function () {\n        var el = this.get('el');\n        el.parentNode.removeChild(el);\n    };\n    /**\n     * @protected\n     * 清理所有的事件\n     */\n    Canvas.prototype.clearEvents = function () {\n        var eventController = this.get('eventController');\n        eventController.destroy();\n    };\n    Canvas.prototype.isCanvas = function () {\n        return true;\n    };\n    Canvas.prototype.getParent = function () {\n        return null;\n    };\n    Canvas.prototype.destroy = function () {\n        var timeline = this.get('timeline');\n        if (this.get('destroyed')) {\n            return;\n        }\n        this.clear();\n        // 同初始化时相反顺序调用\n        if (timeline) {\n            // 画布销毁时自动停止动画\n            timeline.stop();\n        }\n        this.clearEvents();\n        this.removeDom();\n        _super.prototype.destroy.call(this);\n    };\n    return Canvas;\n}(Container));\nexport default Canvas;\n//# sourceMappingURL=canvas.js.map","import { __extends } from \"tslib\";\nimport { each, findIndex } from '@antv/util';\nimport { InteractionAction } from '@antv/g2';\nvar MarkerActiveAction = /** @class */ (function (_super) {\n    __extends(MarkerActiveAction, _super);\n    function MarkerActiveAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MarkerActiveAction.prototype.active = function () {\n        var view = this.getView();\n        var evt = this.context.event;\n        if (evt.data) {\n            // items: 数组对象，当前 tooltip 显示的每条内容\n            var items_1 = evt.data.items;\n            var points = view.geometries.filter(function (geom) { return geom.type === 'point'; });\n            each(points, function (point) {\n                each(point.elements, function (element) {\n                    var active = findIndex(items_1, function (item) { return item.data === element.data; }) !== -1;\n                    // @ts-ignore\n                    element.setState('active', active);\n                });\n            });\n        }\n    };\n    MarkerActiveAction.prototype.getView = function () {\n        return this.context.view;\n    };\n    return MarkerActiveAction;\n}(InteractionAction));\nexport { MarkerActiveAction };\n//# sourceMappingURL=marker-active.js.map","import { registerAction, registerInteraction } from '@antv/g2';\nimport { MarkerActiveAction } from './marker-active';\nregisterAction('marker-active', MarkerActiveAction);\nregisterInteraction('marker-active', {\n    start: [\n        {\n            trigger: 'tooltip:show',\n            action: 'marker-active:active',\n        },\n    ],\n});\n//# sourceMappingURL=index.js.map","import { __extends } from \"tslib\";\nimport { deepMix } from '@antv/util';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport './interactions';\nvar Line = /** @class */ (function (_super) {\n    __extends(Line, _super);\n    function Line() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** 图表类型 */\n        _this.type = 'line';\n        return _this;\n    }\n    /**\n     * 获取 折线图 默认配置\n     */\n    Line.prototype.getDefaultOptions = function (options) {\n        var _a;\n        var xField = options.xField;\n        return deepMix({}, _super.prototype.getDefaultOptions.call(this), {\n            tooltip: {\n                showMarkers: true,\n                showCrosshairs: true,\n                crosshairs: {\n                    type: 'x',\n                },\n            },\n            meta: (_a = {},\n                _a[xField] = {\n                    range: [0, 1],\n                },\n                _a),\n            isStack: false,\n        });\n    };\n    /**\n     * 获取 折线图 的适配器\n     */\n    Line.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Line;\n}(Plot));\nexport { Line };\n//# sourceMappingURL=index.js.map","import { clone, sortBy, valuesOfKey, getRange, each, hasKey, groupBy, isEmpty } from '@antv/util';\n// 进行转换得到值所在的 range\nfunction getBinKey(value, binWidth) {\n    var index = Math.floor(value / binWidth);\n    return [binWidth * index, binWidth * (index + 1)];\n}\n// 默认 sturges 转换\nfunction sturges(values) {\n    return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n/**\n * 对数据进行百分比化\n * @param data\n * @param binField\n * @param binWidth\n * @param binNumber\n * @param stackField\n */\nexport function binHistogram(data, binField, binWidth, binNumber, stackField) {\n    var originData_copy = clone(data);\n    // 根据 binField 对源数据进行排序\n    sortBy(originData_copy, binField);\n    // 获取源数据 binField 的 range\n    var values = valuesOfKey(originData_copy, binField);\n    var range = getRange(values);\n    var rangeWidth = range.max - range.min;\n    // 计算分箱，直方图分箱的计算基于 binWidth，如配置了 binNumber 则将其转为 binWidth 进行计算\n    var _binWidth = binWidth;\n    if (!binWidth && binNumber) {\n        _binWidth = rangeWidth / binNumber;\n    }\n    // 当 binWidth 和 binNumber 都没有指定的情况，采用 Sturges formula 自动生成 binWidth\n    if (!binWidth && !binNumber) {\n        var _defaultBinNumber = sturges(values);\n        _binWidth = rangeWidth / _defaultBinNumber;\n    }\n    // 构建 key - StatisticData 结构\n    var bins = {};\n    var groups = groupBy(originData_copy, stackField);\n    // 判断分组是否为空，如果为空，说明没有 stackField 字段\n    if (isEmpty(groups)) {\n        each(originData_copy, function (data) {\n            var value = data[binField];\n            var bin = getBinKey(value, _binWidth);\n            var binKey = bin[0] + \"-\" + bin[1];\n            if (!hasKey(bins, binKey)) {\n                bins[binKey] = { range: bin, count: 0 };\n            }\n            bins[binKey].count += 1;\n        });\n    }\n    else {\n        Object.keys(groups).forEach(function (groupKey) {\n            each(groups[groupKey], function (data) {\n                var value = data[binField];\n                var bin = getBinKey(value, _binWidth);\n                var binKey = bin[0] + \"-\" + bin[1];\n                var groupKeyBinKey = binKey + \"-\" + groupKey;\n                if (!hasKey(bins, groupKeyBinKey)) {\n                    bins[groupKeyBinKey] = { range: bin, count: 0 };\n                    bins[groupKeyBinKey][stackField] = groupKey;\n                }\n                bins[groupKeyBinKey].count += 1;\n            });\n        });\n    }\n    // 将分箱数据转换为 plotData 才是图表所需要的\n    var plotData = [];\n    each(bins, function (bin) {\n        plotData.push(bin);\n    });\n    return plotData;\n}\n//# sourceMappingURL=histogram.js.map","import { __rest } from \"tslib\";\nimport { deepMix } from '@antv/util';\nimport { tooltip, interaction, animation, theme, scale } from '../../adaptor/common';\nimport { findGeometry } from '../../utils';\nimport { flow, transformLabel } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { binHistogram } from '../../utils/transform/histogram';\n/**\n * geometry 处理\n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var data = options.data, binField = options.binField, binNumber = options.binNumber, binWidth = options.binWidth, color = options.color, stackField = options.stackField, legend = options.legend, columnStyle = options.columnStyle;\n    // 处理数据\n    var plotData = binHistogram(data, binField, binWidth, binNumber, stackField);\n    chart.data(plotData);\n    var p = deepMix({}, params, {\n        options: {\n            xField: 'range',\n            yField: 'count',\n            seriesField: stackField,\n            isStack: true,\n            interval: {\n                color: color,\n                style: columnStyle,\n            },\n        },\n    });\n    interval(p);\n    // 图例\n    if (legend && stackField) {\n        chart.legend(stackField, legend);\n    }\n    return params;\n}\n/**\n * meta 配置\n * @param params\n */\nfunction meta(params) {\n    var options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis;\n    return flow(scale({\n        range: xAxis,\n        count: yAxis,\n    }))(params);\n}\n/**\n * axis 配置\n * @param params\n */\nfunction axis(params) {\n    var chart = params.chart, options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis;\n    // 为 false 则是不显示轴\n    if (xAxis === false) {\n        chart.axis('range', false);\n    }\n    else {\n        chart.axis('range', xAxis);\n    }\n    if (yAxis === false) {\n        chart.axis('count', false);\n    }\n    else {\n        chart.axis('count', yAxis);\n    }\n    return params;\n}\n/**\n * label 配置\n * @param params\n */\nfunction label(params) {\n    var chart = params.chart, options = params.options;\n    var label = options.label;\n    var geometry = findGeometry(chart, 'interval');\n    if (!label) {\n        geometry.label(false);\n    }\n    else {\n        var callback = label.callback, cfg = __rest(label, [\"callback\"]);\n        geometry.label({\n            fields: ['count'],\n            callback: callback,\n            cfg: transformLabel(cfg),\n        });\n    }\n    return params;\n}\n/**\n * 直方图适配器\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow 的方式处理所有的配置到 G2 API\n    return flow(geometry, meta, axis, theme, label, tooltip, interaction, animation)(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nvar Histogram = /** @class */ (function (_super) {\n    __extends(Histogram, _super);\n    function Histogram() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** 图表类型 */\n        _this.type = 'histogram';\n        return _this;\n    }\n    /**\n     * 获取直方图的适配器\n     */\n    Histogram.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Histogram;\n}(Plot));\nexport { Histogram };\n//# sourceMappingURL=index.js.map","import { deepMix, isFunction, map, isObject } from '@antv/util';\nimport { interaction, animation, theme } from '../../adaptor/common';\nimport { findGeometry } from '../../utils';\nimport { flow, pick, transformTooltip } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { BOX_RANGE, BOX_SYNC_NAME } from './constant';\n/**\n * 字段\n * @param params\n */\nfunction field(params) {\n    var chart = params.chart, options = params.options;\n    var xField = options.xField, yField = options.yField, groupField = options.groupField, color = options.color;\n    var yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n    var geometry = chart.schema().position(xField + \"*\" + yFieldName).shape('box');\n    // set group field as color channel\n    if (groupField) {\n        geometry.color(groupField, color).adjust('dodge');\n    }\n    // formate data when `yField` is Array\n    var data = options.data;\n    if (Array.isArray(yField)) {\n        var low_1 = yField[0], q1_1 = yField[1], median_1 = yField[2], q3_1 = yField[3], high_1 = yField[4];\n        data = map(data, function (obj) {\n            obj[BOX_RANGE] = [obj[low_1], obj[q1_1], obj[median_1], obj[q3_1], obj[high_1]];\n            return obj;\n        });\n    }\n    chart.data(data);\n    return params;\n}\nfunction outliersPoint(params) {\n    var chart = params.chart, options = params.options;\n    var xField = options.xField, data = options.data, outliersField = options.outliersField, outliersStyle = options.outliersStyle, padding = options.padding;\n    if (!outliersField)\n        return params;\n    var outliersView = chart.createView({ padding: padding });\n    outliersView.data(data);\n    outliersView.axis(false);\n    var geometry = outliersView.point().position(xField + \"*\" + outliersField).shape('circle');\n    /**\n     * style 的几种情况\n     * g.style({ fill: 'red' });\n     * g.style('x*y*color', (x, y, color) => ({ fill: 'red' }));\n     */\n    if (isFunction(outliersStyle)) {\n        geometry.style(xField + \"*\" + outliersField, function (_x, _outliers) {\n            var _a;\n            return outliersStyle((_a = {},\n                _a[xField] = _x,\n                _a[outliersField] = _outliers,\n                _a));\n        });\n    }\n    else if (isObject(outliersStyle)) {\n        geometry.style(outliersStyle);\n    }\n    return params;\n}\n/**\n * meta 配置\n * @param params\n */\nfunction meta(params) {\n    var _a, _b;\n    var chart = params.chart, options = params.options;\n    var meta = options.meta, xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField, outliersField = options.outliersField;\n    var yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n    var baseMeta = {};\n    // make yField and outliersField share y mate\n    if (outliersField) {\n        var syncName = BOX_SYNC_NAME;\n        baseMeta = (_a = {},\n            _a[outliersField] = { sync: syncName },\n            _a[yFieldName] = { sync: syncName },\n            _a);\n    }\n    var scales = deepMix(baseMeta, meta, (_b = {},\n        _b[xField] = pick(xAxis, AXIS_META_CONFIG_KEYS),\n        _b[yFieldName] = pick(yAxis, AXIS_META_CONFIG_KEYS),\n        _b));\n    chart.scale(scales);\n    return params;\n}\n/**\n * axis 配置\n * @param params\n */\nfunction axis(params) {\n    var chart = params.chart, options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField;\n    var yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n    // 为 false 则是不显示轴\n    if (xAxis === false) {\n        chart.axis(xField, false);\n    }\n    else {\n        chart.axis(xField, xAxis);\n    }\n    if (yAxis === false) {\n        chart.axis(BOX_RANGE, false);\n    }\n    else {\n        chart.axis(yFieldName, yAxis);\n    }\n    return params;\n}\n/**\n * legend 配置\n * @param params\n */\nexport function legend(params) {\n    var chart = params.chart, options = params.options;\n    var legend = options.legend, groupField = options.groupField;\n    if (groupField) {\n        if (legend) {\n            chart.legend(groupField, legend);\n        }\n        else {\n            // Grouped Box Chart default has legend, and it's position is `bottom`\n            chart.legend(groupField, { position: 'bottom' });\n        }\n    }\n    else {\n        chart.legend(false);\n    }\n    return params;\n}\n/**\n * 样式\n * @param params\n */\nfunction style(params) {\n    var chart = params.chart, options = params.options;\n    var xField = options.xField, yField = options.yField, boxStyle = options.boxStyle;\n    var geometry = findGeometry(chart, 'schema');\n    var yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n    /**\n     * style 的几种情况\n     * g.style({ fill: 'red' });\n     * g.style('x*y*color', (x, y, color) => ({ fill: 'red' }));\n     */\n    if (isFunction(boxStyle)) {\n        geometry.style(xField + \"*\" + yFieldName, function (_x, _y) {\n            var _a;\n            return boxStyle((_a = {},\n                _a[xField] = _x,\n                _a[yFieldName] = _y,\n                _a));\n        });\n    }\n    else if (isObject(boxStyle)) {\n        geometry.style(boxStyle);\n    }\n    return params;\n}\n/**\n * tooltip 配置\n * @param params\n */\nexport function tooltip(params) {\n    var chart = params.chart, options = params.options;\n    var tooltip = options.tooltip;\n    if (tooltip !== undefined) {\n        chart.tooltip(transformTooltip(tooltip));\n    }\n    return params;\n}\n/**\n * 箱型图适配器\n * @param params\n */\nexport function adaptor(params) {\n    return flow(field, outliersPoint, meta, axis, style, legend, tooltip, interaction, animation, theme)(params);\n}\n//# sourceMappingURL=adaptor.js.map","export var BOX_RANGE = '$$range$$';\nexport var BOX_RANGE_ALIAS = 'low-q1-median-q3-high';\nexport var BOX_SYNC_NAME = '$$y_outliers$$';\n//# sourceMappingURL=constant.js.map","import { __extends } from \"tslib\";\nimport { deepMix } from '@antv/util';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { BOX_RANGE, BOX_RANGE_ALIAS } from './constant';\nvar Box = /** @class */ (function (_super) {\n    __extends(Box, _super);\n    function Box() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** 图表类型 */\n        _this.type = 'box';\n        return _this;\n    }\n    /**\n     * 获取 箱型图 默认配置项\n     */\n    Box.prototype.getDefaultOptions = function () {\n        var _a;\n        return deepMix({}, _super.prototype.getDefaultOptions.call(this), {\n            meta: (_a = {},\n                _a[BOX_RANGE] = { min: 0, alias: BOX_RANGE_ALIAS },\n                _a),\n            // 默认区域交互\n            interactions: [{ type: 'active-region' }],\n            // 默认 tooltips 共享，不显示 makers\n            tooltip: {\n                showMarkers: false,\n                showCrosshairs: true,\n                shared: true,\n            },\n        });\n    };\n    /**\n     * 获取 箱型图 的适配器\n     */\n    Box.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Box;\n}(Plot));\nexport { Box };\n//# sourceMappingURL=index.js.map","export var Y_FIELD = '$$stock-range$$';\nexport var TREND_FIELD = 'trend';\nexport var TREND_UP = 'up';\nexport var TREND_DOWN = 'down';\nexport var TREND_COLOR = ['#ef5350', '#26a69a'];\n/** tooltip 配置 */\nexport var DEFAULT_TOOLTIP_OPTIONS = {\n    showTitle: false,\n    showMarkers: false,\n    showCrosshairs: true,\n    shared: true,\n    crosshairs: {\n        type: 'xy',\n        follow: true,\n        text: { position: 'end' },\n    },\n    itemTpl: '<li class=\"g2-tooltip-list-item\" data-index={index}>' +\n        '<span style=\"background-color:{color};\" class=\"g2-tooltip-marker\"></span>' +\n        '{name}{value}</li>',\n};\n//# sourceMappingURL=constant.js.map","import { deepMix, isArray, isObject, map } from '@antv/util';\nimport { interaction, animation, theme } from '../../adaptor/common';\nimport { findGeometry, flow, pick, transformTooltip } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Y_FIELD, TREND_FIELD, TREND_UP, TREND_DOWN, TREND_COLOR } from './constant';\n/**\n * 图表配置处理\n * @param params\n */\nfunction field(params) {\n    var chart = params.chart, options = params.options;\n    var xField = options.xField, yField = options.yField;\n    var data = options.data;\n    // 加工处理源数据\n    data = map(data, function (obj) {\n        if (isArray(yField)) {\n            var open_1 = yField[0], close_1 = yField[1], high = yField[2], low = yField[3];\n            obj[TREND_FIELD] = obj[open_1] <= obj[close_1] ? TREND_UP : TREND_DOWN;\n            obj[Y_FIELD] = [obj[open_1], obj[close_1], obj[high], obj[low]];\n        }\n        return obj;\n    });\n    chart.data(data);\n    var geometry = chart.schema().position(xField + \"*\" + Y_FIELD).shape('candle');\n    geometry.color(TREND_FIELD, TREND_COLOR);\n    return params;\n}\n/**\n * meta 配置\n * @param params\n */\nexport function meta(params) {\n    var _a, _b;\n    var chart = params.chart, options = params.options;\n    var meta = options.meta, xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField;\n    var baseMeta = (_a = {},\n        _a[xField] = {\n            type: 'timeCat',\n            tickCount: 6,\n        },\n        _a[TREND_FIELD] = {\n            values: [TREND_UP, TREND_DOWN],\n        },\n        _a);\n    var scales = deepMix(baseMeta, meta, (_b = {},\n        _b[xField] = pick(xAxis, AXIS_META_CONFIG_KEYS),\n        _b[Y_FIELD] = pick(yAxis, AXIS_META_CONFIG_KEYS),\n        _b));\n    chart.scale(scales);\n    return params;\n}\n/**\n * axis 配置\n * @param params\n */\nexport function axis(params) {\n    var chart = params.chart, options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField;\n    // 为 false 则是不显示轴\n    if (xAxis === false) {\n        chart.axis(xField, false);\n    }\n    else {\n        chart.axis(xField, xAxis);\n    }\n    if (yAxis === false) {\n        chart.axis(Y_FIELD, false);\n    }\n    else {\n        chart.axis(Y_FIELD, yAxis);\n    }\n    return params;\n}\n/**\n * tooltip 配置\n * @param params\n */\nexport function tooltip(params) {\n    var chart = params.chart, options = params.options;\n    var xField = options.xField, yField = options.yField, _a = options.meta, meta = _a === void 0 ? {} : _a, _b = options.tooltip, tooltip = _b === void 0 ? false : _b;\n    var geometry = findGeometry(chart, 'schema');\n    var open = yField[0], close = yField[1], high = yField[2], low = yField[3];\n    var openAlias = meta[open] ? meta[open].alias || open : open;\n    var closeAlias = meta[close] ? meta[close].alias || open : close;\n    var highAlias = meta[high] ? meta[high].alias || high : high;\n    var lowAlias = meta[low] ? meta[low].alias || low : low;\n    var baseGeomTooltipOptions = {\n        fields: [xField, open, close, high, low],\n        callback: function (xFieldVal, openVal, closeVal, highVal, lowVal) {\n            var tpl = {\n                name: xFieldVal,\n                value: \"\\n          <br><span data-label=\\\"\" + openAlias + \"\\\" style=\\\"padding-left: 16px\\\">\" + openAlias + \"\\uFF1A\" + openVal + \"</span>\\n          <br><span data-label=\\\"\" + closeAlias + \"\\\" style=\\\"padding-left: 16px\\\">\" + closeAlias + \"\\uFF1A\" + closeVal + \"</span>\\n          <br><span data-label=\\\"\" + highAlias + \"\\\" style=\\\"padding-left: 16px\\\">\" + highAlias + \"\\uFF1A\" + highVal + \"</span>\\n          <br><span data-label=\\\"\" + lowAlias + \"\\\" style=\\\"padding-left: 16px\\\">\" + lowAlias + \"\\uFF1A\" + lowVal + \"</span>\\n        \",\n            };\n            return tpl;\n        },\n    };\n    if (tooltip) {\n        if (isObject(tooltip)) {\n            chart.tooltip(transformTooltip(tooltip));\n            geometry.tooltip(baseGeomTooltipOptions);\n        }\n    }\n    else {\n        chart.tooltip(false);\n    }\n    return params;\n}\n/**\n * K线图适配器\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow 的方式处理所有的配置到 G2 API\n    flow(field, meta, theme, axis, tooltip, interaction, animation)(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __extends } from \"tslib\";\nimport { deepMix } from '@antv/util';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_TOOLTIP_OPTIONS } from './constant';\nvar Stock = /** @class */ (function (_super) {\n    __extends(Stock, _super);\n    function Stock() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** 图表类型 */\n        _this.type = 'stock';\n        return _this;\n    }\n    /**\n     * 默认配置\n     *  g2/g2plot默 认 配 置 -->  图 表 默 认 配 置  --> 开 发 者 自 定 义 配 置  --> 最 终 绘 图 配 置\n     */\n    Stock.prototype.getDefaultOptions = function () {\n        return deepMix({}, _super.prototype.getDefaultOptions.call(this), {\n            // 设置默认图表 tooltips\n            tooltip: DEFAULT_TOOLTIP_OPTIONS,\n            interactions: [{ type: 'tooltip' }],\n        });\n    };\n    /**\n     * 获取 蜡烛图 的适配器\n     */\n    Stock.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Stock;\n}(Plot));\nexport { Stock };\n//# sourceMappingURL=index.js.map","import { deepMix, isFunction } from '@antv/util';\nimport { interaction, animation, theme, scale } from '../../adaptor/common';\nimport { flow } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nvar CAT_VALUE = 'liquid';\n/**\n * geometry 处理\n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var percent = options.percent, color = options.color, liquidStyle = options.liquidStyle, radius = options.radius;\n    var data = [{ percent: percent, type: CAT_VALUE }];\n    chart.scale({\n        percent: {\n            min: 0,\n            max: 1,\n        },\n    });\n    chart.data(data);\n    var p = deepMix({}, params, {\n        options: {\n            xField: 'type',\n            yField: 'percent',\n            // radius 放到 columnWidthRatio 中。\n            // 保证横向的大小是根据  redius 生成的\n            widthRatio: radius,\n            interval: {\n                color: color,\n                style: liquidStyle,\n                shape: 'liquid-fill-gauge',\n            },\n        },\n    });\n    var ext = interval(p).ext;\n    var geometry = ext.geometry;\n    // 将 radius 传入到自定义 shape 中\n    geometry.customInfo({\n        radius: radius,\n    });\n    // 关闭组件\n    chart.legend(false);\n    chart.axis(false);\n    chart.tooltip(false);\n    return params;\n}\n/**\n * 统计指标文档\n * @param params\n */\nfunction statistic(params) {\n    var chart = params.chart, options = params.options;\n    var statistic = options.statistic, percent = options.percent;\n    var title = statistic.title, content = statistic.content;\n    // annotation title 和 content 分别使用一个 text\n    [title, content].forEach(function (annotation) {\n        if (annotation) {\n            var formatter = annotation.formatter, style = annotation.style, offsetX = annotation.offsetX, offsetY = annotation.offsetY, rotate = annotation.rotate;\n            chart.annotation().text({\n                top: true,\n                position: {\n                    type: CAT_VALUE,\n                    percent: 0.5,\n                },\n                content: isFunction(formatter) ? formatter({ percent: percent }) : \"\" + percent,\n                style: isFunction(style) ? style({ percent: percent }) : style,\n                offsetX: offsetX,\n                offsetY: offsetY,\n                rotate: rotate,\n            });\n        }\n    });\n    return params;\n}\n/**\n * 水波图适配器\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow 的方式处理所有的配置到 G2 API\n    return flow(geometry, statistic, scale({}), animation, theme, interaction)(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { registerShape } from '@antv/g2';\nimport { reduce, isNumber, mix } from '@antv/util';\nimport { transform } from '../../../utils/g-util';\nfunction addFillAttrs(attrs, cfg) {\n    if (cfg.color && !attrs.fill) {\n        attrs.fill = cfg.color;\n    }\n    if (isNumber(cfg.opacity)) {\n        attrs.opacity = attrs.fillOpacity = cfg.opacity;\n    }\n}\nfunction addStrokeAttrs(attrs, cfg) {\n    if (cfg.color && !attrs.stroke) {\n        attrs.stroke = cfg.color;\n    }\n    if (isNumber(cfg.opacity)) {\n        attrs.opacity = attrs.strokeOpacity = cfg.opacity;\n    }\n}\nfunction lerp(a, b, factor) {\n    return (1 - factor) * a + factor * b;\n}\nvar getFillAttrs = function (cfg) {\n    var defaultAttrs = {\n        lineWidth: 0,\n        // fill: 'red', // todo\n        fillOpacity: 0.85,\n    };\n    var attrs = mix({}, defaultAttrs, cfg.style);\n    addFillAttrs(attrs, cfg);\n    if (cfg.color && !attrs.stroke) {\n        attrs.stroke = attrs.stroke || cfg.color;\n    }\n    return attrs;\n};\nvar getLineAttrs = function (cfg) {\n    var defaultAttrs = {\n        fill: '#fff',\n        fillOpacity: 0,\n        lineWidth: 2,\n    };\n    var attrs = mix({}, defaultAttrs, cfg.style);\n    addStrokeAttrs(attrs, cfg);\n    return attrs;\n};\n/**\n * 用贝塞尔曲线模拟正弦波\n * Using Bezier curves to fit sine wave.\n * There is 4 control points for each curve of wave,\n * which is at 1/4 wave length of the sine wave.\n *\n * The control points for a wave from (a) to (d) are a-b-c-d:\n *          c *----* d\n *     b *\n *       |\n * ... a * ..................\n *\n * whose positions are a: (0, 0), b: (0.5, 0.5), c: (1, 1), d: (PI / 2, 1)\n *\n * @param {number} x          x position of the left-most point (a)\n * @param {number} stage      0-3, stating which part of the wave it is\n * @param {number} waveLength wave length of the sine wave\n * @param {number} amplitude  wave amplitude\n * @return {Array} 正弦片段曲线\n */\nfunction getWaterWavePositions(x, stage, waveLength, amplitude) {\n    if (stage === 0) {\n        return [\n            [x + ((1 / 2) * waveLength) / Math.PI / 2, amplitude / 2],\n            [x + ((1 / 2) * waveLength) / Math.PI, amplitude],\n            [x + waveLength / 4, amplitude],\n        ];\n    }\n    if (stage === 1) {\n        return [\n            [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), amplitude],\n            [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), amplitude / 2],\n            [x + waveLength / 4, 0],\n        ];\n    }\n    if (stage === 2) {\n        return [\n            [x + ((1 / 2) * waveLength) / Math.PI / 2, -amplitude / 2],\n            [x + ((1 / 2) * waveLength) / Math.PI, -amplitude],\n            [x + waveLength / 4, -amplitude],\n        ];\n    }\n    return [\n        [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), -amplitude],\n        [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), -amplitude / 2],\n        [x + waveLength / 4, 0],\n    ];\n}\n/**\n * 获取水波路径\n * @param  {number} radius          半径\n * @param  {number} waterLevel      水位\n * @param  {number} waveLength      波长\n * @param  {number} phase           相位\n * @param  {number} amplitude       震幅\n * @param  {number} cx              圆心x\n * @param  {number} cy              圆心y\n * @return {Array}  path            路径\n * @reference http://gitlab.alipay-inc.com/datavis/g6/blob/1.2.0/src/graph/utils/path.js#L135\n */\nfunction getWaterWavePath(radius, waterLevel, waveLength, phase, amplitude, cx, cy) {\n    var curves = Math.ceil(((2 * radius) / waveLength) * 4) * 2;\n    var path = [];\n    var _phase = phase;\n    // map phase to [-Math.PI * 2, 0]\n    while (_phase < -Math.PI * 2) {\n        _phase += Math.PI * 2;\n    }\n    while (_phase > 0) {\n        _phase -= Math.PI * 2;\n    }\n    _phase = (_phase / Math.PI / 2) * waveLength;\n    var left = cx - radius + _phase - radius * 2;\n    /**\n     * top-left corner as start point\n     *\n     * draws this point\n     *  |\n     * \\|/\n     *  ~~~~~~~~\n     *  |      |\n     *  +------+\n     */\n    path.push(['M', left, waterLevel]);\n    /**\n     * top wave\n     *\n     * ~~~~~~~~ <- draws this sine wave\n     * |      |\n     * +------+\n     */\n    var waveRight = 0;\n    for (var c = 0; c < curves; ++c) {\n        var stage = c % 4;\n        var pos = getWaterWavePositions((c * waveLength) / 4, stage, waveLength, amplitude);\n        path.push([\n            'C',\n            pos[0][0] + left,\n            -pos[0][1] + waterLevel,\n            pos[1][0] + left,\n            -pos[1][1] + waterLevel,\n            pos[2][0] + left,\n            -pos[2][1] + waterLevel,\n        ]);\n        if (c === curves - 1) {\n            waveRight = pos[2][0];\n        }\n    }\n    /**\n     * top-right corner\n     *\n     *                       ~~~~~~~~\n     * 3. draws this line -> |      | <- 1. draws this line\n     *                       +------+\n     *                          ^\n     *                          |\n     *                  2. draws this line\n     */\n    path.push(['L', waveRight + left, cy + radius]);\n    path.push(['L', left, cy + radius]);\n    path.push(['Z']);\n    // path.push(['L', left, waterLevel]);\n    return path;\n}\n/**\n * 添加水波\n * @param {number} x           中心x\n * @param {number} y           中心y\n * @param {number} level       水位等级 0～1\n * @param {number} waveCount   水波数\n * @param {number} colors      色值\n * @param {number} group       图组\n * @param {number} clip        用于剪切的图形\n * @param {number} radius      绘制图形的高度\n */\nfunction addWaterWave(x, y, level, waveCount, color, group, clip, radius) {\n    var bbox = clip.getBBox();\n    var width = bbox.maxX - bbox.minX;\n    var height = bbox.maxY - bbox.minY;\n    var duration = 5000;\n    for (var i = 0; i < waveCount; i++) {\n        var factor = waveCount <= 1 ? 0 : i / (waveCount - 1);\n        var wave = group.addShape('path', {\n            name: \"wave-path-\" + i,\n            attrs: {\n                path: getWaterWavePath(radius, bbox.minY + height * level, width / 4, 0, width / lerp(56, 64, factor), x, y),\n                fill: color,\n                opacity: lerp(0.6, 0.3, factor),\n            },\n        });\n        try {\n            var matrix = transform([['t', width / 2, 0]]);\n            wave.animate({ matrix: matrix }, {\n                duration: lerp(duration, 0.7 * duration, factor),\n                repeat: true,\n            });\n        }\n        catch (e) {\n            // TODO offscreen canvas 中动画会找不到 canvas\n            console.error('offescreen group animate error!');\n        }\n    }\n}\nregisterShape('interval', 'liquid-fill-gauge', {\n    draw: function (cfg, container) {\n        var cx = 0.5;\n        var cy = 0.5;\n        // 需要更好的传参方式\n        var radio = isNumber(cfg.customInfo.radius) ? cfg.customInfo.radius : 0.9;\n        // 获取最小 minX\n        var minX = reduce(cfg.points, function (r, p) {\n            return Math.min(r, p.x);\n        }, Infinity);\n        var center = this.parsePoint({ x: cx, y: cy });\n        var minXPoint = this.parsePoint({ x: minX, y: cy });\n        var halfWidth = center.x - minXPoint.x;\n        // 保证半径是 画布宽高最小值的 radius 值\n        var radius = Math.min(halfWidth, minXPoint.y * radio);\n        var fill = getFillAttrs(cfg).fill;\n        var waves = container.addGroup({\n            name: 'waves',\n        });\n        waves.setClip({\n            type: 'circle',\n            attrs: {\n                x: center.x,\n                y: center.y,\n                r: radius,\n            },\n        });\n        var clipCircle = waves.get('clipShape');\n        addWaterWave(center.x, center.y, 1 - cfg.points[1].y, // cfg.y / (2 * cp.y),\n        3, fill, waves, clipCircle, radius * 4);\n        container.addShape('circle', {\n            name: 'wrap',\n            attrs: mix(getLineAttrs(cfg), {\n                x: center.x,\n                y: center.y,\n                r: radius,\n                fill: 'transparent',\n            }),\n        });\n        return container;\n    },\n});\n//# sourceMappingURL=liquid.js.map","import { __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\n// register liquid shape\nimport './shapes/liquid';\n/**\n * 传说中的水波图\n */\nvar Liquid = /** @class */ (function (_super) {\n    __extends(Liquid, _super);\n    function Liquid() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** 图表类型 */\n        _this.type = 'liquid';\n        return _this;\n    }\n    Liquid.prototype.getDefaultOptions = function () {\n        return {\n            color: '#6a99f9',\n            radius: 0.9,\n            statistic: {\n                title: false,\n                content: {\n                    formatter: function (_a) {\n                        var percent = _a.percent;\n                        return (percent * 100).toFixed(2) + \"%\";\n                    },\n                    style: {\n                        opacity: 0.75,\n                        fontSize: 30,\n                        textAlign: 'center',\n                    },\n                },\n            },\n        };\n    };\n    /**\n     * 获取适配器\n     */\n    Liquid.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Liquid;\n}(Plot));\nexport { Liquid };\n//# sourceMappingURL=index.js.map","import { deepMix, isNumber } from '@antv/util';\nimport { interaction, animation, theme, tooltip } from '../../adaptor/common';\nimport { flow, pick, transformLabel } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { interval, point } from '../../adaptor/geometries';\nimport { transformData } from './utils';\n/**\n * geometry 处理\n * @param params\n */\nfunction geometry(params) {\n    var _a;\n    var chart = params.chart, options = params.options;\n    var style = options.style, targetField = options.targetField, rangeField = options.rangeField, measureField = options.measureField, xField = options.xField, color = options.color, layout = options.layout, size = options.size;\n    // 处理数据\n    var _b = transformData(options), min = _b.min, max = _b.max, ds = _b.ds;\n    // 需要统一比列尺\n    chart.scale((_a = {},\n        _a[measureField] = {\n            min: min,\n            max: max,\n        },\n        _a[rangeField] = {\n            sync: \"\" + measureField,\n        },\n        _a[targetField] = {\n            sync: \"\" + measureField,\n        },\n        _a));\n    chart.data(ds);\n    chart.axis(\"\" + rangeField, false);\n    chart.axis(\"\" + targetField, false);\n    // rangeGeometry\n    var r = deepMix({}, params, {\n        options: {\n            xField: xField,\n            yField: rangeField,\n            seriesField: 'rKey',\n            isStack: true,\n            interval: {\n                color: color === null || color === void 0 ? void 0 : color.range,\n                style: style === null || style === void 0 ? void 0 : style.range,\n                size: size === null || size === void 0 ? void 0 : size.range,\n            },\n        },\n    });\n    interval(r);\n    // 范围值的 tooltip 隐藏掉\n    chart.geometries[0].tooltip(false);\n    // measureGeometry\n    var m = deepMix({}, params, {\n        options: {\n            xField: xField,\n            yField: measureField,\n            seriesField: 'mKey',\n            isStack: true,\n            interval: {\n                color: color === null || color === void 0 ? void 0 : color.measure,\n                style: style === null || style === void 0 ? void 0 : style.measure,\n                size: size === null || size === void 0 ? void 0 : size.measure,\n            },\n        },\n    });\n    interval(m);\n    // targetGeometry\n    var t = deepMix({}, params, {\n        options: {\n            xField: xField,\n            yField: targetField,\n            seriesField: 'tKey',\n            point: {\n                color: color === null || color === void 0 ? void 0 : color.target,\n                style: style === null || style === void 0 ? void 0 : style.target,\n                size: isNumber(size === null || size === void 0 ? void 0 : size.target) ? Number(size.target) / 2 : size.target,\n                shape: layout === 'horizontal' ? 'line' : 'hyphen',\n            },\n        },\n    });\n    point(t);\n    // 水平的时候，要转换坐标轴\n    if (layout === 'horizontal') {\n        chart.coordinate().transpose();\n    }\n    return params;\n}\n/**\n * meta 配置\n * @param params\n */\nfunction meta(params) {\n    var _a;\n    var chart = params.chart, options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, meta = options.meta, targetField = options.targetField, rangeField = options.rangeField, measureField = options.measureField, xField = options.xField;\n    if (meta) {\n        var scales = deepMix({}, meta, (_a = {},\n            _a[xField] = pick(xAxis, AXIS_META_CONFIG_KEYS),\n            _a[measureField] = pick(yAxis, AXIS_META_CONFIG_KEYS),\n            _a[targetField] = {\n                sync: \"\" + measureField,\n            },\n            _a[rangeField] = {\n                sync: \"\" + measureField,\n            },\n            _a));\n        chart.scale(scales);\n    }\n    return params;\n}\n/**\n * axis 配置\n * @param params\n */\nfunction axis(params) {\n    var chart = params.chart, options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, measureField = options.measureField;\n    // 为 false 则是不显示轴\n    if (xAxis === false) {\n        chart.axis(\"\" + xField, false);\n    }\n    else {\n        chart.axis(\"\" + xField, xAxis);\n    }\n    if (yAxis === false) {\n        chart.axis(\"\" + measureField, false);\n    }\n    else {\n        chart.axis(\"\" + measureField, yAxis);\n    }\n    return params;\n}\n/**\n * legend 配置\n * @param params\n */\nfunction legend(params) {\n    var chart = params.chart, options = params.options;\n    var legend = options.legend;\n    chart.removeInteraction('legend-filter');\n    // @TODO 后续看是否内部自定义一个 legend\n    chart.legend(legend);\n    // 默认关闭掉所在 color 字段的 legend, 从而不影响自定义的legend\n    chart.legend('rKey', false);\n    chart.legend('mKey', false);\n    chart.legend('tKey', false);\n    return params;\n}\n/**\n * label 配置\n * @param params\n */\nfunction label(params) {\n    var chart = params.chart, options = params.options;\n    var label = options.label, measureField = options.measureField, targetField = options.targetField, rangeField = options.rangeField;\n    var _a = chart.geometries, rangeGeometry = _a[0], measureGeometry = _a[1], targetGeometry = _a[2];\n    if (label === null || label === void 0 ? void 0 : label.range) {\n        rangeGeometry.label(\"\" + rangeField, transformLabel(label.range));\n    }\n    if (label === null || label === void 0 ? void 0 : label.measure) {\n        measureGeometry.label(\"\" + measureField, transformLabel(label.measure));\n    }\n    if (label === null || label === void 0 ? void 0 : label.target) {\n        targetGeometry.label(\"\" + targetField, transformLabel(label.target));\n    }\n    return params;\n}\n/**\n * 子弹图适配器\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow 的方式处理所有的配置到 G2 API\n    flow(geometry, meta, axis, legend, theme, label, tooltip, interaction, animation)(params);\n}\n//# sourceMappingURL=adaptor.js.map","/**\n * bullet 处理数据\n * @param options\n */\nexport function transformData(options) {\n    var data = options.data, xField = options.xField, measureField = options.measureField, rangeField = options.rangeField, targetField = options.targetField, layout = options.layout;\n    var ds = [];\n    var scales = [];\n    data.forEach(function (item, index) {\n        var _a;\n        // 构建 title * range\n        item[rangeField].sort(function (a, b) { return a - b; });\n        item[rangeField].forEach(function (d, i) {\n            var _a;\n            var range = i === 0 ? d : item[rangeField][i] - item[rangeField][i - 1];\n            ds.push((_a = {\n                    rKey: rangeField + \"_\" + i\n                },\n                _a[xField] = xField ? item[xField] : String(index),\n                _a[rangeField] = range,\n                _a));\n        });\n        // 构建 title * measure\n        item[measureField].forEach(function (d, i) {\n            var _a;\n            ds.push((_a = {\n                    mKey: item[measureField].length > 1 ? measureField + \"_\" + i : \"\" + measureField\n                },\n                _a[xField] = xField ? item[xField] : String(index),\n                _a[measureField] = d,\n                _a));\n        });\n        // 构建 title * target\n        ds.push((_a = {\n                tKey: \"\" + targetField\n            },\n            _a[xField] = xField ? item[xField] : String(index),\n            _a[targetField] = item[targetField],\n            _a));\n        // 为了取最大值和最小值，先存储\n        scales.push(item[rangeField], item[measureField], item[targetField]);\n    });\n    // scales 是嵌套的需要拍平\n    var min = Math.min.apply(Math, scales.flat(Infinity));\n    var max = Math.max.apply(Math, scales.flat(Infinity));\n    // min 大于 0 从 0 开始\n    min = min > 0 ? 0 : min;\n    // 垂直情况，需要反转数据\n    if (layout === 'vertical') {\n        ds.reverse();\n    }\n    return { min: min, max: max, ds: ds };\n}\n//# sourceMappingURL=utils.js.map","import { __extends } from \"tslib\";\nimport { deepMix } from '@antv/util';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nvar Bullet = /** @class */ (function (_super) {\n    __extends(Bullet, _super);\n    function Bullet() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** 图表类型 */\n        _this.type = 'bullet';\n        return _this;\n    }\n    /**\n     * 获取子弹图的适配器\n     */\n    Bullet.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    Bullet.prototype.getDefaultOptions = function () {\n        return deepMix({}, _super.prototype.getDefaultOptions.call(this), {\n            layout: 'horizontal',\n            size: {\n                range: 30,\n                measure: 20,\n                target: 20,\n            },\n            style: {\n                range: {\n                    fillOpacity: 0.5,\n                },\n            },\n            label: {\n                measure: {\n                    position: 'right',\n                },\n            },\n        });\n    };\n    return Bullet;\n}(Plot));\nexport { Bullet };\n//# sourceMappingURL=index.js.map","import { __assign, __rest } from \"tslib\";\nimport { deepMix } from '@antv/util';\nimport { tooltip, slider, interaction, animation, theme, annotation } from '../../adaptor/common';\nimport { findGeometry } from '../../utils';\nimport { area, point, line } from '../../adaptor/geometries';\nimport { flow, transformLabel } from '../../utils';\nimport { meta, legend, axis, adjust } from '../line/adaptor';\n/**\n * geometry 处理\n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var data = options.data, areaStyle = options.areaStyle, color = options.color, pointOptions = options.point, lineOptions = options.line;\n    chart.data(data);\n    var p = deepMix({}, params, {\n        options: {\n            area: { color: color, style: areaStyle },\n            // 颜色保持一致，因为如果颜色不一致，会导致 tooltip 中元素重复。\n            // 如果存在，才设置，否则为空\n            line: lineOptions && __assign({ color: color }, lineOptions),\n            point: pointOptions && __assign({ color: color }, pointOptions),\n        },\n    });\n    // area geometry 处理\n    area(p);\n    line(p);\n    point(p);\n    return params;\n}\n/**\n * 数据标签\n * @param params\n */\nfunction label(params) {\n    var chart = params.chart, options = params.options;\n    var label = options.label, yField = options.yField;\n    var areaGeometry = findGeometry(chart, 'area');\n    // label 为 false, 空 则不显示 label\n    if (!label) {\n        areaGeometry.label(false);\n    }\n    else {\n        var callback = label.callback, cfg = __rest(label, [\"callback\"]);\n        areaGeometry.label({\n            fields: [yField],\n            callback: callback,\n            cfg: transformLabel(cfg),\n        });\n    }\n    return params;\n}\n/**\n * 折线图适配器\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow 的方式处理所有的配置到 G2 API\n    return flow(geometry, meta, adjust, theme, axis, legend, tooltip, label, slider, annotation(), interaction, animation)(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __extends } from \"tslib\";\nimport { deepMix } from '@antv/util';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nvar Area = /** @class */ (function (_super) {\n    __extends(Area, _super);\n    function Area() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** 图表类型 */\n        _this.type = 'area';\n        return _this;\n    }\n    /**\n     * 获取 折线图 默认配置\n     */\n    Area.prototype.getDefaultOptions = function (options) {\n        var _a;\n        var xField = options.xField;\n        return deepMix({}, _super.prototype.getDefaultOptions.call(this), {\n            tooltip: {\n                showMarkers: true,\n                showCrosshairs: true,\n                crosshairs: {\n                    type: 'x',\n                },\n            },\n            meta: (_a = {},\n                _a[xField] = {\n                    type: 'cat',\n                    range: [0, 1],\n                },\n                _a),\n            isStack: true,\n        });\n    };\n    /**\n     * 获取 面积图 的适配器\n     */\n    Area.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Area;\n}(Plot));\nexport { Area };\n//# sourceMappingURL=index.js.map","import { __assign } from \"tslib\";\nimport { adaptor as columnAdaptor } from '../column/adaptor';\n/**\n * 柱形图适配器\n * @param params\n */\nexport function adaptor(params) {\n    var chart = params.chart, options = params.options;\n    var xField = options.xField, yField = options.yField, xAxis = options.xAxis, yAxis = options.yAxis, barStyle = options.barStyle, barWidthRatio = options.barWidthRatio, label = options.label;\n    // label of bar charts default position is left, if plot has label\n    if (label && !label.position) {\n        label.position = 'left';\n    }\n    // transpose column to bar\n    chart.coordinate().transpose();\n    return columnAdaptor({\n        chart: chart,\n        options: __assign(__assign({}, options), { label: label, \n            // switch xField and yField\n            xField: yField, yField: xField, xAxis: yAxis, yAxis: xAxis, \n            // rename attrs as column\n            columnStyle: barStyle, columnWidthRatio: barWidthRatio }),\n    });\n}\n//# sourceMappingURL=adaptor.js.map","import { __assign, __extends } from \"tslib\";\nimport { deepMix } from '@antv/util';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\n/**\n * 条形图\n */\nvar Bar = /** @class */ (function (_super) {\n    __extends(Bar, _super);\n    function Bar() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** 图表类型 */\n        _this.type = 'bar';\n        return _this;\n    }\n    /**\n     * 获取 条形图 默认配置\n     */\n    Bar.prototype.getDefaultOptions = function (options) {\n        var _a;\n        var isRange = options.isRange, label = options.label, xField = options.xField, yField = options.yField;\n        return deepMix({}, _super.prototype.getDefaultOptions.call(this), {\n            label: label && isRange\n                ? __assign({ content: function (item) {\n                        var _a;\n                        return (_a = item[xField]) === null || _a === void 0 ? void 0 : _a.join('-');\n                    } }, label) : label,\n            tooltip: {\n                shared: true,\n                showMarkers: false,\n                offset: 20,\n            },\n            interactions: [{ type: 'active-region' }],\n            meta: (_a = {},\n                _a[yField] = {\n                    type: 'cat',\n                },\n                _a),\n        });\n    };\n    /**\n     * 获取 条形图 的适配器\n     */\n    Bar.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Bar;\n}(Plot));\nexport { Bar };\n//# sourceMappingURL=index.js.map","import { __rest } from \"tslib\";\nimport { deepMix, filter, isObject, isArray } from '@antv/util';\nimport { flow, findGeometry, log, LEVEL, transformLabel } from '../../utils';\nimport { tooltip, interaction, animation, theme, scale, annotation, state } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\n/**\n * geometry 配置处理\n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var data = options.data, sectorStyle = options.sectorStyle, color = options.color;\n    // 装载数据\n    chart.data(data);\n    flow(interval)(deepMix({}, params, {\n        options: {\n            marginRatio: 1,\n            interval: {\n                style: sectorStyle,\n                color: color,\n            },\n        },\n    }));\n    return params;\n}\n/**\n * label 配置\n * @param params\n */\nfunction label(params) {\n    var chart = params.chart, options = params.options;\n    var label = options.label, xField = options.xField;\n    var geometry = findGeometry(chart, 'interval');\n    // label 为 false 不显示 label\n    if (label === false) {\n        geometry.label(false);\n    }\n    else if (isObject(label)) {\n        var callback = label.callback, fields = label.fields, cfg = __rest(label, [\"callback\", \"fields\"]);\n        var offset = cfg.offset;\n        var layout = cfg.layout;\n        // 当 label 在 shape 外部显示时，设置 'limit-in-shape' 会\n        // 造成 label 不显示。\n        if (offset === undefined || offset >= 0) {\n            layout = layout ? (isArray(layout) ? layout : [layout]) : [];\n            cfg.layout = filter(layout, function (v) { return v.type !== 'limit-in-shape'; });\n            cfg.layout.length || delete cfg.layout;\n        }\n        geometry.label({\n            fields: fields || [xField],\n            callback: callback,\n            cfg: transformLabel(cfg),\n        });\n    }\n    else {\n        log(LEVEL.WARN, label === null, 'the label option must be an Object.');\n        geometry.label({ fields: [xField] });\n    }\n    return params;\n}\n/**\n * legend 配置\n * @param params\n */\nexport function legend(params) {\n    var chart = params.chart, options = params.options;\n    var legend = options.legend, seriesField = options.seriesField;\n    if (legend === false) {\n        chart.legend(false);\n    }\n    else if (seriesField) {\n        chart.legend(seriesField, legend);\n    }\n    return params;\n}\n/**\n * coord 配置\n * @param params\n */\nfunction coordinate(params) {\n    var chart = params.chart, options = params.options;\n    var radius = options.radius, innerRadius = options.innerRadius;\n    chart.coordinate({\n        type: 'polar',\n        cfg: {\n            radius: radius,\n            innerRadius: innerRadius,\n        },\n    });\n    return params;\n}\n/**\n * meta 配置\n * @param params\n */\nfunction meta(params) {\n    var _a;\n    var options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField;\n    return flow(scale((_a = {},\n        _a[xField] = xAxis,\n        _a[yField] = yAxis,\n        _a)))(params);\n}\n/**\n * axis 配置\n * @param params\n */\nfunction axis(params) {\n    var chart = params.chart, options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField;\n    // 为 falsy 则是不显示轴\n    if (!xAxis) {\n        chart.axis(xField, false);\n    }\n    else {\n        chart.axis(xField, xAxis);\n    }\n    if (!yAxis) {\n        chart.axis(yField, false);\n    }\n    else {\n        chart.axis(yField, yAxis);\n    }\n    return params;\n}\n/**\n * 玫瑰图适配器\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow 的方式处理所有的配置到 G2 API\n    flow(geometry, meta, label, coordinate, axis, legend, tooltip, interaction, animation, theme, annotation(), state)(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __extends } from \"tslib\";\nimport { deepMix } from '@antv/util';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nvar Rose = /** @class */ (function (_super) {\n    __extends(Rose, _super);\n    function Rose() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** 玫瑰图 */\n        _this.type = 'rose';\n        return _this;\n    }\n    /**\n     * 获取默认的 options 配置项\n     */\n    Rose.prototype.getDefaultOptions = function () {\n        return deepMix({}, _super.prototype.getDefaultOptions.call(this), {\n            xAxis: false,\n            yAxis: false,\n            legend: {\n                position: 'right',\n                offsetX: -10,\n            },\n            sectorStyle: {\n                stroke: '#fff',\n                lineWidth: 1,\n            },\n            label: {\n                layout: {\n                    type: 'limit-in-shape',\n                },\n            },\n        });\n    };\n    /**\n     * 获取 玫瑰图 的适配器\n     */\n    Rose.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Rose;\n}(Plot));\nexport { Rose };\n//# sourceMappingURL=index.js.map","import { deepMix } from '@antv/util';\nimport { flow } from '../../utils';\nimport { scale, theme, animation, annotation, tooltip } from '../../adaptor/common';\nimport { line, point } from '../../adaptor/geometries';\n/**\n * 字段\n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var data = options.data, color = options.color, lineStyle = options.lineStyle, pointMapping = options.point;\n    var seriesData = data.map(function (y, x) {\n        return { x: x, y: y };\n    });\n    chart.data(seriesData);\n    // line geometry 处理\n    var p = deepMix({}, params, {\n        options: {\n            xField: 'x',\n            yField: 'y',\n            line: {\n                color: color,\n                style: lineStyle,\n            },\n            point: pointMapping,\n        },\n    });\n    line(p);\n    point(p);\n    chart.axis(false);\n    chart.legend(false);\n    return params;\n}\n/**\n * 迷你折线图适配器\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    return flow(geometry, scale({}), theme, tooltip, animation, annotation())(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __assign, __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_TOOLTIP_OPTIONS } from './constants';\nvar TinyLine = /** @class */ (function (_super) {\n    __extends(TinyLine, _super);\n    function TinyLine() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** 图表类型 */\n        _this.type = 'tiny-line';\n        return _this;\n    }\n    TinyLine.prototype.getDefaultOptions = function () {\n        return {\n            appendPadding: 2,\n            tooltip: __assign({}, DEFAULT_TOOLTIP_OPTIONS),\n        };\n    };\n    /**\n     * 获取 迷你折线图 的适配器\n     */\n    TinyLine.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return TinyLine;\n}(Plot));\nexport { TinyLine };\n//# sourceMappingURL=index.js.map","import { deepMix } from '@antv/util';\nimport { theme, scale, animation, annotation, tooltip } from '../../adaptor/common';\nimport { flow } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\n/**\n * 字段\n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var data = options.data, color = options.color, columnStyle = options.columnStyle, columnWidthRatio = options.columnWidthRatio;\n    var seriesData = data.map(function (y, x) {\n        return { x: x, y: y };\n    });\n    chart.data(seriesData);\n    var p = deepMix({}, params, {\n        options: {\n            xField: 'x',\n            yField: 'y',\n            widthRatio: columnWidthRatio,\n            interval: {\n                style: columnStyle,\n                color: color,\n            },\n        },\n    });\n    interval(p);\n    chart.axis(false);\n    chart.legend(false);\n    return params;\n}\n/**\n * 迷你柱形图适配器\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    return flow(geometry, scale({}), tooltip, theme, animation, annotation())(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __assign, __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { DEFAULT_TOOLTIP_OPTIONS } from '../tiny-line/constants';\nimport { adaptor } from './adaptor';\nvar TinyColumn = /** @class */ (function (_super) {\n    __extends(TinyColumn, _super);\n    function TinyColumn() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** 图表类型 */\n        _this.type = 'tiny-column';\n        return _this;\n    }\n    TinyColumn.prototype.getDefaultOptions = function () {\n        return {\n            appendPadding: 2,\n            tooltip: __assign({}, DEFAULT_TOOLTIP_OPTIONS),\n        };\n    };\n    /**\n     * 获取 迷你柱形图 的适配器\n     */\n    TinyColumn.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return TinyColumn;\n}(Plot));\nexport { TinyColumn };\n//# sourceMappingURL=index.js.map","import { deepMix } from '@antv/util';\nimport { theme, scale, animation, annotation, tooltip } from '../../adaptor/common';\nimport { flow } from '../../utils';\nimport { area, line, point } from '../../adaptor/geometries';\n/**\n * 字段\n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var data = options.data, color = options.color, areaStyle = options.areaStyle, pointOptions = options.point, lineOptions = options.line;\n    var seriesData = data.map(function (y, x) {\n        return { x: x, y: y };\n    });\n    chart.data(seriesData);\n    var p = deepMix({}, params, {\n        options: {\n            xField: 'x',\n            yField: 'y',\n            area: { color: color, style: areaStyle },\n            line: lineOptions,\n            point: pointOptions,\n        },\n    });\n    // area geometry 处理\n    area(p);\n    line(p);\n    point(p);\n    chart.axis(false);\n    chart.legend(false);\n    return params;\n}\n/**\n * 迷你面积图适配器\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    return flow(geometry, scale({}), tooltip, theme, animation, annotation())(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __assign, __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { DEFAULT_TOOLTIP_OPTIONS } from '../tiny-line/constants';\nimport { adaptor } from './adaptor';\nvar TinyArea = /** @class */ (function (_super) {\n    __extends(TinyArea, _super);\n    function TinyArea() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** 图表类型 */\n        _this.type = 'tiny-area';\n        return _this;\n    }\n    TinyArea.prototype.getDefaultOptions = function (options) {\n        return {\n            appendPadding: 2,\n            tooltip: __assign({}, DEFAULT_TOOLTIP_OPTIONS),\n            // 默认样式\n            color: 'l(90) 0:#5B8FF9 1:#ffffff',\n            areaStyle: {\n                fillOpacity: 0.6,\n            },\n            line: {\n                size: 1,\n                style: {\n                    stroke: '#5B8FF9',\n                },\n            },\n        };\n    };\n    /**\n     * 获取 迷你面积图 的适配器\n     */\n    TinyArea.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return TinyArea;\n}(Plot));\nexport { TinyArea };\n//# sourceMappingURL=index.js.map","import { isFunction } from '@antv/util';\nimport { flow } from '../../utils';\nimport { scale, animation, theme, annotation } from '../../adaptor/common';\nimport { geometry } from '../progress/adaptor';\n/**\n * coordinate 配置\n * @param params\n */\nfunction coordinate(params) {\n    var chart = params.chart, options = params.options;\n    var innerRadius = options.innerRadius, radius = options.radius;\n    // coordinate\n    chart.coordinate('theta', {\n        innerRadius: innerRadius,\n        radius: radius,\n    });\n    return params;\n}\n/**\n * statistic 配置\n * @param params\n */\nfunction statistic(params) {\n    var chart = params.chart, options = params.options;\n    var statistic = options.statistic, percent = options.percent;\n    var title = statistic.title, content = statistic.content;\n    [title, content].forEach(function (annotation) {\n        if (annotation) {\n            var style = annotation.style, formatter = annotation.formatter, offsetX = annotation.offsetX, offsetY = annotation.offsetY, rotate = annotation.rotate;\n            chart.annotation().text({\n                position: ['50%', '50%'],\n                content: formatter ? formatter({ percent: percent }) : percent,\n                style: isFunction(style) ? style({ percent: percent }) : style,\n                offsetX: offsetX,\n                offsetY: offsetY,\n                rotate: rotate,\n            });\n        }\n    });\n    return params;\n}\n/**\n * 环形进度图适配器\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    return flow(geometry, scale({}), coordinate, statistic, animation, theme, annotation())(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nvar RingProgress = /** @class */ (function (_super) {\n    __extends(RingProgress, _super);\n    function RingProgress() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** 图表类型 */\n        _this.type = 'ring-process';\n        return _this;\n    }\n    RingProgress.prototype.getDefaultOptions = function () {\n        return {\n            percent: 0.2,\n            innerRadius: 0.8,\n            radius: 0.98,\n            color: ['#FAAD14', '#E8EDF3'],\n            statistic: {\n                content: {\n                    style: {\n                        fontSize: 14,\n                        fontWeight: 300,\n                        fill: '#4D4D4D',\n                        textAlign: 'center',\n                        textBaseline: 'middle',\n                    },\n                    formatter: function (_a) {\n                        var percent = _a.percent;\n                        return (percent * 100).toFixed(2) + \"%\";\n                    },\n                },\n            },\n        };\n    };\n    /**\n     * 获取 环形进度图 的适配器\n     */\n    RingProgress.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return RingProgress;\n}(Plot));\nexport { RingProgress };\n//# sourceMappingURL=index.js.map","import { isAllowCapture } from '@antv/g-base/lib/util/util';\nimport { multiplyVec2, invert } from '@antv/g-base/lib/util/matrix';\nfunction invertFromMatrix(v, matrix) {\n    if (matrix) {\n        var invertMatrix = invert(matrix);\n        return multiplyVec2(invertMatrix, v);\n    }\n    return v;\n}\nfunction getRefXY(element, x, y) {\n    // @ts-ignore\n    var totalMatrix = element.getTotalMatrix();\n    if (totalMatrix) {\n        var _a = invertFromMatrix([x, y, 1], totalMatrix), refX = _a[0], refY = _a[1];\n        return [refX, refY];\n    }\n    return [x, y];\n}\n// 拾取前的检测，只有通过检测才能继续拾取\nfunction preTest(element, x, y) {\n    // @ts-ignore\n    if (element.isCanvas && element.isCanvas()) {\n        return true;\n    }\n    // 不允许被拾取，则返回 null\n    // @ts-ignore\n    if (!isAllowCapture(element) || element.cfg.isInView === false) {\n        return false;\n    }\n    if (element.cfg.clipShape) {\n        // 如果存在 clip\n        var _a = getRefXY(element, x, y), refX = _a[0], refY = _a[1];\n        if (element.isClipped(refX, refY)) {\n            return false;\n        }\n    }\n    // @ts-ignore ，这个地方调用过于频繁\n    var bbox = element.cfg.cacheCanvasBBox || element.getCanvasBBox();\n    // 如果没有缓存 bbox，则说明不可见\n    // 注释掉的这段可能会加速拾取，上面的语句改写成 const bbox = element.cfg.cacheCanvasBBox;\n    // 这时候的拾取假设图形/分组在上一次绘制都在视窗内，但是上面已经判定了 isInView 所以意义不大\n    // 现在还调用 element.getCanvasBBox(); 一个很大的原因是便于单元测试\n    // if (!bbox) {\n    //   return false;\n    // }\n    if (!(x >= bbox.minX && x <= bbox.maxX && y >= bbox.minY && y <= bbox.maxY)) {\n        return false;\n    }\n    return true;\n}\n// 这个方法复写了 g-base 的 getShape\nexport function getShape(container, x, y) {\n    // 没有通过检测，则返回 null\n    if (!preTest(container, x, y)) {\n        return null;\n    }\n    var shape = null;\n    var children = container.getChildren();\n    var count = children.length;\n    for (var i = count - 1; i >= 0; i--) {\n        var child = children[i];\n        if (child.isGroup()) {\n            shape = getShape(child, x, y);\n        }\n        else if (preTest(child, x, y)) {\n            var curShape = child;\n            var _a = getRefXY(child, x, y), refX = _a[0], refY = _a[1];\n            // @ts-ignore\n            if (curShape.isInShape(refX, refY)) {\n                shape = child;\n            }\n        }\n        if (shape) {\n            break;\n        }\n    }\n    return shape;\n}\n//# sourceMappingURL=hit.js.map","import { __extends } from \"tslib\";\nimport { AbstractCanvas } from '@antv/g-base';\nimport { getShape } from './util/hit';\nimport * as Shape from './shape';\nimport Group from './group';\nimport { each, getPixelRatio, requestAnimationFrame, clearAnimationFrame } from './util/util';\nimport { applyAttrsToContext, drawChildren, getMergedRegion, mergeView, checkRefresh, clearChanged } from './util/draw';\nvar Canvas = /** @class */ (function (_super) {\n    __extends(Canvas, _super);\n    function Canvas() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Canvas.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        // 设置渲染引擎为 canvas，只读属性\n        cfg['renderer'] = 'canvas';\n        // 是否自动绘制，不需要用户调用 draw 方法\n        cfg['autoDraw'] = true;\n        // 是否允许局部刷新图表\n        cfg['localRefresh'] = true;\n        cfg['refreshElements'] = [];\n        // 是否在视图内自动裁剪\n        cfg['clipView'] = true;\n        // 是否使用快速拾取的方案，默认为 false，上层可以打开\n        cfg['quickHit'] = false;\n        return cfg;\n    };\n    /**\n     * 一些方法调用会引起画布变化\n     * @param {ChangeType} changeType 改变的类型\n     */\n    Canvas.prototype.onCanvasChange = function (changeType) {\n        /**\n         * 触发画布更新的三种 changeType\n         * 1. attr: 修改画布的绘图属性\n         * 2. sort: 画布排序，图形的层次会发生变化\n         * 3. changeSize: 改变画布大小\n         */\n        if (changeType === 'attr' || changeType === 'sort' || changeType === 'changeSize') {\n            this.set('refreshElements', [this]);\n            this.draw();\n        }\n    };\n    Canvas.prototype.getShapeBase = function () {\n        return Shape;\n    };\n    Canvas.prototype.getGroupBase = function () {\n        return Group;\n    };\n    /**\n     * 获取屏幕像素比\n     */\n    Canvas.prototype.getPixelRatio = function () {\n        var pixelRatio = this.get('pixelRatio') || getPixelRatio();\n        // 不足 1 的取 1，超出 1 的取整\n        return pixelRatio >= 1 ? Math.ceil(pixelRatio) : 1;\n    };\n    Canvas.prototype.getViewRange = function () {\n        return {\n            minX: 0,\n            minY: 0,\n            maxX: this.cfg.width,\n            maxY: this.cfg.height,\n        };\n    };\n    // 复写基类的方法生成标签\n    Canvas.prototype.createDom = function () {\n        var element = document.createElement('canvas');\n        var context = element.getContext('2d');\n        // 缓存 context 对象\n        this.set('context', context);\n        return element;\n    };\n    Canvas.prototype.setDOMSize = function (width, height) {\n        _super.prototype.setDOMSize.call(this, width, height);\n        var context = this.get('context');\n        var el = this.get('el');\n        var pixelRatio = this.getPixelRatio();\n        el.width = pixelRatio * width;\n        el.height = pixelRatio * height;\n        // 设置 canvas 元素的宽度和高度，会重置缩放，因此 context.scale 需要在每次设置宽、高后调用\n        if (pixelRatio > 1) {\n            context.scale(pixelRatio, pixelRatio);\n        }\n    };\n    // 复写基类方法\n    Canvas.prototype.clear = function () {\n        _super.prototype.clear.call(this);\n        this._clearFrame(); // 需要清理掉延迟绘制的帧\n        var context = this.get('context');\n        var element = this.get('el');\n        context.clearRect(0, 0, element.width, element.height);\n    };\n    Canvas.prototype.getShape = function (x, y) {\n        var shape;\n        if (this.get('quickHit')) {\n            shape = getShape(this, x, y);\n        }\n        else {\n            shape = _super.prototype.getShape.call(this, x, y, null);\n        }\n        return shape;\n    };\n    // 对绘制区域边缘取整，避免浮点数问题\n    Canvas.prototype._getRefreshRegion = function () {\n        var elements = this.get('refreshElements');\n        var viewRegion = this.getViewRange();\n        var region;\n        // 如果是当前画布整体发生了变化，则直接重绘整个画布\n        if (elements.length && elements[0] === this) {\n            region = viewRegion;\n        }\n        else {\n            region = getMergedRegion(elements);\n            if (region) {\n                region.minX = Math.floor(region.minX);\n                region.minY = Math.floor(region.minY);\n                region.maxX = Math.ceil(region.maxX);\n                region.maxY = Math.ceil(region.maxY);\n                region.maxY += 1; // 在很多环境下字体的高低会不一致，附加一像素，避免残影\n                var clipView = this.get('clipView');\n                // 自动裁剪不在 view 内的区域\n                if (clipView) {\n                    region = mergeView(region, viewRegion);\n                }\n            }\n        }\n        return region;\n    };\n    /**\n     * 刷新图形元素，这里仅仅是放入队列，下次绘制时进行绘制\n     * @param {IElement} element 图形元素\n     */\n    Canvas.prototype.refreshElement = function (element) {\n        var refreshElements = this.get('refreshElements');\n        refreshElements.push(element);\n        // if (this.get('autoDraw')) {\n        //   this._startDraw();\n        // }\n    };\n    // 清理还在进行的绘制\n    Canvas.prototype._clearFrame = function () {\n        var drawFrame = this.get('drawFrame');\n        if (drawFrame) {\n            // 如果全部渲染时，存在局部渲染，则抛弃掉局部渲染\n            clearAnimationFrame(drawFrame);\n            this.set('drawFrame', null);\n            this.set('refreshElements', []);\n        }\n    };\n    // 手工调用绘制接口\n    Canvas.prototype.draw = function () {\n        var drawFrame = this.get('drawFrame');\n        if (this.get('autoDraw') && drawFrame) {\n            return;\n        }\n        this._startDraw();\n    };\n    // 绘制所有图形\n    Canvas.prototype._drawAll = function () {\n        var context = this.get('context');\n        var element = this.get('el');\n        var children = this.getChildren();\n        context.clearRect(0, 0, element.width, element.height);\n        applyAttrsToContext(context, this);\n        drawChildren(context, children);\n        // 对于 https://github.com/antvis/g/issues/422 的场景，全局渲染的模式下也会记录更新的元素队列，因此全局渲染完后也需要置空\n        this.set('refreshElements', []);\n    };\n    // 绘制局部\n    Canvas.prototype._drawRegion = function () {\n        var context = this.get('context');\n        var refreshElements = this.get('refreshElements');\n        var children = this.getChildren();\n        var region = this._getRefreshRegion();\n        // 需要注意可能没有 region 的场景\n        // 一般发生在设置了 localRefresh ,在没有图形发生变化的情况下，用户调用了 draw\n        if (region) {\n            // 清理指定区域\n            context.clearRect(region.minX, region.minY, region.maxX - region.minX, region.maxY - region.minY);\n            // 保存上下文，设置 clip\n            context.save();\n            context.beginPath();\n            context.rect(region.minX, region.minY, region.maxX - region.minX, region.maxY - region.minY);\n            context.clip();\n            applyAttrsToContext(context, this);\n            // 确认更新的元素，这个优化可以提升 10 倍左右的性能，10W 个带有 group 的节点，局部渲染会从 90ms 下降到 5-6 ms\n            checkRefresh(this, children, region);\n            // 绘制子元素\n            drawChildren(context, children, region);\n            context.restore();\n        }\n        else if (refreshElements.length) {\n            // 防止发生改变的 elements 没有 region 的场景，这会发生在多个情况下\n            // 1. 空的 group\n            // 2. 所有 elements 没有在绘图区域\n            // 3. group 下面的 elements 隐藏掉\n            // 如果不进行清理 hasChanged 的状态会不正确\n            clearChanged(refreshElements);\n        }\n        each(refreshElements, function (element) {\n            if (element.get('hasChanged')) {\n                // 在视窗外的 Group 元素会加入到更新队列里，但实际却没有执行 draw() 逻辑，也就没有清除 hasChanged 标记\n                // 即已经重绘完、但 hasChanged 标记没有清除的元素，需要统一清除掉。主要是 Group 存在问题，具体原因待排查\n                element.set('hasChanged', false);\n            }\n        });\n        this.set('refreshElements', []);\n    };\n    // 触发绘制\n    Canvas.prototype._startDraw = function () {\n        var _this = this;\n        var drawFrame = this.get('drawFrame');\n        if (!drawFrame) {\n            drawFrame = requestAnimationFrame(function () {\n                if (_this.get('localRefresh')) {\n                    _this._drawRegion();\n                }\n                else {\n                    _this._drawAll();\n                }\n                _this.set('drawFrame', null);\n            });\n            this.set('drawFrame', drawFrame);\n        }\n    };\n    Canvas.prototype.skipDraw = function () { };\n    return Canvas;\n}(AbstractCanvas));\nexport default Canvas;\n//# sourceMappingURL=canvas.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.propagationDelegate = void 0;\nvar graph_event_1 = require(\"@antv/g-base/lib/event/graph-event\");\n/**\n *\n * @param group 分组\n * @param eventName 事件名\n * @param eventObject 事件对象\n */\nfunction propagationDelegate(group, eventName, eventObject) {\n    var event = new graph_event_1.default(eventName, eventObject);\n    event.target = group;\n    event.propagationPath.push(group); // 从当前 group 开始触发 delegation\n    group.emitDelegation(eventName, event);\n    var parent = group.getParent();\n    // 执行冒泡\n    while (parent) {\n        // 委托事件要先触发\n        parent.emitDelegation(eventName, event);\n        event.propagationPath.push(parent);\n        parent = parent.getParent();\n    }\n}\nexports.propagationDelegate = propagationDelegate;\n//# sourceMappingURL=event.js.map","import * as Shape from './shape';\nvar pkg = require('../package.json');\nexport var version = pkg.version;\nexport * from './types';\nexport * from './interfaces';\nexport { Event } from '@antv/g-base';\nexport { default as Canvas } from './canvas';\nexport { default as Group } from './group';\nexport { Shape };\n//# sourceMappingURL=index.js.map","import * as Shape from './shape';\nvar pkg = require('../package.json');\nexport var version = pkg.version;\nexport * from './types';\nexport * from './interfaces';\nexport { Event } from '@antv/g-base';\nexport { default as Canvas } from './canvas';\nexport { default as Group } from './group';\nexport { Shape };\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"./util\");\n// 向量长度\nfunction vMag(v) {\n    return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n}\n// u.v/|u||v|，计算夹角的余弦值\nfunction vRatio(u, v) {\n    // 当存在一个向量的长度为 0 时，夹角也为 0，即夹角的余弦值为 1\n    return vMag(u) * vMag(v) ? (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v)) : 1;\n}\n// 向量角度\nfunction vAngle(u, v) {\n    return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n}\n// A 0:rx 1:ry 2:x-axis-rotation 3:large-arc-flag 4:sweep-flag 5: x 6: y\nfunction getArcParams(startPoint, params) {\n    var rx = params[1];\n    var ry = params[2];\n    var xRotation = util_1.mod(util_1.toRadian(params[3]), Math.PI * 2);\n    var arcFlag = params[4];\n    var sweepFlag = params[5];\n    // 弧形起点坐标\n    var x1 = startPoint[0];\n    var y1 = startPoint[1];\n    // 弧形终点坐标\n    var x2 = params[6];\n    var y2 = params[7];\n    var xp = (Math.cos(xRotation) * (x1 - x2)) / 2.0 + (Math.sin(xRotation) * (y1 - y2)) / 2.0;\n    var yp = (-1 * Math.sin(xRotation) * (x1 - x2)) / 2.0 + (Math.cos(xRotation) * (y1 - y2)) / 2.0;\n    var lambda = (xp * xp) / (rx * rx) + (yp * yp) / (ry * ry);\n    if (lambda > 1) {\n        rx *= Math.sqrt(lambda);\n        ry *= Math.sqrt(lambda);\n    }\n    var diff = rx * rx * (yp * yp) + ry * ry * (xp * xp);\n    var f = diff ? Math.sqrt((rx * rx * (ry * ry) - diff) / diff) : 1;\n    if (arcFlag === sweepFlag) {\n        f *= -1;\n    }\n    if (isNaN(f)) {\n        f = 0;\n    }\n    // 旋转前的起点坐标，且当长半轴和短半轴的长度为 0 时，坐标按 (0, 0) 处理\n    var cxp = ry ? (f * rx * yp) / ry : 0;\n    var cyp = rx ? (f * -ry * xp) / rx : 0;\n    // 椭圆圆心坐标\n    var cx = (x1 + x2) / 2.0 + Math.cos(xRotation) * cxp - Math.sin(xRotation) * cyp;\n    var cy = (y1 + y2) / 2.0 + Math.sin(xRotation) * cxp + Math.cos(xRotation) * cyp;\n    // 起始点的单位向量\n    var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n    // 终止点的单位向量\n    var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n    // 计算起始点和圆心的连线，与 x 轴正方向的夹角\n    var theta = vAngle([1, 0], u);\n    // 计算圆弧起始点和终止点与椭圆圆心连线的夹角\n    var dTheta = vAngle(u, v);\n    if (vRatio(u, v) <= -1) {\n        dTheta = Math.PI;\n    }\n    if (vRatio(u, v) >= 1) {\n        dTheta = 0;\n    }\n    if (sweepFlag === 0 && dTheta > 0) {\n        dTheta = dTheta - 2 * Math.PI;\n    }\n    if (sweepFlag === 1 && dTheta < 0) {\n        dTheta = dTheta + 2 * Math.PI;\n    }\n    return {\n        cx: cx,\n        cy: cy,\n        // 弧形的起点和终点相同时，长轴和短轴的长度按 0 处理\n        rx: util_1.isSamePoint(startPoint, [x2, y2]) ? 0 : rx,\n        ry: util_1.isSamePoint(startPoint, [x2, y2]) ? 0 : ry,\n        startAngle: theta,\n        endAngle: theta + dTheta,\n        xRotation: xRotation,\n        arcFlag: arcFlag,\n        sweepFlag: sweepFlag,\n    };\n}\nexports.default = getArcParams;\n//# sourceMappingURL=arc-params.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ver = exports.clear = exports.bind = void 0;\n\nvar _sensorPool = require(\"./sensorPool\");\n\n/**\n * Created by hustcc on 18/6/9.[高考时间]\n * Contract: i@hust.cc\n */\n\n/**\n * bind an element with resize callback function\n * @param {*} element\n * @param {*} cb\n */\nvar bind = function bind(element, cb) {\n  var sensor = (0, _sensorPool.getSensor)(element); // listen with callback\n\n  sensor.bind(cb); // return unbind function\n\n  return function () {\n    sensor.unbind(cb);\n  };\n};\n/**\n * clear all the listener and sensor of an element\n * @param element\n */\n\n\nexports.bind = bind;\n\nvar clear = function clear(element) {\n  var sensor = (0, _sensorPool.getSensor)(element);\n  (0, _sensorPool.removeSensor)(sensor);\n};\n\nexports.clear = clear;\nvar ver = \"1.0.1\";\nexports.ver = ver;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar util_1 = require(\"@antv/util\");\nvar dependents_1 = require(\"../../dependents\");\nvar coordinate_1 = require(\"../../util/coordinate\");\nvar graphics_1 = require(\"../../util/graphics\");\nvar tooltip_1 = require(\"../../util/tooltip\");\nvar bbox_1 = require(\"../../util/bbox\");\nvar base_1 = require(\"./base\");\nvar event_1 = tslib_1.__importDefault(require(\"../event\"));\n// Filter duplicates, use `name`, `color`, `value` and `title` property values as condition\nfunction uniq(items) {\n    var uniqItems = [];\n    var _loop_1 = function (index) {\n        var item = items[index];\n        var result = util_1.find(uniqItems, function (subItem) {\n            return (subItem.color === item.color &&\n                subItem.name === item.name &&\n                subItem.value === item.value &&\n                subItem.title === item.title);\n        });\n        if (!result) {\n            uniqItems.push(item);\n        }\n    };\n    for (var index = 0; index < items.length; index++) {\n        _loop_1(index);\n    }\n    return uniqItems;\n}\n/** @ignore */\nvar Tooltip = /** @class */ (function (_super) {\n    tslib_1.__extends(Tooltip, _super);\n    function Tooltip() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.isLocked = false;\n        return _this;\n    }\n    Object.defineProperty(Tooltip.prototype, \"name\", {\n        get: function () {\n            return 'tooltip';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Tooltip.prototype.init = function () { };\n    Tooltip.prototype.isVisible = function () {\n        var option = this.view.getOptions().tooltip;\n        return option !== false;\n    };\n    Tooltip.prototype.render = function () { };\n    /**\n     * Shows tooltip\n     * @param point\n     */\n    Tooltip.prototype.showTooltip = function (point) {\n        this.point = point;\n        if (!this.isVisible()) {\n            // 如果设置 tooltip(false) 则始终不显示\n            return;\n        }\n        var view = this.view;\n        var items = this.getTooltipItems(point);\n        if (!items.length) {\n            // 无内容则不展示，同时 tooltip 需要隐藏\n            this.hideTooltip();\n            return;\n        }\n        var title = this.getTitle(items);\n        var dataPoint = {\n            x: items[0].x,\n            y: items[0].y,\n        }; // 数据点位置\n        view.emit('tooltip:show', event_1.default.fromData(view, 'tooltip:show', tslib_1.__assign({ items: items,\n            title: title }, point)));\n        var cfg = this.getTooltipCfg();\n        var follow = cfg.follow, showMarkers = cfg.showMarkers, showCrosshairs = cfg.showCrosshairs, showContent = cfg.showContent, marker = cfg.marker;\n        var lastItems = this.items;\n        var lastTitle = this.title;\n        if (!util_1.isEqual(lastTitle, title) || !util_1.isEqual(lastItems, items)) {\n            // 内容发生变化了更新 tooltip\n            view.emit('tooltip:change', event_1.default.fromData(view, 'tooltip:change', tslib_1.__assign({ items: items,\n                title: title }, point)));\n            if (showContent) {\n                // 展示 tooltip 内容框才渲染 tooltip\n                if (!this.tooltip) {\n                    // 延迟生成\n                    this.renderTooltip();\n                }\n                this.tooltip.update(util_1.mix({}, cfg, {\n                    items: items,\n                    title: title,\n                }, follow ? point : {}));\n                this.tooltip.show();\n            }\n            if (showMarkers) {\n                // 展示 tooltipMarkers，tooltipMarkers 跟随数据\n                this.renderTooltipMarkers(items, marker);\n            }\n        }\n        else {\n            // 内容未发生变化，则更新位置\n            if (this.tooltip && follow) {\n                this.tooltip.update(point);\n                this.tooltip.show(); // tooltip 有可能被隐藏，需要保证显示状态\n            }\n            if (this.tooltipMarkersGroup) {\n                this.tooltipMarkersGroup.show();\n            }\n        }\n        this.items = items;\n        this.title = title;\n        if (showCrosshairs) {\n            // 展示 tooltip 辅助线\n            var isCrosshairsFollowCursor = util_1.get(cfg, ['crosshairs', 'follow'], false); // 辅助线是否要跟随鼠标\n            this.renderCrosshairs(isCrosshairsFollowCursor ? point : dataPoint, cfg);\n        }\n    };\n    Tooltip.prototype.hideTooltip = function () {\n        var follow = this.getTooltipCfg().follow;\n        if (!follow) {\n            this.point = null;\n            return;\n        }\n        // hide the tooltipMarkers\n        var tooltipMarkersGroup = this.tooltipMarkersGroup;\n        if (tooltipMarkersGroup) {\n            tooltipMarkersGroup.hide();\n        }\n        // hide crosshairs\n        var xCrosshair = this.xCrosshair;\n        var yCrosshair = this.yCrosshair;\n        if (xCrosshair) {\n            xCrosshair.hide();\n        }\n        if (yCrosshair) {\n            yCrosshair.hide();\n        }\n        var tooltip = this.tooltip;\n        if (tooltip) {\n            tooltip.hide();\n        }\n        this.view.emit('tooltip:hide', event_1.default.fromData(this.view, 'tooltip:hide', {}));\n        this.point = null;\n    };\n    /**\n     * lockTooltip\n     */\n    Tooltip.prototype.lockTooltip = function () {\n        this.isLocked = true;\n        if (this.tooltip) {\n            // tooltip contianer 可捕获事件\n            this.tooltip.setCapture(true);\n        }\n    };\n    /**\n     * unlockTooltip\n     */\n    Tooltip.prototype.unlockTooltip = function () {\n        this.isLocked = false;\n        var cfg = this.getTooltipCfg();\n        if (this.tooltip) {\n            // 重置 capture 属性\n            this.tooltip.setCapture(cfg.capture);\n        }\n    };\n    /**\n     * isTooltipLocked\n     */\n    Tooltip.prototype.isTooltipLocked = function () {\n        return this.isLocked;\n    };\n    Tooltip.prototype.clear = function () {\n        var _a = this, tooltip = _a.tooltip, xCrosshair = _a.xCrosshair, yCrosshair = _a.yCrosshair, tooltipMarkersGroup = _a.tooltipMarkersGroup;\n        if (tooltip) {\n            tooltip.hide();\n            tooltip.clear();\n        }\n        if (xCrosshair) {\n            xCrosshair.clear();\n        }\n        if (yCrosshair) {\n            yCrosshair.clear();\n        }\n        if (tooltipMarkersGroup) {\n            tooltipMarkersGroup.clear();\n        }\n    };\n    Tooltip.prototype.destroy = function () {\n        if (this.tooltip) {\n            this.tooltip.destroy();\n        }\n        if (this.xCrosshair) {\n            this.xCrosshair.destroy();\n        }\n        if (this.yCrosshair) {\n            this.yCrosshair.destroy();\n        }\n        if (this.guideGroup) {\n            this.guideGroup.remove(true);\n        }\n        this.items = null;\n        this.title = null;\n        this.tooltipMarkersGroup = null;\n        this.tooltipCrosshairsGroup = null;\n        this.xCrosshair = null;\n        this.yCrosshair = null;\n        this.tooltip = null;\n        this.guideGroup = null;\n        this.isLocked = false;\n        this.point = null;\n    };\n    Tooltip.prototype.changeVisible = function (visible) {\n        if (this.visible === visible) {\n            return;\n        }\n        var _a = this, tooltip = _a.tooltip, tooltipMarkersGroup = _a.tooltipMarkersGroup, xCrosshair = _a.xCrosshair, yCrosshair = _a.yCrosshair;\n        if (visible) {\n            if (tooltip) {\n                tooltip.show();\n            }\n            if (tooltipMarkersGroup) {\n                tooltipMarkersGroup.show();\n            }\n            if (xCrosshair) {\n                xCrosshair.show();\n            }\n            if (yCrosshair) {\n                yCrosshair.show();\n            }\n        }\n        else {\n            if (tooltip) {\n                tooltip.hide();\n            }\n            if (tooltipMarkersGroup) {\n                tooltipMarkersGroup.hide();\n            }\n            if (xCrosshair) {\n                xCrosshair.hide();\n            }\n            if (yCrosshair) {\n                yCrosshair.hide();\n            }\n        }\n        this.visible = visible;\n    };\n    Tooltip.prototype.getTooltipItems = function (point) {\n        var items = this.findItemsFromView(this.view, point);\n        if (items.length) {\n            // 三层\n            items = util_1.flatten(items);\n            for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n                var itemArr = items_1[_i];\n                for (var _a = 0, itemArr_1 = itemArr; _a < itemArr_1.length; _a++) {\n                    var item = itemArr_1[_a];\n                    var _b = item.mappingData, x = _b.x, y = _b.y;\n                    item.x = util_1.isArray(x) ? x[x.length - 1] : x;\n                    item.y = util_1.isArray(y) ? y[y.length - 1] : y;\n                }\n            }\n            var shared = this.getTooltipCfg().shared;\n            // shared: false 代表只显示当前拾取到的 shape 的数据，但是一个 view 会有多个 Geometry，所以有可能会拾取到多个 shape\n            if (shared === false && items.length > 1) {\n                var snapItem = items[0];\n                var min = Math.abs(point.y - snapItem[0].y);\n                for (var _c = 0, items_2 = items; _c < items_2.length; _c++) {\n                    var aItem = items_2[_c];\n                    var yDistance = Math.abs(point.y - aItem[0].y);\n                    if (yDistance <= min) {\n                        snapItem = aItem;\n                        min = yDistance;\n                    }\n                }\n                items = [snapItem];\n            }\n            return uniq(util_1.flatten(items));\n        }\n        return [];\n    };\n    Tooltip.prototype.layout = function () { };\n    Tooltip.prototype.update = function () {\n        if (this.point) {\n            this.showTooltip(this.point);\n        }\n        if (this.tooltip) {\n            // #2279 修复resize之后tooltip越界的问题\n            // 确保tooltip已经创建的情况下\n            var canvas = this.view.getCanvas();\n            // TODO 逍为 tooltip 的区域不应该是 canvas，而应该是整个 特别是在图比较小的时候\n            // 更新 region\n            this.tooltip.set('region', {\n                start: { x: 0, y: 0 },\n                end: { x: canvas.get('width'), y: canvas.get('height') },\n            });\n        }\n    };\n    /**\n     * 当前鼠标点是在 enter tooltip 中\n     * @param point\n     */\n    Tooltip.prototype.isCursorEntered = function (point) {\n        // 是可捕获的，并且点在 tooltip dom 上\n        if (this.tooltip) {\n            var el = this.tooltip.getContainer();\n            var capture = this.tooltip.get('capture');\n            if (el && capture) {\n                var _a = el.getBoundingClientRect(), x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n                return new bbox_1.BBox(x, y, width, height).isPointIn(point);\n            }\n        }\n        return false;\n    };\n    // 获取 tooltip 配置，因为用户可能会通过 view.tooltip() 重新配置 tooltip，所以就不做缓存，每次直接读取\n    Tooltip.prototype.getTooltipCfg = function () {\n        var view = this.view;\n        var option = view.getOptions().tooltip;\n        var processOption = this.processCustomContent(option);\n        var theme = view.getTheme();\n        var defaultCfg = util_1.get(theme, ['components', 'tooltip'], {});\n        var enterable = util_1.get(processOption, 'enterable', defaultCfg.enterable);\n        return util_1.deepMix({}, defaultCfg, processOption, {\n            capture: enterable || this.isLocked ? true : false,\n        });\n    };\n    // process customContent\n    Tooltip.prototype.processCustomContent = function (option) {\n        if (util_1.isBoolean(option) || !util_1.get(option, 'customContent')) {\n            return option;\n        }\n        var currentCustomContent = option.customContent;\n        var customContent = function (title, items) {\n            var content = currentCustomContent(title, items) || '';\n            return util_1.isString(content) ? '<div class=\"g2-tooltip\">' + content + '</div>' : content;\n        };\n        return tslib_1.__assign(tslib_1.__assign({}, option), { customContent: customContent });\n    };\n    Tooltip.prototype.getTitle = function (items) {\n        var title = items[0].title || items[0].name;\n        this.title = title;\n        return title;\n    };\n    Tooltip.prototype.renderTooltip = function () {\n        var canvas = this.view.getCanvas();\n        var region = {\n            start: { x: 0, y: 0 },\n            end: { x: canvas.get('width'), y: canvas.get('height') },\n        };\n        var cfg = this.getTooltipCfg();\n        var tooltip = new dependents_1.HtmlTooltip(tslib_1.__assign(tslib_1.__assign({ parent: canvas.get('el').parentNode, region: region }, cfg), { visible: false, crosshairs: null }));\n        tooltip.init();\n        this.tooltip = tooltip;\n    };\n    Tooltip.prototype.renderTooltipMarkers = function (items, marker) {\n        var tooltipMarkersGroup = this.getTooltipMarkersGroup();\n        for (var _i = 0, items_3 = items; _i < items_3.length; _i++) {\n            var item = items_3[_i];\n            var x = item.x, y = item.y;\n            var attrs = tslib_1.__assign(tslib_1.__assign({ fill: item.color, symbol: 'circle', shadowColor: item.color }, marker), { x: x,\n                y: y });\n            tooltipMarkersGroup.addShape('marker', {\n                attrs: attrs,\n            });\n        }\n    };\n    Tooltip.prototype.renderCrosshairs = function (point, cfg) {\n        var crosshairsType = util_1.get(cfg, ['crosshairs', 'type'], 'x'); // 默认展示 x 轴上的辅助线\n        if (crosshairsType === 'x') {\n            if (this.yCrosshair) {\n                this.yCrosshair.hide();\n            }\n            this.renderXCrosshairs(point, cfg);\n        }\n        else if (crosshairsType === 'y') {\n            if (this.xCrosshair) {\n                this.xCrosshair.hide();\n            }\n            this.renderYCrosshairs(point, cfg);\n        }\n        else if (crosshairsType === 'xy') {\n            this.renderXCrosshairs(point, cfg);\n            this.renderYCrosshairs(point, cfg);\n        }\n    };\n    // 渲染 x 轴上的 tooltip 辅助线\n    Tooltip.prototype.renderXCrosshairs = function (point, tooltipCfg) {\n        var coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n        if (!coordinate_1.isPointInCoordinate(coordinate, point)) {\n            return;\n        }\n        var start;\n        var end;\n        if (coordinate.isRect) {\n            if (coordinate.isTransposed) {\n                start = {\n                    x: coordinate.start.x,\n                    y: point.y,\n                };\n                end = {\n                    x: coordinate.end.x,\n                    y: point.y,\n                };\n            }\n            else {\n                start = {\n                    x: point.x,\n                    y: coordinate.end.y,\n                };\n                end = {\n                    x: point.x,\n                    y: coordinate.start.y,\n                };\n            }\n        }\n        else {\n            // 极坐标下 x 轴上的 crosshairs 表现为半径\n            var angle = coordinate_1.getAngleByPoint(coordinate, point);\n            var center = coordinate.getCenter();\n            var radius = coordinate.getRadius();\n            end = graphics_1.polarToCartesian(center.x, center.y, radius, angle);\n            start = center;\n        }\n        var cfg = util_1.deepMix({\n            start: start,\n            end: end,\n            container: this.getTooltipCrosshairsGroup(),\n        }, util_1.get(tooltipCfg, 'crosshairs', {}), this.getCrosshairsText('x', point, tooltipCfg));\n        delete cfg.type; // 与 Crosshairs 组件的 type 冲突故删除\n        var xCrosshair = this.xCrosshair;\n        if (xCrosshair) {\n            xCrosshair.update(cfg);\n        }\n        else {\n            xCrosshair = new dependents_1.Crosshair.Line(cfg);\n            xCrosshair.init();\n        }\n        xCrosshair.render();\n        xCrosshair.show();\n        this.xCrosshair = xCrosshair;\n    };\n    // 渲染 y 轴上的辅助线\n    Tooltip.prototype.renderYCrosshairs = function (point, tooltipCfg) {\n        var coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n        if (!coordinate_1.isPointInCoordinate(coordinate, point)) {\n            return;\n        }\n        var cfg;\n        var type;\n        if (coordinate.isRect) {\n            var start = void 0;\n            var end = void 0;\n            if (coordinate.isTransposed) {\n                start = {\n                    x: point.x,\n                    y: coordinate.end.y,\n                };\n                end = {\n                    x: point.x,\n                    y: coordinate.start.y,\n                };\n            }\n            else {\n                start = {\n                    x: coordinate.start.x,\n                    y: point.y,\n                };\n                end = {\n                    x: coordinate.end.x,\n                    y: point.y,\n                };\n            }\n            cfg = {\n                start: start,\n                end: end,\n            };\n            type = 'Line';\n        }\n        else {\n            // 极坐标下 y 轴上的 crosshairs 表现为圆弧\n            cfg = {\n                center: coordinate.getCenter(),\n                // @ts-ignore\n                radius: coordinate_1.getDistanceToCenter(coordinate, point),\n                startAngle: coordinate.startAngle,\n                endAngle: coordinate.endAngle,\n            };\n            type = 'Circle';\n        }\n        cfg = util_1.deepMix({\n            container: this.getTooltipCrosshairsGroup(),\n        }, cfg, util_1.get(tooltipCfg, 'crosshairs', {}), this.getCrosshairsText('y', point, tooltipCfg));\n        delete cfg.type; // 与 Crosshairs 组件的 type 冲突故删除\n        var yCrosshair = this.yCrosshair;\n        if (yCrosshair) {\n            // 如果坐标系发生直角坐标系与极坐标的切换操作\n            if ((coordinate.isRect && yCrosshair.get('type') === 'circle') ||\n                (!coordinate.isRect && yCrosshair.get('type') === 'line')) {\n                yCrosshair = new dependents_1.Crosshair[type](cfg);\n                yCrosshair.init();\n            }\n            else {\n                yCrosshair.update(cfg);\n            }\n        }\n        else {\n            yCrosshair = new dependents_1.Crosshair[type](cfg);\n            yCrosshair.init();\n        }\n        yCrosshair.render();\n        yCrosshair.show();\n        this.yCrosshair = yCrosshair;\n    };\n    Tooltip.prototype.getCrosshairsText = function (type, point, tooltipCfg) {\n        var textCfg = util_1.get(tooltipCfg, ['crosshairs', 'text']);\n        var follow = util_1.get(tooltipCfg, ['crosshairs', 'follow']);\n        var items = this.items;\n        if (textCfg) {\n            var view = this.getViewWithGeometry(this.view);\n            // 需要展示文本\n            var firstItem = items[0];\n            var xScale = view.getXScale();\n            var yScale = view.getYScales()[0];\n            var xValue = void 0;\n            var yValue = void 0;\n            if (follow) {\n                // 如果需要跟随鼠标移动，就需要将当前鼠标坐标点转换为对应的数值\n                var invertPoint = this.view.getCoordinate().invert(point);\n                xValue = xScale.invert(invertPoint.x); // 转换为原始值\n                yValue = yScale.invert(invertPoint.y); // 转换为原始值\n            }\n            else {\n                xValue = firstItem.data[xScale.field];\n                yValue = firstItem.data[yScale.field];\n            }\n            var content = type === 'x' ? xValue : yValue;\n            if (util_1.isFunction(textCfg)) {\n                textCfg = textCfg(type, content, items, point);\n            }\n            else {\n                textCfg.content = content;\n            }\n            return {\n                text: textCfg,\n            };\n        }\n    };\n    // 获取存储 tooltipMarkers 和 crosshairs 的容器\n    Tooltip.prototype.getGuideGroup = function () {\n        if (!this.guideGroup) {\n            var foregroundGroup = this.view.foregroundGroup;\n            this.guideGroup = foregroundGroup.addGroup({\n                name: 'tooltipGuide',\n                capture: false,\n            });\n        }\n        return this.guideGroup;\n    };\n    // 获取 tooltipMarkers 存储的容器\n    Tooltip.prototype.getTooltipMarkersGroup = function () {\n        var tooltipMarkersGroup = this.tooltipMarkersGroup;\n        if (tooltipMarkersGroup && !tooltipMarkersGroup.destroyed) {\n            tooltipMarkersGroup.clear();\n            tooltipMarkersGroup.show();\n        }\n        else {\n            tooltipMarkersGroup = this.getGuideGroup().addGroup({\n                name: 'tooltipMarkersGroup',\n            });\n            tooltipMarkersGroup.toFront();\n            this.tooltipMarkersGroup = tooltipMarkersGroup;\n        }\n        return tooltipMarkersGroup;\n    };\n    // 获取 tooltip crosshairs 存储的容器\n    Tooltip.prototype.getTooltipCrosshairsGroup = function () {\n        var tooltipCrosshairsGroup = this.tooltipCrosshairsGroup;\n        if (!tooltipCrosshairsGroup) {\n            tooltipCrosshairsGroup = this.getGuideGroup().addGroup({\n                name: 'tooltipCrosshairsGroup',\n                capture: false,\n            });\n            tooltipCrosshairsGroup.toBack();\n            this.tooltipCrosshairsGroup = tooltipCrosshairsGroup;\n        }\n        return tooltipCrosshairsGroup;\n    };\n    Tooltip.prototype.getTooltipItemsByHitShape = function (geometry, point, title) {\n        var result = [];\n        var container = geometry.container;\n        var shape = container.getShape(point.x, point.y);\n        if (shape && shape.get('visible') && shape.get('origin')) {\n            var mappingData = shape.get('origin').mappingData;\n            var items = tooltip_1.getTooltipItems(mappingData, geometry, title);\n            if (items.length) {\n                result.push(items);\n            }\n        }\n        return result;\n    };\n    Tooltip.prototype.getTooltipItemsByFindData = function (geometry, point, title) {\n        var result = [];\n        var dataArray = geometry.dataArray;\n        geometry.sort(dataArray); // 先进行排序，便于 tooltip 查找\n        for (var _i = 0, dataArray_1 = dataArray; _i < dataArray_1.length; _i++) {\n            var data = dataArray_1[_i];\n            var record = tooltip_1.findDataByPoint(point, data, geometry);\n            if (record) {\n                var elementId = geometry.getElementId(record);\n                var element = geometry.elementsMap[elementId];\n                if (geometry.type === 'heatmap' || element.visible) {\n                    // Heatmap 没有 Element\n                    // 如果图形元素隐藏了，怎不再 tooltip 上展示相关数据\n                    var items = tooltip_1.getTooltipItems(record, geometry, title);\n                    if (items.length) {\n                        result.push(items);\n                    }\n                }\n            }\n        }\n        return result;\n    };\n    Tooltip.prototype.findItemsFromView = function (view, point) {\n        if (view.getOptions().tooltip === false) {\n            // 如果 view 关闭了 tooltip\n            return [];\n        }\n        var result = [];\n        // 先从 view 本身查找\n        var geometries = view.geometries;\n        var _a = this.getTooltipCfg(), shared = _a.shared, title = _a.title;\n        for (var _i = 0, geometries_1 = geometries; _i < geometries_1.length; _i++) {\n            var geometry = geometries_1[_i];\n            if (geometry.visible && geometry.tooltipOption !== false) {\n                // geometry 可见同时未关闭 tooltip\n                var geometryType = geometry.type;\n                var tooltipItems = void 0;\n                if (['point', 'edge', 'polygon'].includes(geometryType)) {\n                    // 始终通过图形拾取\n                    tooltipItems = this.getTooltipItemsByHitShape(geometry, point, title);\n                }\n                else if (['area', 'line', 'path', 'heatmap'].includes(geometryType)) {\n                    // 如果是 'area', 'line', 'path'，始终通过数据查找方法查找 tooltip\n                    tooltipItems = this.getTooltipItemsByFindData(geometry, point, title);\n                }\n                else {\n                    if (shared !== false) {\n                        tooltipItems = this.getTooltipItemsByFindData(geometry, point, title);\n                    }\n                    else {\n                        tooltipItems = this.getTooltipItemsByHitShape(geometry, point, title);\n                    }\n                }\n                if (tooltipItems.length) {\n                    // geometry 有可能会有多个 item，因为用户可以设置 geometry.tooltip('x*y*z')\n                    result.push(tooltipItems);\n                }\n            }\n        }\n        // 递归查找，并合并结果\n        for (var _b = 0, _c = view.views; _b < _c.length; _b++) {\n            var childView = _c[_b];\n            result = result.concat(this.findItemsFromView(childView, point));\n        }\n        return result;\n    };\n    // FIXME: hack 方法\n    // 因为 tooltip 的交互是挂载在 Chart 上，所以当chart 上没有绘制 Geometry 的时候，就查找不到数据，并且绘图区域同子 View 的区域不同\n    Tooltip.prototype.getViewWithGeometry = function (view) {\n        var _this = this;\n        if (view.geometries.length) {\n            return view;\n        }\n        return util_1.find(view.views, function (childView) { return _this.getViewWithGeometry(childView); });\n    };\n    return Tooltip;\n}(base_1.Controller));\nexports.default = Tooltip;\n//# sourceMappingURL=tooltip.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getCustomLegendItems = exports.getLegendItems = exports.getLegendLayout = void 0;\nvar util_1 = require(\"@antv/util\");\nvar constant_1 = require(\"../constant\");\nvar attr_1 = require(\"./attr\");\nvar marker_1 = require(\"./marker\");\nfunction setMarkerSymbol(marker) {\n    var symbol = marker.symbol;\n    if (util_1.isString(symbol) && marker_1.MarkerSymbols[symbol]) {\n        marker.symbol = marker_1.MarkerSymbols[symbol];\n    }\n}\n/**\n * @ignore\n * get the legend layout from direction\n * @param direction\n * @returns layout 'horizontal' | 'vertical'\n */\nfunction getLegendLayout(direction) {\n    return direction.startsWith(constant_1.DIRECTION.LEFT) || direction.startsWith(constant_1.DIRECTION.RIGHT) ? 'vertical' : 'horizontal';\n}\nexports.getLegendLayout = getLegendLayout;\n/**\n * @ignore\n * get the legend items\n * @param view\n * @param geometry\n * @param attr\n * @param themeMarker\n * @param userMarker\n * @returns legend items\n */\nfunction getLegendItems(view, geometry, attr, themeMarker, userMarker) {\n    var scale = attr.getScale(attr.type);\n    if (scale.isCategory) {\n        var field_1 = scale.field;\n        var colorAttr_1 = geometry.getAttribute('color');\n        var shapeAttr_1 = geometry.getAttribute('shape');\n        var defaultColor_1 = view.getTheme().defaultColor;\n        var isInPolar_1 = geometry.coordinate.isPolar;\n        return scale.getTicks().map(function (tick) {\n            var _a;\n            var text = tick.text, scaleValue = tick.value;\n            var name = text;\n            var value = scale.invert(scaleValue);\n            // 通过过滤图例项的数据，来看是否 unchecked\n            var unchecked = view.filterFieldData(field_1, [(_a = {}, _a[field_1] = value, _a)]).length === 0;\n            util_1.each(view.views, function (subView) {\n                var _a;\n                if (!subView.filterFieldData(field_1, [(_a = {}, _a[field_1] = value, _a)]).length) {\n                    unchecked = true;\n                }\n            });\n            // @ts-ignore\n            var color = attr_1.getMappingValue(colorAttr_1, value, defaultColor_1);\n            var shape = attr_1.getMappingValue(shapeAttr_1, value, 'point');\n            var marker = geometry.getShapeMarker(shape, {\n                color: color,\n                isInPolar: isInPolar_1,\n            });\n            // the marker configure order should be ensure\n            marker = util_1.deepMix({}, themeMarker, marker, userMarker);\n            setMarkerSymbol(marker);\n            return { id: value, name: name, value: value, marker: marker, unchecked: unchecked };\n        });\n    }\n    return [];\n}\nexports.getLegendItems = getLegendItems;\n/**\n * @ignore\n * custom legend 的 items 获取\n * @param themeMarker\n * @param userMarker\n * @param customItems\n */\nfunction getCustomLegendItems(themeMarker, userMarker, customItems) {\n    // 如果有自定义的 item，那么就直接使用，并合并主题的 marker 配置\n    return customItems.map(function (item) {\n        var marker = util_1.deepMix({}, themeMarker, userMarker, item.marker);\n        setMarkerSymbol(marker);\n        item.marker = marker;\n        return item;\n    });\n}\nexports.getCustomLegendItems = getCustomLegendItems;\n//# sourceMappingURL=legend.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar G2Plot = __importStar(require(\"@antv/g2plot\"));\r\ndocument.body.style.background = 'rgb(240,242,245)';\r\nvar dom = document.createElement('div');\r\ndom.id = 'container';\r\ndom.style.height = '250px';\r\ndom.style.width = '40%';\r\ndom.style.position = 'absolute';\r\ndom.style.background = '#FFF';\r\ndom.style.padding = '24px';\r\ndocument.body.appendChild(dom);\r\nvar cdata2 = {\r\n    \"value\": 1.68,\r\n    \"unit\": \"秒\",\r\n    \"series\": [\r\n        {\r\n            \"name\": \"DNS\",\r\n            \"data\": [\r\n                {\r\n                    \"name\": \"wgz\",\r\n                    \"value\": 16\r\n                },\r\n                {\r\n                    \"name\": \"wgz2\",\r\n                    \"value\": 6\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n};\r\nvar data = [\r\n    { year: '1991', value: 30 },\r\n    { year: '1992', value: 40 },\r\n    { year: '1993', value: 30.5 },\r\n    { year: '1994', value: 50 },\r\n    { year: '1995', value: 40.9 },\r\n    { year: '1996', value: 60 },\r\n    { year: '1997', value: 70 },\r\n    { year: '1998', value: 90 },\r\n    { year: '1999', value: 130 },\r\n];\r\nvar linePlot = new G2Plot.Area('container', {\r\n    data: data,\r\n    xField: 'year',\r\n    yField: 'value',\r\n    theme: 'dark',\r\n    yAxis: {\r\n    // label:{\r\n    //     formatter:(v)=>{\r\n    //         // return v +'%'; //Y轴加单位\r\n    //     }\r\n    // }\r\n    },\r\n    line: {\r\n        size: 2,\r\n        color: '#5B8FF9',\r\n    },\r\n    point: {\r\n        size: 4,\r\n        shape: 'circle',\r\n        color: '#5B8FF9',\r\n        style: {\r\n            stroke: '#FFF',\r\n            lineWidth: 1\r\n        }\r\n    },\r\n    areaStyle: {\r\n        fill: 'l(270) 0:#ffffff  1:#5B8FF9',\r\n    },\r\n    meta: {\r\n        value: {\r\n            alias: '数据占比',\r\n        }\r\n    }\r\n});\r\nlinePlot.render();\r\n////////////////////////\r\nvar dom2 = document.createElement('div');\r\ndom2.id = 'container2';\r\ndom2.style.height = '250px';\r\ndom2.style.width = '40%';\r\ndom2.style.position = 'absolute';\r\ndom2.style.background = '#FFF';\r\ndom2.style.padding = '24px';\r\ndom2.style.marginLeft = '45%';\r\ndocument.body.appendChild(dom2);\r\nvar data2 = [\r\n    { name: '2018年1月', value: 23, type: \"数据占比\" },\r\n    { name: '2018年2月', value: 25, type: \"数据占比\" },\r\n    { name: '2018年3月', value: 20, type: \"数据占比\" },\r\n    { name: '2018年4月', value: 30, type: \"数据占比\" },\r\n    { name: '2018年5月', value: 40, type: \"数据占比\" },\r\n    { name: '2018年6月', value: 42, type: \"数据占比\" },\r\n    { name: '2018年7月', value: 58, type: \"数据占比\" },\r\n    { name: '2018年1月', value: 40, type: \"启动时间\" },\r\n    { name: '2018年2月', value: 35, type: \"启动时间\" },\r\n    { name: '2018年3月', value: 25, type: \"启动时间\" },\r\n    { name: '2018年4月', value: 36, type: \"启动时间\" },\r\n    { name: '2018年5月', value: 35, type: \"启动时间\" },\r\n    { name: '2018年6月', value: 38, type: \"启动时间\" },\r\n    { name: '2018年7月', value: 68, type: \"启动时间\" },\r\n];\r\nvar datar = [];\r\nfor (var i = 0; i < 7; i++) {\r\n    for (var j = 0; j < 10; j++) {\r\n        datar.push({\r\n            name: '2020.' + j,\r\n            value: Math.round(4 * j + Math.random() * 50),\r\n            type: '图例' + i\r\n        });\r\n    }\r\n}\r\n// line area  Column 柱状图\r\n// bar 条形图 x轴 和 Y轴 不一样\r\nvar linePlot2 = new G2Plot.Column('container2', {\r\n    data: datar,\r\n    xField: 'name',\r\n    yField: 'value',\r\n    seriesField: 'type',\r\n    isStack: true,\r\n    theme: 'dark',\r\n    // smooth:true,\r\n    // line:{      \r\n    // },\r\n    legend: {\r\n        position: \"right-top\",\r\n    },\r\n    xAxis: {\r\n        label: {\r\n            formatter: function (v) {\r\n                if (v == '时间戳') {\r\n                    return v + '%'; //x轴转换为时间\r\n                }\r\n                else {\r\n                    return v + \"--\";\r\n                }\r\n            }\r\n        }\r\n    },\r\n});\r\nlinePlot2.render();\r\n","export var version = '2.0.4';\n// G2 自定义能力透出\nimport * as G2 from '@antv/g2';\nexport { G2 };\n/** G2Plot 的 Plot 基类 */\nexport { Plot } from './core/plot';\n// 类型定义导出\nexport * from './types';\n// 折线图及类型定义 | author by [hustcc](https://github.com/hustcc)\nexport { Line } from './plots/line';\n// 面积图及类型定义 | author by [hustcc](https://github.com/hustcc)\nexport { Area } from './plots/area';\n// 柱形图及类型定义 | author by [zqlu](https://github.com/zqlu)\nexport { Column } from './plots/column';\n// 条形图及类型定义 | author by [BBSQQ](https://github.com/BBSQQ)\nexport { Bar } from './plots/bar';\n// 饼图及类型定义 | author by [Me-Momo](https://github.com/Me-Momo)\nexport { Pie } from './plots/pie';\n// 玫瑰图及类型定义 | author by [zhangzhonghe](https://github.com/zhangzhonghe)\nexport { Rose } from './plots/rose';\n// 词云图及类型定义 | author by [zhangzhonghe](https://github.com/zhangzhonghe)\nexport { WordCloud } from './plots/word-cloud';\n// 散点图及类型定义 | author by [lxfu1](https://github.com/lxfu1)\nexport { Scatter } from './plots/scatter';\n// 雷达图及类型定义 | author by [Me-Momo](https://github.com/Me-Momo)\nexport { Radar } from './plots/radar';\n// 混合图形 | author by [liuzhenying](https://github.com/liuzhenying)\nexport { DualAxes } from './plots/dual-axes';\n// 迷你折线图及类型定义 | author by [connono](https://github.com/connono)\nexport { TinyLine } from './plots/tiny-line';\n// 迷你柱形图及类型定义 | author by [connono](https://github.com/connono)\nexport { TinyColumn } from './plots/tiny-column';\n// 迷你面积图及类型定义 | author by [connono](https://github.com/connono)\nexport { TinyArea } from './plots/tiny-area';\n// 直方图及类型定义 | author by [arcsin1](https://github.com/arcsin1)\nexport { Histogram } from './plots/histogram';\n// 进度图及类型定义 | author by [connono](https://github.com/connono)\nexport { Progress } from './plots/progress';\n// 环形进度图及类型定义 | author by [connono](https://github.com/connono)\nexport { RingProgress } from './plots/ring-progress';\n// 热力图及类型定义 | author by [jiazhewang](https://github.com/jiazhewang)\nexport { Heatmap } from './plots/heatmap';\n// 箱线图及类型定义 | author by [BBSQQ](https://github.com/BBSQQ)\nexport { Box } from './plots/box';\n// K线图及类型定义 | author by [jhwong](https://github.com/jinhuiWong)\nexport { Stock } from './plots/stock';\n// 漏斗图及类型定义\nexport { Funnel } from './plots/funnel';\n// 水波图及类型定义 | author by [CarisL](https://github.com/CarisL), [hustcc](https://github.com/hustcc)\nexport { Liquid } from './plots/liquid';\n// 子弹图及类型定义 | author by [arcsin1](https://github.com/arcsin1)\nexport { Bullet } from './plots/bullet';\n// 旭日图及类型定义 | author by [lxfu1](https://github.com/lxfu1)\nexport { Sunburst } from './plots/sunburst';\n// 仪表盘及类型定义 | author by [hustcc](https://github.com/hustcc)\nexport { Gauge } from './plots/gauge';\n// 瀑布图 | author by [hustcc](https://github.com/me-momo)\nexport { Waterfall } from './plots/waterfall';\n// 以下开放自定义图表开发的能力（目前仅仅是孵化中）\n/** 所有开放图表都使用 G2Plot.P 作为入口开发，理论上官方的所有图表都可以走 G2Plot.P 的入口（暂时不处理） */\nexport { P } from './plugin';\n/** 开发 adaptor 可能会用到 flow 方法，不强制使用 */\nexport { flow } from './utils';\n/** 各个 geometry 的 adaptor，可以让开发者更快的构造图形 */\nexport { line, interval, area, point, polygon } from './adaptor/geometries';\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getMethod = exports.register = void 0;\nvar cache = new Map();\n/**\n * 注册计算包围盒的算法\n * @param type 方法名\n * @param method 方法\n */\nfunction register(type, method) {\n    cache.set(type, method);\n}\nexports.register = register;\n/**\n * 获取计算包围盒的算法\n * @param type 方法名\n */\nfunction getMethod(type) {\n    return cache.get(type);\n}\nexports.getMethod = getMethod;\n//# sourceMappingURL=register.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction default_1(shape) {\n    var attrs = shape.attr();\n    var x = attrs.x, y = attrs.y, width = attrs.width, height = attrs.height;\n    return {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=rect.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction default_1(shape) {\n    var _a = shape.attr(), x = _a.x, y = _a.y, r = _a.r;\n    return {\n        x: x - r,\n        y: y - r,\n        width: r * 2,\n        height: r * 2,\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=circle.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"@antv/g-math/lib/util\");\nvar util_2 = require(\"./util\");\nfunction default_1(shape) {\n    var attrs = shape.attr();\n    var points = attrs.points;\n    var xArr = [];\n    var yArr = [];\n    for (var i = 0; i < points.length; i++) {\n        var point = points[i];\n        xArr.push(point[0]);\n        yArr.push(point[1]);\n    }\n    var _a = util_1.getBBoxByArray(xArr, yArr), x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n    var bbox = {\n        minX: x,\n        minY: y,\n        maxX: x + width,\n        maxY: y + height,\n    };\n    bbox = util_2.mergeArrowBBox(shape, bbox);\n    return {\n        x: bbox.minX,\n        y: bbox.minY,\n        width: bbox.maxX - bbox.minX,\n        height: bbox.maxY - bbox.minY,\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=polyline.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"@antv/g-math/lib/util\");\nfunction default_1(shape) {\n    var attrs = shape.attr();\n    var points = attrs.points;\n    var xArr = [];\n    var yArr = [];\n    for (var i = 0; i < points.length; i++) {\n        var point = points[i];\n        xArr.push(point[0]);\n        yArr.push(point[1]);\n    }\n    return util_1.getBBoxByArray(xArr, yArr);\n}\nexports.default = default_1;\n//# sourceMappingURL=polygon.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar text_1 = require(\"../util/text\");\nfunction default_1(shape) {\n    var attrs = shape.attr();\n    var x = attrs.x, y = attrs.y, text = attrs.text, fontSize = attrs.fontSize, lineHeight = attrs.lineHeight;\n    var font = attrs.font;\n    if (!font) {\n        // 如果未组装 font\n        font = text_1.assembleFont(attrs);\n    }\n    var width = text_1.getTextWidth(text, font);\n    var bbox;\n    if (!width) {\n        // 如果width不存在，四点共其实点\n        bbox = {\n            x: x,\n            y: y,\n            width: 0,\n            height: 0,\n        };\n    }\n    else {\n        var textAlign = attrs.textAlign, textBaseline = attrs.textBaseline;\n        var height = text_1.getTextHeight(text, fontSize, lineHeight); // attrs.height\n        // 默认左右对齐：left, 默认上下对齐 bottom\n        var point = {\n            x: x,\n            y: y - height,\n        };\n        if (textAlign) {\n            if (textAlign === 'end' || textAlign === 'right') {\n                point.x -= width;\n            }\n            else if (textAlign === 'center') {\n                point.x -= width / 2;\n            }\n        }\n        if (textBaseline) {\n            if (textBaseline === 'top') {\n                point.y += height;\n            }\n            else if (textBaseline === 'middle') {\n                point.y += height / 2;\n            }\n        }\n        bbox = {\n            x: point.x,\n            y: point.y,\n            width: width,\n            height: height,\n        };\n    }\n    return bbox;\n}\nexports.default = default_1;\n//# sourceMappingURL=text.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar quadratic_1 = require(\"@antv/g-math/lib/quadratic\");\nvar cubic_1 = require(\"@antv/g-math/lib/cubic\");\nvar arc_1 = require(\"@antv/g-math/lib/arc\");\nvar path_2_segments_1 = require(\"@antv/path-util/lib/path-2-segments\");\nvar is_number_equal_1 = require(\"@antv/util/lib/is-number-equal\");\nvar util_1 = require(\"./util\");\nfunction getPathBox(segments, lineWidth) {\n    var xArr = [];\n    var yArr = [];\n    var segmentsWithAngle = [];\n    for (var i = 0; i < segments.length; i++) {\n        var segment = segments[i];\n        var currentPoint = segment.currentPoint, params = segment.params, prePoint = segment.prePoint;\n        var box = void 0;\n        switch (segment.command) {\n            case 'Q':\n                box = quadratic_1.default.box(prePoint[0], prePoint[1], params[1], params[2], params[3], params[4]);\n                break;\n            case 'C':\n                box = cubic_1.default.box(prePoint[0], prePoint[1], params[1], params[2], params[3], params[4], params[5], params[6]);\n                break;\n            case 'A':\n                var arcParams = segment.arcParams;\n                box = arc_1.default.box(arcParams.cx, arcParams.cy, arcParams.rx, arcParams.ry, arcParams.xRotation, arcParams.startAngle, arcParams.endAngle);\n                break;\n            default:\n                xArr.push(currentPoint[0]);\n                yArr.push(currentPoint[1]);\n                break;\n        }\n        if (box) {\n            segment.box = box;\n            xArr.push(box.x, box.x + box.width);\n            yArr.push(box.y, box.y + box.height);\n        }\n        if (lineWidth && (segment.command === 'L' || segment.command === 'M') && segment.prePoint && segment.nextPoint) {\n            segmentsWithAngle.push(segment);\n        }\n    }\n    // bbox calculation should ignore NaN for path attribute\n    // ref: https://github.com/antvis/g/issues/210\n    xArr = xArr.filter(function (item) { return !Number.isNaN(item); });\n    yArr = yArr.filter(function (item) { return !Number.isNaN(item); });\n    var minX = Math.min.apply(null, xArr);\n    var minY = Math.min.apply(null, yArr);\n    var maxX = Math.max.apply(null, xArr);\n    var maxY = Math.max.apply(null, yArr);\n    if (segmentsWithAngle.length === 0) {\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n    for (var i = 0; i < segmentsWithAngle.length; i++) {\n        var segment = segmentsWithAngle[i];\n        var currentPoint = segment.currentPoint;\n        var extra = void 0;\n        if (currentPoint[0] === minX) {\n            extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n            minX = minX - extra.xExtra;\n        }\n        else if (currentPoint[0] === maxX) {\n            extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n            maxX = maxX + extra.xExtra;\n        }\n        if (currentPoint[1] === minY) {\n            extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n            minY = minY - extra.yExtra;\n        }\n        else if (currentPoint[1] === maxY) {\n            extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n            maxY = maxY + extra.yExtra;\n        }\n    }\n    return {\n        x: minX,\n        y: minY,\n        width: maxX - minX,\n        height: maxY - minY,\n    };\n}\nfunction getExtraFromSegmentWithAngle(segment, lineWidth) {\n    var prePoint = segment.prePoint, currentPoint = segment.currentPoint, nextPoint = segment.nextPoint;\n    var currentAndPre = Math.pow(currentPoint[0] - prePoint[0], 2) + Math.pow(currentPoint[1] - prePoint[1], 2);\n    var currentAndNext = Math.pow(currentPoint[0] - nextPoint[0], 2) + Math.pow(currentPoint[1] - nextPoint[1], 2);\n    var preAndNext = Math.pow(prePoint[0] - nextPoint[0], 2) + Math.pow(prePoint[1] - nextPoint[1], 2);\n    // 以 currentPoint 为顶点的夹角\n    var currentAngle = Math.acos((currentAndPre + currentAndNext - preAndNext) / (2 * Math.sqrt(currentAndPre) * Math.sqrt(currentAndNext)));\n    // 夹角为空、 0 或 PI 时，不需要计算夹角处的额外宽度\n    // 注意: 由于计算精度问题，夹角为 0 的情况计算出来的角度可能是一个很小的值，还需要判断其与 0 是否近似相等\n    if (!currentAngle || Math.sin(currentAngle) === 0 || is_number_equal_1.default(currentAngle, 0)) {\n        return {\n            xExtra: 0,\n            yExtra: 0,\n        };\n    }\n    var xAngle = Math.abs(Math.atan2(nextPoint[1] - currentPoint[1], nextPoint[0] - currentPoint[0]));\n    var yAngle = Math.abs(Math.atan2(nextPoint[0] - currentPoint[0], nextPoint[1] - currentPoint[1]));\n    // 将夹角转为锐角\n    xAngle = xAngle > Math.PI / 2 ? Math.PI - xAngle : xAngle;\n    yAngle = yAngle > Math.PI / 2 ? Math.PI - yAngle : yAngle;\n    // 这里不考虑在水平和垂直方向的投影，直接使用最大差值\n    // 由于上层统一加减了二分之一线宽，这里需要进行弥补\n    var extra = {\n        // 水平方向投影\n        xExtra: Math.cos(currentAngle / 2 - xAngle) * ((lineWidth / 2) * (1 / Math.sin(currentAngle / 2))) - lineWidth / 2 || 0,\n        // 垂直方向投影\n        yExtra: Math.cos(yAngle - currentAngle / 2) * ((lineWidth / 2) * (1 / Math.sin(currentAngle / 2))) - lineWidth / 2 || 0,\n    };\n    return extra;\n}\nfunction default_1(shape) {\n    var attrs = shape.attr();\n    var path = attrs.path, stroke = attrs.stroke;\n    var lineWidth = stroke ? attrs.lineWidth : 0; // 只有有 stroke 时，lineWidth 才生效\n    var segments = shape.get('segments') || path_2_segments_1.default(path);\n    var _a = getPathBox(segments, lineWidth), x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n    var bbox = {\n        minX: x,\n        minY: y,\n        maxX: x + width,\n        maxY: y + height,\n    };\n    bbox = util_1.mergeArrowBBox(shape, bbox);\n    return {\n        x: bbox.minX,\n        y: bbox.minY,\n        width: bbox.maxX - bbox.minX,\n        height: bbox.maxY - bbox.minY,\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=path.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"./util\");\nfunction default_1(shape) {\n    var attrs = shape.attr();\n    var x1 = attrs.x1, y1 = attrs.y1, x2 = attrs.x2, y2 = attrs.y2;\n    var minX = Math.min(x1, x2);\n    var maxX = Math.max(x1, x2);\n    var minY = Math.min(y1, y2);\n    var maxY = Math.max(y1, y2);\n    var bbox = {\n        minX: minX,\n        maxX: maxX,\n        minY: minY,\n        maxY: maxY,\n    };\n    bbox = util_1.mergeArrowBBox(shape, bbox);\n    return {\n        x: bbox.minX,\n        y: bbox.minY,\n        width: bbox.maxX - bbox.minX,\n        height: bbox.maxY - bbox.minY,\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=line.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction default_1(shape) {\n    var attrs = shape.attr();\n    var x = attrs.x, y = attrs.y, rx = attrs.rx, ry = attrs.ry;\n    return {\n        x: x - rx,\n        y: y - ry,\n        width: rx * 2,\n        height: ry * 2,\n    };\n}\nexports.default = default_1;\n//# sourceMappingURL=ellipse.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isSamePoint = exports.mergeRegion = exports.intersectRect = exports.inBox = exports.distance = exports.getPixelRatio = void 0;\nfunction getPixelRatio() {\n    return window ? window.devicePixelRatio : 1;\n}\nexports.getPixelRatio = getPixelRatio;\n/**\n * 两点之间的距离\n * @param {number} x1 起始点 x\n * @param {number} y1 起始点 y\n * @param {number} x2 结束点 x\n * @param {number} y2 结束点 y\n */\nfunction distance(x1, y1, x2, y2) {\n    var dx = x1 - x2;\n    var dy = y1 - y2;\n    return Math.sqrt(dx * dx + dy * dy);\n}\nexports.distance = distance;\n/**\n * 是否在包围盒内\n * @param {number} minX   包围盒开始的点 x\n * @param {number} minY   包围盒开始的点 y\n * @param {number} width  宽度\n * @param {number} height 高度\n * @param {[type]} x      检测点的 x\n * @param {[type]} y      监测点的 y\n */\nfunction inBox(minX, minY, width, height, x, y) {\n    return x >= minX && x <= minX + width && y >= minY && y <= minY + height;\n}\nexports.inBox = inBox;\nfunction intersectRect(box1, box2) {\n    return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n}\nexports.intersectRect = intersectRect;\n// 合并两个区域\nfunction mergeRegion(region1, region2) {\n    if (!region1 || !region2) {\n        return region1 || region2;\n    }\n    return {\n        minX: Math.min(region1.minX, region2.minX),\n        minY: Math.min(region1.minY, region2.minY),\n        maxX: Math.max(region1.maxX, region2.maxX),\n        maxY: Math.max(region1.maxY, region2.maxY),\n    };\n}\nexports.mergeRegion = mergeRegion;\n/**\n * 判断两个点是否重合，点坐标的格式为 [x, y]\n * @param {Array} point1 第一个点\n * @param {Array} point2 第二个点\n */\nfunction isSamePoint(point1, point2) {\n    return point1[0] === point2[0] && point1[1] === point2[1];\n}\nexports.isSamePoint = isSamePoint;\nvar is_nil_1 = require(\"@antv/util/lib/is-nil\");\nObject.defineProperty(exports, \"isNil\", { enumerable: true, get: function () { return is_nil_1.default; } });\nvar is_string_1 = require(\"@antv/util/lib/is-string\");\nObject.defineProperty(exports, \"isString\", { enumerable: true, get: function () { return is_string_1.default; } });\nvar is_function_1 = require(\"@antv/util/lib/is-function\");\nObject.defineProperty(exports, \"isFunction\", { enumerable: true, get: function () { return is_function_1.default; } });\nvar is_array_1 = require(\"@antv/util/lib/is-array\");\nObject.defineProperty(exports, \"isArray\", { enumerable: true, get: function () { return is_array_1.default; } });\nvar each_1 = require(\"@antv/util/lib/each\");\nObject.defineProperty(exports, \"each\", { enumerable: true, get: function () { return each_1.default; } });\nvar to_radian_1 = require(\"@antv/util/lib/to-radian\");\nObject.defineProperty(exports, \"toRadian\", { enumerable: true, get: function () { return to_radian_1.default; } });\nvar mod_1 = require(\"@antv/util/lib/mod\");\nObject.defineProperty(exports, \"mod\", { enumerable: true, get: function () { return mod_1.default; } });\nvar is_number_equal_1 = require(\"@antv/util/lib/is-number-equal\");\nObject.defineProperty(exports, \"isNumberEqual\", { enumerable: true, get: function () { return is_number_equal_1.default; } });\nvar request_animation_frame_1 = require(\"@antv/util/lib/request-animation-frame\");\nObject.defineProperty(exports, \"requestAnimationFrame\", { enumerable: true, get: function () { return request_animation_frame_1.default; } });\nvar clear_animation_frame_1 = require(\"@antv/util/lib/clear-animation-frame\");\nObject.defineProperty(exports, \"clearAnimationFrame\", { enumerable: true, get: function () { return clear_animation_frame_1.default; } });\n//# sourceMappingURL=util.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeSensor = exports.getSensor = void 0;\n\nvar _id = _interopRequireDefault(require(\"./id\"));\n\nvar _sensors = require(\"./sensors\");\n\nvar _constant = require(\"./constant\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\n/**\n * all the sensor objects.\n * sensor pool\n */\nvar Sensors = {};\n/**\n * get one sensor\n * @param element\n * @returns {*}\n */\n\nvar getSensor = function getSensor(element) {\n  var sensorId = element.getAttribute(_constant.SizeSensorId); // 1. if the sensor exists, then use it\n\n  if (sensorId && Sensors[sensorId]) {\n    return Sensors[sensorId];\n  } // 2. not exist, then create one\n\n\n  var newId = (0, _id[\"default\"])();\n  element.setAttribute(_constant.SizeSensorId, newId);\n  var sensor = (0, _sensors.createSensor)(element); // add sensor into pool\n\n  Sensors[newId] = sensor;\n  return sensor;\n};\n/**\n * 移除 sensor\n * @param sensor\n */\n\n\nexports.getSensor = getSensor;\n\nvar removeSensor = function removeSensor(sensor) {\n  var sensorId = sensor.element.getAttribute(_constant.SizeSensorId); // remove attribute\n\n  sensor.element.removeAttribute(_constant.SizeSensorId); // remove event, dom of the sensor used\n\n  sensor.destroy(); // exist, then remove from pool\n\n  if (sensorId && Sensors[sensorId]) {\n    delete Sensors[sensorId];\n  }\n};\n\nexports.removeSensor = removeSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar id = 1;\n/**\n * generate unique id in application\n * @return {string}\n */\n\nvar _default = function _default() {\n  return \"\".concat(id++);\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _object = require(\"./object\");\n\nvar _resizeObserver = require(\"./resizeObserver\");\n\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\n\n/**\n * sensor strategies\n */\n// export const createSensor = createObjectSensor;\nvar createSensor = typeof ResizeObserver !== 'undefined' ? _resizeObserver.createSensor : _object.createSensor;\nexports.createSensor = createSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\n\nvar _constant = require(\"../constant\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar createSensor = function createSensor(element) {\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * create object DOM of sensor\n   * @returns {HTMLObjectElement}\n   */\n\n  var newSensor = function newSensor() {\n    // adjust style\n    if (getComputedStyle(element).position === 'static') {\n      element.style.position = 'relative';\n    }\n\n    var obj = document.createElement('object');\n\n    obj.onload = function () {\n      obj.contentDocument.defaultView.addEventListener('resize', resizeListener); // 直接触发一次 resize\n\n      resizeListener();\n    };\n\n    obj.style.display = 'block';\n    obj.style.position = 'absolute';\n    obj.style.top = '0';\n    obj.style.left = '0';\n    obj.style.height = '100%';\n    obj.style.width = '100%';\n    obj.style.overflow = 'hidden';\n    obj.style.pointerEvents = 'none';\n    obj.style.zIndex = '-1';\n    obj.style.opacity = '0';\n    obj.setAttribute('class', _constant.SensorClassName);\n    obj.setAttribute('tabindex', _constant.SensorTabIndex);\n    obj.type = 'text/html'; // append into dom\n\n    element.appendChild(obj); // for ie, should set data attribute delay, or will be white screen\n\n    obj.data = 'about:blank';\n    return obj;\n  };\n  /**\n   * trigger listeners\n   */\n\n\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all listener\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * listen with one callback function\n   * @param cb\n   */\n\n  var bind = function bind(cb) {\n    // if not exist sensor, then create one\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * destroy all\n   */\n\n\n  var destroy = function destroy() {\n    if (sensor && sensor.parentNode) {\n      if (sensor.contentDocument) {\n        // remote event\n        sensor.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n      } // remove dom\n\n\n      sensor.parentNode.removeChild(sensor); // initial variable\n\n      sensor = undefined;\n      listeners = [];\n    }\n  };\n  /**\n   * cancel listener bind\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // no listener, and sensor is exist\n    // then destroy the sensor\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n\nexports.createSensor = createSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\nvar createSensor = function createSensor(element) {\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * trigger listeners\n   */\n\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * create ResizeObserver sensor\n   * @returns\n   */\n\n  var newSensor = function newSensor() {\n    var s = new ResizeObserver(resizeListener); // listen element\n\n    s.observe(element); // trigger once\n\n    resizeListener();\n    return s;\n  };\n  /**\n   * listen with callback\n   * @param cb\n   */\n\n\n  var bind = function bind(cb) {\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * destroy\n   */\n\n\n  var destroy = function destroy() {\n    sensor.disconnect();\n    listeners = [];\n    sensor = undefined;\n  };\n  /**\n   * cancel bind\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // no listener, and sensor is exist\n    // then destroy the sensor\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n\nexports.createSensor = createSensor;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar util_1 = require(\"@antv/util\");\nvar register_1 = require(\"./action/register\");\nvar context_1 = tslib_1.__importDefault(require(\"./context\"));\nvar interaction_1 = tslib_1.__importDefault(require(\"./interaction\"));\n// 将字符串转换成 action\nfunction parseAction(actionStr, context) {\n    var arr = actionStr.split(':');\n    var actionName = arr[0];\n    // 如果已经初始化过 action ，则直接引用之前的 action\n    var action = context.getAction(actionName) || register_1.createAction(actionName, context);\n    if (!action) {\n        throw new Error(\"There is no action named \" + actionName);\n    }\n    var methodName = arr[1];\n    return {\n        action: action,\n        methodName: methodName,\n    };\n}\n// 执行 Action\nfunction executeAction(actionObject) {\n    var action = actionObject.action, methodName = actionObject.methodName;\n    if (action[methodName]) {\n        action[methodName]();\n    }\n    else {\n        throw new Error(\"Action(\" + action.name + \") doesn't have a method called \" + methodName);\n    }\n}\nvar STEP_NAMES = {\n    START: 'start',\n    SHOW_ENABLE: 'showEnable',\n    END: 'end',\n    ROLLBACK: 'rollback',\n    PROCESSING: 'processing',\n};\n/**\n * 支持语法的交互类\n */\nvar GrammarInteraction = /** @class */ (function (_super) {\n    tslib_1.__extends(GrammarInteraction, _super);\n    function GrammarInteraction(view, steps) {\n        var _this = _super.call(this, view, steps) || this;\n        _this.callbackCaches = {};\n        // 某个触发和反馈在本环节是否执行或\n        _this.emitCaches = {};\n        _this.steps = steps;\n        return _this;\n    }\n    /**\n     * 初始化\n     */\n    GrammarInteraction.prototype.init = function () {\n        this.initContext();\n        _super.prototype.init.call(this);\n    };\n    /**\n     * 清理资源\n     */\n    GrammarInteraction.prototype.destroy = function () {\n        _super.prototype.destroy.call(this); // 先清理事件\n        this.steps = null;\n        if (this.context) {\n            this.context.destroy();\n            this.context = null;\n        }\n        this.callbackCaches = null;\n        this.view = null;\n    };\n    /**\n     * 绑定事件\n     */\n    GrammarInteraction.prototype.initEvents = function () {\n        var _this = this;\n        util_1.each(this.steps, function (stepArr, stepName) {\n            util_1.each(stepArr, function (step) {\n                var callback = _this.getActionCallback(stepName, step);\n                if (callback) {\n                    // 如果存在 callback，才绑定，有时候会出现无 callback 的情况\n                    _this.bindEvent(step.trigger, callback);\n                }\n            });\n        });\n    };\n    /**\n     * 清理绑定的事件\n     */\n    GrammarInteraction.prototype.clearEvents = function () {\n        var _this = this;\n        util_1.each(this.steps, function (stepArr, stepName) {\n            util_1.each(stepArr, function (step) {\n                var callback = _this.getActionCallback(stepName, step);\n                if (callback) {\n                    _this.offEvent(step.trigger, callback);\n                }\n            });\n        });\n    };\n    // 初始化上下文，并初始化 action\n    GrammarInteraction.prototype.initContext = function () {\n        var view = this.view;\n        var context = new context_1.default(view);\n        this.context = context;\n        var steps = this.steps;\n        // 生成具体的 Action\n        util_1.each(steps, function (subSteps) {\n            util_1.each(subSteps, function (step) {\n                if (util_1.isFunction(step.action)) {\n                    // 如果传入回调函数，则直接生成 CallbackAction\n                    step.actionObject = {\n                        action: register_1.createCallbackAction(step.action, context),\n                        methodName: 'execute',\n                    };\n                }\n                else if (util_1.isString(step.action)) {\n                    // 如果是字符串\n                    step.actionObject = parseAction(step.action, context);\n                }\n                else if (util_1.isArray(step.action)) {\n                    // 如果是数组\n                    var actionArr = step.action;\n                    step.actionObject = [];\n                    util_1.each(actionArr, function (actionStr) {\n                        step.actionObject.push(parseAction(actionStr, context));\n                    });\n                }\n                // 如果 action 既不是字符串，也不是函数，则不会生成 actionObject\n            });\n        });\n    };\n    // 是否允许指定阶段名称执行\n    GrammarInteraction.prototype.isAllowStep = function (stepName) {\n        var currentStepName = this.currentStepName;\n        var steps = this.steps;\n        // 相同的阶段允许同时执行\n        if (currentStepName === stepName) {\n            return true;\n        }\n        if (stepName === STEP_NAMES.SHOW_ENABLE) {\n            // 示能在整个过程中都可用\n            return true;\n        }\n        if (stepName === STEP_NAMES.PROCESSING) {\n            // 只有当前是 start 时，才允许 processing\n            return currentStepName === STEP_NAMES.START;\n        }\n        if (stepName === STEP_NAMES.START) {\n            // 如果当前是 processing，则无法 start，必须等待 end 后才能执行\n            return currentStepName !== STEP_NAMES.PROCESSING;\n        }\n        if (stepName === STEP_NAMES.END) {\n            return currentStepName === STEP_NAMES.PROCESSING || currentStepName === STEP_NAMES.START;\n        }\n        if (stepName === STEP_NAMES.ROLLBACK) {\n            if (steps[STEP_NAMES.END]) {\n                // 如果定义了 end, 只有 end 时才允许回滚\n                return currentStepName === STEP_NAMES.END;\n            }\n            else if (currentStepName === STEP_NAMES.START) {\n                // 如果未定义 end, 则判断是否是开始\n                return true;\n            }\n        }\n        return false;\n    };\n    // 具体的指定阶段是否允许执行\n    GrammarInteraction.prototype.isAllowExecute = function (stepName, step) {\n        if (this.isAllowStep(stepName)) {\n            var key = this.getKey(stepName, step);\n            // 如果是在本环节内仅允许触发一次，同时已经触发过，则不允许再触发\n            if (step.once && this.emitCaches[key]) {\n                return false;\n            }\n            // 如果是允许的阶段，则验证 isEnable 方法\n            if (step.isEnable) {\n                return step.isEnable(this.context);\n            }\n            return true; // 如果没有 isEnable 则允许执行\n        }\n        return false;\n    };\n    GrammarInteraction.prototype.enterStep = function (stepName) {\n        this.currentStepName = stepName;\n        this.emitCaches = {}; // 清除所有本环节触发的缓存\n    };\n    // 执行完某个触发和反馈（子环节）\n    GrammarInteraction.prototype.afterExecute = function (stepName, step) {\n        // show enable 不计入正常的流程，其他情况则设置当前的 step\n        if (stepName !== STEP_NAMES.SHOW_ENABLE && this.currentStepName !== stepName) {\n            this.enterStep(stepName);\n        }\n        var key = this.getKey(stepName, step);\n        // 一旦执行，则缓存标记为，一直保持到跳出改环节\n        this.emitCaches[key] = true;\n    };\n    // 获取某个环节的唯一的键值\n    GrammarInteraction.prototype.getKey = function (stepName, step) {\n        return stepName + step.trigger + step.action;\n    };\n    // 获取 step 的回调函数，如果已经生成，则直接返回，如果未生成，则创建\n    GrammarInteraction.prototype.getActionCallback = function (stepName, step) {\n        var _this = this;\n        var context = this.context;\n        var callbackCaches = this.callbackCaches;\n        var actionObject = step.actionObject;\n        if (step.action && actionObject) {\n            var key = this.getKey(stepName, step);\n            if (!callbackCaches[key]) {\n                // 动态生成执行的方法，执行对应 action 的名称\n                var actionCallback = function (event) {\n                    context.event = event; // 保证检测时的 event\n                    if (_this.isAllowExecute(stepName, step)) {\n                        // 如果是数组时，则依次执行\n                        if (util_1.isArray(actionObject)) {\n                            util_1.each(actionObject, function (obj) {\n                                context.event = event; // 可能触发新的事件，保证执行前的 context.event 是正确的\n                                executeAction(obj);\n                            });\n                        }\n                        else {\n                            context.event = event; // 保证执行前的 context.event 是正确的\n                            executeAction(actionObject);\n                        }\n                        _this.afterExecute(stepName, step);\n                        if (step.callback) {\n                            context.event = event; // 保证执行前的 context.event 是正确的\n                            step.callback(context);\n                        }\n                    }\n                    else {\n                        // 如果未通过验证，则事件不要绑定在上面\n                        context.event = null;\n                    }\n                };\n                // 如果设置了 debounce\n                if (step.debounce) {\n                    callbackCaches[key] = util_1.debounce(actionCallback, step.debounce.wait, step.debounce.immediate);\n                }\n                else if (step.throttle) {\n                    // 设置 throttle\n                    callbackCaches[key] = util_1.throttle(actionCallback, step.throttle.wait, {\n                        leading: step.throttle.leading,\n                        trailing: step.throttle.trailing,\n                    });\n                }\n                else {\n                    // 直接设置\n                    callbackCaches[key] = actionCallback;\n                }\n            }\n            return callbackCaches[key];\n        }\n        return null;\n    };\n    GrammarInteraction.prototype.bindEvent = function (eventName, callback) {\n        var nameArr = eventName.split(':');\n        if (nameArr[0] === 'window') {\n            window.addEventListener(nameArr[1], callback);\n        }\n        else if (nameArr[0] === 'document') {\n            document.addEventListener(nameArr[1], callback);\n        }\n        else {\n            this.view.on(eventName, callback);\n        }\n    };\n    GrammarInteraction.prototype.offEvent = function (eventName, callback) {\n        var nameArr = eventName.split(':');\n        if (nameArr[0] === 'window') {\n            window.removeEventListener(nameArr[1], callback);\n        }\n        else if (nameArr[0] === 'document') {\n            document.removeEventListener(nameArr[1], callback);\n        }\n        else {\n            this.view.off(eventName, callback);\n        }\n    };\n    return GrammarInteraction;\n}(interaction_1.default));\nexports.default = GrammarInteraction;\n//# sourceMappingURL=grammar-interaction.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar base_1 = tslib_1.__importDefault(require(\"./base\"));\n/** 回调函数构建的 Action */\nvar CallbackAction = /** @class */ (function (_super) {\n    tslib_1.__extends(CallbackAction, _super);\n    function CallbackAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * 执行\n     */\n    CallbackAction.prototype.execute = function () {\n        if (this.callback) {\n            this.callback(this.context);\n        }\n    };\n    /**\n     * 销毁\n     */\n    CallbackAction.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.callback = null;\n    };\n    return CallbackAction;\n}(base_1.default));\nexports.default = CallbackAction;\n//# sourceMappingURL=callback.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"@antv/util\");\nvar util_2 = require(\"./action/util\");\n/**\n * 交互的上下文\n */\nvar Context = /** @class */ (function () {\n    function Context(view) {\n        /** 当前所有的 Action */\n        this.actions = [];\n        /** 当前事件对象 */\n        this.event = null;\n        this.cacheMap = {};\n        this.view = view;\n    }\n    /**\n     * 缓存信息\n     * @param params 缓存的字段\n     *  - 如果一个字段则获取缓存\n     *  - 两个字段则设置缓存\n     */\n    Context.prototype.cache = function () {\n        var params = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n        }\n        if (params.length === 1) {\n            return this.cacheMap[params[0]];\n        }\n        else if (params.length === 2) {\n            this.cacheMap[params[0]] = params[1];\n        }\n    };\n    /**\n     * 获取 Action\n     * @param name Action 的名称\n     */\n    Context.prototype.getAction = function (name) {\n        return this.actions.find(function (action) { return action.name === name; });\n    };\n    /**\n     * 获取 Action\n     * @param action Action 对象\n     */\n    Context.prototype.addAction = function (action) {\n        this.actions.push(action);\n    };\n    /**\n     * 移除 Action\n     * @param action Action 对象\n     */\n    Context.prototype.removeAction = function (action) {\n        var actions = this.actions;\n        var index = this.actions.indexOf(action);\n        if (index >= 0) {\n            actions.splice(index, 1);\n        }\n    };\n    /**\n     * 获取当前的点\n     */\n    Context.prototype.getCurrentPoint = function () {\n        var event = this.event;\n        if (event) {\n            if (event.target instanceof HTMLElement) {\n                var canvas = this.view.getCanvas();\n                var point = canvas.getPointByClient(event.clientX, event.clientY);\n                return point;\n            }\n            else {\n                return {\n                    x: event.x,\n                    y: event.y,\n                };\n            }\n        }\n        return null;\n    };\n    /**\n     * 获取当前 shape\n     * @returns current shape\n     */\n    Context.prototype.getCurrentShape = function () {\n        return util_1.get(this.event, ['gEvent', 'shape']);\n    };\n    /**\n     * 当前的触发是否在 View 内\n     */\n    Context.prototype.isInPlot = function () {\n        var point = this.getCurrentPoint();\n        if (point) {\n            return this.view.isPointInPlot(point);\n        }\n        return false;\n    };\n    /**\n     * 是否在指定的图形内\n     * @param name shape 的 name\n     */\n    Context.prototype.isInShape = function (name) {\n        var shape = this.getCurrentShape(); // 不再考虑在 shape 的 parent 内的情况\n        if (shape) {\n            return shape.get('name') === name;\n        }\n        return false;\n    };\n    /**\n     * 当前的触发是组件内部\n     * @param name 组件名，可以为空\n     */\n    Context.prototype.isInComponent = function (name) {\n        var components = util_2.getComponents(this.view);\n        var point = this.getCurrentPoint();\n        if (point) {\n            return !!components.find(function (component) {\n                var bbox = component.getBBox();\n                if (name) {\n                    return component.get('name') === name && util_2.isInBox(bbox, point);\n                }\n                else {\n                    return util_2.isInBox(bbox, point);\n                }\n            });\n        }\n        return false;\n    };\n    /**\n     * 销毁\n     */\n    Context.prototype.destroy = function () {\n        this.view = null;\n        this.event = null;\n        // 先销毁 action 再清空，一边遍历，一边删除，所以数组需要更新引用\n        util_1.each(this.actions.slice(), function (action) {\n            action.destroy();\n        });\n        this.actions = null;\n        this.cacheMap = null;\n    };\n    return Context;\n}());\nexports.default = Context;\n//# sourceMappingURL=context.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.convertPolarPath = exports.convertNormalPath = exports.getSplinePath = exports.getLinePath = exports.catmullRom2bezier = exports.smoothBezier = void 0;\nvar matrix_util_1 = require(\"@antv/matrix-util\");\nvar util_1 = require(\"@antv/util\");\nvar coordinate_1 = require(\"../../../util/coordinate\");\nfunction _points2path(points, isInCircle) {\n    var path = [];\n    if (points.length) {\n        path.push(['M', points[0].x, points[0].y]);\n        for (var i = 1, length_1 = points.length; i < length_1; i += 1) {\n            var item = points[i];\n            path.push(['L', item.x, item.y]);\n        }\n        if (isInCircle) {\n            path.push(['Z']);\n        }\n    }\n    return path;\n}\nfunction _convertArr(arr, coord) {\n    var tmp = [arr[0]];\n    for (var i = 1, len = arr.length; i < len; i = i + 2) {\n        var point = coord.convert({\n            x: arr[i],\n            y: arr[i + 1],\n        });\n        tmp.push(point.x, point.y);\n    }\n    return tmp;\n}\nfunction _convertPolarPath(pre, cur, coord) {\n    var isTransposed = coord.isTransposed, startAngle = coord.startAngle, endAngle = coord.endAngle;\n    var prePoint = {\n        x: pre[1],\n        y: pre[2],\n    };\n    var curPoint = {\n        x: cur[1],\n        y: cur[2],\n    };\n    var rst = [];\n    var xDim = isTransposed ? 'y' : 'x';\n    var angleRange = Math.abs(curPoint[xDim] - prePoint[xDim]) * (endAngle - startAngle);\n    var direction = curPoint[xDim] >= prePoint[xDim] ? 1 : 0; // 圆弧的方向\n    var flag = angleRange > Math.PI ? 1 : 0; // 大弧还是小弧标志位\n    var convertPoint = coord.convert(curPoint);\n    var r = coordinate_1.getDistanceToCenter(coord, convertPoint);\n    if (r >= 0.5) {\n        // 小于1像素的圆在图像上无法识别\n        if (angleRange === Math.PI * 2) {\n            var middlePoint = {\n                x: (curPoint.x + prePoint.x) / 2,\n                y: (curPoint.y + prePoint.y) / 2,\n            };\n            var middleConvertPoint = coord.convert(middlePoint);\n            rst.push(['A', r, r, 0, flag, direction, middleConvertPoint.x, middleConvertPoint.y]);\n            rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n        }\n        else {\n            rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n        }\n    }\n    return rst;\n}\n// 当存在整体的圆时，去除圆前面和后面的线，防止出现直线穿过整个圆的情形\nfunction _filterFullCirleLine(path) {\n    util_1.each(path, function (subPath, index) {\n        var cur = subPath;\n        if (cur[0].toLowerCase() === 'a') {\n            var pre = path[index - 1];\n            var next = path[index + 1];\n            if (next && next[0].toLowerCase() === 'a') {\n                if (pre && pre[0].toLowerCase() === 'l') {\n                    pre[0] = 'M';\n                }\n            }\n            else if (pre && pre[0].toLowerCase() === 'a') {\n                if (next && next[0].toLowerCase() === 'l') {\n                    next[0] = 'M';\n                }\n            }\n        }\n    });\n}\n/**\n * @ignore\n * 计算光滑的贝塞尔曲线\n */\nexports.smoothBezier = function (points, smooth, isLoop, constraint) {\n    var cps = [];\n    var prevPoint;\n    var nextPoint;\n    var hasConstraint = !!constraint;\n    var min;\n    var max;\n    if (hasConstraint) {\n        min = [Infinity, Infinity];\n        max = [-Infinity, -Infinity];\n        for (var i = 0, l = points.length; i < l; i++) {\n            var point = points[i];\n            min = matrix_util_1.vec2.min([0, 0], min, point);\n            max = matrix_util_1.vec2.max([0, 0], max, point);\n        }\n        min = matrix_util_1.vec2.min([0, 0], min, constraint[0]);\n        max = matrix_util_1.vec2.max([0, 0], max, constraint[1]);\n    }\n    for (var i = 0, len = points.length; i < len; i++) {\n        var point = points[i];\n        if (isLoop) {\n            prevPoint = points[i ? i - 1 : len - 1];\n            nextPoint = points[(i + 1) % len];\n        }\n        else {\n            if (i === 0 || i === len - 1) {\n                cps.push(point);\n                continue;\n            }\n            else {\n                prevPoint = points[i - 1];\n                nextPoint = points[i + 1];\n            }\n        }\n        var v = [0, 0];\n        v = matrix_util_1.vec2.sub(v, nextPoint, prevPoint);\n        v = matrix_util_1.vec2.scale(v, v, smooth);\n        var d0 = matrix_util_1.vec2.distance(point, prevPoint);\n        var d1 = matrix_util_1.vec2.distance(point, nextPoint);\n        var sum = d0 + d1;\n        if (sum !== 0) {\n            d0 /= sum;\n            d1 /= sum;\n        }\n        var v1 = matrix_util_1.vec2.scale([0, 0], v, -d0);\n        var v2 = matrix_util_1.vec2.scale([0, 0], v, d1);\n        var cp0 = matrix_util_1.vec2.add([0, 0], point, v1);\n        var cp1 = matrix_util_1.vec2.add([0, 0], point, v2);\n        if (hasConstraint) {\n            cp0 = matrix_util_1.vec2.max([0, 0], cp0, min);\n            cp0 = matrix_util_1.vec2.min([0, 0], cp0, max);\n            cp1 = matrix_util_1.vec2.max([0, 0], cp1, min);\n            cp1 = matrix_util_1.vec2.min([0, 0], cp1, max);\n        }\n        cps.push(cp0);\n        cps.push(cp1);\n    }\n    if (isLoop) {\n        cps.push(cps.shift());\n    }\n    return cps;\n};\n/**\n * @ignore\n * 贝塞尔曲线\n */\nfunction catmullRom2bezier(crp, z, constraint) {\n    var isLoop = !!z;\n    var pointList = [];\n    for (var i = 0, l = crp.length; i < l; i += 2) {\n        pointList.push([crp[i], crp[i + 1]]);\n    }\n    var controlPointList = exports.smoothBezier(pointList, 0.4, isLoop, constraint);\n    var len = pointList.length;\n    var d1 = [];\n    var cp1;\n    var cp2;\n    var p;\n    for (var i = 0; i < len - 1; i++) {\n        cp1 = controlPointList[i * 2];\n        cp2 = controlPointList[i * 2 + 1];\n        p = pointList[i + 1];\n        d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n    }\n    if (isLoop) {\n        cp1 = controlPointList[len];\n        cp2 = controlPointList[len + 1];\n        p = pointList[0];\n        d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n    }\n    return d1;\n}\nexports.catmullRom2bezier = catmullRom2bezier;\n/**\n * @ignore\n * 将点连接成路径 path\n */\nfunction getLinePath(points, isInCircle) {\n    return _points2path(points, isInCircle);\n}\nexports.getLinePath = getLinePath;\n/**\n * @ignore\n * 根据关键点获取限定了范围的平滑线\n */\nfunction getSplinePath(points, isInCircle, constaint) {\n    var data = [];\n    var first = points[0];\n    var prePoint = null;\n    if (points.length <= 2) {\n        // 两点以内直接绘制成路径\n        return getLinePath(points, isInCircle);\n    }\n    for (var i = 0, len = points.length; i < len; i++) {\n        var point = points[i];\n        if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n            data.push(point.x);\n            data.push(point.y);\n            prePoint = point;\n        }\n    }\n    var constraint = constaint || [\n        // 范围\n        [0, 0],\n        [1, 1],\n    ];\n    var splinePath = catmullRom2bezier(data, isInCircle, constraint);\n    splinePath.unshift(['M', first.x, first.y]);\n    return splinePath;\n}\nexports.getSplinePath = getSplinePath;\n/**\n * @ignore\n * 将归一化后的路径数据转换成坐标\n */\nfunction convertNormalPath(coord, path) {\n    var tmp = [];\n    util_1.each(path, function (subPath) {\n        var action = subPath[0];\n        switch (action.toLowerCase()) {\n            case 'm':\n            case 'l':\n            case 'c':\n                tmp.push(_convertArr(subPath, coord));\n                break;\n            case 'z':\n            default:\n                tmp.push(subPath);\n                break;\n        }\n    });\n    return tmp;\n}\nexports.convertNormalPath = convertNormalPath;\n/**\n * @ignore\n * 将路径转换为极坐标下的真实路径\n */\nfunction convertPolarPath(coord, path) {\n    var tmp = [];\n    var pre;\n    var cur;\n    var transposed;\n    var equals;\n    util_1.each(path, function (subPath, index) {\n        var action = subPath[0];\n        switch (action.toLowerCase()) {\n            case 'm':\n            case 'c':\n            case 'q':\n                tmp.push(_convertArr(subPath, coord));\n                break;\n            case 'l':\n                pre = path[index - 1];\n                cur = subPath;\n                transposed = coord.isTransposed;\n                // 是否半径相同，转换成圆弧\n                equals = transposed ? pre[pre.length - 2] === cur[1] : pre[pre.length - 1] === cur[2];\n                if (equals) {\n                    tmp = tmp.concat(_convertPolarPath(pre, cur, coord));\n                }\n                else {\n                    // y 不相等，所以直接转换\n                    tmp.push(_convertArr(subPath, coord));\n                }\n                break;\n            case 'z':\n            default:\n                tmp.push(subPath);\n                break;\n        }\n    });\n    _filterFullCirleLine(tmp); // 过滤多余的直线\n    return tmp;\n}\nexports.convertPolarPath = convertPolarPath;\n//# sourceMappingURL=path.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.uniq = exports.omit = exports.padEnd = exports.isBetween = void 0;\nvar util_1 = require(\"@antv/util\");\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nfunction isBetween(value, start, end) {\n    var min = Math.min(start, end);\n    var max = Math.max(start, end);\n    return value >= min && value <= max;\n}\nexports.isBetween = isBetween;\n/**\n * @ignore\n * pads the current string/array with a given value (repeated, if needed) so that the resulting reaches a given length.\n * The padding is applied from the end of the current value.\n *\n * @param source\n * @param targetLength\n * @param padValue\n * @returns\n */\nfunction padEnd(source, targetLength, padValue) {\n    if (util_1.isString(source)) {\n        return source.padEnd(targetLength, padValue);\n    }\n    else if (util_1.isArray(source)) {\n        var sourceLength = source.length;\n        if (sourceLength < targetLength) {\n            var diff = targetLength - sourceLength;\n            for (var i = 0; i < diff; i++) {\n                source.push(padValue);\n            }\n        }\n    }\n    return source;\n}\nexports.padEnd = padEnd;\n/**\n * @ignore\n * omit keys of an object.\n * @param obj\n * @param keys\n */\nfunction omit(obj, keys) {\n    keys.forEach(function (key) {\n        delete obj[key];\n    });\n    return obj;\n}\nexports.omit = omit;\n/**\n * @ignore\n * @param sourceArray\n * @param targetArray\n * @param map\n */\nfunction uniq(sourceArray, targetArray, map) {\n    if (targetArray === void 0) { targetArray = []; }\n    if (map === void 0) { map = {}; }\n    for (var _i = 0, sourceArray_1 = sourceArray; _i < sourceArray_1.length; _i++) {\n        var source = sourceArray_1[_i];\n        if (!map[source]) {\n            targetArray.push(source);\n            map[source] = true;\n        }\n    }\n    return targetArray;\n}\nexports.uniq = uniq;\n//# sourceMappingURL=helper.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar base_1 = require(\"./base\"); // 导出 Action 基类\nObject.defineProperty(exports, \"Action\", { enumerable: true, get: function () { return base_1.default; } });\nvar register_1 = require(\"./register\");\nObject.defineProperty(exports, \"createAction\", { enumerable: true, get: function () { return register_1.createAction; } });\nObject.defineProperty(exports, \"registerAction\", { enumerable: true, get: function () { return register_1.registerAction; } });\nObject.defineProperty(exports, \"getActionClass\", { enumerable: true, get: function () { return register_1.getActionClass; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getName = exports.syncScale = exports.createScaleByField = void 0;\nvar tslib_1 = require(\"tslib\");\nvar util_1 = require(\"@antv/util\");\nvar dependents_1 = require(\"../dependents\");\nvar dateRegex = /^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1(?:29|30)|(?:0?[13578]|1[02])\\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\\2(?:29))(\\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;\n/**\n * 获取字段对应数据的类型\n * @param field 数据字段名\n * @param data 数据源\n * @returns default type 返回对应的数据类型\n */\nfunction getDefaultType(value) {\n    var type = 'linear';\n    if (dateRegex.test(value)) {\n        type = 'time';\n    }\n    else if (util_1.isString(value)) {\n        type = 'cat';\n    }\n    return type;\n}\n/**\n * @ignore\n * 为指定的 `field` 字段数据创建 scale\n * @param field 字段名\n * @param [data] 数据集，可为空\n * @param [scaleDef] 列定义，可为空\n * @returns scale 返回创建的 Scale 实例\n */\nfunction createScaleByField(field, data, scaleDef) {\n    var validData = data || [];\n    if (util_1.isNumber(field) || (util_1.isNil(util_1.firstValue(validData, field)) && util_1.isEmpty(scaleDef))) {\n        var Identity = dependents_1.getScale('identity');\n        return new Identity({\n            field: field.toString(),\n            values: [field],\n        });\n    }\n    var values = util_1.valuesOfKey(validData, field);\n    // 如果已经定义过这个度量\n    var type = util_1.get(scaleDef, 'type', getDefaultType(values[0]));\n    var ScaleCtor = dependents_1.getScale(type);\n    return new ScaleCtor(tslib_1.__assign({ field: field,\n        values: values }, scaleDef));\n}\nexports.createScaleByField = createScaleByField;\n/**\n * @ignore\n * 同步 scale\n * @todo 是否可以通过 scale.update() 方法进行更新\n * @param scale 需要同步的 scale 实例\n * @param newScale 同步源 Scale\n */\nfunction syncScale(scale, newScale) {\n    if (scale.type !== 'identity' && newScale.type !== 'identity') {\n        var obj = {};\n        for (var k in newScale) {\n            if (Object.prototype.hasOwnProperty.call(newScale, k)) {\n                obj[k] = newScale[k];\n            }\n        }\n        scale.change(obj);\n    }\n}\nexports.syncScale = syncScale;\n/**\n * @ignore\n * get the scale name, if alias exist, return alias, or else field\n * @param scale\n * @returns the name of field\n */\nfunction getName(scale) {\n    return scale.alias || scale.field;\n}\nexports.getName = getName;\n//# sourceMappingURL=scale.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Controller = void 0;\nvar util_1 = require(\"@antv/util\");\n/**\n * Component Controller 规范需要定义的基类\n * 1. 规范的 option 输入\n * 2. 统一的信息获取 API\n * 3. 明确定义的组件事件（名称、数据）\n */\nvar Controller = /** @class */ (function () {\n    function Controller(view) {\n        /** 是否可见 */\n        this.visible = true;\n        /** 所有的 component */\n        this.components = [];\n        this.view = view;\n    }\n    /**\n     * clear\n     * @param includeOption 是否清空 option 配置项（used in annotation）\n     */\n    Controller.prototype.clear = function (includeOption) {\n        // destroy all components\n        util_1.each(this.components, function (co) {\n            co.component.destroy();\n        });\n        // clear all component instance\n        this.components = [];\n    };\n    /**\n     * destroy the component\n     */\n    Controller.prototype.destroy = function () {\n        this.clear();\n    };\n    /**\n     * get all components\n     * @returns components array\n     */\n    Controller.prototype.getComponents = function () {\n        return this.components;\n    };\n    /**\n     * change visibility of component\n     * @param visible\n     */\n    Controller.prototype.changeVisible = function (visible) {\n        if (this.visible === visible) {\n            return;\n        }\n        this.components.forEach(function (co) {\n            if (visible) {\n                co.component.show();\n            }\n            else {\n                co.component.hide();\n            }\n        });\n        this.visible = visible;\n    };\n    return Controller;\n}());\nexports.Controller = Controller;\n//# sourceMappingURL=base.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dependents_1 = require(\"../dependents\");\n/**\n * @todo Whether it can(or necessary to) keep consistent with the structure of G.Event or directly use the structure of G.Event\n * G2 事件的事件包装类，基于 G.Event\n */\nvar Event = /** @class */ (function () {\n    function Event(view, gEvent, data) {\n        this.view = view;\n        this.gEvent = gEvent;\n        this.data = data;\n        this.type = gEvent.type;\n    }\n    /**\n     * 非交互产生的事件\n     * @param view\n     * @param type\n     * @param data\n     */\n    Event.fromData = function (view, type, data) {\n        return new Event(view, new dependents_1.Event(type, {}), data);\n    };\n    Object.defineProperty(Event.prototype, \"target\", {\n        // below props are proxy props of G.event convenient\n        /** the real trigger shape of the event */\n        get: function () {\n            // @todo G 中事件定义为 object 不正确，这里先 ignore\n            // @ts-ignore\n            return this.gEvent.target;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"event\", {\n        /** 获取对应的 dom 原生时间 */\n        get: function () {\n            return this.gEvent.originalEvent;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"x\", {\n        /** x 画布坐标 */\n        get: function () {\n            return this.gEvent.x;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"y\", {\n        /** y 画布坐标 */\n        get: function () {\n            return this.gEvent.y;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"clientX\", {\n        /** x 窗口坐标 */\n        get: function () {\n            return this.gEvent.clientX;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"clientY\", {\n        /** y 窗口坐标 */\n        get: function () {\n            return this.gEvent.clientY;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // end for proxy events\n    /**\n     * event string\n     * @returns string\n     */\n    Event.prototype.toString = function () {\n        return \"[Event (type=\" + this.type + \")]\";\n    };\n    /**\n     * clone a new event with same attributes\n     * @returns [[Event]]\n     */\n    Event.prototype.clone = function () {\n        return new Event(this.view, this.gEvent, this.data);\n    };\n    return Event;\n}());\nexports.default = Event;\n//# sourceMappingURL=event.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getMappingValue = void 0;\nvar tslib_1 = require(\"tslib\");\n/**\n * @ignore\n * get the mapping value by attribute, if mapping value is nil, return def\n * @param attr\n * @param value\n * @param def\n * @returns get mapping value\n */\nfunction getMappingValue(attr, value, def) {\n    if (!attr) {\n        return def;\n    }\n    var r;\n    // 多参数映射，阻止程序报错\n    if (attr.callback && attr.callback.length > 1) {\n        var restArgs = Array(attr.callback.length - 1).fill('');\n        r = attr.mapping.apply(attr, tslib_1.__spreadArrays([value], restArgs)).join('');\n    }\n    else {\n        r = attr.mapping(value).join('');\n    }\n    return r || def;\n}\nexports.getMappingValue = getMappingValue;\n//# sourceMappingURL=attr.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MarkerSymbols = void 0;\n/** @ignore */\nexports.MarkerSymbols = {\n    hexagon: function (x, y, r) {\n        var diffX = (r / 2) * Math.sqrt(3);\n        return [\n            ['M', x, y - r],\n            ['L', x + diffX, y - r / 2],\n            ['L', x + diffX, y + r / 2],\n            ['L', x, y + r],\n            ['L', x - diffX, y + r / 2],\n            ['L', x - diffX, y - r / 2],\n            ['Z'],\n        ];\n    },\n    bowtie: function (x, y, r) {\n        var diffY = r - 1.5;\n        return [['M', x - r, y - diffY], ['L', x + r, y + diffY], ['L', x + r, y - diffY], ['L', x - r, y + diffY], ['Z']];\n    },\n    cross: function (x, y, r) {\n        return [\n            ['M', x - r, y - r],\n            ['L', x + r, y + r],\n            ['M', x + r, y - r],\n            ['L', x - r, y + r],\n        ];\n    },\n    tick: function (x, y, r) {\n        return [\n            ['M', x - r / 2, y - r],\n            ['L', x + r / 2, y - r],\n            ['M', x, y - r],\n            ['L', x, y + r],\n            ['M', x - r / 2, y + r],\n            ['L', x + r / 2, y + r],\n        ];\n    },\n    plus: function (x, y, r) {\n        return [\n            ['M', x - r, y],\n            ['L', x + r, y],\n            ['M', x, y - r],\n            ['L', x, y + r],\n        ];\n    },\n    hyphen: function (x, y, r) {\n        return [\n            ['M', x - r, y],\n            ['L', x + r, y],\n        ];\n    },\n    line: function (x, y, r) {\n        return [\n            ['M', x, y - r],\n            ['L', x, y + r],\n        ];\n    },\n};\n//# sourceMappingURL=marker.js.map"],"sourceRoot":""}